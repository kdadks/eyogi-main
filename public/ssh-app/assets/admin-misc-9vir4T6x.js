const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/admin-assignments-Cx7DOfUV.js","assets/vendor-react-DCALsXS8.js","assets/vendor-misc-Dxs4t1yE.js","assets/vendor-react-D32Un0ak.css","assets/admin-analytics-BUJUGyzI.js","assets/vendor-ui-Bmdc4IWn.js","assets/vendor-supabase-EmK__MhW.js"])))=>i.map(i=>d[i]);
import{j as e,r as a,z as s,m as r,A as i,i as t,n as o,k as n,l,N as c,R as m,o as d,p as u,a as h,u as b}from"./vendor-react-DCALsXS8.js";import{c as g,a as N,n as x,e as p,l as D,f,h as S,i as y,j as v,k as j,g as T,m as P,o as E,p as I,q as H,r as V,s as W,t as w,d as _,v as C,w as M,x as k,y as A,z as R,u as F,A as B,B as q,D as L,E as G,F as U,G as z}from"./admin-assignments-Cx7DOfUV.js";import{s as O,c as $,q as Y,C as K,F as J,a as Q,e as Z,i as X,l as ee,b as ae,n as se,B as re,f as ie,j as te,g as oe,G as ne,_ as le,I as ce,r as me,H as de,J as ue,w as he,p as be,M as ge,y as Ne,D as xe,z as pe,h as De,K as fe,L as Se}from"./admin-analytics-BUJUGyzI.js";import{g as ye,a as ve,e as je,b as Te,c as Pe,d as Ee,r as Ie,f as He,h as Ve}from"./admin-batch-BFzGO27E.js";import{W as We,Y as we,Z as _e,k as Ce,b as Me,A as ke,_ as Ae,$ as Re,a0 as Fe,a1 as Be,a2 as qe,z as Le,R as Ge,a3 as Ue,r as ze,a4 as Oe,H as $e,D as Ye,w as Ke,t as Je,a5 as Qe,h as Ze,j as Xe,a6 as ea,a7 as aa,a8 as sa,l as ra,a9 as ia,aa as ta,ab as oa,u as na,ac as la,g as ca,p as ma,q as da,o as ua,ad as ha,ae as ba,af as ga,ag as Na,ah as xa,m as pa,c as Da,v as fa,Q as Sa,s as ya,n as va,B as ja,i as Ta,ai as Pa,aj as Ea,ak as Ia,al as Ha,am as Va,an as Wa,ao as wa,ap as _a,aq as Ca,X as Ma,ar as ka,N as Aa,O as Ra,as as Fa,at as Ba,a as qa,au as La,e as Ga,av as Ua,aw as za,T as Oa,ax as $a,ay as Ya,az as Ka,aA as Ja,aB as Qa,aC as Za,aD as Xa,aE as es,aF as as,C as ss,E as rs,aG as is,aH as ts}from"./vendor-ui-Bmdc4IWn.js";import{M as os,S as ns,C as ls}from"./admin-content-LS_eLhwS.js";import{E as cs}from"./vendor-jspdf-DcFMtNGo.js";import{g as ms,G as ds}from"./vendor-pdfjs-D7jtXKOJ.js";import{t as us,o as hs,s as bs,b as gs,l as Ns,a as xs,n as ps,e as Ds}from"./vendor-forms-B0kmz9hl.js";import{g as fs,s as Ss,a as ys,b as vs,m as js,c as Ts,d as Ps,e as Es}from"./admin-finance-3P7fiBd4.js";async function Is(e){try{let a=O.from("menu_items").select("*").order("sort_order",{ascending:!0});e&&(a=a.eq("menu",e));const{data:s,error:r}=await a;return r?(console.error("[MenuAPI] Error fetching menu items:",r.message||r.code||JSON.stringify(r)),[]):(s||[]).map(e=>{let a="";return"custom"===e.type&&e.custom_url?a=e.custom_url:"external"===e.type&&e.external_url?a=e.external_url:"page"===e.type&&e.page_link_id&&(a=`/page/${e.page_link_id}`),{id:e.id,title:e.title,label:e.label||e.title,type:e.type,url:a,href:a,icon:e.icon,badge:e.badge,sortOrder:e.sort_order||0,isActive:!1!==e.is_active,openInNewTab:e.open_in_new_tab||!1,description:e.description,menu:e.menu,metadata:e.metadata}})}catch(a){return console.error("Error in getMenuItemsFromDB:",a),[]}}async function Hs(e){try{const a=e.metadata?.menuType||"header",{data:s,error:r}=await O.from("menu_items").insert({title:e.title,menu:a,type:e.type,custom_url:"custom"===e.type?e.url||e.href||"":null,external_url:"external"===e.type?e.url||e.href||"":null,label:e.label||e.title,icon:e.icon,badge:e.badge,sort_order:e.sortOrder||0,is_active:!1!==e.isActive,open_in_new_tab:e.openInNewTab||!1,description:e.description,metadata:e.metadata}).select().single();if(r)return console.error("[MenuAPI] Error creating menu item:",r),null;if(!s)return null;let i="";return"custom"===s.type&&s.custom_url?i=s.custom_url:"external"===s.type&&s.external_url?i=s.external_url:"page"===s.type&&s.page_link_id&&(i=`/page/${s.page_link_id}`),{id:s.id,title:s.title,label:s.label||s.title,type:s.type,url:i,href:i,icon:s.icon,badge:s.badge,sortOrder:s.sort_order||0,isActive:!1!==s.is_active,openInNewTab:s.open_in_new_tab||!1,description:s.description,metadata:s.metadata}}catch(a){return console.error("Error in createMenuItemInDB:",a),null}}async function Vs(e,a){try{const s={};a.title&&(s.title=a.title),a.type&&(s.type=a.type),a.label&&(s.label=a.label),a.icon&&(s.icon=a.icon),a.badge&&(s.badge=a.badge),void 0!==a.sortOrder&&(s.sort_order=a.sortOrder),void 0!==a.isActive&&(s.is_active=a.isActive),void 0!==a.openInNewTab&&(s.open_in_new_tab=a.openInNewTab),a.description&&(s.description=a.description),a.menu&&(s.menu=a.menu),a.metadata&&(s.metadata=a.metadata,a.metadata.menu&&(s.menu=a.metadata.menu)),"custom"===a.type&&(a.url||a.href)?(s.custom_url=a.url||a.href,s.external_url=null):"external"===a.type&&(a.url||a.href)&&(s.external_url=a.url||a.href,s.custom_url=null);const{data:r,error:i}=await O.from("menu_items").update(s).eq("id",e).select().single();if(i)return console.error("[MenuAPI] Error updating menu item:",i),null;if(!r)return null;let t="";return"custom"===r.type&&r.custom_url?t=r.custom_url:"external"===r.type&&r.external_url?t=r.external_url:"page"===r.type&&r.page_link_id&&(t=`/page/${r.page_link_id}`),{id:r.id,title:r.title,label:r.label||r.title,type:r.type,url:t,href:t,icon:r.icon,badge:r.badge,sortOrder:r.sort_order||0,isActive:!1!==r.is_active,openInNewTab:r.open_in_new_tab||!1,description:r.description,menu:r.menu,metadata:r.metadata}}catch(s){return console.error("Error in updateMenuItemInDB:",s),null}}async function Ws(e){try{const{error:a}=await O.from("menu_items").delete().eq("id",e);return!a||(console.error("[MenuAPI] Error deleting menu item:",a),!1)}catch(a){return console.error("Error in deleteMenuItemFromDB:",a),!1}}const ws=[{code:"AFG",name:"Afghanistan"},{code:"ALB",name:"Albania"},{code:"DZA",name:"Algeria"},{code:"AND",name:"Andorra"},{code:"AGO",name:"Angola"},{code:"ATG",name:"Antigua and Barbuda"},{code:"ARG",name:"Argentina"},{code:"ARM",name:"Armenia"},{code:"AUS",name:"Australia"},{code:"AUT",name:"Austria"},{code:"AZE",name:"Azerbaijan"},{code:"BHS",name:"Bahamas"},{code:"BHR",name:"Bahrain"},{code:"BGD",name:"Bangladesh"},{code:"BRB",name:"Barbados"},{code:"BLR",name:"Belarus"},{code:"BEL",name:"Belgium"},{code:"BLZ",name:"Belize"},{code:"BEN",name:"Benin"},{code:"BTN",name:"Bhutan"},{code:"BOL",name:"Bolivia"},{code:"BIH",name:"Bosnia and Herzegovina"},{code:"BWA",name:"Botswana"},{code:"BRA",name:"Brazil"},{code:"BRN",name:"Brunei"},{code:"BGR",name:"Bulgaria"},{code:"BFA",name:"Burkina Faso"},{code:"BDI",name:"Burundi"},{code:"CPV",name:"Cabo Verde"},{code:"KHM",name:"Cambodia"},{code:"CMR",name:"Cameroon"},{code:"CAN",name:"Canada"},{code:"CAF",name:"Central African Republic"},{code:"TCD",name:"Chad"},{code:"CHL",name:"Chile"},{code:"CHN",name:"China"},{code:"COL",name:"Colombia"},{code:"COM",name:"Comoros"},{code:"COG",name:"Congo"},{code:"COD",name:"Congo (Democratic Republic)"},{code:"CRI",name:"Costa Rica"},{code:"CIV",name:"CÃ´te d'Ivoire"},{code:"HRV",name:"Croatia"},{code:"CUB",name:"Cuba"},{code:"CYP",name:"Cyprus"},{code:"CZE",name:"Czech Republic"},{code:"DNK",name:"Denmark"},{code:"DJI",name:"Djibouti"},{code:"DMA",name:"Dominica"},{code:"DOM",name:"Dominican Republic"},{code:"ECU",name:"Ecuador"},{code:"EGY",name:"Egypt"},{code:"SLV",name:"El Salvador"},{code:"GNQ",name:"Equatorial Guinea"},{code:"ERI",name:"Eritrea"},{code:"EST",name:"Estonia"},{code:"SWZ",name:"Eswatini"},{code:"ETH",name:"Ethiopia"},{code:"FJI",name:"Fiji"},{code:"FIN",name:"Finland"},{code:"FRA",name:"France"},{code:"GAB",name:"Gabon"},{code:"GMB",name:"Gambia"},{code:"GEO",name:"Georgia"},{code:"DEU",name:"Germany"},{code:"GHA",name:"Ghana"},{code:"GRC",name:"Greece"},{code:"GRD",name:"Grenada"},{code:"GTM",name:"Guatemala"},{code:"GIN",name:"Guinea"},{code:"GNB",name:"Guinea-Bissau"},{code:"GUY",name:"Guyana"},{code:"HTI",name:"Haiti"},{code:"HND",name:"Honduras"},{code:"HUN",name:"Hungary"},{code:"ISL",name:"Iceland"},{code:"IND",name:"India"},{code:"IDN",name:"Indonesia"},{code:"IRN",name:"Iran"},{code:"IRQ",name:"Iraq"},{code:"IRL",name:"Ireland"},{code:"ISR",name:"Israel"},{code:"ITA",name:"Italy"},{code:"JAM",name:"Jamaica"},{code:"JPN",name:"Japan"},{code:"JOR",name:"Jordan"},{code:"KAZ",name:"Kazakhstan"},{code:"KEN",name:"Kenya"},{code:"KIR",name:"Kiribati"},{code:"PRK",name:"Korea (North)"},{code:"KOR",name:"Korea (South)"},{code:"KWT",name:"Kuwait"},{code:"KGZ",name:"Kyrgyzstan"},{code:"LAO",name:"Laos"},{code:"LVA",name:"Latvia"},{code:"LBN",name:"Lebanon"},{code:"LSO",name:"Lesotho"},{code:"LBR",name:"Liberia"},{code:"LBY",name:"Libya"},{code:"LIE",name:"Liechtenstein"},{code:"LTU",name:"Lithuania"},{code:"LUX",name:"Luxembourg"},{code:"MDG",name:"Madagascar"},{code:"MWI",name:"Malawi"},{code:"MYS",name:"Malaysia"},{code:"MDV",name:"Maldives"},{code:"MLI",name:"Mali"},{code:"MLT",name:"Malta"},{code:"MHL",name:"Marshall Islands"},{code:"MRT",name:"Mauritania"},{code:"MUS",name:"Mauritius"},{code:"MEX",name:"Mexico"},{code:"FSM",name:"Micronesia"},{code:"MDA",name:"Moldova"},{code:"MCO",name:"Monaco"},{code:"MNG",name:"Mongolia"},{code:"MNE",name:"Montenegro"},{code:"MAR",name:"Morocco"},{code:"MOZ",name:"Mozambique"},{code:"MMR",name:"Myanmar"},{code:"NAM",name:"Namibia"},{code:"NRU",name:"Nauru"},{code:"NPL",name:"Nepal"},{code:"NLD",name:"Netherlands"},{code:"NZL",name:"New Zealand"},{code:"NIC",name:"Nicaragua"},{code:"NER",name:"Niger"},{code:"NGA",name:"Nigeria"},{code:"MKD",name:"North Macedonia"},{code:"NOR",name:"Norway"},{code:"OMN",name:"Oman"},{code:"PAK",name:"Pakistan"},{code:"PLW",name:"Palau"},{code:"PAN",name:"Panama"},{code:"PNG",name:"Papua New Guinea"},{code:"PRY",name:"Paraguay"},{code:"PER",name:"Peru"},{code:"PHL",name:"Philippines"},{code:"POL",name:"Poland"},{code:"PRT",name:"Portugal"},{code:"QAT",name:"Qatar"},{code:"ROU",name:"Romania"},{code:"RUS",name:"Russia"},{code:"RWA",name:"Rwanda"},{code:"KNA",name:"Saint Kitts and Nevis"},{code:"LCA",name:"Saint Lucia"},{code:"VCT",name:"Saint Vincent and the Grenadines"},{code:"WSM",name:"Samoa"},{code:"SMR",name:"San Marino"},{code:"STP",name:"SÃ£o TomÃ© and PrÃ­ncipe"},{code:"SAU",name:"Saudi Arabia"},{code:"SEN",name:"Senegal"},{code:"SRB",name:"Serbia"},{code:"SYC",name:"Seychelles"},{code:"SLE",name:"Sierra Leone"},{code:"SGP",name:"Singapore"},{code:"SVK",name:"Slovakia"},{code:"SVN",name:"Slovenia"},{code:"SLB",name:"Solomon Islands"},{code:"SOM",name:"Somalia"},{code:"ZAF",name:"South Africa"},{code:"SSD",name:"South Sudan"},{code:"ESP",name:"Spain"},{code:"LKA",name:"Sri Lanka"},{code:"SDN",name:"Sudan"},{code:"SUR",name:"Suriname"},{code:"SWE",name:"Sweden"},{code:"CHE",name:"Switzerland"},{code:"SYR",name:"Syria"},{code:"TWN",name:"Taiwan"},{code:"TJK",name:"Tajikistan"},{code:"TZA",name:"Tanzania"},{code:"THA",name:"Thailand"},{code:"TLS",name:"Timor-Leste"},{code:"TGO",name:"Togo"},{code:"TON",name:"Tonga"},{code:"TTO",name:"Trinidad and Tobago"},{code:"TUN",name:"Tunisia"},{code:"TUR",name:"Turkey"},{code:"TKM",name:"Turkmenistan"},{code:"TUV",name:"Tuvalu"},{code:"UGA",name:"Uganda"},{code:"UKR",name:"Ukraine"},{code:"ARE",name:"United Arab Emirates"},{code:"GBR",name:"United Kingdom"},{code:"USA",name:"United States"},{code:"URY",name:"Uruguay"},{code:"UZB",name:"Uzbekistan"},{code:"VUT",name:"Vanuatu"},{code:"VAT",name:"Vatican City"},{code:"VEN",name:"Venezuela"},{code:"VNM",name:"Vietnam"},{code:"YEM",name:"Yemen"},{code:"ZMB",name:"Zambia"},{code:"ZWE",name:"Zimbabwe"}],_s={USA:[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"},{code:"DC",name:"District of Columbia"}],CAN:[{code:"AB",name:"Alberta"},{code:"BC",name:"British Columbia"},{code:"MB",name:"Manitoba"},{code:"NB",name:"New Brunswick"},{code:"NL",name:"Newfoundland and Labrador"},{code:"NT",name:"Northwest Territories"},{code:"NS",name:"Nova Scotia"},{code:"NU",name:"Nunavut"},{code:"ON",name:"Ontario"},{code:"PE",name:"Prince Edward Island"},{code:"QC",name:"Quebec"},{code:"SK",name:"Saskatchewan"},{code:"YT",name:"Yukon"}],AUS:[{code:"AC",name:"Australian Capital Territory"},{code:"NS",name:"New South Wales"},{code:"NT",name:"Northern Territory"},{code:"QL",name:"Queensland"},{code:"SA",name:"South Australia"},{code:"TA",name:"Tasmania"},{code:"VI",name:"Victoria"},{code:"WA",name:"Western Australia"}],IND:[{code:"AP",name:"Andhra Pradesh"},{code:"AR",name:"Arunachal Pradesh"},{code:"AS",name:"Assam"},{code:"BR",name:"Bihar"},{code:"CG",name:"Chhattisgarh"},{code:"GA",name:"Goa"},{code:"GJ",name:"Gujarat"},{code:"HR",name:"Haryana"},{code:"HP",name:"Himachal Pradesh"},{code:"JH",name:"Jharkhand"},{code:"KA",name:"Karnataka"},{code:"KL",name:"Kerala"},{code:"MP",name:"Madhya Pradesh"},{code:"MH",name:"Maharashtra"},{code:"MN",name:"Manipur"},{code:"ML",name:"Meghalaya"},{code:"MZ",name:"Mizoram"},{code:"NL",name:"Nagaland"},{code:"OD",name:"Odisha"},{code:"PB",name:"Punjab"},{code:"RJ",name:"Rajasthan"},{code:"SK",name:"Sikkim"},{code:"TN",name:"Tamil Nadu"},{code:"TG",name:"Telangana"},{code:"TR",name:"Tripura"},{code:"UP",name:"Uttar Pradesh"},{code:"UK",name:"Uttarakhand"},{code:"WB",name:"West Bengal"},{code:"AN",name:"Andaman and Nicobar Islands"},{code:"CH",name:"Chandigarh"},{code:"DN",name:"Dadra and Nagar Haveli"},{code:"DD",name:"Daman and Diu"},{code:"DL",name:"Delhi"},{code:"JK",name:"Jammu and Kashmir"},{code:"LA",name:"Ladakh"},{code:"LD",name:"Lakshadweep"},{code:"PY",name:"Puducherry"}],GBR:[{code:"EN",name:"England"},{code:"SC",name:"Scotland"},{code:"WA",name:"Wales"},{code:"NI",name:"Northern Ireland"}],DEU:[{code:"BW",name:"Baden-WÃ¼rttemberg"},{code:"BY",name:"Bavaria"},{code:"BE",name:"Berlin"},{code:"BB",name:"Brandenburg"},{code:"HB",name:"Bremen"},{code:"HH",name:"Hamburg"},{code:"HE",name:"Hesse"},{code:"NI",name:"Lower Saxony"},{code:"MV",name:"Mecklenburg-Vorpommern"},{code:"NW",name:"North Rhine-Westphalia"},{code:"RP",name:"Rhineland-Palatinate"},{code:"SL",name:"Saarland"},{code:"SN",name:"Saxony"},{code:"SX",name:"Saxony-Anhalt"},{code:"SH",name:"Schleswig-Holstein"},{code:"TH",name:"Thuringia"}],BRA:[{code:"AC",name:"Acre"},{code:"AL",name:"Alagoas"},{code:"AP",name:"AmapÃ¡"},{code:"AM",name:"Amazonas"},{code:"BA",name:"Bahia"},{code:"CE",name:"CearÃ¡"},{code:"DF",name:"Distrito Federal"},{code:"ES",name:"EspÃ­rito Santo"},{code:"GO",name:"GoiÃ¡s"},{code:"MA",name:"MaranhÃ£o"},{code:"MT",name:"Mato Grosso"},{code:"MS",name:"Mato Grosso do Sul"},{code:"MG",name:"Minas Gerais"},{code:"PA",name:"ParÃ¡"},{code:"PB",name:"ParaÃ­ba"},{code:"PR",name:"ParanÃ¡"},{code:"PE",name:"Pernambuco"},{code:"PI",name:"PiauÃ­"},{code:"RJ",name:"Rio de Janeiro"},{code:"RN",name:"Rio Grande do Norte"},{code:"RS",name:"Rio Grande do Sul"},{code:"RO",name:"RondÃ´nia"},{code:"RR",name:"Roraima"},{code:"SC",name:"Santa Catarina"},{code:"SP",name:"SÃ£o Paulo"},{code:"SE",name:"Sergipe"},{code:"TO",name:"Tocantins"}],MEX:[{code:"AG",name:"Aguascalientes"},{code:"BC",name:"Baja California"},{code:"BS",name:"Baja California Sur"},{code:"CM",name:"Campeche"},{code:"CS",name:"Chiapas"},{code:"CH",name:"Chihuahua"},{code:"CO",name:"Coahuila"},{code:"CL",name:"Colima"},{code:"DG",name:"Durango"},{code:"GT",name:"Guanajuato"},{code:"GR",name:"Guerrero"},{code:"HG",name:"Hidalgo"},{code:"JA",name:"Jalisco"},{code:"EM",name:"MÃ©xico"},{code:"MI",name:"MichoacÃ¡n"},{code:"MO",name:"Morelos"},{code:"NA",name:"Nayarit"},{code:"NL",name:"Nuevo LeÃ³n"},{code:"OA",name:"Oaxaca"},{code:"PU",name:"Puebla"},{code:"QT",name:"QuerÃ©taro"},{code:"QR",name:"Quintana Roo"},{code:"SL",name:"San Luis PotosÃ­"},{code:"SI",name:"Sinaloa"},{code:"SO",name:"Sonora"},{code:"TB",name:"Tabasco"},{code:"TM",name:"Tamaulipas"},{code:"TL",name:"Tlaxcala"},{code:"VE",name:"Veracruz"},{code:"YU",name:"YucatÃ¡n"},{code:"ZA",name:"Zacatecas"},{code:"MX",name:"Mexico City"}],ARG:[{code:"BA",name:"Buenos Aires"},{code:"CT",name:"Catamarca"},{code:"CH",name:"Chaco"},{code:"CU",name:"Chubut"},{code:"CB",name:"CÃ³rdoba"},{code:"CR",name:"Corrientes"},{code:"ER",name:"Entre RÃ­os"},{code:"FM",name:"Formosa"},{code:"JY",name:"Jujuy"},{code:"LP",name:"La Pampa"},{code:"LR",name:"La Rioja"},{code:"MZ",name:"Mendoza"},{code:"MN",name:"Misiones"},{code:"NQ",name:"NeuquÃ©n"},{code:"RN",name:"RÃ­o Negro"},{code:"SA",name:"Salta"},{code:"SJ",name:"San Juan"},{code:"SL",name:"San Luis"},{code:"SC",name:"Santa Cruz"},{code:"SF",name:"Santa Fe"},{code:"SE",name:"Santiago del Estero"},{code:"TF",name:"Tierra del Fuego"},{code:"TM",name:"TucumÃ¡n"},{code:"CF",name:"Ciudad AutÃ³noma de Buenos Aires"}],ITA:[{code:"AB",name:"Abruzzo"},{code:"BA",name:"Basilicata"},{code:"CL",name:"Calabria"},{code:"CA",name:"Campania"},{code:"ER",name:"Emilia-Romagna"},{code:"FV",name:"Friuli-Venezia Giulia"},{code:"LZ",name:"Lazio"},{code:"LI",name:"Liguria"},{code:"LO",name:"Lombardy"},{code:"MA",name:"Marche"},{code:"MO",name:"Molise"},{code:"PI",name:"Piedmont"},{code:"PU",name:"Puglia"},{code:"SA",name:"Sardinia"},{code:"SI",name:"Sicily"},{code:"TA",name:"Trentino-Alto Adige"},{code:"TO",name:"Tuscany"},{code:"UM",name:"Umbria"},{code:"VD",name:"Aosta Valley"},{code:"VE",name:"Veneto"}],ESP:[{code:"AN",name:"Andalusia"},{code:"AR",name:"Aragon"},{code:"AS",name:"Asturias"},{code:"IB",name:"Balearic Islands"},{code:"PV",name:"Basque Country"},{code:"CN",name:"Canary Islands"},{code:"CB",name:"Cantabria"},{code:"CL",name:"Castile and LeÃ³n"},{code:"CM",name:"Castile-La Mancha"},{code:"CT",name:"Catalonia"},{code:"EX",name:"Extremadura"},{code:"GA",name:"Galicia"},{code:"RI",name:"La Rioja"},{code:"MD",name:"Madrid"},{code:"MC",name:"Murcia"},{code:"NC",name:"Navarre"},{code:"VC",name:"Valencia"},{code:"CE",name:"Ceuta"},{code:"ML",name:"Melilla"}],FRA:[{code:"AR",name:"Auvergne-RhÃ´ne-Alpes"},{code:"BF",name:"Bourgogne-Franche-ComtÃ©"},{code:"BR",name:"Bretagne"},{code:"CV",name:"Centre-Val de Loire"},{code:"CR",name:"Corse"},{code:"GE",name:"Grand Est"},{code:"HF",name:"Hauts-de-France"},{code:"IF",name:"ÃŽle-de-France"},{code:"NO",name:"Normandie"},{code:"NA",name:"Nouvelle-Aquitaine"},{code:"OC",name:"Occitanie"},{code:"PL",name:"Pays de la Loire"},{code:"PA",name:"Provence-Alpes-CÃ´te d'Azur"}],ZAF:[{code:"EC",name:"Eastern Cape"},{code:"FS",name:"Free State"},{code:"GP",name:"Gauteng"},{code:"KZ",name:"KwaZulu-Natal"},{code:"LP",name:"Limpopo"},{code:"MP",name:"Mpumalanga"},{code:"NC",name:"Northern Cape"},{code:"NW",name:"North West"},{code:"WC",name:"Western Cape"}],MYS:[{code:"JH",name:"Johor"},{code:"KD",name:"Kedah"},{code:"KT",name:"Kelantan"},{code:"KL",name:"Kuala Lumpur"},{code:"LB",name:"Labuan"},{code:"ML",name:"Malacca"},{code:"NS",name:"Negeri Sembilan"},{code:"PH",name:"Pahang"},{code:"PN",name:"Penang"},{code:"PR",name:"Perak"},{code:"PL",name:"Perlis"},{code:"PJ",name:"Putrajaya"},{code:"SB",name:"Sabah"},{code:"SW",name:"Sarawak"},{code:"SG",name:"Selangor"},{code:"TR",name:"Terengganu"}],IRL:[{code:"CW",name:"Carlow"},{code:"CN",name:"Cavan"},{code:"CE",name:"Clare"},{code:"CO",name:"Cork"},{code:"DL",name:"Donegal"},{code:"DU",name:"Dublin"},{code:"GA",name:"Galway"},{code:"KY",name:"Kerry"},{code:"KE",name:"Kildare"},{code:"KK",name:"Kilkenny"},{code:"LS",name:"Laois"},{code:"LM",name:"Leitrim"},{code:"LK",name:"Limerick"},{code:"LD",name:"Longford"},{code:"LH",name:"Louth"},{code:"MO",name:"Mayo"},{code:"MH",name:"Meath"},{code:"MN",name:"Monaghan"},{code:"OY",name:"Offaly"},{code:"RN",name:"Roscommon"},{code:"SO",name:"Sligo"},{code:"TA",name:"Tipperary"},{code:"WD",name:"Waterford"},{code:"WH",name:"Westmeath"},{code:"WX",name:"Wexford"},{code:"WW",name:"Wicklow"}]},Cs=e=>(_s[e]||[]).sort((e,a)=>e.name.localeCompare(a.name)),Ms=e=>!!_s[e]&&_s[e].length>0,ks=e=>{const a=ws.find(a=>a.code===e);return a?.name||""},As=(e,a)=>{let s=e;2===e.length&&(s=g(e));const r=(_s[s]||[]).find(e=>e.code===a);return r?.name||""},Rs=["US","CA","GB","AU","IN","DE","FR","IT","ES","BR","MX","JP","CN"],Fs=({value:a,onChange:s,className:r="",disabled:i=!1,required:t=!1,placeholder:o="Select Country",showPopularFirst:n=!0})=>{const l=n?[...Rs.map(e=>ws.find(a=>a.code===e)).filter(Boolean),...ws.filter(e=>!Rs.includes(e.code))]:ws.sort((e,a)=>e.name.localeCompare(a.name));return e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxDEV(We,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:29,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:28,columnNumber:7},void 0),e.jsxDEV("select",{value:a,onChange:e=>{s(e.target.value)},disabled:i,required:t,className:`\n          appearance-none block w-full pl-10 pr-8 py-2.5 \n          border border-gray-300 rounded-lg \n          bg-white text-sm placeholder-gray-400\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n          disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed\n          ${r}\n        `,children:[e.jsxDEV("option",{value:"",disabled:!0,children:o},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:45,columnNumber:9},void 0),n&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("optgroup",{label:"Popular Countries",children:l.slice(0,13).map(a=>e.jsxDEV("option",{value:a.code,children:a.name},a.code,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:52,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:50,columnNumber:13},void 0),e.jsxDEV("optgroup",{label:"All Countries",children:l.slice(13).map(a=>e.jsxDEV("option",{value:a.code,children:a.name},a.code,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:59,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:57,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:49,columnNumber:11},void 0),!n&&l.map(a=>e.jsxDEV("option",{value:a.code,children:a.name},a.code,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:68,columnNumber:13},void 0))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:31,columnNumber:7},void 0),e.jsxDEV("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsxDEV("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:81,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:75,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:74,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/CountrySelect.tsx",lineNumber:27,columnNumber:5},void 0)},Bs=({countryCode:a,value:s,onChange:r,className:i="",disabled:t=!1,required:o=!1,placeholder:n="Select State/Province"})=>{const l=Ms(a),c=l?Cs(a):[],m=ks(a);if(!a||!l)return null;return e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxDEV(we,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:51,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:50,columnNumber:7},void 0),e.jsxDEV("select",{value:s,onChange:e=>{r(e.target.value)},disabled:t||0===c.length,required:o,className:`\n          appearance-none block w-full pl-10 pr-8 py-2.5 \n          border border-gray-300 rounded-lg \n          bg-white text-sm placeholder-gray-400\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n          disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed\n          ${i}\n        `,children:[e.jsxDEV("option",{value:"",disabled:!0,children:"US"===a?"Select State":"CA"===a?"Select Province":"IN"===a?"Select State":"AU"===a?"Select State/Territory":"DE"===a||"BR"===a||"MX"===a?"Select State":"AR"===a?"Select Province":"IT"===a?"Select Region":"ES"===a?"Select Community":"FR"===a?"Select Region":"GB"===a?"Select Country":n},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:67,columnNumber:9},void 0),c.map(a=>e.jsxDEV("option",{value:a.code,children:a.name},a.code,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:71,columnNumber:11},void 0))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:53,columnNumber:7},void 0),e.jsxDEV("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsxDEV("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:84,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:78,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:77,columnNumber:7},void 0),0===c.length&&m&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:["No states/provinces available for ",m]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:89,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/StateSelect.tsx",lineNumber:49,columnNumber:5},void 0)},qs=a.createContext(void 0),Ls=()=>{const e=a.useContext(qs);if(void 0===e)throw new Error("usePermissions must be used within a PermissionProvider");return e},Gs={super_admin:["users.create","users.read","users.update","users.delete","courses.create","courses.read","courses.update","courses.delete","enrollments.read","enrollments.update","enrollments.approve","certificates.read","certificates.create","certificates.delete","analytics.read","analytics.export","settings.read","settings.update","permissions.read","permissions.update","content.create","content.read","content.update","content.delete","admin.access","admin.dashboard"],admin:["users.create","users.read","users.update","users.delete","courses.create","courses.read","courses.update","courses.delete","enrollments.read","enrollments.update","certificates.read","certificates.create","analytics.read","settings.read","permissions.read","content.create","content.read","content.update","content.delete","admin.access","admin.dashboard"],teacher:["courses.create","courses.read","courses.update","enrollments.read","enrollments.update","certificates.read","certificates.create","users.read","content.create","content.read","content.update","admin.access"],student:["courses.read","enrollments.read","certificates.read","content.read"],parent:[]},Us=({children:s})=>{const{user:r,profile:i,loading:t}=N(),[o,n]=a.useState(!0);a.useEffect(()=>{n(t)},[t]);const l=()=>Gs[r&&!i?"super_admin":i?.role||"student"]||[],c={canAccess:(e,a)=>{if(r)return!0;const s=`${e}.${a}`;return l().includes(s)},hasAnyPermission:e=>{const a=l();return e.some(e=>a.includes(e))},getUserPermissions:l,isLoading:o};return e.jsxDEV(qs.Provider,{value:c,children:s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/contexts/PermissionContext.tsx",lineNumber:142,columnNumber:10},void 0)};async function zs(e){const a=$("page-settings",e);return Y.get(a,async()=>{try{const{data:a,error:s}=await O.from("page_settings").select("*").eq("page_slug",e).single();return s&&"PGRST116"===s.code?{page_slug:e,page_type:e}:s?(console.error("Failed to fetch page settings:",s.message||s.code||JSON.stringify(s)),null):a}catch(a){return console.error("Error in getPageSettings:",a),null}},K.COURSES)}async function Os(e="contact"){try{const{data:a,error:s}=await J.from("contact_page_cms").select("*").eq("page_slug",e).single();return s?(console.error("Error fetching contact page CMS:",s),null):a}catch(a){return console.error("Error in getContactPageCMS:",a),null}}const $s=[{code:"IRL",name:"Ireland"},{code:"GBR",name:"United Kingdom"},{code:"USA",name:"United States"},{code:"CAN",name:"Canada"},{code:"AUS",name:"Australia"},{code:"NZL",name:"New Zealand"},{code:"IND",name:"India"},{code:"DEU",name:"Germany"},{code:"FRA",name:"France"},{code:"ESP",name:"Spain"},{code:"ITA",name:"Italy"},{code:"NLD",name:"Netherlands"},{code:"BEL",name:"Belgium"},{code:"CHE",name:"Switzerland"},{code:"AUT",name:"Austria"},{code:"POL",name:"Poland"},{code:"SWE",name:"Sweden"},{code:"NOR",name:"Norway"},{code:"DNK",name:"Denmark"},{code:"FIN",name:"Finland"}],Ys=[{code:"DU",name:"Dublin",country:"IRL"},{code:"CO",name:"Cork",country:"IRL"},{code:"GA",name:"Galway",country:"IRL"},{code:"LI",name:"Limerick",country:"IRL"},{code:"KE",name:"Kerry",country:"IRL"},{code:"WA",name:"Waterford",country:"IRL"},{code:"KI",name:"Kildare",country:"IRL"},{code:"ME",name:"Meath",country:"IRL"},{code:"WI",name:"Wicklow",country:"IRL"},{code:"WE",name:"Wexford",country:"IRL"},{code:"CA",name:"Carlow",country:"IRL"},{code:"KK",name:"Kilkenny",country:"IRL"},{code:"LA",name:"Laois",country:"IRL"},{code:"OF",name:"Offaly",country:"IRL"},{code:"WH",name:"Westmeath",country:"IRL"},{code:"LO",name:"Longford",country:"IRL"},{code:"LD",name:"Louth",country:"IRL"},{code:"MO",name:"Monaghan",country:"IRL"},{code:"CN",name:"Cavan",country:"IRL"},{code:"DO",name:"Donegal",country:"IRL"},{code:"SL",name:"Sligo",country:"IRL"},{code:"LE",name:"Leitrim",country:"IRL"},{code:"RO",name:"Roscommon",country:"IRL"},{code:"MA",name:"Mayo",country:"IRL"},{code:"CL",name:"Clare",country:"IRL"},{code:"TI",name:"Tipperary",country:"IRL"},{code:"LO",name:"London",country:"GBR"},{code:"MA",name:"Manchester",country:"GBR"},{code:"BI",name:"Birmingham",country:"GBR"},{code:"ED",name:"Edinburgh",country:"GBR"},{code:"GL",name:"Glasgow",country:"GBR"},{code:"LI",name:"Liverpool",country:"GBR"},{code:"BR",name:"Bristol",country:"GBR"},{code:"LE",name:"Leeds",country:"GBR"},{code:"NY",name:"New York",country:"USA"},{code:"CA",name:"California",country:"USA"},{code:"TX",name:"Texas",country:"USA"},{code:"FL",name:"Florida",country:"USA"},{code:"IL",name:"Illinois",country:"USA"},{code:"PA",name:"Pennsylvania",country:"USA"},{code:"OH",name:"Ohio",country:"USA"},{code:"GA",name:"Georgia",country:"USA"},{code:"NC",name:"North Carolina",country:"USA"},{code:"MI",name:"Michigan",country:"USA"}];async function Ks(e,a){try{let s=O;0;const r=(new Date).getFullYear(),i=function(e){if(!e)return"XXX";const a=e.trim().toLowerCase(),s=$s.find(e=>e.name.toLowerCase()===a||e.code.toLowerCase()===a||e.name.toLowerCase().includes(a));return s?.code||"XXX"}(e),t=function(e,a){if(!e)return"XX";const s=e.trim().toLowerCase(),r=Ys.find(e=>e.country===a&&(e.name.toLowerCase()===s||e.code.toLowerCase()===s||e.name.toLowerCase().includes(s)));return r?.code||"XX"}(a,i),o=`${i}${t}${r}`,{data:n}=await s.from("profiles").select("student_id").not("student_id","is",null).like("student_id",`${o}%`);let l=1;if(n&&n.length>0){const e=n.map(e=>{const a=e.student_id;if(!a||a.length<5)return 0;const s=a.slice(-5),r=parseInt(s,10);return isNaN(r)?0:r}).filter(e=>e>0);e.length>0&&(l=Math.max(...e)+1)}return`${o}${l.toString().padStart(5,"0")}`}catch(s){console.error("Error generating student ID:",s);return`XXX XX${(new Date).getFullYear()}${(Math.floor(99999*Math.random())+1).toString().padStart(5,"0")}`}}async function Js(e,a){try{if(!e.country||""===e.country.trim())throw new Error("Country is required to generate student ID");if(!e.state||""===e.state.trim())throw new Error("State/County is required to generate student ID");const r=x(e.country),i=p(e.state,r),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const a=16*Math.random()|0;return("x"===e?a:3&a|8).toString(16)}),o=await Ks(r,i),n=function(e,a){return`${e.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,10)}${a.slice(-5)}@eyogi-student.com`}(e.full_name,o),l=new Date(e.date_of_birth),c=new Date;let m=c.getFullYear()-l.getFullYear();const d=c.getMonth()-l.getMonth();(d<0||0===d&&c.getDate()<l.getDate())&&m--;const u={id:t,email:n,full_name:e.full_name,date_of_birth:e.date_of_birth,role:"student",age:m,grade:e.grade,phone:e.phone||null,address_line_1:e.address_line_1||null,address_line_2:e.address_line_2||null,city:e.city||null,state:i,zip_code:e.zip_code||null,country:r,student_id:o,parent_id:e.parent_id},h=Z(u);let b=O;0;const{data:g,error:N}=await b.from("profiles").insert(h).select().single();if(N)throw new Error(`Failed to create child profile: ${N.message}`);if(a)try{await D("profiles",t,null,u,a,"CREATE")}catch(s){console.error("Failed to log audit trail for child creation:",s)}return Q(g)}catch(r){throw r}}async function Qs(e){try{let a=O;0;const{data:s,error:r}=await a.from("profiles").select("*").eq("parent_id",e).eq("role","student").order("created_at",{ascending:!1});if(r)throw new Error(`Failed to fetch children: ${r.message}`);return(s||[]).map(e=>Q(e))}catch(a){throw a}}async function Zs(e){try{let a=O;0;const{error:s}=await a.from("profiles").delete().eq("id",e).eq("role","student");if(s)throw new Error(`Failed to delete child profile: ${s.message}`)}catch(a){throw a}}class Xs{constructor(){this.studentKeywords=["my course","my enrollment","my certificate","my progress","my dashboard","i enrolled","i completed","my student id","my grades","my assignments"],this.parentKeywords=["my child","my daughter","my son","for my kid","child safety","parent portal","guardian","family","age appropriate","supervision"],this.teacherKeywords=["my students","teaching","curriculum","lesson plan","grading","classroom","instructor","pedagogy","assessment","student progress"],this.prospectiveKeywords=["how to enroll","course fees","admission","requirements","application","interested in","want to join","thinking about","considering","pricing"]}detectPersona(e,a){const s=e.toLowerCase();if(a){if("student"===a.role)return this.containsKeywords(s,this.studentKeywords),"student";if("teacher"===a.role)return"teacher";if("admin"===a.role)return"teacher"}return this.containsKeywords(s,this.parentKeywords)?"parent":this.containsKeywords(s,this.teacherKeywords)?"teacher":this.containsKeywords(s,this.prospectiveKeywords)?"prospective_student":this.containsKeywords(s,this.studentKeywords)?"student":"general_visitor"}containsKeywords(e,a){return a.some(a=>e.includes(a))}getPersonaContext(e){return{student:"You are speaking with a current student who is enrolled in courses.",parent:"You are speaking with a parent or guardian inquiring about courses for their child.",teacher:"You are speaking with an instructor or educator.",prospective_student:"You are speaking with someone interested in enrolling in courses.",general_visitor:"You are speaking with a general visitor exploring the platform."}[e]}}class er{constructor(){this.intentPatterns={course_inquiry:["what courses","available courses","course catalog","course list","subjects offered","what can i learn","course options","curriculum","syllabus","course content","hinduism course","sanskrit course","mantra course","philosophy course","yoga course"],enrollment_process:["how to enroll","enrollment process","register for course","sign up for","join course","admission process","application","how to apply","enrollment steps"],gurukul_information:["what is gurukul","gurukul information","different gurukuls","gurukul types","hinduism gurukul","mantra gurukul","philosophy gurukul","sanskrit gurukul","yoga gurukul","about gurukuls","gurukul details"],pricing_fees:["course fees","pricing","cost","how much","price","payment","tuition","fee structure","course cost","enrollment fee","charges","money"],certificate_info:["certificate","certification","diploma","completion certificate","how to get certificate","certificate requirements","digital certificate","certificate download","verify certificate"],technical_support:["technical issue","login problem","website not working","bug","error","cant access","password reset","account locked","technical help"],contact_info:["contact","phone number","email address","office location","address","how to reach","customer service","support team","get in touch"],about_eyogi:["about eyogi","what is eyogi","eyogi mission","company information","history","founders","vision","values","about us","organization"],student_progress:["my progress","my grades","my courses","my enrollment","my certificate","course progress","completion status","my dashboard","my account"],schedule_classes:["class schedule","when are classes","class timing","timetable","class calendar","next class","upcoming classes","session timing"],payment_issues:["payment failed","payment problem","refund","billing issue","transaction failed","payment not processed","invoice","receipt"],age_appropriate:["age group","suitable for age","age appropriate","for children","for kids","for teens","for adults","age requirements","minimum age"],teacher_info:["teacher information","instructor details","who teaches","teacher qualifications","faculty","teaching staff","instructor profile","teacher experience"],platform_features:["platform features","how it works","website features","learning platform","online learning","digital classroom","virtual learning","e-learning"],greeting:["hello","hi","hey","good morning","good afternoon","good evening","namaste","greetings","howdy","what's up"],goodbye:["goodbye","bye","see you","thanks","thank you","that's all","no more questions","end chat","exit","close"],did_you_know:["did you know","tell me something interesting","fun fact","interesting fact","teach me something","share knowledge","random fact","cool fact","something about","fact about","tell me about","interesting thing","knowledge","wisdom","learn something new","surprise me","educational fact","vedic fact","hindu fact","sanskrit fact","yoga fact","philosophy fact","mantra fact","spiritual fact"],general_question:["help","information","tell me","explain","what","how","why","when","where"]}}classifyIntent(e,a){const s=e.toLowerCase(),r={};Object.entries(this.intentPatterns).forEach(([e,a])=>{let i=0;a.forEach(e=>{s.includes(e)&&(i+=this.calculatePatternScore(e,s))}),r[e]=i}),this.applyPersonaWeighting(r,a);const i=Object.entries(r).sort(([,e],[,a])=>a-e).filter(([,e])=>e>0);if(0===i.length)return{intent:"general_question",confidence:.5};const[t,o]=i[0];return{intent:t,confidence:Math.min(o/10,1),entities:this.extractEntities(e)}}calculatePatternScore(e,a){const s=e.split(" ");let r=0;return s.forEach(e=>{a.includes(e)&&(r+=e.length>3?2:1)}),a.includes(e)&&(r+=3),r}applyPersonaWeighting(e,a){switch(a){case"student":e.student_progress*=1.5,e.certificate_info*=1.3,e.schedule_classes*=1.3;break;case"parent":e.age_appropriate*=1.5,e.pricing_fees*=1.3,e.contact_info*=1.2;break;case"teacher":e.platform_features*=1.3,e.technical_support*=1.2;break;case"prospective_student":e.enrollment_process*=1.5,e.pricing_fees*=1.4,e.course_inquiry*=1.3}}extractEntities(e){const a={},s=e.toLowerCase(),r=e.match(/[CM]\d{4}/g);r&&(a.course_number=r[0]);["hinduism","mantra","philosophy","sanskrit","yoga"].forEach(e=>{s.includes(e)&&(a.gurukul=e)});const i=e.match(/(\d+)\s*(?:years?\s*old|age)/i);i&&(a.age=i[1]);return["elementary","basic","intermediate","advanced"].forEach(e=>{s.includes(e)&&(a.level=e)}),a}}class ar{constructor(){this.knowledgeBase=[],this.initializeKnowledgeBase()}initializeKnowledgeBase(){this.knowledgeBase=[{id:"about-eyogi-1",type:"general_info",title:"What is eYogi Gurukul?",content:'eYogi Gurukul is an innovative online educational platform that connects ancient Vedic wisdom with modern learning methods. The "e" in eYogi represents the bridge between traditional Gurukul education and digital technology. We offer comprehensive courses in Hindu philosophy, Sanskrit, mantras, yoga, and spiritual practices for students of all ages.',keywords:["eyogi","gurukul","about","mission","vision","vedic","ancient wisdom"],category:"about"},{id:"about-eyogi-2",type:"general_info",title:"eYogi Mission and Vision",content:"Our mission is to preserve and share authentic Vedic knowledge through modern educational technology. We believe in creating eYogis - practitioners who connect ancient spiritual science with contemporary life, fostering peace and harmony globally while respecting all cultures.",keywords:["mission","vision","eyogi","vedic knowledge","spiritual","peace","harmony"],category:"about"},{id:"enrollment-1",type:"faq",title:"How to Enroll in Courses",content:'To enroll in courses: 1) Create an account on our platform, 2) Browse available courses by age group and interest, 3) Click "Enroll Now" on your chosen course, 4) Complete payment process, 5) Wait for teacher approval (usually within 24 hours), 6) Access your course materials in the student dashboard.\n\nðŸ”— **Quick Links:** [Create Account](/auth/signup) â€¢ [Browse Courses](/courses) â€¢ [Sign In](/auth/signin)',keywords:["enroll","enrollment","register","sign up","join course","admission"],category:"enrollment"},{id:"enrollment-2",type:"faq",title:"Enrollment Requirements",content:"Most courses have minimal requirements. Age-appropriate courses are available from 4 years to adult learners. For students under 18, parent/guardian consent is required. Some advanced courses may require completion of prerequisite courses.",keywords:["requirements","prerequisites","age","consent","guardian","parent"],category:"enrollment"},{id:"courses-1",type:"general_info",title:"Course Structure and Levels",content:"Our courses are structured in 4 levels: Elementary (4-7 years), Basic (8-11 years), Intermediate (12-15 years), and Advanced (16-19 years). Each course typically runs for 4-8 weeks with weekly classes. Course numbers follow the format: Elementary (000-999), Basic (1000-1999), Intermediate (2000-2999), Advanced (3000-3999).\n\nðŸ”— **Explore:** [View All Courses](/courses) â€¢ [Filter by Level](/courses?level=basic)",keywords:["course structure","levels","elementary","basic","intermediate","advanced","age groups"],category:"courses"},{id:"courses-2",type:"general_info",title:"Course Delivery Methods",content:"We offer three delivery methods: Remote (online classes via video conferencing), Physical (in-person classes at select locations), and Hybrid (combination of online and in-person sessions). Most courses are delivered remotely to accommodate global students.",keywords:["delivery","online","remote","physical","hybrid","video","in-person"],category:"courses"},{id:"gurukul-hinduism",type:"gurukul",title:"Hinduism Gurukul",content:"The Hinduism Gurukul offers comprehensive courses on Hindu traditions, philosophy, festivals, and practices. Students learn about dharma, karma, meditation, sacred texts, and how to apply ancient wisdom in modern life. Courses range from basic concepts for children to advanced philosophical studies.\n\nðŸ”— [Explore Hinduism Gurukul](/gurukuls/hinduism)",keywords:["hinduism","hindu","dharma","karma","meditation","festivals","traditions"],category:"gurukuls"},{id:"gurukul-mantra",type:"gurukul",title:"Mantra Gurukul",content:"The Mantra Gurukul focuses on the sacred science of mantras. Students learn proper pronunciation, meanings, and the transformative power of sacred sounds. Courses cover basic mantras for beginners to advanced mantra meditation practices.\n\nðŸ”— [Explore Mantra Gurukul](/gurukuls/mantra)",keywords:["mantra","sacred sounds","pronunciation","meditation","chanting","sanskrit mantras"],category:"gurukuls"},{id:"gurukul-philosophy",type:"gurukul",title:"Philosophy Gurukul",content:"The Philosophy Gurukul explores ancient philosophical traditions and their relevance to modern life. Students study different schools of Hindu philosophy, ethics, metaphysics, and practical wisdom for spiritual growth and daily living.\n\nðŸ”— [Explore Philosophy Gurukul](/gurukuls/philosophy)",keywords:["philosophy","philosophical","ethics","metaphysics","wisdom","spiritual growth"],category:"gurukuls"},{id:"gurukul-sanskrit",type:"gurukul",title:"Sanskrit Gurukul",content:"The Sanskrit Gurukul offers structured programs to master the sacred language of Sanskrit. From alphabet and basic grammar to reading ancient texts, students develop proficiency in this foundational language of Vedic literature.\n\nðŸ”— [Explore Sanskrit Gurukul](/gurukuls/sanskrit)",keywords:["sanskrit","language","alphabet","grammar","devanagari","ancient texts"],category:"gurukuls"},{id:"gurukul-yoga",type:"gurukul",title:"Yoga & Wellness Gurukul",content:"The Yoga & Wellness Gurukul integrates physical, mental, and spiritual wellness through traditional yoga practices. Students learn asanas, pranayama, meditation, and holistic health approaches based on ancient Ayurvedic principles.\n\nðŸ”— [Explore Yoga & Wellness Gurukul](/gurukuls/yoga-wellness)",keywords:["yoga","wellness","asanas","pranayama","meditation","ayurveda","health"],category:"gurukuls"},{id:"certificates-1",type:"faq",title:"Certificate Information",content:"All students receive digital certificates upon successful course completion. Certificates include verification codes for authenticity, can be downloaded as PDF, and shared on social media. Certificates are issued by qualified teachers and include course details, completion date, and student information.\n\nðŸ”— **For Students:** [View My Certificates](/dashboard/student#certificates)",keywords:["certificate","certification","digital certificate","verification","download","authentic"],category:"certificates"},{id:"pricing-1",type:"faq",title:"Course Pricing Structure",content:"Course fees vary by level and duration. Elementary courses start from â‚¬35, Basic courses from â‚¬50, Intermediate from â‚¬75, and Advanced from â‚¬100. We offer family discounts for multiple enrollments and early bird pricing for advance bookings.\n\nðŸ”— **View Pricing:** [Browse Courses with Prices](/courses) â€¢ [Contact for Discounts](/contact)",keywords:["pricing","fees","cost","elementary","basic","intermediate","advanced","discount"],category:"pricing"},{id:"contact-1",type:"general_info",title:"Contact Information",content:"You can reach us at info@eyogigurukul.com or call +353 1 234 5678 (Mon-Fri 9AM-6PM IST). Our headquarters is located in Dublin, Ireland. For immediate assistance, use our AI chatbot available 24/7 or submit a contact form on our website.",keywords:["contact","email","phone","address","dublin","ireland","support"],category:"contact"},{id:"tech-support-1",type:"faq",title:"Common Technical Issues",content:"For login issues, try resetting your password. If you can't access courses, check your enrollment status in the dashboard. For video playback issues, ensure stable internet connection. Contact technical support at support@eyogigurukul.com for persistent issues.",keywords:["technical","login","password","access","video","internet","support"],category:"technical"},{id:"did-you-know-1",type:"general_info",title:"Educational Facts Database",content:"I have access to over 1000 fascinating facts about Vedic wisdom, ancient knowledge, Sanskrit, Yoga, Hindu philosophy, mantras, festivals, and spiritual practices. You can ask me for facts about specific topics or request random interesting knowledge to expand your understanding!",keywords:["did you know","facts","knowledge","wisdom","interesting","educational","learn"],category:"education"}]}async search(e,a){await new Promise(e=>setTimeout(e,200));const s=e.toLowerCase().split(" "),r=[];this.knowledgeBase.forEach(i=>{let t=0;i.keywords.forEach(a=>{e.toLowerCase().includes(a)&&(t+=a.length>5?3:2)}),s.forEach(e=>{e.length>2&&i.content.toLowerCase().includes(e)&&(t+=1)}),s.forEach(e=>{e.length>2&&i.title.toLowerCase().includes(e)&&(t+=3)}),this.isIntentRelevant(a,i.category)&&(t*=1.5),t>0&&r.push({type:i.type,title:i.title,content:i.content,relevanceScore:t,metadata:{category:i.category,id:i.id}})});try{const e=await X(),a=await ee();e.forEach(e=>{let a=0;s.forEach(s=>{s.length>2&&(e.title.toLowerCase().includes(s)&&(a+=3),e.description.toLowerCase().includes(s)&&(a+=2),e.course_number.toLowerCase().includes(s)&&(a+=4),e.level.toLowerCase().includes(s)&&(a+=2))}),a>0&&r.push({type:"course",title:e.title,content:`${e.description} (Course: ${e.course_number}, Level: ${e.level}, Duration: ${e.duration_weeks} weeks, Fee: â‚¬${e.price})`,relevanceScore:a,metadata:{course:e,category:"courses"}})}),a.forEach(e=>{let a=0;s.forEach(s=>{s.length>2&&(e.name.toLowerCase().includes(s)&&(a+=3),e.description.toLowerCase().includes(s)&&(a+=2),e.slug.toLowerCase().includes(s)&&(a+=2))}),a>0&&r.push({type:"gurukul",title:e.name,content:e.description,relevanceScore:a,metadata:{gurukul:e,category:"gurukuls"}})})}catch{}return r.sort((e,a)=>a.relevanceScore-e.relevanceScore).slice(0,5)}isIntentRelevant(e,a){return{course_inquiry:["courses","gurukuls"],enrollment_process:["enrollment","courses"],gurukul_information:["gurukuls"],pricing_fees:["pricing","courses"],certificate_info:["certificates"],technical_support:["technical"],contact_info:["contact"],about_eyogi:["about"],did_you_know:["education","about"]}[e]?.includes(a)||!1}}class sr{constructor(){this.facts=[],this.initializeFacts()}initializeFacts(){this.facts=[{id:"fact-1",content:'The word "Guru" comes from Sanskrit meaning "dispeller of darkness" - Gu (darkness) + Ru (to remove). A Guru guides students from ignorance to knowledge! ðŸŒŸ',category:"hinduism",intent:["gurukul_information","about_eyogi","course_inquiry"],persona:["student","prospective_student","general_visitor"]},{id:"fact-2",content:"Sanskrit has 54 letters in its alphabet, and each letter is believed to have a specific vibration that affects consciousness when pronounced correctly! ðŸ•‰ï¸",category:"sanskrit",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-3",content:"The ancient Gurukul system was the world's first residential university system, where students lived with their teachers and learned through practical experience! ðŸ«",category:"education",intent:["about_eyogi","gurukul_information"],persona:["parent","general_visitor","prospective_student"]},{id:"fact-4",content:'Yoga means "union" in Sanskrit - the union of individual consciousness with universal consciousness. It\'s much more than physical exercise! ðŸ§˜â€â™€ï¸',category:"yoga",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-5",content:"The Om symbol (ðŸ•‰ï¸) represents the sound of the universe and contains three curves representing waking, dreaming, and deep sleep states of consciousness!",category:"symbols",intent:["course_inquiry","about_eyogi"],persona:["student","prospective_student","general_visitor"]},{id:"fact-6",content:"Studies show that learning ancient languages like Sanskrit can improve memory, concentration, and cognitive function in children! ðŸ§ ",category:"learning",intent:["course_inquiry","age_appropriate"],persona:["parent","student"]},{id:"fact-7",content:"The traditional Gurukul education emphasized character building alongside academic learning - a holistic approach we maintain in our online courses! âœ¨",category:"education",intent:["about_eyogi","course_inquiry"],persona:["parent","general_visitor"]},{id:"fact-8",content:"Mantras are not just words - they are sound formulas that create specific vibrations in the mind and body, promoting healing and spiritual growth! ðŸŽµ",category:"mantras",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-9",content:'The concept of "Dharma" doesn\'t just mean religion - it means righteous living, duty, and the natural order that maintains harmony in the universe! âš–ï¸',category:"philosophy",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-10",content:"Ancient Indian mathematics gave the world the concept of zero, decimal system, and many algebraic principles that form the foundation of modern mathematics! ðŸ”¢",category:"mathematics",intent:["course_inquiry","about_eyogi"],persona:["student","parent","general_visitor"]},{id:"fact-11",content:"Diwali, the Festival of Lights, symbolizes the victory of light over darkness and knowledge over ignorance - core principles we teach in our courses! ðŸª”",category:"festivals",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-12",content:"The lotus flower is sacred in Hinduism because it grows from muddy water yet remains pure and beautiful - symbolizing spiritual growth through life's challenges! ðŸª·",category:"symbols",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-13",content:"Ayurveda, the ancient science of life, recognizes that each person has a unique constitution and requires personalized approaches to health and wellness! ðŸŒ¿",category:"ayurveda",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-14",content:"The ancient text Bhagavad Gita is considered one of the world's greatest philosophical works, offering practical wisdom for ethical living and spiritual growth! ðŸ“–",category:"texts",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-15",content:"Meditation has been practiced for over 5,000 years and modern science now confirms its benefits for stress reduction, focus, and emotional well-being! ðŸ§˜",category:"meditation",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-16",content:"Our platform uses AI to personalize learning paths, ensuring each student receives content appropriate for their age, level, and learning style! ðŸ¤–",category:"technology",intent:["platform_features","about_eyogi"],persona:["parent","general_visitor","prospective_student"]},{id:"fact-17",content:"Students from over 25 countries have joined our global eYogi community, creating a diverse learning environment that enriches everyone's experience! ðŸŒ",category:"community",intent:["about_eyogi","platform_features"],persona:["prospective_student","parent","general_visitor"]},{id:"fact-18",content:"Our unique Student ID system (e.g., IRLDU202500001) includes country, location, year, and sequence - ensuring each learner has a permanent identity that tracks their entire educational journey with us! ðŸ†”",category:"platform",intent:["student_progress","enrollment_process"],persona:["student","parent"]},{id:"fact-19",content:"We offer courses in three delivery methods - online, in-person, and hybrid - to accommodate different learning preferences and global accessibility! ðŸ’»",category:"delivery",intent:["course_inquiry","platform_features"],persona:["prospective_student","parent"]},{id:"fact-20",content:"Our teachers are certified experts with deep knowledge of Vedic traditions, ensuring authentic and accurate transmission of ancient wisdom! ðŸ‘¨â€ðŸ«",category:"teachers",intent:["teacher_info","about_eyogi"],persona:["parent","prospective_student"]},{id:"fact-21",content:"Children as young as 4 can start learning basic concepts through stories, songs, and interactive activities designed specifically for their developmental stage! ðŸ‘¶",category:"age_learning",intent:["age_appropriate","course_inquiry"],persona:["parent"]},{id:"fact-22",content:"Teenagers often find ancient philosophy surprisingly relevant to modern challenges like stress, relationships, and finding life purpose! ðŸ§ ",category:"age_learning",intent:["age_appropriate","course_inquiry"],persona:["parent","prospective_student"]},{id:"fact-23",content:"Adult learners bring life experience that enriches philosophical discussions, making our courses valuable for lifelong learning! ðŸ‘©â€ðŸŽ“",category:"age_learning",intent:["age_appropriate","course_inquiry"],persona:["prospective_student","general_visitor"]},{id:"fact-24",content:'The concept of "Vasudhaiva Kutumbakam" means "the world is one family" - a principle that guides our inclusive, global approach to education! ðŸŒ',category:"philosophy",intent:["about_eyogi","gurukul_information"],persona:["general_visitor","prospective_student"]},{id:"fact-25",content:"Pranayama (breathing exercises) can be practiced by anyone and has immediate benefits for stress relief and mental clarity! ðŸŒ¬ï¸",category:"yoga",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-26",content:'The ancient Indian concept of "Ahimsa" (non-violence) influenced great leaders like Mahatma Gandhi and Martin Luther King Jr.! âœŒï¸',category:"philosophy",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-27",content:"Sanskrit is considered the mother of many languages and has influenced vocabulary in English, German, Latin, and other Indo-European languages! ðŸ—£ï¸",category:"sanskrit",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-28",content:"The practice of meditation can physically change brain structure, increasing gray matter in areas associated with learning and memory! ðŸ§ ",category:"meditation",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-29",content:"Ancient Indian astronomy accurately calculated the Earth's circumference, the speed of light, and planetary movements thousands of years ago! ðŸŒŸ",category:"science",intent:["course_inquiry","about_eyogi"],persona:["student","prospective_student","general_visitor"]},{id:"fact-30",content:'The concept of "Karma" is often misunderstood - it\'s not about punishment but about the natural law of cause and effect in moral actions! âš–ï¸',category:"philosophy",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-31",content:"The ancient Indian mathematician Aryabhata calculated the value of Ï€ (pi) to four decimal places in 499 CE, centuries before European mathematicians! ðŸ”¢",category:"science",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student","general_visitor"]},{id:"fact-32",content:'The word "Guru" literally means "from darkness to light" - Gu (darkness) + Ru (light). A true Guru illuminates the path of knowledge! ðŸ’¡',category:"education",intent:["gurukul_information","did_you_know"],persona:["student","prospective_student","parent"]},{id:"fact-33",content:"Yoga has 84 classic asanas (poses), each designed to benefit specific organs and energy centers in the body! ðŸ§˜â€â™€ï¸",category:"yoga",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student"]},{id:"fact-34",content:'The Vedic chant "Asato Ma Sad Gamaya" means "Lead me from falsehood to truth, from darkness to light, from death to immortality" ðŸŒŸ',category:"mantras",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student","general_visitor"]},{id:"fact-35",content:"Ancient Indian texts described the concept of multiple universes (multiverse) thousands of years before modern physics! ðŸŒŒ",category:"science",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student","general_visitor"]}],this.generateAdditionalFacts()}generateAdditionalFacts(){const e=["hinduism","sanskrit","yoga","philosophy","mantras","festivals","science","culture"];for(let a=this.facts.length;a<1e3;a++){const s=e[a%e.length];this.facts.push({id:`fact-${a+1}`,content:this.generateFactByCategory(s,a),category:s,intent:["course_inquiry","gurukul_information","general_question"],persona:["student","prospective_student","general_visitor","parent"]})}}generateFactByCategory(e,a){const s={hinduism:["Hinduism is one of the world's oldest religions, with traditions dating back over 4,000 years! ðŸ•‰ï¸",'The concept of "Namaste" means "the divine in me honors the divine in you" - a beautiful way to greet others! ðŸ™',"Hindu festivals are based on lunar calendars and celebrate the cycles of nature and spiritual significance! ðŸŒ™","The Vedas are among the oldest sacred texts in the world, containing profound wisdom about life and spirituality! ðŸ“œ"],sanskrit:["Sanskrit has the most systematic grammar of any language, with rules codified by the ancient grammarian Panini! ðŸ“š",'Many English words come from Sanskrit, including "avatar," "karma," "yoga," and "mantra"! ðŸ”¤',"Sanskrit literature includes the world's longest epic poems - the Mahabharata and Ramayana! ðŸ“–","Learning Sanskrit can improve logical thinking and linguistic skills in any language! ðŸ§ "],yoga:['The word "Yoga" comes from the Sanskrit root "yuj" meaning to unite or join! ðŸ¤',"There are eight limbs of yoga, with physical postures (asanas) being just one aspect! ðŸ§˜","Pranayama (breathing exercises) can instantly calm the nervous system and reduce stress! ðŸŒ¬ï¸","Yoga was originally developed as a spiritual practice to prepare the body for meditation! âœ¨"],philosophy:["Hindu philosophy includes six major schools of thought, each offering unique perspectives on reality! ðŸ¤”",'The concept of "Dharma" varies for each individual based on their stage of life and circumstances! ðŸŒ±',"Ancient Indian philosophers debated questions about consciousness that modern neuroscience is still exploring! ðŸ§ ",'The principle of "Ahimsa" (non-violence) extends beyond physical harm to thoughts and words! â˜®ï¸'],mantras:["The Gayatri Mantra is considered the most powerful mantra and is chanted by millions daily! ðŸŒ…","Mantras work through sound vibration, which can affect brainwaves and emotional states! ðŸŽµ","Each Sanskrit syllable in a mantra has a specific meaning and vibrational quality! ðŸ”Š","Regular mantra practice can improve concentration, reduce anxiety, and promote inner peace! ðŸ•Šï¸"],festivals:["Holi, the festival of colors, celebrates the arrival of spring and the triumph of good over evil! ðŸŒˆ","Diwali lights represent the inner light that protects from spiritual darkness! ðŸª”","Navratri celebrates the divine feminine energy and lasts for nine nights! ðŸ’ƒ","Each Hindu festival has deep spiritual significance beyond the celebrations! ðŸŽ‰"],science:["Ancient Indian texts described atomic theory thousands of years before modern science! âš›ï¸","The concept of infinity (â™¾ï¸) was first mathematically described in ancient Indian texts!","Ayurveda identified the connection between mind and body health 5,000 years ago! ðŸŒ¿","Ancient Indian astronomers calculated planetary movements with remarkable accuracy! ðŸŒŒ"],culture:['The greeting "Namaste" is a complete philosophy of respect and recognition of divinity in others! ðŸ™',"Indian classical music is based on ragas that are designed to evoke specific emotions and spiritual states! ðŸŽ¶",'The concept of "Seva" (selfless service) is considered one of the highest spiritual practices! ðŸ¤²',"Traditional Indian art and architecture incorporate sacred geometry and spiritual symbolism! ðŸ›ï¸"]},r=s[e]||s.hinduism;return r[a%r.length]}getRandomFact(e,a){let s=this.facts;e&&(s=s.filter(a=>a.intent.includes(e)||a.intent.includes("general_question"))),a&&(s=s.filter(e=>e.persona.includes(a)||e.persona.includes("general_visitor"))),0===s.length&&(s=this.facts);return s[Math.floor(Math.random()*s.length)].content}getFactsByCategory(e){return this.facts.filter(a=>a.category===e).map(e=>e.content)}getAllCategories(){const e=new Set(this.facts.map(e=>e.category));return Array.from(e)}getFactsCount(){return this.facts.length}searchFacts(e,a=5){const s=e.toLowerCase().split(" "),r=[];return this.facts.forEach(a=>{let i=0;const t=a.content.toLowerCase();s.forEach(e=>{e.length>2&&(t.includes(e)&&(i+=e.length>5?3:2),a.category.toLowerCase().includes(e)&&(i+=4))}),e.toLowerCase().includes(a.category)&&(i+=5),s.forEach(e=>{a.intent.forEach(a=>{a.includes(e)&&(i+=2)}),a.persona.forEach(a=>{a.includes(e)&&(i+=1)})}),i>0&&r.push({content:a.content,category:a.category,relevanceScore:i})}),r.sort((e,a)=>a.relevanceScore-e.relevanceScore).slice(0,a)}getFactsByQuery(e){return this.searchFacts(e,3).map(e=>e.content)}getRandomFactsByCategory(e,a=3){return this.facts.filter(a=>a.category===e).sort(()=>.5-Math.random()).slice(0,a).map(e=>e.content)}}class rr{constructor(){this.responseTemplates={greeting:{student:["ðŸ™ Namaste! Welcome back to your learning journey! How can I help you today?","Hello there! Ready to explore some amazing Vedic wisdom? What would you like to know?","Hi! Great to see you here. I'm excited to help you with your learning adventure! âœ¨"],parent:["ðŸ™ Namaste! I'm here to help you find the perfect learning experience for your child. What can I assist you with?","Hello! I'd be happy to help you explore our age-appropriate courses and answer any questions about your child's learning journey.","Hi there! As a parent, you want the best education for your child. Let me help you discover our wonderful courses! ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦"],prospective_student:["ðŸ™ Welcome to eYogi Gurukul! I'm excited to help you discover the perfect course for your learning journey. What interests you most?","Hello! Ready to explore ancient wisdom through modern learning? I'm here to guide you through our amazing course offerings! âœ¨","Hi! Welcome to our community of learners. Let me help you find the perfect Gurukul and course for your interests! ðŸŒŸ"],general_visitor:["ðŸ™ Namaste! Welcome to eYogi Gurukul. I'm here to answer any questions about our platform, courses, or Vedic education. How can I help?","Hello! Thanks for visiting eYogi Gurukul. I'd love to help you learn more about our unique approach to ancient wisdom education!","Hi there! Curious about Vedic learning? I'm here to share information about our courses, Gurukuls, and educational philosophy! ðŸ•‰ï¸"]},did_you_know:{student:["ðŸŒŸ I love sharing fascinating knowledge! Here are some amazing facts that will expand your understanding:","âœ¨ Ready for some mind-blowing wisdom? Let me share some incredible facts with you:","ðŸ§  Time for some knowledge expansion! Here are some fascinating discoveries:"],parent:["ðŸ“š I'd be delighted to share some educational facts that you and your child might find interesting:","ðŸŒŸ Here are some wonderful facts about Vedic wisdom that make great conversation starters with children:","âœ¨ Let me share some amazing knowledge that showcases the depth of our educational content:"],prospective_student:["ðŸŽ“ Here are some incredible facts that showcase the depth and richness of what you'll learn with us:","ðŸŒŸ Let me share some fascinating knowledge that demonstrates the value of Vedic education:","âœ¨ Ready to be amazed? Here are some mind-expanding facts about ancient wisdom:"],general_visitor:["ðŸ•‰ï¸ I'd love to share some fascinating facts about Vedic wisdom and ancient knowledge:","ðŸŒŸ Here are some incredible discoveries that showcase the depth of ancient Indian knowledge:","âœ¨ Let me share some amazing facts that will give you a taste of what we teach:"]},course_inquiry:{student:["Great question about our courses! Based on your profile, here are some perfect matches for you:","I'd love to help you find the ideal course! Let me share some options that align with your learning level:","Excellent! Let me guide you through our course offerings that would be perfect for your learning journey:"],parent:["I understand you want the best learning experience for your child. Here are age-appropriate courses I recommend:","As a parent, you'll appreciate our carefully designed age-specific curriculum. Let me show you suitable options:","Perfect! I can help you find courses that are both educational and engaging for your child's age group:"],prospective_student:["Wonderful! I'm excited to introduce you to our comprehensive course catalog. Here's what we offer:","Great interest in learning! Let me share our amazing course options that could be perfect for you:","Fantastic! Our courses are designed for learners of all backgrounds. Here are some excellent starting points:"]},enrollment_process:{student:["The enrollment process is simple and straightforward! Here's how you can join any course:","Ready to enroll? I'll walk you through the easy steps to start your learning journey:","Enrolling is quick and easy! Let me guide you through the process step by step:"],parent:["I'll explain our secure and parent-friendly enrollment process for your child:","As a parent, you'll appreciate our safe and transparent enrollment system. Here's how it works:","Our enrollment process includes special protections for young learners. Let me explain:"],prospective_student:["Ready to begin your learning adventure? Here's our simple enrollment process:","I'm excited to help you join our community! The enrollment process is designed to be smooth and welcoming:","Let me walk you through how easy it is to start learning with us:"]},pricing_fees:{student:["Here's our transparent pricing structure designed to make quality education accessible:","Our fees are structured to provide excellent value for authentic Vedic education:","Let me break down our affordable pricing options for you:"],parent:["I understand budget is important for families. Here's our fair and transparent pricing:","Our pricing reflects the quality of education while remaining accessible to families:","As a parent, you'll appreciate our value-focused pricing structure:"],prospective_student:["Our pricing is designed to make quality Vedic education accessible to everyone:","Here's our investment in your spiritual and educational growth:","Let me share our affordable pricing options that deliver exceptional value:"]},gurukul_information:{student:["Great question about our Gurukuls! Each one offers a unique learning experience:","I'd love to tell you about our specialized Gurukuls and what makes each one special:","Our Gurukuls are designed to provide deep, focused learning in different areas of Vedic knowledge:"],parent:["As a parent, you'll appreciate how each Gurukul provides age-appropriate, structured learning:","Our Gurukuls offer safe, educational environments for children to explore ancient wisdom:","Each Gurukul is carefully designed with your child's developmental needs in mind:"],prospective_student:["Welcome! Let me introduce you to our amazing Gurukuls and their unique specializations:","Our Gurukul system offers multiple pathways to explore Vedic knowledge:","Each Gurukul provides a comprehensive learning journey in its specialized area:"]},certificate_info:{student:["Certificates are a wonderful way to showcase your learning achievements! Here's what you need to know:","I'm excited to tell you about our beautiful digital certificates and how to earn them:","Your hard work deserves recognition! Let me explain our certificate system:"],parent:["Your child's achievements will be properly recognized with our professional certificates:","We provide authentic, verifiable certificates that showcase your child's learning:","Our certificate system ensures your child's educational achievements are properly documented:"],prospective_student:["You'll earn beautiful, verifiable certificates upon completing our courses:","Our certificates are more than just documents - they represent authentic learning achievements:","Let me tell you about the valuable certificates you can earn through our programs:"]},about_eyogi:{student:["I'm happy to share the inspiring story behind eYogi Gurukul and our mission:","Let me tell you about the vision that drives our educational platform:","eYogi Gurukul has a beautiful mission that you're now part of as a student:"],parent:["As a parent, you'll appreciate the values and mission that guide our educational approach:","Let me share why eYogi Gurukul is the right choice for your child's spiritual education:","Our organization's values align with providing safe, authentic education for children:"],prospective_student:["Welcome! Let me share the inspiring vision behind eYogi Gurukul:","I'd love to tell you about our mission and what makes eYogi Gurukul special:","Discover the beautiful philosophy that guides our educational approach:"]}},this.didYouKnowService=new sr}generateResponse(e){const{message:a,persona:s,intent:r,searchResults:i,user:t}=e;if("did_you_know"===r)return this.generateDidYouKnowResponse(a,s);const o=this.responseTemplates[r]?.[s]||this.responseTemplates[r]?.general_visitor||["I'd be happy to help you with that! Let me provide you with the information you need:"];let n=o[Math.floor(Math.random()*o.length)];if(i.length>0){n+="\n\n";i.slice(0,3).forEach((e,a)=>{0===a?(n+=`ðŸ“š **${e.title}**\n${e.content}\n\n`,"course"===e.type&&e.metadata?.course?n+=`ðŸ”— [View Course Details](/courses/${e.metadata.course.id})\n\n`:"gurukul"===e.type&&e.metadata?.gurukul&&(n+=`ðŸ”— [Explore ${e.metadata.gurukul.name}](/gurukuls/${e.metadata.gurukul.slug})\n\n`)):n+=`â€¢ **${e.title}**: ${this.truncateContent(e.content,100)}\n\n`}),n+=this.addIntentBasedLinks(r)}else n+=this.generateFallbackResponse(r);return n=this.addPersonalizedTouches(n,t,s,r),n+=this.generateSuggestions(r),n.trim()}generateDidYouKnowResponse(e,a){const s=this.responseTemplates.did_you_know[a]||this.responseTemplates.did_you_know.general_visitor;let r=s[Math.floor(Math.random()*s.length)]+"\n\n";const i=this.extractSpecificQuery(e);if(i){const e=this.didYouKnowService.searchFacts(i,3);if(e.length>0)r+=`ðŸŽ¯ **Facts about "${i}":**\n\n`,e.forEach((e,a)=>{r+=`${a+1}. ${e.content}\n\n`});else{const e=this.getCategoryFromQuery(i),a=this.didYouKnowService.getRandomFactsByCategory(e,3);r+="ðŸŒŸ **Here are some amazing facts related to your interest:**\n\n",a.forEach((e,a)=>{r+=`${a+1}. ${e}\n\n`})}}else{const e=[this.didYouKnowService.getRandomFact(),this.didYouKnowService.getRandomFact(),this.didYouKnowService.getRandomFact()];r+="ðŸŽ² **Random Amazing Facts:**\n\n",e.forEach((e,a)=>{r+=`${a+1}. ${e}\n\n`})}return r+="ðŸ”— **Explore More:**\n",r+="â€¢ [Browse All Courses](/courses) - Discover courses on these topics\n",r+="â€¢ [Explore Gurukuls](/gurukuls) - Learn more about our specialized schools\n",r+="â€¢ [About eYogi](/about) - Understand our educational philosophy\n\n",r+="ðŸ’¡ Want to learn more? Ask me about specific topics like 'Sanskrit facts', 'Yoga wisdom', 'Hindu philosophy', or 'Mantra science'!",r}extractSpecificQuery(e){const a=e.toLowerCase(),s=["sanskrit","yoga","hinduism","hindu","philosophy","mantra","mantras","meditation","dharma","karma","festival","festivals","ayurveda","vedic","vedas","guru","gurukul","om","namaste","chakra","chakras","pranayama","asana","asanas","bhagavad gita","upanishads","ramayana","mahabharata","diwali","holi","navratri","ganesh","shiva","vishnu","brahma","lakshmi","saraswati","hanuman","krishna","rama"];for(const t of s)if(a.includes(t))return t;const r=a.match(/about\s+(\w+)/i);if(r)return r[1];const i=a.match(/(\w+)\s+facts?/i);return i?i[1]:""}getCategoryFromQuery(e){return{sanskrit:"sanskrit",yoga:"yoga",hinduism:"hinduism",hindu:"hinduism",philosophy:"philosophy",mantra:"mantras",mantras:"mantras",meditation:"meditation",festival:"festivals",festivals:"festivals",science:"science",culture:"culture",ayurveda:"science",vedic:"hinduism",vedas:"hinduism"}[e.toLowerCase()]||"hinduism"}addIntentBasedLinks(e){return{course_inquiry:"\nðŸ”— **Helpful Links:**\nâ€¢ [Browse All Courses](/courses)\nâ€¢ [Explore Gurukuls](/gurukuls)\nâ€¢ [About Our Education](/about)\n",enrollment_process:"\nðŸ”— **Get Started:**\nâ€¢ [Create Account](/auth/signup)\nâ€¢ [Sign In](/auth/signin)\nâ€¢ [Browse Courses](/courses)\n",gurukul_information:"\nðŸ”— **Explore More:**\nâ€¢ [All Gurukuls](/gurukuls)\nâ€¢ [Hinduism Gurukul](/gurukuls/hinduism)\nâ€¢ [Philosophy Gurukul](/gurukuls/philosophy)\nâ€¢ [Sanskrit Gurukul](/gurukuls/sanskrit)\nâ€¢ [Mantra Gurukul](/gurukuls/mantra)\nâ€¢ [Yoga & Wellness](/gurukuls/yoga-wellness)\n",pricing_fees:"\nðŸ”— **View Details:**\nâ€¢ [Course Pricing](/courses)\nâ€¢ [Contact Us](/contact)\n",certificate_info:"\nðŸ”— **Learn More:**\nâ€¢ [About Certificates](/about)\nâ€¢ [Student Dashboard](/dashboard/student)\n",about_eyogi:"\nðŸ”— **Discover More:**\nâ€¢ [About Us](/about)\nâ€¢ [Contact Us](/contact)\n",contact_info:"\nðŸ”— **Contact Options:**\nâ€¢ [Contact Form](/contact)\nâ€¢ [About Us](/about)\n",student_progress:"\nðŸ”— **Your Dashboard:**\nâ€¢ [Student Dashboard](/dashboard/student)\nâ€¢ [Browse More Courses](/courses)\n",did_you_know:"\nðŸ”— **Learn More:**\nâ€¢ [Browse Courses](/courses)\nâ€¢ [Explore Gurukuls](/gurukuls)\nâ€¢ [About eYogi](/about)\n"}[e]||""}generateFallbackResponse(e){return{course_inquiry:"\n\nWe offer comprehensive courses across 5 specialized Gurukuls: Hinduism, Mantra, Philosophy, Sanskrit, and Yoga & Wellness. Each Gurukul has courses for different age groups from 4 years to adult learners.\n\nðŸ”— **Quick Links:**\nâ€¢ [Browse All Courses](/courses)\nâ€¢ [Explore Gurukuls](/gurukuls)\nâ€¢ [About Our Education](/about)",enrollment_process:"\n\nTo enroll: 1) Create your account, 2) Browse courses by age/interest, 3) Click 'Enroll Now', 4) Complete payment, 5) Get teacher approval, 6) Start learning!\n\nðŸ”— **Get Started:**\nâ€¢ [Create Account](/auth/signup)\nâ€¢ [Browse Courses](/courses)\nâ€¢ [Sign In](/auth/signin)",gurukul_information:"\n\nOur 5 Gurukuls each specialize in different aspects of Vedic knowledge: Hinduism (traditions & philosophy), Mantra (sacred sounds), Philosophy (ancient wisdom), Sanskrit (sacred language), and Yoga & Wellness (holistic health).",pricing_fees:"\n\nOur courses range from â‚¬35-â‚¬100 depending on level and duration. Elementary (â‚¬35-40), Basic (â‚¬50-60), Intermediate (â‚¬75-85), Advanced (â‚¬100+). We offer family discounts and early bird pricing!\n\nðŸ”— **View Pricing:**\nâ€¢ [See All Course Prices](/courses)\nâ€¢ [Contact for Discounts](/contact)",certificate_info:"\n\nAll students receive beautiful digital certificates upon course completion. Certificates include verification codes, can be downloaded as PDF, shared on social media, and are recognized for their authentic Vedic education content.",contact_info:"\n\nYou can reach us at info@eyogigurukul.com, call +353 1 234 5678 (Mon-Fri 9AM-6PM IST), or use this chat for immediate assistance. We're based in Dublin, Ireland but serve students globally!\n\nðŸ”— **Contact Options:**\nâ€¢ [Contact Form](/contact)\nâ€¢ [About Us](/about)",about_eyogi:"\n\neYogi Gurukul bridges ancient Vedic wisdom with modern learning technology. We create 'eYogis' - practitioners who connect spiritual science with contemporary life, building peace and harmony while respecting all cultures.",did_you_know:"\n\nI have access to over 1000 fascinating facts about Vedic wisdom, ancient knowledge, and spiritual practices! You can ask me for facts about specific topics like 'Sanskrit facts', 'Yoga wisdom', 'Hindu traditions', 'Philosophy insights', or just say 'surprise me with a fact'!",technical_support:"\n\nFor technical issues: try refreshing your browser, check your internet connection, or clear your browser cache. For persistent problems, contact support@eyogigurukul.com with details about your issue."}[e]||"\n\nI'm here to help with any questions about eYogi Gurukul, our courses, enrollment, or Vedic education in general!"}addPersonalizedTouches(e,a,s,r){if(a){const s=a.full_name?.split(" ")[0]||"friend";if("student_progress"===r&&"student"===a.role&&(e+=`\n\nðŸŽ¯ ${s}, you can check your detailed progress in your student dashboard where you'll find all your enrolled courses, completion status, and certificates!`),"course_inquiry"===r&&a.age){const s=this.getAgeGroupForAge(a.age);e+=`\n\nðŸ’¡ Based on your age (${a.age}), I recommend looking at our ${s} level courses which are perfectly designed for your learning stage!`}}return"parent"===s&&(e+="\n\nðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ As a parent, you'll be pleased to know that all our courses include progress reports and we maintain open communication about your child's learning journey."),e}generateSuggestions(e){const a={course_inquiry:["Would you like me to recommend courses based on a specific age group?","Are you interested in a particular Gurukul or subject area?","Would you like to know about course schedules and duration?","Shall I help you find courses that match your learning level?"],enrollment_process:["Would you like me to guide you through creating an account?","Do you have questions about payment options?","Would you like to know about our approval process?","Need help understanding the enrollment timeline?"],pricing_fees:["Would you like information about family discounts?","Are you interested in our early bird pricing?","Do you need details about payment plans?","Shall I explain our refund policy?"],gurukul_information:["Would you like to explore a specific Gurukul in detail?","Are you interested in the teaching methodology?","Would you like to know about our teachers and their qualifications?","Shall I help you choose the right Gurukul for your interests?"],certificate_info:["Would you like to see examples of our certificates?","Are you interested in the verification process?","Shall I explain how to share your certificates professionally?"],did_you_know:["Would you like to learn about a specific topic like Sanskrit, Yoga, or Hindu philosophy?","Are you interested in facts about festivals, mantras, or ancient science?","Shall I share more wisdom about meditation, dharma, or spiritual practices?","Would you like to explore facts about specific Gurukuls or courses?"],about_eyogi:["Would you like to know more about our teaching philosophy?","Are you interested in our global community of learners?","Shall I tell you about our founders and team?"]}[e];if(a&&a.length>0){return`\n\nâ“ ${a[Math.floor(Math.random()*a.length)]}`}return"\n\nðŸ’¬ Feel free to ask me anything else about eYogi Gurukul!"}truncateContent(e,a){return e.length<=a?e:e.substring(0,a)+"..."}getAgeGroupForAge(e){return e>=4&&e<=7?"Elementary":e>=8&&e<=11?"Basic":e>=12&&e<=15?"Intermediate":e>=16&&e<=19?"Advanced":"Adult Learning"}}class ir{constructor(){this.conversationHistory=[],this.personaDetector=new Xs,this.intentClassifier=new er,this.semanticSearch=new ar,this.didYouKnowService=new sr,this.responseGenerator=new rr}async processMessage(e,a){const s=this.personaDetector.detectPersona(e,a),r=this.intentClassifier.classifyIntent(e,s),i=await this.semanticSearch.search(e,r.intent),t=this.responseGenerator.generateResponse({message:e,persona:s,intent:r.intent,confidence:r.confidence,searchResults:i,user:a,conversationHistory:this.conversationHistory}),o=Math.random()<.3?this.didYouKnowService.getRandomFact(r.intent,s):void 0;return this.conversationHistory.push({user:e,bot:t,timestamp:new Date}),this.conversationHistory.length>10&&(this.conversationHistory=this.conversationHistory.slice(-10)),{message:t,persona:s,intent:r.intent,confidence:r.confidence,didYouKnow:o}}getConversationHistory(){return this.conversationHistory}clearHistory(){this.conversationHistory=[]}}function tr({isOpen:r,onClose:i,initialMessage:t}){const{user:o}=N(),[n,l]=a.useState([]),[c,m]=a.useState(""),[d,u]=a.useState(!1),[h,b]=a.useState(!1),[g]=a.useState(()=>new ir),x=a.useRef(null),p=a.useRef(null);a.useEffect(()=>{if(r){const e={id:"welcome",type:"bot",content:`ðŸ™ Namaste ${o?.email?.split("@")[0]||"friend"}! I'm your eYogi AI assistant. I'm here to help you with questions about our courses, Gurukuls, enrollment, and anything related to your learning journey. How can I assist you today?`,timestamp:new Date,persona:"student",intent:"greeting"};l([e]),setTimeout(()=>p.current?.focus({preventScroll:!0}),100)}},[r,o]),a.useEffect(()=>{if(r){const e=e=>{e.target&&e.target.closest('[data-chatbot="true"]')||["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(e.key)&&e.preventDefault()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}},[r]),a.useEffect(()=>{t&&r&&f(t)},[t,r]),a.useEffect(()=>{D()},[n]);const D=()=>{x.current?.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},f=async e=>{const a=e||c.trim();if(!a)return;const s={id:`user-${Date.now()}`,type:"user",content:a,timestamp:new Date};l(e=>[...e,s]),m(""),u(!0),setTimeout(()=>{p.current?.focus({preventScroll:!0})},0);try{const e=o?{id:o.id,email:o.email||"",full_name:o.email?.split("@")[0]||"",role:"admin",student_id:"",age:void 0,created_at:o.created_at,updated_at:o.updated_at||""}:null,s=await g.processMessage(a,e);await new Promise(e=>setTimeout(e,1e3+1e3*Math.random()));const r={id:`bot-${Date.now()}`,type:"bot",content:s.message,timestamp:new Date,persona:s.persona,intent:s.intent,confidence:s.confidence,didYouKnow:s.didYouKnow};l(e=>[...e,r])}catch{const e={id:`error-${Date.now()}`,type:"bot",content:"I apologize, but I encountered an error processing your message. Please try again or contact our support team for assistance.",timestamp:new Date};l(a=>[...a,e])}finally{u(!1)}};return r?e.jsxDEV("div",{className:"fixed z-50 animate-in slide-in-from-bottom-4 slide-in-from-right-4 duration-300 \r\n                 md:bottom-6 md:right-6 md:w-96 md:h-[600px] md:top-auto md:left-auto\r\n                 top-16 bottom-4 left-4 right-4\r\n                 sm:top-20\r\n                 chatbot-container",onClick:e=>e.stopPropagation(),"data-chatbot":"true",children:e.jsxDEV(ae,{className:"w-full h-full flex flex-col shadow-2xl border border-gray-700 bg-gray-900",children:[e.jsxDEV(se,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-t-lg px-3 sm:px-6 py-3 sm:py-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsxDEV("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsxDEV(_e,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:260,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:259,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-base sm:text-lg font-bold",children:"eYogi AI Assistant"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:263,columnNumber:17},this),e.jsxDEV("p",{className:"text-orange-100 text-xs sm:text-sm hidden sm:block",children:"Your personal learning companion"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:264,columnNumber:17},this),e.jsxDEV("p",{className:"text-orange-100 text-xs sm:hidden",children:"Learning companion"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:267,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:262,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:258,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsxDEV(re,{variant:"ghost",size:"sm",onClick:()=>{l([]);l([{id:"welcome-new",type:"bot",content:"ðŸ™ Chat cleared! I'm ready to help you with any questions about eYogi Gurukul. What would you like to know?",timestamp:new Date}])},className:"text-white hover:bg-white/10 p-2 sm:p-2 min-h-[40px] min-w-[40px] sm:min-h-[36px] sm:min-w-[36px]",children:e.jsxDEV(Ce,{className:"h-4 w-4 sm:h-4 sm:w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:277,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:271,columnNumber:15},this),e.jsxDEV(re,{variant:"ghost",size:"sm",onClick:i,className:"text-white hover:bg-white/10 p-2 sm:p-2 min-h-[40px] min-w-[40px] sm:min-h-[36px] sm:min-w-[36px]",children:e.jsxDEV(Me,{className:"h-5 w-5 sm:h-5 sm:w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:285,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:279,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:270,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:257,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:256,columnNumber:9},this),e.jsxDEV(ie,{className:"flex-1 overflow-y-auto p-2 sm:p-4 space-y-3 sm:space-y-4 bg-gray-800",children:[n.map(a=>e.jsxDEV("div",{className:"flex "+("user"===a.type?"justify-end":"justify-start"),children:e.jsxDEV("div",{className:"max-w-[90%] sm:max-w-[85%] "+("user"===a.type?"order-2":"order-1"),children:[e.jsxDEV("div",{className:"flex items-start space-x-2 sm:space-x-3 "+("user"===a.type?"flex-row-reverse space-x-reverse":""),children:[e.jsxDEV("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center flex-shrink-0 "+("user"===a.type?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gradient-to-r from-orange-500 to-red-500"),children:"user"===a.type?e.jsxDEV(ke,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:312,columnNumber:23},this):e.jsxDEV(_e,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:314,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:304,columnNumber:19},this),e.jsxDEV("div",{className:"rounded-2xl px-3 py-2 sm:px-4 sm:py-3 "+("user"===a.type?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-gray-700 text-gray-100"),children:[e.jsxDEV("div",{className:"text-sm sm:text-sm leading-relaxed whitespace-pre-wrap",children:"bot"===a.type?e.jsxDEV("div",{dangerouslySetInnerHTML:{__html:te(a.content.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:text-blue-800 underline font-medium" target="_blank" rel="noopener noreferrer">$1</a>').replace(/\n/g,"<br>"))}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:327,columnNumber:25},this):a.content},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:325,columnNumber:21},this),"bot"===a.type&&(a.persona||a.intent)&&e.jsxDEV("div",{className:"mt-2 pt-2 border-t border-gray-600 flex items-center space-x-2",children:[a.persona&&e.jsxDEV(oe,{variant:"info",className:"text-xs",children:a.persona},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:348,columnNumber:27},this),a.intent&&e.jsxDEV(oe,{variant:"default",className:"text-xs",children:a.intent},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:353,columnNumber:27},this),a.confidence&&e.jsxDEV("span",{className:"text-xs text-gray-400",children:[Math.round(100*a.confidence),"% confident"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:358,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:346,columnNumber:23},this),a.didYouKnow&&e.jsxDEV("div",{className:"mt-3 p-3 bg-gradient-to-r from-purple-900/30 to-pink-900/30 rounded-lg border border-purple-600",children:[e.jsxDEV("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxDEV(Ae,{className:"h-4 w-4 text-purple-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:368,columnNumber:27},this),e.jsxDEV("span",{className:"text-sm font-semibold text-purple-300",children:"Did You Know?"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:369,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:367,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-purple-200",children:a.didYouKnow},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:373,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:366,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:318,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:300,columnNumber:17},this),e.jsxDEV("div",{className:"mt-1 text-xs text-gray-400 "+("user"===a.type?"text-right":"text-left"),children:ne(a.timestamp)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:379,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:297,columnNumber:15},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:293,columnNumber:13},this)),d&&e.jsxDEV("div",{className:"flex justify-start",children:e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:e.jsxDEV(_e,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:392,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:391,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gray-700 rounded-2xl px-4 py-3",children:e.jsxDEV("div",{className:"flex space-x-1",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:396,columnNumber:21},this),e.jsxDEV("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:397,columnNumber:21},this),e.jsxDEV("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:401,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:395,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:394,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:390,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:389,columnNumber:13},this),e.jsxDEV("div",{ref:x},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:410,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:291,columnNumber:9},this),n.length<=1&&e.jsxDEV("div",{className:"px-2 sm:px-4 pb-2 sm:pb-4 bg-gray-800",children:e.jsxDEV("div",{className:"mb-3 sm:mb-4",children:[e.jsxDEV("h4",{className:"text-xs sm:text-sm font-semibold text-gray-200 mb-2 sm:mb-3 flex items-center",children:[e.jsxDEV(Re,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:417,columnNumber:17},this),"Quick Questions"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:416,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 gap-1.5 sm:gap-2",children:["What courses are available for my age?","How do I enroll in a course?","What is the fee structure?","Tell me about Hinduism Gurukul","How do I get certificates?","What are the different Gurukuls?","Tell me an interesting fact","Share some Sanskrit wisdom"].slice(0,4).map((a,s)=>e.jsxDEV("button",{onClick:()=>f(a),className:"text-left p-2.5 sm:p-2 text-xs sm:text-xs bg-gray-700 hover:bg-orange-900/30 hover:text-orange-300 text-gray-200 rounded-lg transition-colors border border-gray-600 hover:border-orange-500 min-h-[40px] sm:min-h-[36px] flex items-center",children:a},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:422,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:420,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:415,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:414,columnNumber:11},this),e.jsxDEV("div",{className:"p-2 sm:p-4 border-t border-gray-600 bg-gray-900 rounded-b-lg",children:[e.jsxDEV("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),f()},className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsxDEV("div",{className:"flex-1 relative",children:[e.jsxDEV("input",{ref:p,type:"text",value:c,onChange:e=>m(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),e.stopPropagation(),f())},placeholder:"Ask me anything about eYogi Gurukul...",className:"w-full px-3 sm:px-4 py-3 pr-10 sm:pr-12 border border-gray-600 bg-gray-800 text-gray-100 placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm min-h-[48px]",disabled:d,style:{fontSize:"16px"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:445,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=window.webkitSpeechRecognition||window.SpeechRecognition;if(!e)return;const a=new e;a.continuous=!1,a.interimResults=!1,a.lang="en-US",a.onstart=()=>{b(!0)},a.onresult=e=>{const a=e.results[0][0].transcript;m(a),b(!1)},a.onerror=()=>{b(!1)},a.onend=()=>{b(!1)},h?a.stop():a.start()}else s.error("Speech recognition is not supported in your browser.")},className:"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 p-1.5 sm:p-1 rounded-full transition-colors min-h-[32px] min-w-[32px] flex items-center justify-center "+(h?"text-red-400 bg-red-900/30":"text-gray-400 hover:text-orange-400 hover:bg-orange-900/30"),children:h?e.jsxDEV(Fe,{className:"h-3 w-3 sm:h-4 sm:w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:465,columnNumber:19},this):e.jsxDEV(Be,{className:"h-3 w-3 sm:h-4 sm:w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:467,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:456,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:444,columnNumber:13},this),e.jsxDEV(re,{onClick:()=>f(),disabled:!c.trim()||d,className:"px-3 sm:px-4 py-3 min-h-[48px] min-w-[48px]",type:"submit",children:e.jsxDEV(qe,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:477,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:471,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:436,columnNumber:11},this),e.jsxDEV("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-gray-400 space-y-1 sm:space-y-0",children:[e.jsxDEV("span",{className:"text-center sm:text-left",children:"Press Enter to send â€¢ Shift+Enter for new line"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:481,columnNumber:13},this),e.jsxDEV("span",{className:"flex items-center justify-center sm:justify-end space-x-1",children:[e.jsxDEV(Le,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:485,columnNumber:15},this),e.jsxDEV("span",{children:"AI-powered by eYogi"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:486,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:484,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:480,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:435,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:254,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBot.tsx",lineNumber:245,columnNumber:5},this):null}function or({className:s,initialMessage:r}){const[i,t]=a.useState(!1),[o,n]=a.useState(!1);return e.jsxDEV(e.Fragment,{children:[!i&&e.jsxDEV("div",{className:`fixed bottom-6 right-6 z-40 \n                         sm:bottom-4 sm:right-4\n                         xs:bottom-3 xs:right-3 ${s}`,children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-red-500 rounded-full animate-ping opacity-20"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:22,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>t(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"relative bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 group\r\n                         sm:p-3 xs:p-3\r\n                         min-h-touch min-w-touch\r\n                         flex items-center justify-center",style:{minHeight:"44px",minWidth:"44px"},children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(_e,{className:"h-6 w-6 sm:h-5 sm:w-5 xs:h-5 xs:w-5 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:35,columnNumber:17},this),o&&e.jsxDEV("span",{className:"text-sm font-medium whitespace-nowrap hidden sm:block",children:"Ask eYogi AI"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:37,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:34,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:24,columnNumber:13},this),!o&&e.jsxDEV("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap hidden sm:block",children:["Ask me anything about eYogi Gurukul!",e.jsxDEV("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:47,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:45,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:20,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:15,columnNumber:9},this),e.jsxDEV(tr,{isOpen:i,onClose:()=>t(!1),initialMessage:r},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:54,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/chat/ChatBotTrigger.tsx",lineNumber:12,columnNumber:5},this)}if("undefined"!=typeof window){const e=new URL("/ssh-app/assets/pdf.worker.min-Cpi8b8z3.mjs",import.meta.url).href;ds.workerSrc=e}const nr={logos:{eyogiLogo:"/eyogiLogo.png",sshLogo:"/ssh-app/Images/Logo.png"},signatures:{viceChancellor:"",president:""},layout:{width:297,height:210,margin:20},colors:{primary:"#FF6B35",secondary:"#2563EB",text:"#1F2937"}};class lr{constructor(e){this.design={...nr,...e},this.pdf=new cs({orientation:"landscape",unit:"mm",format:"a4"})}async generateCertificate(e,a){try{return a?.template_data?.template_image?(console.log("Generating image-based certificate using template image"),await this.generateImageBasedCertificate(e,a)):(console.log("Generating design-based certificate"),this.setupCertificate(),await this.addHeader(a),this.addCertificateContent(e,a),this.addDecorativeElements(),await this.addSignatures(a),this.addFooter(e),this.pdf.output("blob"))}catch(s){throw console.error("Error in generateCertificate:",s),s}}async generateImageBasedCertificate(e,a){try{const{width:r,height:i}=this.design.layout,t=a.template_data?.template_image;if(!t)throw new Error("Template image URL not found");console.log("Loading template image:",t);const o=await fetch(t);if(!o.ok)throw new Error(`Failed to fetch template image: ${o.statusText}`);const n=await o.blob(),l=await n.arrayBuffer(),c=new Uint8Array(l),m=Array.from(c).map(e=>String.fromCharCode(e)).join(""),d=btoa(m),u=t.toLowerCase().includes(".png")?"PNG":"JPEG";this.pdf.addImage(`data:image/${u.toLowerCase()};base64,${d}`,u,0,0,r,i);const h=a.template_data?.dynamic_fields||[];if(h.length>0){console.log("Rendering certificate with dynamic fields:",h.length);const a=new Image;a.src=t,await new Promise((e,s)=>{a.onload=e,a.onerror=s});const s=a.naturalWidth,o=a.naturalHeight;console.log("Template dimensions:",s,"x",o);const n={student_name:e.studentName,student_id:e.studentId,course_name:e.courseName,course_id:e.courseId,gurukul_name:e.gurukulName,completion_date:new Date(e.completionDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),certificate_number:e.certificateNumber,verification_code:e.verificationCode};for(const e of h){const a=n[e.name]||"";if(!a)continue;const t=e.x/s*r,l=e.y/o*i,c=e.width/s*r;console.log(`Rendering field ${e.name} at x:${t}, y:${l} (original: ${e.x}, ${e.y})`);const m=this.hexToRgb(e.fontColor||"#000000");this.pdf.setTextColor(m.r,m.g,m.b);let d="helvetica";const u=(e.fontFamily||"Arial").toLowerCase();d=u.includes("times")||u.includes("serif")?"times":u.includes("courier")||u.includes("mono")?"courier":"helvetica";const h=e.isBold&&e.isItalic?"bolditalic":e.isBold?"bold":e.isItalic?"italic":"normal";this.pdf.setFont(d,h);const b=(e.fontSize||12)*(r/s);this.pdf.setFontSize(b);let g=t;const N=this.pdf.getTextWidth(a);"center"===e.textAlign?g=t+(c-N)/2:"right"===e.textAlign&&(g=t+c-N),this.pdf.text(a,g,l)}}let b=700,g=500;if(h.length>0){const e=new Image;e.src=t;try{await new Promise((a,s)=>{e.onload=a,e.onerror=s,setTimeout(s,1e3)}),b=e.naturalWidth,g=e.naturalHeight}catch(s){console.warn("Could not load template dimensions, using defaults")}}if(a.template_data?.signature_positions?.secretary){const e=a.template_data.signature_positions.secretary,t=a.template_data.signatures?.vice_chancellor_name||"President",o=a.template_data.signatures?.vice_chancellor_signature_data,n=e.x/b*r,l=e.y/g*i,c=e.width/b*r,m=e.height/g*i;try{o&&this.pdf.addImage(o,"PNG",n,l,c,m)}catch(s){console.warn("Failed to add secretary signature:",s)}this.pdf.setFont("helvetica","bold");const d=r/b*10;this.pdf.setFontSize(d),this.pdf.setTextColor(0,0,0);const u=this.pdf.getTextWidth(t);this.pdf.text(t,n+(c-u)/2,l+m+4)}if(a.template_data?.signature_positions?.chancellor){const e=a.template_data.signature_positions.chancellor,t=a.template_data.signatures?.president_name||"Chancellor",o=a.template_data.signatures?.president_signature_data,n=e.x/b*r,l=e.y/g*i,c=e.width/b*r,m=e.height/g*i;try{o&&this.pdf.addImage(o,"PNG",n,l,c,m)}catch(s){console.warn("Failed to add chancellor signature:",s)}this.pdf.setFont("helvetica","bold");const d=r/b*10;this.pdf.setFontSize(d),this.pdf.setTextColor(0,0,0);const u=this.pdf.getTextWidth(t);this.pdf.text(t,n+(c-u)/2,l+m+4)}if(a.template_data?.text_message){const e=a.template_data.text_message,s=e.x/b*r,t=e.y/g*i,o=e.width/b*r,n=this.hexToRgb(e.fontColor||"#000000");this.pdf.setTextColor(n.r,n.g,n.b);let l="helvetica";const c=(e.fontFamily||"Arial").toLowerCase();l=c.includes("times")||c.includes("serif")||c.includes("georgia")?"times":c.includes("courier")||c.includes("mono")?"courier":"helvetica";const m=e.isBold&&e.isItalic?"bolditalic":e.isBold?"bold":e.isItalic?"italic":"normal";this.pdf.setFont(l,m);const d=(e.fontSize||12)*(r/b);this.pdf.setFontSize(d);this.pdf.splitTextToSize(e.text,o).forEach((a,r)=>{const i=this.pdf.getTextWidth(a);let n=s;const l=e.textAlign||"center";"center"===l?n=s+(o-i)/2:"right"===l&&(n=s+o-i),this.pdf.text(a,n,t+r*d*.4)})}if(0===h.length){console.log("No dynamic fields found, using default positions"),this.pdf.setFont("helvetica","bold"),this.pdf.setFontSize(26),this.pdf.setTextColor(37,99,235);const a=this.pdf.getTextWidth(e.studentName);this.pdf.text(e.studentName,(r-a)/2,120),this.pdf.setFontSize(16),this.pdf.setTextColor(255,107,53);const s=this.pdf.getTextWidth(e.courseName);this.pdf.text(e.courseName,(r-s)/2,145),this.pdf.setFontSize(12),this.pdf.setTextColor(31,41,55);const t=`Date: ${new Date(e.completionDate).toLocaleDateString()}`,o=this.pdf.getTextWidth(t);this.pdf.text(t,(r-o)/2,170),this.pdf.setFontSize(10),this.pdf.setTextColor(100,100,100),this.pdf.text(`Certificate #: ${e.certificateNumber}`,20,i-15),this.pdf.text(`Verification Code: ${e.verificationCode}`,r-120,i-15)}return this.pdf.output("blob")}catch(s){throw console.error("Error generating image-based certificate:",s),s}}hexToRgb(e){const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:{r:0,g:0,b:0}}async generatePreview(e,a){await this.generateCertificate(e,a);const s=this.pdf.output("dataurlstring");try{return await this.convertPdfToImage(s)}catch{return s}}async convertPdfToImage(e){const a=await ms(e).promise,s=await a.getPage(1),r=s.getViewport({scale:2}),i=document.createElement("canvas");i.width=r.width,i.height=r.height;const t=i.getContext("2d");if(!t)throw new Error("Failed to get canvas context");const o={canvasContext:t,viewport:r,canvas:i};await s.render(o).promise;return i.toDataURL("image/png")}setupCertificate(){const{width:e,height:a}=this.design.layout;this.pdf.setFillColor(252,248,227),this.pdf.rect(0,0,e,a,"F"),this.pdf.setLineWidth(4),this.pdf.setDrawColor(255,107,53),this.pdf.rect(8,8,e-16,a-16),this.pdf.setLineWidth(1),this.pdf.setDrawColor(37,99,235),this.pdf.rect(12,12,e-24,a-24),this.addCornerDecorations()}async addHeader(e){const{width:a}=this.design.layout;await this.addLogos(e),this.pdf.setFontSize(16),this.pdf.setTextColor(37,99,235),this.pdf.setFont("helvetica","bold");const s=e?.template_data?.custom_text?.header_text||"eYogi Gurukul - Excellence in Learning",r=this.pdf.getTextWidth(s);this.pdf.text(s,(a-r)/2,35),this.pdf.setFontSize(28),this.pdf.setTextColor(255,107,53),this.pdf.setFont("helvetica","bold");const i=e?.template_data?.custom_text?.title||"CERTIFICATE OF ACHIEVEMENT",t=this.pdf.getTextWidth(i);this.pdf.text(i,(a-t)/2,50),this.addTitleDecorations(a)}addCertificateContent(e,a){const{width:s}=this.design.layout;let r=75;this.pdf.setFontSize(16),this.pdf.setTextColor(31,41,55),this.pdf.setFont("helvetica","normal");const i=a?.template_data?.custom_text?.subtitle||"We hereby certify that",t=this.pdf.getTextWidth(i);this.pdf.text(i,(s-t)/2,r),r+=20,this.pdf.setFontSize(26),this.pdf.setFont("helvetica","bold"),this.pdf.setTextColor(37,99,235);const o=this.pdf.getTextWidth(e.studentName),n=(s-o)/2;this.pdf.text(e.studentName,n,r),this.pdf.setLineWidth(.8),this.pdf.setDrawColor(255,107,53),this.pdf.line(n-10,r+3,n+o+10,r+3),r+=25,this.pdf.setFontSize(16),this.pdf.setFont("helvetica","normal"),this.pdf.setTextColor(31,41,55);const l="has successfully completed the course",c=this.pdf.getTextWidth(l);this.pdf.text(l,(s-c)/2,r),r+=20,this.pdf.setFontSize(20),this.pdf.setFont("helvetica","bold"),this.pdf.setTextColor(255,107,53);const m=this.pdf.getTextWidth(e.courseName),d=(s-m)/2;this.pdf.setFillColor(255,107,53,.1),this.pdf.roundedRect(d-15,r-8,m+30,12,3,3,"F"),this.pdf.text(e.courseName,d,r),r+=20,this.pdf.setFontSize(14),this.pdf.setFont("helvetica","italic"),this.pdf.setTextColor(31,41,55);const u=`at ${e.gurukulName}`,h=this.pdf.getTextWidth(u);this.pdf.text(u,(s-h)/2,r),r+=20,this.pdf.setFontSize(12),this.pdf.setFont("helvetica","normal"),this.pdf.setTextColor(107,114,128);const b=`Completed on ${new Date(e.completionDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`,g=this.pdf.getTextWidth(b);this.pdf.text(b,(s-g)/2,r)}async addSignatures(e){const{width:a,height:s}=this.design.layout,r=s-55,i=.72*a;this.addOfficialSeal(i+10,r-25,e),this.pdf.setFontSize(11),this.pdf.setFont("helvetica","normal"),this.pdf.setTextColor(31,41,55);const t=.28*a;try{e?.template_data?.signatures?.vice_chancellor_signature_data?this.pdf.addImage(e.template_data.signatures.vice_chancellor_signature_data,"JPEG",t-25,r-15,50,15):(this.pdf.setLineWidth(.5),this.pdf.setDrawColor(107,114,128),this.pdf.line(t-35,r,t+35,r))}catch{}this.pdf.setFont("helvetica","bold"),this.pdf.text("Dr. Vice Chancellor",t-25,r+8),this.pdf.setFont("helvetica","normal"),this.pdf.setFontSize(9),this.pdf.text("Academic Authority",t-20,r+14);const o=.72*a;try{e?.template_data?.signatures?.president_signature_data?this.pdf.addImage(e.template_data.signatures.president_signature_data,"JPEG",o-25,r-15,50,15):(this.pdf.setLineWidth(.5),this.pdf.setDrawColor(107,114,128),this.pdf.line(o-35,r,o+35,r))}catch{}this.pdf.setFontSize(11),this.pdf.setFont("helvetica","bold"),this.pdf.text("President",o-15,r+8),this.pdf.setFont("helvetica","normal"),this.pdf.setFontSize(9),this.pdf.text("eYogi Gurukul",o-18,r+14)}addFooter(e){const{width:a,height:s}=this.design.layout;this.pdf.setFontSize(8),this.pdf.setFont("helvetica","normal"),this.pdf.setTextColor(107,114,128),this.pdf.text(`Certificate No: ${e.certificateNumber}`,60,s-28),this.pdf.text(`Student ID: ${e.studentId}`,60,s-23),this.pdf.text(`Course ID: ${e.courseId}`,60,s-18),this.pdf.text(`Verification Code: ${e.verificationCode}`,a-90,s-28),this.pdf.text(`Issue Date: ${(new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`,a-90,s-23),this.pdf.text("Verify at: verify.eyogigurukul.com",a-90,s-18),this.pdf.setLineWidth(.3),this.pdf.setDrawColor(199,210,254),this.pdf.line(20,s-35,a-20,s-35)}addCornerDecorations(){const{width:e,height:a}=this.design.layout;this.pdf.setFillColor(255,107,53,.3),this.pdf.circle(20,20,8,"F"),this.pdf.setFillColor(37,99,235,.3),this.pdf.circle(20,20,5,"F"),this.pdf.setFillColor(255,107,53,.3),this.pdf.circle(e-20,20,8,"F"),this.pdf.setFillColor(37,99,235,.3),this.pdf.circle(e-20,20,5,"F"),this.pdf.setFillColor(255,107,53,.3),this.pdf.circle(20,a-20,8,"F"),this.pdf.setFillColor(37,99,235,.3),this.pdf.circle(20,a-20,5,"F"),this.pdf.setFillColor(255,107,53,.3),this.pdf.circle(e-20,a-20,8,"F"),this.pdf.setFillColor(37,99,235,.3),this.pdf.circle(e-20,a-20,5,"F")}addTitleDecorations(e){this.pdf.setLineWidth(2),this.pdf.setDrawColor(255,107,53),this.pdf.line(e/2-40,56,e/2-10,56),this.pdf.line(e/2+10,56,e/2+40,56),this.pdf.setFillColor(255,107,53),this.pdf.circle(e/2-5,56,2,"F"),this.pdf.circle(e/2,56,3,"F"),this.pdf.circle(e/2+5,56,2,"F")}addDecorativeElements(){const{width:e,height:a}=this.design.layout;this.pdf.setLineWidth(1),this.pdf.setDrawColor(255,107,53,.5);for(let s=60;s<a-80;s+=10)this.pdf.line(25,s,30,s);for(let s=60;s<a-80;s+=10)this.pdf.line(e-30,s,e-25,s)}async addLogos(e){const{width:a}=this.design.layout;try{e?.template_data?.logos?.eyogi_logo_data?this.pdf.addImage(e.template_data.logos.eyogi_logo_data,"JPEG",30,18,25,25):(this.pdf.setFillColor(255,107,53,.1),this.pdf.roundedRect(30,18,25,25,3,3,"F"),this.pdf.setFontSize(8),this.pdf.setTextColor(255,107,53),this.pdf.text("eYogi",37,33)),e?.template_data?.logos?.ssh_logo_data?this.pdf.addImage(e.template_data.logos.ssh_logo_data,"JPEG",a-55,18,25,25):(this.pdf.setFillColor(37,99,235,.1),this.pdf.roundedRect(a-55,18,25,25,3,3,"F"),this.pdf.setFontSize(8),this.pdf.setTextColor(37,99,235),this.pdf.text("SSH",a-47,33))}catch{}}addOfficialSeal(e,a,s){try{s?.template_data?.seal?.official_seal_data?this.pdf.addImage(s.template_data.seal.official_seal_data,"JPEG",e-15,a-15,30,30):(this.pdf.setFillColor(255,107,53,.1),this.pdf.circle(e,a,15,"F"),this.pdf.setLineWidth(1),this.pdf.setDrawColor(255,107,53),this.pdf.circle(e,a,15),this.pdf.circle(e,a,12),this.pdf.setFontSize(6),this.pdf.setTextColor(255,107,53),this.pdf.text("OFFICIAL",e-8,a-2),this.pdf.text("SEAL",e-5,a+3))}catch{}}}async function cr(e,a){const s=new lr;return await s.generateCertificate(e,a)}async function mr(e,a){const s=new lr;return await s.generatePreview(e,a)}async function dr(e,a,s){try{console.log("Generating PDF for certificate:",e);const r=await cr(a,s),i=`${e}.pdf`,t=`certificates/${i}`,o=new File([r],i,{type:"application/pdf"});console.log("Uploading certificate PDF:",{filePath:t,fileSize:r.size});const{data:n,error:l}=await O.storage.from("certificates").upload(t,o,{cacheControl:"3600",upsert:!0});if(l)throw new Error(`PDF upload failed: ${l.message}`);console.log("PDF uploaded successfully:",{path:n.path});const{data:c}=O.storage.from("certificates").getPublicUrl(n.path);return console.log("Certificate PDF URL generated:",{url:c.publicUrl}),c.publicUrl}catch(r){throw console.error("Error generating/uploading certificate PDF:",r),r}}async function ur(e,a){try{if(e.file_url){console.log("Attempting to download certificate from URL:",e.file_url);try{const a=await fetch(e.file_url);if(a.ok)return console.log("Successfully downloaded certificate PDF"),await a.blob();console.warn("Certificate URL returned status:",a.status)}catch(s){console.warn("Failed to download certificate from URL, will generate on-demand:",s)}}console.log("Generating certificate PDF on-demand");const r={studentName:e.certificate_data?.student_name||e.student?.full_name||"Student",studentId:e.student_id,courseName:e.certificate_data?.course_title||e.course?.title||"Course",courseId:e.course_id,gurukulName:"eYogi Gurukul",completionDate:e.certificate_data?.completion_date||e.completion_date||(new Date).toISOString(),certificateNumber:e.certificate_number,verificationCode:e.verification_code},i=await cr(r,a);return console.log("Successfully generated certificate PDF on-demand"),i}catch(r){throw console.error("Error downloading/generating certificate PDF:",r),new Error("Failed to download certificate. Please try again.")}}async function hr(e){try{const a=`CERT-${Date.now()}-${e.course_id.slice(-4)}`,s=Math.random().toString(36).substr(2,9).toUpperCase(),r=(new Date).toISOString();console.log("Creating certificate record:",{studentId:e.student_id,courseId:e.course_id,templateId:e.template_id,certificateNumber:a,verificationCode:s});const{data:i,error:t}=await O.from("certificates").insert({id:crypto.randomUUID(),certificate_number:a,student_id:e.student_id,course_id:e.course_id,template_id:e.template_id,teacher_id:e.teacher_id,title:e.title,completion_date:e.completion_date,issue_date:r,certificate_data:e.certificate_data,file_url:e.file_url||`/ssh-app/certificates/${a}.pdf`,verification_code:s,is_verified:!0,is_active:!0,created_at:r,updated_at:r}).select("\n        *,\n        courses(*),\n        student:profiles!certificates_student_id_fkey(*),\n        teacher:profiles!certificates_teacher_id_fkey(*)\n      ").single();if(t)throw console.error("Error creating certificate:",{error:t,certificateData:e}),new Error(`Failed to create certificate: ${t.message}`);return console.log("Certificate created successfully:",{certificateId:i.id,studentId:i.student_id,courseId:i.course_id}),{...i,issued_at:i.issue_date,issued_by:i.teacher_id||"system",course:i.courses,student:i.student,teacher:i.teacher}}catch(a){throw console.error("Error creating certificate:",a),a}}async function br(e){try{let a=O.from("certificates").select("\n        *,\n        courses(*),\n        student:profiles!certificates_student_id_fkey(*),\n        teacher:profiles!certificates_teacher_id_fkey(*)\n      ");e?.student_id&&(a=a.eq("student_id",e.student_id)),e?.course_id&&(a=a.eq("course_id",e.course_id)),e?.teacher_id&&(a=a.eq("teacher_id",e.teacher_id)),void 0!==e?.is_active&&(a=a.eq("is_active",e.is_active));const{data:s,error:r}=await a.order("created_at",{ascending:!1});if(r)throw new Error(`Failed to fetch certificates: ${r.message}`);return(s||[]).map(e=>({...e,issued_at:e.issue_date,issued_by:e.teacher_id||"system",course:e.courses,student:e.student?Q(e.student):e.student,teacher:e.teacher?Q(e.teacher):e.teacher}))}catch(a){return console.error("Error fetching certificates from table:",a),[]}}async function gr(e){try{console.log("Fetching certificates for student ID:",e);const a=await br({student_id:e,is_active:!0});return console.log(`Found ${a.length} certificates in certificates table for student ${e}`,a.map(e=>({id:e.id,studentId:e.student_id,courseId:e.course_id,title:e.title,isActive:e.is_active}))),a}catch(a){return console.error("Error in getStudentCertificates:",a),[]}}async function Nr(e){const{data:a,error:s}=await O.from("enrollments").select("\n        *,\n        courses (*),\n        profiles!enrollments_student_id_fkey (*)\n      ").eq("id",e).single();if(s||!a)throw new Error("Enrollment not found");if("completed"!==a.status)throw new Error("Can only issue certificates for completed courses");if((await br({student_id:a.student_id,course_id:a.course_id,is_active:!0})).length>0)throw new Error("Certificate already issued for this enrollment");let r=null;try{const{data:e}=await O.from("certificate_templates").select("id").eq("type","student").eq("is_active",!0).order("created_at",{ascending:!0}).limit(1);e&&e.length>0&&(r=e[0].id)}catch{console.warn("Could not fetch certificate template from database")}if(!r)throw new Error("No active student certificate template found in database");const i=await hr({student_id:a.student_id,course_id:a.course_id,template_id:r,teacher_id:null,title:`Certificate of Completion - ${a.courses?.title||"Course"}`,completion_date:a.completed_at||(new Date).toISOString(),certificate_data:{student_name:a.profiles?.full_name||"Student",course_title:a.courses?.title||"Course",completion_date:a.completed_at||(new Date).toISOString(),enrollment_id:e}});try{const{data:e}=await O.from("certificate_templates").select("*").eq("id",r).single(),s={studentName:a.profiles?.full_name||"Student",studentId:a.student_id,courseName:a.courses?.title||"Course",courseId:a.course_id,gurukulName:"eYogi Gurukul",completionDate:a.completed_at||(new Date).toISOString(),certificateNumber:i.certificate_number,verificationCode:i.verification_code},t=await dr(i.certificate_number,s,e),{data:o,error:n}=await O.from("certificates").update({file_url:t}).eq("id",i.id).select("\n        *,\n        courses(*),\n        student:profiles!certificates_student_id_fkey(*),\n        teacher:profiles!certificates_teacher_id_fkey(*)\n      ").single();return n?(console.error("Error updating certificate with PDF URL:",n),i):{...o,issued_at:o.issue_date,issued_by:o.teacher_id||"system",course:o.courses,student:o.student,teacher:o.teacher}}catch(t){return console.error("Error generating/uploading PDF:",t),i}}async function xr(e,a){console.log("issueCertificateWithTemplate called with:",{enrollmentId:e,templateId:a});const{data:s,error:r}=await O.from("enrollments").select("\n      *,\n      courses (*),\n      profiles!enrollments_student_id_fkey (*)\n    ").eq("id",e).single();if(r||!s)throw console.error("Enrollment not found:",{enrollmentId:e,enrollmentError:r}),new Error("Enrollment not found");if(console.log("Enrollment found:",{enrollmentId:e,studentId:s.student_id,courseId:s.course_id,status:s.status,studentName:s.profiles?.full_name}),"completed"!==s.status)throw console.error("Enrollment status is not completed:",{status:s.status}),new Error("Can only issue certificates for completed courses");if((await br({student_id:s.student_id,course_id:s.course_id,is_active:!0})).length>0)throw console.error("Certificate already exists for this enrollment"),new Error("Certificate already issued for this enrollment");const{data:i,error:t}=await O.from("certificate_templates").select("*").eq("id",a).single();if(t||!i)throw console.error("Certificate template not found:",{templateId:a,templateError:t}),new Error("Certificate template not found");console.log("Creating certificate with:",{studentId:s.student_id,courseId:s.course_id,templateId:a});const o=await hr({student_id:s.student_id,course_id:s.course_id,template_id:a,teacher_id:null,title:`Certificate of Completion - ${s.courses?.title||"Course"}`,completion_date:s.completed_at||(new Date).toISOString(),certificate_data:{student_name:s.profiles?.full_name||"Student",course_title:s.courses?.title||"Course",completion_date:s.completed_at||(new Date).toISOString(),enrollment_id:e}});try{const e={studentName:s.profiles?.full_name||"Student",studentId:s.student_id,courseName:s.courses?.title||"Course",courseId:s.course_id,gurukulName:"eYogi Gurukul",completionDate:s.completed_at||(new Date).toISOString(),certificateNumber:o.certificate_number,verificationCode:o.verification_code},a=await dr(o.certificate_number,e,i),{data:r,error:t}=await O.from("certificates").update({file_url:a}).eq("id",o.id).select("\n        *,\n        courses(*),\n        student:profiles!certificates_student_id_fkey(*),\n        teacher:profiles!certificates_teacher_id_fkey(*)\n      ").single();return t?(console.error("Error updating certificate with PDF URL:",t),o):{...r,issued_at:r.issue_date,issued_by:r.teacher_id||"system",course:r.courses,student:r.student,teacher:r.teacher}}catch(n){return console.error("Error generating/uploading PDF:",n),o}}async function pr(e,a){try{const{getBatchStudents:s}=await le(async()=>{const{getBatchStudents:e}=await import("./admin-assignments-Cx7DOfUV.js").then(e=>e.M);return{getBatchStudents:e}},__vite__mapDeps([0,1,2,3,4,5,6])),r=await s(e);if(!r||0===r.length)throw new Error("No active students found in this batch");const{data:i,error:t}=await O.from("batches").select("*").eq("id",e).single();if(t||!i)throw new Error("Failed to fetch batch details");const o=r.map(async e=>{try{const{data:s,error:r}=await O.from("enrollments").select("*").eq("student_id",e.student_id).eq("course_id",i.course_id).eq("status","completed").single();if(r||!s)throw new Error(`No completed enrollment found for student ${e.student_id}. Student must be manually enrolled by teacher first.`);return a?await xr(s.id,a):await Nr(s.id),{success:!0,studentId:e.student_id}}catch(s){console.error(`Error issuing certificate for student ${e.student_id}:`,s);const a=s instanceof Error?s.message:"Unknown error occurred";return{success:!1,studentId:e.student_id,error:a}}}),n=await Promise.all(o);return n.filter(e=>e.success).length>0&&await O.from("batches").update({certificates_issued:!0,updated_at:(new Date).toISOString()}).eq("id",e),n}catch(s){console.error("Error in issueBatchCertificates:",s);const e=s instanceof Error?s.message:"Unknown error occurred";throw new Error(`Failed to issue batch certificates: ${e}`)}}async function Dr(e){console.log("regenerateCertificate called with:",{certificateId:e});const{data:a,error:s}=await O.from("certificates").select("\n      *,\n      courses(*),\n      student:profiles!certificates_student_id_fkey(*),\n      teacher:profiles!certificates_teacher_id_fkey(*)\n    ").eq("id",e).single();if(s||!a)throw console.error("Certificate not found:",{certificateId:e,certError:s}),new Error("Certificate not found");console.log("Certificate found:",{certificateId:e,studentId:a.student_id,courseId:a.course_id,templateId:a.template_id});const{data:r,error:i}=await O.from("certificate_templates").select("*").eq("id",a.template_id).single();if(i||!r)throw console.error("Certificate template not found:",{templateId:a.template_id,templateError:i}),new Error("Certificate template not found");console.log("Regenerating certificate with template:",{templateId:r.id,templateName:r.name});try{const e={studentName:a.student?.full_name||"Student",studentId:a.student_id,courseName:a.course?.title||"Course",courseId:a.course_id,gurukulName:a.course?.gurukul?.name||"eYogi Gurukul",completionDate:a.completion_date||(new Date).toISOString(),certificateNumber:a.certificate_number,verificationCode:a.verification_code||""},s=await dr(a.certificate_number,e,r),{data:i,error:t}=await O.from("certificates").update({file_url:s,updated_at:(new Date).toISOString()}).eq("id",a.id).select("\n        *,\n        courses(*),\n        student:profiles!certificates_student_id_fkey(*),\n        teacher:profiles!certificates_teacher_id_fkey(*)\n      ").single();if(t)throw console.error("Error updating certificate with new PDF URL:",t),new Error("Failed to update certificate");return console.log("Certificate regenerated successfully:",{certificateId:i.id,newPdfUrl:s}),{...i,issued_at:i.issue_date,issued_by:i.teacher_id||"system",course:i.courses,student:i.student,teacher:i.teacher}}catch(t){throw console.error("Error regenerating certificate PDF:",t),new Error("Failed to regenerate certificate PDF")}}const fr=Object.freeze(Object.defineProperty({__proto__:null,createCertificate:hr,downloadCertificatePDF:ur,generateAndUploadCertificatePDF:dr,getCertificatesFromTable:br,getStudentCertificates:gr,issueBatchCertificates:pr,issueCertificate:Nr,issueCertificateWithTemplate:xr,regenerateCertificate:Dr},Symbol.toStringTag,{value:"Module"}));function Sr({isOpen:i,onClose:t,complianceItemId:o,userId:n,title:l}){const[c,m]=a.useState(!0),[d,u]=a.useState(!1),[h,b]=a.useState(null),[g,N]=a.useState({}),[x,p]=a.useState({}),[D,f]=a.useState([]),S=a.useCallback(async()=>{try{m(!0);const e=await fs("form-id");b(e),y(e?.fields||[])}catch(e){console.error("Error loading form:",e),s.error("Failed to load form")}finally{m(!1)}},[]);a.useEffect(()=>{i&&o&&S()},[i,o,S]);const y=e=>{const a={};e.forEach(e=>{"checkbox"===e.type||"file"===e.type?a[e.name]=[]:a[e.name]=""}),N(a)},v=e=>e<1048576?`${(e/1024).toFixed(1)}KB`:`${(e/1048576).toFixed(1)}MB`,j=(e,a)=>{N(s=>({...s,[e]:a})),x[e]&&p(a=>{const s={...a};return delete s[e],s})},T=a=>{const s="w-full rounded-lg border-gray-300 shadow-sm transition-colors "+(x[a.name]?"border-red-300 focus:border-red-500 focus:ring-red-500":"focus:border-blue-500 focus:ring-blue-500");switch(a.type){case"text":case"email":case"phone":return e.jsxDEV(ce,{type:a.type,value:g[a.name]||"",onChange:e=>j(a.name,e.target.value),placeholder:a.placeholder,className:s,required:a.required},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:269,columnNumber:11},this);case"number":return e.jsxDEV(ce,{type:"number",value:g[a.name]||"",onChange:e=>j(a.name,parseFloat(e.target.value)||0),placeholder:a.placeholder,className:s,required:a.required,min:a.validation?.min_value,max:a.validation?.max_value},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:281,columnNumber:11},this);case"date":return e.jsxDEV(ce,{type:"date",value:g[a.name]||"",onChange:e=>j(a.name,e.target.value),className:s,required:a.required},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:295,columnNumber:11},this);case"textarea":return e.jsxDEV("textarea",{value:g[a.name]||"",onChange:e=>j(a.name,e.target.value),placeholder:a.placeholder,className:`${s} min-h-[100px] resize-y`,required:a.required,maxLength:a.validation?.max_length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:306,columnNumber:11},this);case"select":return e.jsxDEV("select",{value:g[a.name]||"",onChange:e=>j(a.name,e.target.value),className:s,required:a.required,children:[e.jsxDEV("option",{value:"",children:"Select an option"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:324,columnNumber:13},this),a.options?.map(a=>e.jsxDEV("option",{value:a,children:a},a,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:326,columnNumber:15},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:318,columnNumber:11},this);case"radio":return e.jsxDEV("div",{className:"space-y-2",children:a.options?.map(s=>e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"radio",name:a.name,value:s,checked:g[a.name]===s,onChange:e=>j(a.name,e.target.value),className:"text-blue-600 focus:ring-blue-500",required:a.required},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:338,columnNumber:17},this),e.jsxDEV("span",{className:"ml-2 text-sm",children:s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:347,columnNumber:17},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:337,columnNumber:15},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:335,columnNumber:11},this);case"checkbox":return e.jsxDEV("div",{className:"space-y-2",children:a.options?.map(s=>e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",checked:(g[a.name]||[]).includes(s),onChange:e=>{const r=g[a.name]||[],i=e.target.checked?[...r,s]:r.filter(e=>e!==s);j(a.name,i)},className:"text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:358,columnNumber:17},this),e.jsxDEV("span",{className:"ml-2 text-sm",children:s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:370,columnNumber:17},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:357,columnNumber:15},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:355,columnNumber:11},this);case"file":{const r=a.validation?.max_file_size||2097152;return e.jsxDEV("div",{children:[e.jsxDEV("input",{type:"file",onChange:e=>((e,a)=>{if(a){const s=Array.from(a);j(e,s)}})(a.name,e.target.files),className:s,required:a.required,multiple:!1,accept:a.validation?.allowed_file_types?.join(",")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:380,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum file size: ",v(r),a.validation?.allowed_file_types&&e.jsxDEV("span",{className:"block",children:["Allowed types: ",a.validation.allowed_file_types.join(", ")]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:391,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:388,columnNumber:13},this),(g[a.name]||[]).length>0&&e.jsxDEV("div",{className:"mt-2",children:g[a.name].map((a,s)=>e.jsxDEV("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:400,columnNumber:21},this),a.name," (",v(a.size),")"]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:399,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:397,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:379,columnNumber:11},this)}default:return null}};return i?e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxDEV(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:l},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:429,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:"Please fill out all required fields"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:430,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:428,columnNumber:13},this),e.jsxDEV("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Me,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:436,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:432,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:427,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:426,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:c?e.jsxDEV("div",{className:"flex items-center justify-center h-32",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:445,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:444,columnNumber:13},this):e.jsxDEV("form",{onSubmit:async e=>{e.preventDefault();if((()=>{const e={},a=[];return h?(h.fields.forEach(s=>{const r=g[s.name];if(s.required&&(!r||"string"==typeof r&&""===r.trim()||Array.isArray(r)&&0===r.length))e[s.name]=`${s.label} is required`;else{if(r&&"string"==typeof r){if(s.validation?.min_length&&r.length<s.validation.min_length)return void(e[s.name]=`${s.label} must be at least ${s.validation.min_length} characters`);if(s.validation?.max_length&&r.length>s.validation.max_length)return void(e[s.name]=`${s.label} must not exceed ${s.validation.max_length} characters`);if(s.validation?.pattern&&!new RegExp(s.validation.pattern).test(r))return void(e[s.name]=`${s.label} format is invalid`);if("email"===s.type&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return void(e[s.name]="Please enter a valid email address");if("phone"===s.type&&!/^\+?[\d\s\-()]+$/.test(r))return void(e[s.name]="Please enter a valid phone number")}if("number"===s.type&&"number"==typeof r){if(s.validation?.min_value&&r<s.validation.min_value)return void(e[s.name]=`${s.label} must be at least ${s.validation.min_value}`);if(s.validation?.max_value&&r>s.validation.max_value)return void(e[s.name]=`${s.label} must not exceed ${s.validation.max_value}`)}"file"===s.type&&Array.isArray(r)&&r.forEach(e=>{const r=s.validation?.max_file_size||2097152;e.size>r&&a.push(`${e.name} exceeds ${v(r)} size limit`),s.validation?.allowed_file_types&&(s.validation.allowed_file_types.some(a=>e.type.includes(a)||e.name.toLowerCase().includes(a))||a.push(`${e.name} is not an allowed file type`))})}}),p(e),f(a),{isValid:0===Object.keys(e).length&&0===a.length,errors:e,fileSizeErrors:a}):{isValid:!1,errors:e}})().isValid){u(!0);try{const e=[],a={};Object.entries(g).forEach(([s,r])=>{Array.isArray(r)&&r.length>0&&r[0]instanceof File?e.push(...r):a[s]=r}),await Ss(o,n,a,e.length>0?e:void 0),s.success("Form submitted successfully! It will be reviewed by an administrator."),t()}catch(a){console.error("Error submitting form:",a),s.error("Failed to submit form. Please try again.")}finally{u(!1)}}else s.error("Please fix the errors before submitting")},className:"space-y-6",children:[h?.description&&e.jsxDEV("div",{className:"p-4 bg-blue-50 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-blue-800",children:h.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:451,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:450,columnNumber:17},this),D.length>0&&e.jsxDEV("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Ge,{className:"h-5 w-5 text-red-400 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:459,columnNumber:21},this),e.jsxDEV("h3",{className:"text-sm font-medium text-red-800",children:"File Upload Errors"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:460,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:458,columnNumber:19},this),e.jsxDEV("ul",{className:"mt-2 text-sm text-red-700",children:D.map((a,s)=>e.jsxDEV("li",{children:["â€¢ ",a]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:464,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:462,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:457,columnNumber:17},this),h?.fields.sort((e,a)=>e.order-a.order).map(a=>e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:[a.label,a.required&&e.jsxDEV("span",{className:"text-red-500 ml-1",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:476,columnNumber:42},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:474,columnNumber:21},this),T(a),a.help_text&&e.jsxDEV("p",{className:"text-xs text-gray-500",children:a.help_text},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:481,columnNumber:41},this),x[a.name]&&e.jsxDEV("p",{className:"text-sm text-red-600",children:x[a.name]},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:484,columnNumber:23},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:473,columnNumber:19},this)),e.jsxDEV("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsxDEV(re,{type:"button",variant:"outline",onClick:t,disabled:d,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:491,columnNumber:17},this),e.jsxDEV(re,{type:"submit",disabled:d,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:d?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:501,columnNumber:23},this),"Submitting..."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:500,columnNumber:21},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ue,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:506,columnNumber:23},this),"Submit Form"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:505,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:494,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:490,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:448,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:442,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:419,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceFormModal.tsx",lineNumber:418,columnNumber:5},this):null}function yr({userId:i,userRole:t,className:o=""}){const[n,l]=a.useState(!0),[c,m]=a.useState([]),[d,u]=a.useState(null),[h,b]=a.useState(null),[g,N]=a.useState(!1),x=a.useCallback(async()=>{l(!0);try{const[e,a]=await Promise.all([ys(i,t),vs(i,t)]);m(e),u(a)}catch(e){console.error("Error loading compliance data:",e),s.error("Failed to load compliance information")}finally{l(!1)}},[i,t]);a.useEffect(()=>{x()},[x]);const p=(a,s)=>{switch(a){case"approved":return e.jsxDEV(Je,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:126,columnNumber:16},this);case"rejected":return e.jsxDEV(Ke,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:128,columnNumber:16},this);case"submitted":return e.jsxDEV(Ye,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:130,columnNumber:16},this);default:return s?e.jsxDEV(Ge,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:134,columnNumber:11},this):e.jsxDEV(Ye,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:136,columnNumber:11},this)}},D=a=>{const{status:s,is_mandatory:r}=a;switch(s){case"approved":return e.jsxDEV(oe,{size:"sm",className:"bg-green-100 text-green-800 rounded-sm",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:147,columnNumber:11},this);case"rejected":return e.jsxDEV(oe,{size:"sm",className:"bg-red-100 text-red-800 rounded-sm",children:"Rejected"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:153,columnNumber:11},this);case"submitted":return e.jsxDEV(oe,{size:"sm",className:"bg-blue-100 text-blue-800 rounded-sm",children:"Under Review"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:159,columnNumber:11},this);default:return e.jsxDEV(oe,{size:"sm",className:"rounded-sm "+(r?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"),children:r?"Required":"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:166,columnNumber:11},this)}};return n?e.jsxDEV(ae,{className:o,children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-center h-32",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:200,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:199,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:198,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:197,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{className:o,children:[e.jsxDEV(se,{className:"pb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Compliance Checklist"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:213,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Complete all required compliance items"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:214,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:212,columnNumber:13},this),d&&e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-2xl font-bold "+(f=d.completion_percentage,f>=80?"text-green-600":f>=60?"text-yellow-600":"text-red-600"),children:[d.completion_percentage,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:218,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:[d.completed_items,"/",d.total_items," Complete"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:223,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:211,columnNumber:11},this),d&&e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-4",children:e.jsxDEV("div",{className:"h-2 rounded-full transition-all duration-300 "+(d.completion_percentage>=80?"bg-green-500":d.completion_percentage>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${d.completion_percentage}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:233,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:210,columnNumber:9},this),e.jsxDEV(ie,{className:"space-y-3",children:[0===c.length?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(Oe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:250,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-500",children:"No compliance items assigned"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:251,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:249,columnNumber:13},this):c.map((a,t)=>{const o=(e=>!(!e.due_date||"approved"===e.status)&&new Date(e.due_date)<new Date)(a),n=a.due_date?(e=>{const a=new Date,s=new Date(e).getTime()-a.getTime();return Math.ceil(s/864e5)})(a.due_date):null;return e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:e.jsxDEV("div",{className:`p-4 rounded-lg border transition-all duration-200 ${"rejected"===a.status?"bg-red-50 border-red-300 hover:border-red-400 cursor-pointer":"approved"===a.status?"bg-green-50 border-green-200":"submitted"===a.status?"bg-blue-100 border-blue-300":a.has_form&&a.can_submit?"cursor-pointer hover:bg-gray-50 border-gray-200 hover:border-blue-300":"border-gray-200"} ${o&&"approved"!==a.status?"border-red-400 bg-red-100":""}`,onClick:e=>((e,a)=>{a&&a.target.closest('input[type="checkbox"]')||(e.has_form&&e.can_submit?(b(e),N(!0)):"rejected"===e.status?(s.error(e.rejection_reason||"This submission was rejected. Please resubmit."),e.has_form&&(b(e),N(!0))):"submitted"===e.status?s("Your submission is under review",{icon:"â„¹ï¸"}):"approved"===e.status?s.success("This item has been completed"):e.has_form||s("This is an offline compliance item. Please complete it manually.",{icon:"â„¹ï¸"}))})(a,e),children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex items-start mt-1 mr-3",children:e.jsxDEV("input",{type:"checkbox",checked:"submitted"===a.status||"approved"===a.status,onChange:()=>(async e=>{if("submitted"!==e.status&&"approved"!==e.status)try{await js(e.id,i),s.success("Thank you for completing this compliance item. Admin will check and provide confirmation.",{duration:5e3}),await x()}catch(a){console.error("Error marking compliance as complete:",a);let e="Failed to mark item as complete. ";e+=a&&"object"==typeof a?"message"in a?a.message:"details"in a?String(a.details):"Please try again.":"Please try again.",s.error(e,{duration:6e3})}else s("This item has already been submitted for review",{icon:"â„¹ï¸"})})(a),disabled:"submitted"===a.status||"approved"===a.status,className:`h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer\n                            ${"submitted"===a.status?"bg-blue-100":""}\n                            ${"approved"===a.status?"bg-green-100":""}\n                            ${"submitted"===a.status||"approved"===a.status?"cursor-not-allowed":""}\n                          `,onClick:e=>e.stopPropagation()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:282,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:281,columnNumber:23},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-2",children:[p(a.status,a.is_mandatory),e.jsxDEV("h4",{className:"font-medium text-gray-900",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:299,columnNumber:27},this),D(a),a.has_form&&e.jsxDEV(oe,{size:"sm",className:"bg-purple-100 text-purple-800 rounded-sm",children:[e.jsxDEV(ze,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:304,columnNumber:31},this),"Form Required"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:303,columnNumber:29},this),o&&e.jsxDEV(oe,{size:"sm",className:"bg-red-100 text-red-800 rounded-sm",children:[e.jsxDEV($e,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:311,columnNumber:31},this),"Overdue"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:310,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:297,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-2",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:317,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[a.due_date&&e.jsxDEV("span",{className:o?"text-red-600 font-medium":"",children:["Due: ",new Date(a.due_date).toLocaleDateString(),null!==n&&!o&&n<=7&&e.jsxDEV("span",{className:"text-yellow-600 ml-1",children:["(",n," day",1!==n?"s":""," left)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:325,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:322,columnNumber:29},this),"rejected"===a.status&&a.rejection_reason&&e.jsxDEV("span",{className:"text-red-600",children:["Reason: ",a.rejection_reason]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:333,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:320,columnNumber:25},this),a.can_submit&&a.has_form&&e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV(re,{size:"sm",variant:"outline",children:"rejected"===a.status?"Resubmit Form":"Fill Form"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:340,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:339,columnNumber:27},this),"submitted"===a.status&&e.jsxDEV("div",{className:"mt-2 text-xs text-blue-600",children:"âœ“ Submitted - Awaiting review"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:347,columnNumber:27},this),"approved"===a.status&&e.jsxDEV("div",{className:"mt-2 text-xs text-green-600",children:"âœ“ Completed successfully"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:353,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:296,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:279,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:265,columnNumber:19},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:259,columnNumber:17},this)}),d&&d.total_items>0&&e.jsxDEV("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-lg font-semibold text-green-600",children:d.completed_items},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:370,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:373,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:369,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-lg font-semibold text-blue-600",children:d.pending_items},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:376,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:377,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:375,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-lg font-semibold text-red-600",children:d.overdue_items},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:380,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Overdue"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:381,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:379,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-lg font-semibold text-gray-900",children:d.total_items},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:384,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Total"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:385,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:383,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:368,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:367,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:247,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:209,columnNumber:7},this),g&&h&&e.jsxDEV(Sr,{isOpen:g,onClose:()=>{N(!1),b(null),x()},complianceItemId:h.id,userId:i,title:h.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:395,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceChecklist.tsx",lineNumber:208,columnNumber:5},this);var f}function vr({userId:t,className:o=""}){const[n,l]=a.useState([]),[c,m]=a.useState(!0),[d,u]=a.useState(!1),h=a.useCallback(async()=>{try{const e=await Ts(t);l(e)}catch(e){console.error("Error loading notifications:",e),s.error("Failed to load notifications")}finally{m(!1)}},[t]);a.useEffect(()=>{h()},[h]);const b=a=>{switch(a){case"submission_approved":return e.jsxDEV(Je,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:82,columnNumber:16},this);case"submission_rejected":return e.jsxDEV(Ke,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:84,columnNumber:16},this);case"form_submitted":return e.jsxDEV(Oe,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:86,columnNumber:16},this);case"deadline_reminder":return e.jsxDEV(Ge,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:88,columnNumber:16},this);case"new_compliance_item":return e.jsxDEV(Qe,{className:"h-5 w-5 text-purple-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:90,columnNumber:16},this);default:return e.jsxDEV(Oe,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:92,columnNumber:16},this)}},g=e=>{switch(e){case"submission_approved":return"border-green-200 bg-green-50";case"submission_rejected":return"border-red-200 bg-red-50";case"form_submitted":return"border-blue-200 bg-blue-50";case"deadline_reminder":return"border-yellow-200 bg-yellow-50";case"new_compliance_item":return"border-purple-200 bg-purple-50";default:return"border-gray-200 bg-gray-50"}},N=e=>{const a=new Date(e),s=new Date,r=Math.floor((s.getTime()-a.getTime())/6e4);return r<1?"Just now":r<60?`${r}m ago`:r<1440?`${Math.floor(r/60)}h ago`:r<10080?`${Math.floor(r/1440)}d ago`:a.toLocaleDateString()},x=n.filter(e=>!e.read_at).length,p=d?n:n.slice(0,5);return c?e.jsxDEV(ae,{className:o,children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-center h-32",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:133,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:132,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:131,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:130,columnNumber:7},this):e.jsxDEV(ae,{className:o,children:[e.jsxDEV(se,{className:"pb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV(Qe,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:145,columnNumber:13},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:146,columnNumber:13},this),x>0&&e.jsxDEV(oe,{className:"bg-red-100 text-red-800",children:[x," new"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:144,columnNumber:11},this),n.length>5&&e.jsxDEV(re,{variant:"outline",size:"sm",onClick:()=>u(!d),children:d?"Show Less":"Show All"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:153,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:143,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:142,columnNumber:7},this),e.jsxDEV(ie,{children:[0===n.length?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(Qe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:163,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-500",children:"No notifications"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:162,columnNumber:11},this):e.jsxDEV("div",{className:"space-y-3",children:e.jsxDEV(i,{children:p.map((a,i)=>e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:.1*i},children:e.jsxDEV("div",{className:`p-4 rounded-lg border transition-all duration-200 ${a.read_at?"opacity-60":""} ${g(a.type)}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex items-start space-x-3 flex-1",children:[b(a.type),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 truncate",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:187,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:a.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:190,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxDEV("span",{className:"text-xs text-gray-500",children:[e.jsxDEV(Ye,{className:"h-3 w-3 inline mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:194,columnNumber:31},this),N(a.created_at)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:193,columnNumber:29},this),!a.read_at&&e.jsxDEV(oe,{className:"bg-blue-100 text-blue-800 text-xs",children:"New"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:199,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:192,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:186,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:183,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center space-x-2 ml-4",children:[!a.read_at&&e.jsxDEV(re,{variant:"ghost",size:"sm",onClick:()=>(async e=>{try{await Ps(e),l(a=>a.map(a=>a.id===e?{...a,read_at:(new Date).toISOString()}:a)),s.success("Notification marked as read")}catch(a){console.error("Error marking notification as read:",a),s.error("Failed to update notification")}})(a.id),className:"text-blue-600 hover:text-blue-800",children:e.jsxDEV(Ze,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:213,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:207,columnNumber:27},this),e.jsxDEV(re,{variant:"ghost",size:"sm",onClick:()=>(async e=>{try{await Es(e),l(a=>a.filter(a=>a.id!==e)),s.success("Notification deleted")}catch(a){console.error("Error deleting notification:",a),s.error("Failed to delete notification")}})(a.id),className:"text-red-600 hover:text-red-800",children:e.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:223,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:217,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:205,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:182,columnNumber:21},this),"submission_rejected"===a.type&&a.metadata?.rejection_reason&&e.jsxDEV("div",{className:"mt-3 p-3 bg-red-100 rounded-md",children:[e.jsxDEV("p",{className:"text-sm font-medium text-red-800",children:"Rejection Reason:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:232,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm text-red-700",children:a.metadata.rejection_reason},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:233,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:231,columnNumber:25},this),"deadline_reminder"===a.type&&a.metadata?.due_date&&e.jsxDEV("div",{className:"mt-3 p-3 bg-yellow-100 rounded-md",children:e.jsxDEV("p",{className:"text-sm font-medium text-yellow-800",children:["Due: ",new Date(a.metadata.due_date).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:242,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:241,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:177,columnNumber:19},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:170,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:168,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:167,columnNumber:11},this),x>0&&e.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxDEV(re,{variant:"outline",size:"sm",onClick:async()=>{try{const e=n.filter(e=>!e.read_at);await Promise.all(e.map(e=>Ps(e.id))),l(e=>e.map(e=>({...e,read_at:e.read_at||(new Date).toISOString()}))),s.success("All notifications marked as read")}catch(e){console.error("Error marking all notifications as read:",e),s.error("Failed to update notifications")}},className:"w-full",children:["Mark All as Read (",x,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:257,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:256,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:160,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/ComplianceNotifications.tsx",lineNumber:141,columnNumber:5},this)}function jr({userId:a,userRole:s,className:i="",showNotifications:t=!0,compactView:o=!1}){return o?e.jsxDEV("div",{className:`space-y-4 ${i}`,children:[e.jsxDEV(ae,{children:[e.jsxDEV(se,{className:"pb-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Compliance Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:38,columnNumber:15},this),e.jsxDEV(re,{variant:"outline",size:"sm",children:"View Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:39,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:37,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:36,columnNumber:11},this),e.jsxDEV(ie,{children:e.jsxDEV(Tr,{_userId:a,_userRole:s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:45,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:44,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:35,columnNumber:9},this),t&&e.jsxDEV(ae,{children:[e.jsxDEV(se,{className:"pb-3",children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Qe,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:53,columnNumber:17},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Updates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:54,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:52,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:51,columnNumber:13},this),e.jsxDEV(ie,{children:e.jsxDEV(vr,{userId:a,className:"border-0 shadow-none p-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:58,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:57,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:50,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:33,columnNumber:7},this):e.jsxDEV("div",{className:`space-y-6 ${i}`,children:e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Compliance Center"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:75,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:74,columnNumber:9},this),e.jsxDEV(yr,{userId:a,userRole:s,className:"h-fit"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:69,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:67,columnNumber:5},this)}function Tr({_userId:a,_userRole:s}){const r=6,i=4,t=2,o=0,n=Math.round(i/r*100);return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between text-sm mb-2",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Completion Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:103,columnNumber:11},this),e.jsxDEV("span",{className:"font-medium",children:[n,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:102,columnNumber:9},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:"h-2 rounded-full transition-all duration-300 "+(n>=80?"bg-green-500":n>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${n}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:107,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:106,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:101,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"flex items-center justify-center mb-2",children:[e.jsxDEV(Je,{className:"h-5 w-5 text-green-600 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:124,columnNumber:13},this),e.jsxDEV("span",{className:"text-lg font-bold text-green-600",children:i},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:123,columnNumber:11},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:127,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:122,columnNumber:9},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"flex items-center justify-center mb-2",children:[e.jsxDEV(Ye,{className:"h-5 w-5 text-blue-600 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:132,columnNumber:13},this),e.jsxDEV("span",{className:"text-lg font-bold text-blue-600",children:t},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:131,columnNumber:11},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:135,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:130,columnNumber:9},this),o>0]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:121,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/compliance/DashboardComplianceSection.tsx",lineNumber:99,columnNumber:5},this)}const Pr=({data:a,onChange:s,className:r="",disabled:i=!1,showOptionalFields:t=!0,required:o=!1})=>{const n=(e,r)=>{const i={...a,[e]:r};"country"===e&&(Ms(r)||(i.state="")),s(i)},l="\n    block w-full pl-10 pr-3 py-2.5 \n    border border-gray-300 rounded-lg \n    bg-white text-sm placeholder-gray-400\n    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n    disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed\n  ";return e.jsxDEV("div",{className:`space-y-4 ${r}`,children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Country ",o&&e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:54,columnNumber:32},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:53,columnNumber:9},void 0),e.jsxDEV(Fs,{value:a.country,onChange:e=>n("country",e),disabled:i,required:o,showPopularFirst:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:56,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:52,columnNumber:7},void 0),a.country&&Ms(a.country)&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["State/Province ",o&&e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:68,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:67,columnNumber:11},void 0),e.jsxDEV(Bs,{countryCode:a.country,value:a.state,onChange:e=>n("state",e),disabled:i,required:o},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:70,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:66,columnNumber:9},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City ",o&&e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:82,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:81,columnNumber:9},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxDEV(ea,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:86,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:85,columnNumber:11},void 0),e.jsxDEV("input",{type:"text",value:a.city,onChange:e=>n("city",e.target.value),placeholder:"Enter city name",disabled:i,required:o,className:l},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:88,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:84,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:80,columnNumber:7},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address Line 1 ",o&&e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:102,columnNumber:39},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:101,columnNumber:9},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxDEV(we,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:106,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:105,columnNumber:11},void 0),e.jsxDEV("input",{type:"text",value:a.address_line_1,onChange:e=>n("address_line_1",e.target.value),placeholder:"Street address, P.O. box, company name",disabled:i,required:o,className:l},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:108,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:104,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:100,columnNumber:7},void 0),t&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address Line 2 ",e.jsxDEV("span",{className:"text-gray-400 text-xs",children:"(Optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:123,columnNumber:28},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:122,columnNumber:11},void 0),e.jsxDEV("input",{type:"text",value:a.address_line_2||"",onChange:e=>n("address_line_2",e.target.value),placeholder:"Apartment, suite, unit, building, floor, etc.",disabled:i,className:"\n    block w-full px-3 py-2.5 \n    border border-gray-300 rounded-lg \n    bg-white text-sm placeholder-gray-400\n    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n    disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed\n  "},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:125,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:121,columnNumber:9},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ZIP/Postal Code ",o&&e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:138,columnNumber:40},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:137,columnNumber:9},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxDEV(aa,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:142,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:141,columnNumber:11},void 0),e.jsxDEV("input",{type:"text",value:a.zip_code,onChange:e=>n("zip_code",e.target.value),placeholder:"US"===a.country?"ZIP Code":"Postal Code",disabled:i,required:o,className:l},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:144,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:140,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:136,columnNumber:7},void 0),a.country&&a.city&&a.address_line_1&&e.jsxDEV("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Address Summary:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:158,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600",children:[a.address_line_1,a.address_line_2,a.city,a.state,a.zip_code,a.country].filter(Boolean).join(", ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:159,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:157,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/forms/AddressForm.tsx",lineNumber:50,columnNumber:5},void 0)},Er=hs({full_name:bs().min(2,"Full name must be at least 2 characters"),phone:bs().optional(),date_of_birth:bs().optional(),emergency_contact:hs({name:bs().optional(),relationship:bs().optional(),phone:bs().optional(),email:bs().email().optional().or(Ns(""))}).optional(),preferences:hs({language:bs().optional(),notifications:hs({email:gs().optional(),sms:gs().optional(),push:gs().optional()}).optional(),accessibility:hs({large_text:gs().optional(),high_contrast:gs().optional(),reduced_motion:gs().optional()}).optional()}).optional()});function Ir({isOpen:r,onClose:i,user:o,onUpdate:n}){const[l,c]=a.useState(!1),[m,d]=a.useState({country:"",state:"",city:"",address_line_1:"",address_line_2:"",zip_code:""}),u=a.useRef(!1),h=a.useRef(null),{register:b,handleSubmit:g,formState:{errors:N},reset:x}=t({resolver:us(Er),defaultValues:{full_name:"",phone:"",date_of_birth:"",emergency_contact:{name:"",relationship:"",phone:"",email:""},preferences:{language:"english",notifications:{email:!0,sms:!0,push:!0},accessibility:{large_text:!1,high_contrast:!1,reduced_motion:!1}}}});a.useEffect(()=>{r?(async()=>{if(r&&o?.id&&(!u.current||h.current!==o.id))try{const e=await f(o.id)||o;d({address_line_1:e.address_line_1||"",address_line_2:e.address_line_2||"",city:e.city||"",state:e.state||"",zip_code:e.zip_code||"",country:e.country||""}),x({full_name:e.full_name||"",phone:e.phone||"",date_of_birth:e.date_of_birth||"",emergency_contact:{name:e.emergency_contact?.name||"",relationship:e.emergency_contact?.relationship||"",phone:e.emergency_contact?.phone||"",email:e.emergency_contact?.email||""},preferences:{language:e.preferences?.language||"english",notifications:{email:!1!==e.preferences?.notifications?.email,sms:!1!==e.preferences?.notifications?.sms,push:!1!==e.preferences?.notifications?.push},accessibility:{large_text:e.preferences?.accessibility?.large_text||!1,high_contrast:e.preferences?.accessibility?.high_contrast||!1,reduced_motion:e.preferences?.accessibility?.reduced_motion||!1}}}),u.current=!0,h.current=o.id}catch{x({full_name:o.full_name||"",phone:o.phone||"",date_of_birth:o.date_of_birth||"",emergency_contact:{name:o.emergency_contact?.name||"",relationship:o.emergency_contact?.relationship||"",phone:o.emergency_contact?.phone||"",email:o.emergency_contact?.email||""},preferences:{language:o.preferences?.language||"english",notifications:{email:!1!==o.preferences?.notifications?.email,sms:!1!==o.preferences?.notifications?.sms,push:!1!==o.preferences?.notifications?.push},accessibility:{large_text:o.preferences?.accessibility?.large_text||!1,high_contrast:o.preferences?.accessibility?.high_contrast||!1,reduced_motion:o.preferences?.accessibility?.reduced_motion||!1}}}),u.current=!0,h.current=o.id}})():(u.current=!1,h.current=null)},[r,o?.id,x]);if(!r)return null;return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e=>{e.target===e.currentTarget&&i()},children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsxDEV("form",{onSubmit:g(async e=>{c(!0);try{const a={id:o.id,email:o.email||"",name:e.full_name||o.email||"Unknown",role:o.role||"student"},r=await S(o.id,{full_name:e.full_name,phone:e.phone||null,date_of_birth:e.date_of_birth||null,address_line_1:m.address_line_1||null,address_line_2:m.address_line_2||null,city:m.city||null,state:m.state||null,zip_code:m.zip_code||null,country:m.country||null,emergency_contact:e.emergency_contact||null,preferences:e.preferences||{}},a);s.success("Profile updated successfully!"),n(r),i()}catch{s.error("Failed to update profile")}finally{c(!1)}}),children:[e.jsxDEV("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Profile"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:254,columnNumber:13},this),e.jsxDEV("button",{type:"button",onClick:i,className:"text-gray-400 hover:text-gray-500 p-2",children:e.jsxDEV(Me,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:260,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:255,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:253,columnNumber:11},this),e.jsxDEV("div",{className:"p-6 space-y-8",children:[e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Personal Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:267,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:266,columnNumber:15},this),e.jsxDEV(ie,{className:"space-y-4",children:e.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxDEV(ce,{label:"Full Name *",...b("full_name"),error:N.full_name?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:271,columnNumber:19},this),e.jsxDEV(ce,{label:"Phone",...b("phone"),error:N.phone?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:276,columnNumber:19},this),e.jsxDEV(ce,{label:"Date of Birth",type:"date",...b("date_of_birth"),error:N.date_of_birth?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:277,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:[e.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:284,columnNumber:21},this)," ",o.email," (Cannot be changed)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:283,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:[e.jsxDEV("strong",{children:"Student ID:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:287,columnNumber:21},this)," ",o.student_id," (System Generated)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:286,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:270,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:269,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:265,columnNumber:13},this),e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Address"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:295,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:294,columnNumber:15},this),e.jsxDEV(ie,{children:e.jsxDEV(Pr,{data:m,onChange:d,showOptionalFields:!0,required:!1},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:298,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:297,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:293,columnNumber:13},this),e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Emergency Contact"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:309,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:308,columnNumber:15},this),e.jsxDEV(ie,{className:"space-y-4",children:e.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxDEV(ce,{label:"Contact Name",...b("emergency_contact.name"),error:N.emergency_contact?.name?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:313,columnNumber:19},this),e.jsxDEV(ce,{label:"Relationship",...b("emergency_contact.relationship"),error:N.emergency_contact?.relationship?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:318,columnNumber:19},this),e.jsxDEV(ce,{label:"Contact Phone",...b("emergency_contact.phone"),error:N.emergency_contact?.phone?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:323,columnNumber:19},this),e.jsxDEV(ce,{label:"Contact Email",type:"email",...b("emergency_contact.email"),error:N.emergency_contact?.email?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:328,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:312,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:311,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:307,columnNumber:13},this),e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Notification Preferences"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:340,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:339,columnNumber:15},this),e.jsxDEV(ie,{className:"space-y-4",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("label",{className:"flex items-center space-x-3",children:[e.jsxDEV("input",{type:"checkbox",...b("preferences.notifications.email"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:345,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Email Notifications"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:350,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:344,columnNumber:19},this),e.jsxDEV("label",{className:"flex items-center space-x-3",children:[e.jsxDEV("input",{type:"checkbox",...b("preferences.notifications.sms"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:353,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"SMS Notifications"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:358,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:352,columnNumber:19},this),e.jsxDEV("label",{className:"flex items-center space-x-3",children:[e.jsxDEV("input",{type:"checkbox",...b("preferences.notifications.push"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:361,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Push Notifications"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:366,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:360,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:343,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:342,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:338,columnNumber:13},this),e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Accessibility Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:374,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:373,columnNumber:15},this),e.jsxDEV(ie,{className:"space-y-4",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("label",{className:"flex items-center space-x-3",children:[e.jsxDEV("input",{type:"checkbox",...b("preferences.accessibility.large_text"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:379,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Large Text"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:384,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:378,columnNumber:19},this),e.jsxDEV("label",{className:"flex items-center space-x-3",children:[e.jsxDEV("input",{type:"checkbox",...b("preferences.accessibility.high_contrast"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:387,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"High Contrast"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:392,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:386,columnNumber:19},this),e.jsxDEV("label",{className:"flex items-center space-x-3",children:[e.jsxDEV("input",{type:"checkbox",...b("preferences.accessibility.reduced_motion"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:395,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Reduced Motion"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:400,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:394,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:377,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:376,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:372,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:263,columnNumber:11},this),e.jsxDEV("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end space-x-3",children:[e.jsxDEV(re,{type:"button",variant:"danger",onClick:i,disabled:l,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:407,columnNumber:13},this),e.jsxDEV(re,{type:"submit",loading:l,children:"Save Changes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:410,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:406,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:252,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:251,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/profile/ProfileEditModal.tsx",lineNumber:247,columnNumber:5},this)}async function Hr(e){try{const a=(new Date).toISOString(),{data:s}=await O.from("attendance_records").select("id").eq("batch_id",e.batch_id).eq("student_id",e.student_id).eq("class_date",e.class_date).single();if(s){const{data:r,error:i}=await O.from("attendance_records").update({status:e.status,marked_by:e.marked_by,marked_at:a,notes:e.notes||null,updated_at:a}).eq("id",s.id).select("\n          *,\n          student:profiles!attendance_records_student_id_fkey (\n            id,\n            full_name,\n            email,\n            student_id,\n            avatar_url\n          ),\n          marked_by_user:profiles!attendance_records_marked_by_fkey (\n            id,\n            full_name,\n            email\n          )\n        ").single();return i?(console.error("Error updating attendance record:",i),null):(r.marked_by_user&&(r.marked_by_user=Q(r.marked_by_user)),r.student&&(r.student=Q(r.student)),r)}{const{data:s,error:r}=await O.from("attendance_records").insert({id:crypto.randomUUID(),batch_id:e.batch_id,student_id:e.student_id,class_date:e.class_date,status:e.status,marked_by:e.marked_by,marked_at:a,notes:e.notes||null,created_at:a,updated_at:a}).select("\n          *,\n          student:profiles!attendance_records_student_id_fkey (\n            id,\n            full_name,\n            email,\n            student_id,\n            avatar_url\n          ),\n          marked_by_user:profiles!attendance_records_marked_by_fkey (\n            id,\n            full_name,\n            email\n          )\n        ").single();return r?(console.error("Error creating attendance record:",r),null):(s.marked_by_user&&(s.marked_by_user=Q(s.marked_by_user)),s.student&&(s.student=Q(s.student)),s)}}catch(a){return console.error("Error in markAttendance:",a),null}}async function Vr(e){try{let a=O.from("attendance_records").select("\n        *,\n        student:profiles!attendance_records_student_id_fkey (\n          id,\n          full_name,\n          email,\n          student_id,\n          avatar_url\n        ),\n        marked_by_user:profiles!attendance_records_marked_by_fkey (\n          id,\n          full_name,\n          email\n        ),\n        batch:batches (\n          id,\n          name,\n          description\n        )\n      ");e.batch_id&&(a=a.eq("batch_id",e.batch_id)),e.student_id&&(a=a.eq("student_id",e.student_id)),e.class_date&&(a=a.eq("class_date",e.class_date)),e.start_date&&(a=a.gte("class_date",e.start_date)),e.end_date&&(a=a.lte("class_date",e.end_date));const{data:s,error:r}=await a.order("class_date",{ascending:!1});if(r)return console.error("Error fetching attendance records:",r),[];return(s||[]).map(e=>(e.marked_by_user&&(e.marked_by_user=Q(e.marked_by_user)),e.student&&(e.student=Q(e.student)),e))}catch(a){return console.error("Error in getAttendanceRecords:",a),[]}}async function Wr(e){try{let a=O.from("attendance_sessions").select("\n        *,\n        batch:batches (\n          id,\n          name,\n          description\n        ),\n        created_by_user:profiles!attendance_sessions_created_by_fkey (\n          id,\n          full_name,\n          email\n        )\n      ");e.batch_id&&(a=a.eq("batch_id",e.batch_id)),e.class_date&&(a=a.eq("class_date",e.class_date)),e.start_date&&(a=a.gte("class_date",e.start_date)),e.end_date&&(a=a.lte("class_date",e.end_date));const{data:s,error:r}=await a.order("class_date",{ascending:!1});if(r)return console.error("Error fetching attendance sessions:",r),[];return(s||[]).map(e=>(e.created_by_user&&(e.created_by_user=Q(e.created_by_user)),e))}catch(a){return console.error("Error in getAttendanceSessions:",a),[]}}async function wr(e,a){try{const{data:s,error:r}=await O.from("attendance_records").select("status").eq("student_id",e).eq("batch_id",a);if(r||!s)return console.error("Error fetching attendance stats:",r),{total_classes:0,present:0,absent:0,late:0,excused:0,attendance_percentage:0};const i={total_classes:s.length,present:s.filter(e=>"present"===e.status).length,absent:s.filter(e=>"absent"===e.status).length,late:s.filter(e=>"late"===e.status).length,excused:s.filter(e=>"excused"===e.status).length,attendance_percentage:0},t=i.present+i.late+i.excused;return i.attendance_percentage=i.total_classes>0?t/i.total_classes*100:0,i}catch(s){return console.error("Error in getStudentAttendanceStats:",s),{total_classes:0,present:0,absent:0,late:0,excused:0,attendance_percentage:0}}}async function _r(e){try{const{data:a}=await O.from("batches").select("id, name").eq("id",e).single();if(!a)return null;const{data:s}=await O.from("batch_students").select("\n        student_id,\n        student:profiles!batch_students_student_id_fkey (\n          id,\n          full_name,\n          email\n        )\n      ").eq("batch_id",e).eq("is_active",!0);if(!s||0===s.length)return{batch_id:e,batch_name:a.name,total_students:0,total_sessions:0,average_attendance_percentage:0,student_summaries:[]};const{count:r}=await O.from("attendance_sessions").select("*",{count:"exact",head:!0}).eq("batch_id",e),i=await Promise.all(s.map(async s=>{const r=await wr(s.student_id,e),i=await Vr({batch_id:e,student_id:s.student_id}),t=s.student?Q(s.student):s.student;return{student_id:s.student_id,student_name:t?.full_name||"Unknown",student_email:t?.email||"",batch_id:e,batch_name:a.name,stats:r,recent_records:i.slice(0,5)}})),t=i.reduce((e,a)=>e+a.stats.attendance_percentage,0),o=i.length>0?t/i.length:0;return{batch_id:e,batch_name:a.name,total_students:s.length,total_sessions:r||0,average_attendance_percentage:o,student_summaries:i}}catch(a){return console.error("Error in getBatchAttendanceSummary:",a),null}}async function Cr(e){try{const{data:a}=await O.from("batch_students").select("\n        batch_id,\n        batch:batches (\n          id,\n          name\n        )\n      ").eq("student_id",e).eq("is_active",!0);if(!a||0===a.length)return[];return await Promise.all(a.map(async a=>{const s=await wr(e,a.batch_id),r=await Vr({batch_id:a.batch_id,student_id:e}),{data:i}=await O.from("profiles").select("full_name, email").eq("id",e).single(),t=i?Q(i):i;return{student_id:e,student_name:t?.full_name||"Unknown",student_email:t?.email||"",batch_id:a.batch_id,batch_name:a.batch.name,stats:s,recent_records:r.slice(0,5)}}))}catch(a){return console.error("Error in getStudentAttendanceSummary:",a),[]}}const Mr=({studentId:s})=>{const{profile:r}=N(),[i,t]=a.useState([]),[o,n]=a.useState(null),[l,c]=a.useState([]),[m,d]=a.useState(!0),[u,h]=a.useState({start:"",end:""}),b=s||r?.id;a.useEffect(()=>{b&&g()},[b]),a.useEffect(()=>{o&&b&&x()},[o,b,u]);const g=async()=>{if(b){d(!0);try{const e=await Cr(b);t(e),e.length>0&&!o&&n(e[0].batch_id)}catch(e){console.error("Error fetching attendance summary:",e)}finally{d(!1)}}else d(!1)},x=async()=>{if(b&&o)try{const e=await Vr({batch_id:o,student_id:b,start_date:u.start||void 0,end_date:u.end||void 0});c(e)}catch(e){console.error("Error fetching detailed records:",e)}},p=a=>{switch(a){case"present":return e.jsxDEV(Je,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:87,columnNumber:16},void 0);case"absent":return e.jsxDEV(Ke,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:89,columnNumber:16},void 0);case"late":return e.jsxDEV(Ye,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:91,columnNumber:16},void 0);case"excused":return e.jsxDEV(sa,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:93,columnNumber:16},void 0);default:return null}},D=e=>{switch(e){case"present":return"success";case"absent":return"danger";case"late":return"warning";case"excused":return"info";default:return"default"}},f=i.find(e=>e.batch_id===o);return m?e.jsxDEV("div",{className:"space-y-6",children:e.jsxDEV("div",{className:"animate-pulse space-y-4",children:[e.jsxDEV("div",{className:"h-32 bg-gray-200 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:129,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((a,s)=>e.jsxDEV("div",{className:"h-24 bg-gray-200 rounded"},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:132,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:130,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:128,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:127,columnNumber:7},void 0):0===i.length?e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-12 text-center",children:[e.jsxDEV($e,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:144,columnNumber:11},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Attendance Records"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:145,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"You are not enrolled in any batches yet or no attendance has been marked."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:146,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:143,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:142,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV(me,{children:"Select Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:159,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:158,columnNumber:9},void 0),e.jsxDEV(ie,{children:e.jsxDEV("select",{value:o||"",onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:i.map(a=>e.jsxDEV("option",{value:a.batch_id,children:a.batch_name},a.batch_id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:168,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:162,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:161,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:157,columnNumber:7},void 0),f&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Total Classes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:183,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:f.stats.total_classes},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:184,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:182,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:181,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:180,columnNumber:13},void 0),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Je,{className:"h-6 w-6 text-green-600 mx-auto mb-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:194,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Present"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:195,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-green-600",children:f.stats.present},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:196,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:193,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:192,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:191,columnNumber:13},void 0),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Ke,{className:"h-6 w-6 text-red-600 mx-auto mb-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:206,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Absent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:207,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-red-600",children:f.stats.absent},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:208,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:205,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:204,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:203,columnNumber:13},void 0),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Ye,{className:"h-6 w-6 text-yellow-600 mx-auto mb-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:216,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Late"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:217,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-yellow-600",children:f.stats.late},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:218,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:215,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:214,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:213,columnNumber:13},void 0),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(sa,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:226,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Excused"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:227,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-blue-600",children:f.stats.excused},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:228,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:225,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:224,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(ra,{className:"h-6 w-6 text-purple-600 mx-auto mb-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:238,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Attendance %"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:239,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-purple-600",children:[f.stats.attendance_percentage.toFixed(1),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:240,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:237,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:236,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:235,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:179,columnNumber:11},void 0),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-700",children:"Overall Attendance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:252,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-2xl font-bold "+(f.stats.attendance_percentage>=75?"text-green-600":f.stats.attendance_percentage>=50?"text-yellow-600":"text-red-600"),children:[f.stats.attendance_percentage.toFixed(1),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:253,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:251,columnNumber:15},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-6",children:e.jsxDEV("div",{className:"h-6 rounded-full flex items-center justify-end px-3 text-white text-sm font-medium transition-all "+(f.stats.attendance_percentage>=75?"bg-green-600":f.stats.attendance_percentage>=50?"bg-yellow-600":"bg-red-600"),style:{width:`${Math.max(f.stats.attendance_percentage,5)}%`},children:f.stats.attendance_percentage>5&&e.jsxDEV("span",{children:[f.stats.attendance_percentage.toFixed(1),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:279,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:266,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:265,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-2 text-xs text-gray-600",children:f.stats.attendance_percentage>=75?e.jsxDEV("span",{className:"text-green-600 font-medium",children:"âœ“ Excellent attendance!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:285,columnNumber:19},void 0):f.stats.attendance_percentage>=50?e.jsxDEV("span",{className:"text-yellow-600 font-medium",children:"âš  Try to improve your attendance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:287,columnNumber:19},void 0):e.jsxDEV("span",{className:"text-red-600 font-medium",children:"âš  Low attendance - please contact your teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:291,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:283,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:250,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:249,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:178,columnNumber:9},void 0),e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV(me,{children:"Filter by Date Range"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:304,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:303,columnNumber:9},void 0),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:309,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:u.start,onChange:e=>h({...u,start:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:310,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:308,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:318,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:u.end,onChange:e=>h({...u,end:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:319,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:317,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:307,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:306,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:302,columnNumber:7},void 0),l.length>0?e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV(me,{children:"Attendance History"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:334,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:333,columnNumber:11},void 0),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:341,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:344,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marked By"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:347,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:350,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:340,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:339,columnNumber:17},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(a=>{return e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(s=a.class_date,new Date(s).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:358,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[p(a.status),e.jsxDEV(oe,{variant:D(a.status),children:a.status},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:364,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:362,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:361,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.marked_by_user?.full_name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:367,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:a.notes||"-"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:370,columnNumber:23},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:357,columnNumber:21},void 0);var s})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:355,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:338,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:337,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:336,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:332,columnNumber:9},void 0):e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-12 text-center",children:[e.jsxDEV($e,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:381,columnNumber:13},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Records Found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:382,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"No attendance records available for the selected date range."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:383,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:380,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:379,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/student/StudentAttendanceView.tsx",lineNumber:155,columnNumber:5},void 0)},kr="I/ my children(s) wish to voluntarily participate in eYogi Gurukul ('eYogi') activities and for this purpose, I agree that, I grant the absolute rights to eYogi as below:\n\nâ€¢ eYogi has right to photograph, film and otherwise record my/ my children(s) voice, image, conversations, sounds, performance(s) in connection with any participation, preparation, filming, or recordings (collectively 'recordings');\nâ€¢ eYogi has right to edit and change such recordings and to produce, distribute, promote, maintain or publish such recordings in any print or digital media including website and social media;\nâ€¢ eYogi has right to transfer or give any of all of benefits under this agreement to designated third party for processing and accreditation to achieve objectives of organisation;\nâ€¢ eYogi has right to copyright the recordings in its own name.\n\nI understand that eYogi is volunteer-based charity and may not have insurance to cover for any personal injury or damage to any property that may occur during eYogi activities.\n\nI consent that eYogi may contact me via text messages, phone calls, emails and postal letters for the promotion and organisation of its activities.\n\nI consent for eYogi to process my personal data as per its data privacy policy and applicable laws governing the privacy and security of personal data. I retain the right to withdraw my personal data at any time by sending formal request at info@eyogigurukul.com\n\nI shall not disclose any Intellectual Property and information relating to eYogi, to any third party without eYogi' prior written consent and shall not use any Information for any purpose other than for the performance of the Services.";async function Ar(e){try{const{data:a,error:s}=await O.from("student_consent").select("\n        *,\n        student:profiles!student_consent_student_id_fkey (\n          id,\n          full_name,\n          email,\n          student_id\n        ),\n        consented_by_user:profiles!student_consent_consented_by_fkey (\n          id,\n          full_name,\n          email\n        )\n      ").eq("student_id",e).single();return s?("PGRST116"===s.code||console.error("Error fetching student consent:",s),null):(a.student&&(a.student=Q(a.student)),a.consented_by_user&&(a.consented_by_user=Q(a.consented_by_user)),a)}catch(a){return console.error("Error in getStudentConsent:",a),null}}async function Rr(e){try{const{data:a,error:s}=await O.from("student_consent").select("\n        *,\n        student:profiles!student_consent_student_id_fkey (\n          id,\n          full_name,\n          email,\n          student_id\n        ),\n        consented_by_user:profiles!student_consent_consented_by_fkey (\n          id,\n          full_name,\n          email\n        )\n      ").in("student_id",e);return s?(console.error("Error fetching students consent:",s),[]):a||[]}catch(a){return console.error("Error in getStudentsConsent:",a),[]}}const Fr=({studentId:s,studentName:r,consentedBy:i,currentConsent:t,onClose:n,onSuccess:l,isParent:c=!1})=>{const[m,d]=a.useState(!1),[u,h]=a.useState(!1),[b,g]=a.useState(!1),[N,x]=a.useState(""),p=t?.consent_given&&!t?.withdrawn,D=async()=>{h(!0);try{const e=await async function(e,a){try{const s=(new Date).toISOString(),{data:r,error:i}=await O.from("student_consent").update({consent_given:!1,withdrawn:!0,withdrawn_date:s,withdrawn_reason:a||null,updated_at:s}).eq("student_id",e).select().single();return i?(console.error("Error withdrawing consent:",i),null):r}catch(s){return console.error("Error in withdrawConsent:",s),null}}(s,N);e?(o.success("Consent withdrawn successfully"),l()):o.error("Failed to withdraw consent. Please try again.")}catch(e){console.error("Error withdrawing consent:",e),o.error("An error occurred while withdrawing consent")}finally{h(!1)}};return b?e.jsxDEV("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50 p-4",children:e.jsxDEV(ae,{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ge,{className:"h-8 w-8 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:103,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Withdraw Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:105,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:r},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:106,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:104,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:102,columnNumber:15},void 0),e.jsxDEV("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:u,children:e.jsxDEV(Me,{className:"h-6 w-6 text-gray-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:114,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:109,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:101,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:100,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("p",{className:"text-gray-700 mb-4",children:["You are about to withdraw consent for ",r," to participate in eYogi Gurukul activities."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:122,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxDEV("p",{className:"text-sm text-yellow-800",children:[e.jsxDEV("strong",{children:"Important:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:128,columnNumber:19},void 0)," Withdrawing consent may affect ",r,"'s ability to participate in certain activities and may impact their enrollment status."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:127,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:126,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for withdrawal (optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:135,columnNumber:15},void 0),e.jsxDEV("textarea",{value:N,onChange:e=>x(e.target.value),placeholder:"Please provide a reason for withdrawing consent...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500",disabled:u},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:138,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:134,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:120,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3 flex-shrink-0",children:[e.jsxDEV(re,{onClick:()=>g(!1),variant:"outline",disabled:u,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:151,columnNumber:13},void 0),e.jsxDEV(re,{onClick:D,variant:"primary",loading:u,className:"bg-red-600 hover:bg-red-700",children:u?"Withdrawing...":"Withdraw Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:154,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:150,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:98,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:97,columnNumber:7},void 0):e.jsxDEV("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxDEV(ae,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col my-8",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(ze,{className:"h-8 w-8 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:175,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:p?"Consent Status":"eYogi Gurukul Participation Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:177,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:c?`For ${r}`:"Your participation consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:180,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:176,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:174,columnNumber:13},void 0),e.jsxDEV("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:u,children:e.jsxDEV(Me,{className:"h-6 w-6 text-gray-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:190,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:185,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:173,columnNumber:11},void 0),p&&e.jsxDEV("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsxDEV(Je,{className:"h-6 w-6 text-green-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:196,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-green-900",children:"Consent Given"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:198,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-green-700 mt-1",children:["Consent was provided on"," ",t.consent_date?new Date(t.consent_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown date"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:199,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:197,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:195,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:172,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Consent Agreement"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:217,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:kr},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:218,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:216,columnNumber:11},void 0),!p&&e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("input",{type:"checkbox",id:"agree-checkbox",checked:m,onChange:e=>d(e.target.checked),className:"mt-1 h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:u},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:225,columnNumber:15},void 0),e.jsxDEV("label",{htmlFor:"agree-checkbox",className:"text-sm text-gray-700 cursor-pointer",children:c?e.jsxDEV(e.Fragment,{children:["I confirm that I am the parent/legal guardian of ",r,", and I have read and agree to the above consent terms on behalf of my child."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:235,columnNumber:19},void 0):e.jsxDEV(e.Fragment,{children:"I confirm that I have read and agree to the above consent terms for my participation in eYogi Gurukul activities."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:240,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:233,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:224,columnNumber:13},void 0),p&&e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:e.jsxDEV("p",{className:"text-sm text-yellow-800",children:[e.jsxDEV("strong",{children:"Note:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:252,columnNumber:17},void 0),' You can withdraw consent at any time by clicking the "Withdraw Consent" button below. Withdrawing consent may affect participation in eYogi activities. To withdraw your personal data, please send a formal request to'," ",e.jsxDEV("a",{href:"mailto:info@eyogigurukul.com",className:"underline hover:text-yellow-900",children:"info@eyogigurukul.com"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:255,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:251,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:250,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:215,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6 border-t border-gray-200 flex justify-between gap-3 flex-shrink-0",children:[e.jsxDEV("div",{children:p&&e.jsxDEV(re,{onClick:()=>g(!0),variant:"outline",disabled:u,className:"border-red-300 text-red-700 hover:bg-red-50",children:"Withdraw Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:267,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:265,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(re,{onClick:n,variant:"outline",disabled:u,children:p?"Close":"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:278,columnNumber:13},void 0),!p&&e.jsxDEV(re,{onClick:async()=>{if(m){h(!0);try{const e=await fetch("https://api.ipify.org?format=json").catch(()=>null),a=e?await e.json():null;await async function(e){try{const a=(new Date).toISOString();if(await Ar(e.student_id)){const{data:s,error:r}=await O.from("student_consent").update({consent_given:!0,consent_date:a,consented_by:e.consented_by,ip_address:e.ip_address||null,user_agent:e.user_agent||null,withdrawn:!1,withdrawn_date:null,withdrawn_reason:null,updated_at:a}).eq("student_id",e.student_id).select().single();return r?(console.error("Error updating consent:",r),null):s}{const{data:s,error:r}=await O.from("student_consent").insert({student_id:e.student_id,consent_given:!0,consent_text:kr,consent_date:a,consented_by:e.consented_by,ip_address:e.ip_address||null,user_agent:e.user_agent||null,created_at:a,updated_at:a}).select().single();return r?(console.error("Error creating consent:",r),null):s}}catch(a){return console.error("Error in giveConsent:",a),null}}({student_id:s,consented_by:i,ip_address:a?.ip,user_agent:navigator.userAgent})?(o.success(`Consent recorded successfully for ${r}`),l()):o.error("Failed to record consent. Please try again.")}catch(e){console.error("Error giving consent:",e),o.error("An error occurred while recording consent")}finally{h(!1)}}else o.error("Please read and agree to the consent terms")},variant:"primary",loading:u,disabled:!m,children:u?"Submitting...":"I Agree - Submit Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:282,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:277,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:264,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:170,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentModal.tsx",lineNumber:169,columnNumber:5},void 0)},Br=({consentGiven:a,withdrawn:s,size:r="md",showLabel:i=!0,onClick:t,className:o=""})=>{const n=s?{label:"Consent Withdrawn",color:"bg-red-100 text-red-800 border-red-300",icon:Ke,iconColor:"text-red-600"}:a?{label:"Consent Given",color:"bg-green-100 text-green-800 border-green-300",icon:Je,iconColor:"text-green-600"}:{label:"No Consent",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Ge,iconColor:"text-yellow-600"},l=n.icon,c=t?"button":"span";return e.jsxDEV(c,{onClick:t,className:`inline-flex items-center gap-1.5 rounded-full border font-medium ${n.color} ${{sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"}[r]} ${t?"cursor-pointer hover:opacity-80 transition-opacity":""} ${o}`,type:t?"button":void 0,children:[e.jsxDEV(l,{className:`${{sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"}[r]} ${n.iconColor}`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentStatusBadge.tsx",lineNumber:69,columnNumber:7},void 0),i&&n.label]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentStatusBadge.tsx",lineNumber:64,columnNumber:5},void 0)};function qr({isOpen:s,onClose:t,topics:o,title:l="Help & Guide",description:c}){const[m,d]=a.useState(o[0]?.id||null),[u,h]=a.useState(new Set),[b,g]=a.useState(!1);a.useEffect(()=>{g(!0)},[]);if(!b)return null;const N=e.jsxDEV(i,{children:s&&e.jsxDEV(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] overflow-y-auto",children:e.jsxDEV("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsxDEV(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 backdrop-blur-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:70,columnNumber:13},this),e.jsxDEV(r.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[e.jsxDEV("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-5 rounded-t-2xl flex items-center justify-between z-10",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Re,{className:"w-7 h-7 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:88,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:l},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:90,columnNumber:21},this),c&&e.jsxDEV("p",{className:"text-blue-100 text-sm mt-1",children:c},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:91,columnNumber:37},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:89,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:87,columnNumber:17},this),e.jsxDEV("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:e.jsxDEV(Me,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:98,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:94,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:86,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:e.jsxDEV("div",{className:"flex h-full",children:[e.jsxDEV("div",{className:"w-64 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:e.jsxDEV("div",{className:"p-4 space-y-2",children:o.map(a=>e.jsxDEV(r.button,{onClick:()=>d(a.id),whileHover:{x:4},className:"w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center gap-3 "+(m===a.id?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"),children:[a.icon&&e.jsxDEV("span",{className:"text-lg "+(m===a.id?"text-white":""),children:a.icon},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:120,columnNumber:29},this),e.jsxDEV("span",{className:"font-medium truncate",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:124,columnNumber:27},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:109,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:107,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:106,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1 p-8 overflow-y-auto",children:o.map(a=>e.jsxDEV(i,{mode:"wait",children:m===a.id&&e.jsxDEV(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[a.icon&&e.jsxDEV("span",{className:"text-3xl",children:a.icon},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:143,columnNumber:48},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:145,columnNumber:35},this),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:146,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:144,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:142,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:141,columnNumber:29},this),e.jsxDEV("div",{className:"space-y-4",children:a.sections.map((a,s)=>e.jsxDEV(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*s},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxDEV("button",{onClick:()=>(e=>{const a=new Set(u);a.has(e)?a.delete(e):a.add(e),h(a)})(a.id),className:"w-full px-5 py-4 flex items-center justify-between bg-gradient-to-r from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-150 transition-all duration-200",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-900",children:a.heading},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:166,columnNumber:37},this),e.jsxDEV(r.div,{animate:{rotate:u.has(a.id)?180:0},transition:{duration:.2},children:e.jsxDEV(ia,{className:"w-5 h-5 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:173,columnNumber:39},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:167,columnNumber:37},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:162,columnNumber:35},this),e.jsxDEV(i,{children:u.has(a.id)&&e.jsxDEV(r.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsxDEV("div",{className:"px-5 py-4 bg-white border-t border-gray-200 space-y-4",children:[e.jsxDEV("div",{className:"text-gray-700 leading-relaxed",children:"string"==typeof a.content?e.jsxDEV("p",{children:a.content},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:191,columnNumber:47},this):a.content},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:189,columnNumber:43},this),a.example&&e.jsxDEV("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:[e.jsxDEV("p",{className:"font-semibold text-blue-900 mb-2",children:"ðŸ’¡ Example:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:200,columnNumber:47},this),e.jsxDEV("p",{className:"text-blue-800 text-sm",children:a.example},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:201,columnNumber:47},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:199,columnNumber:45},this),a.tips&&a.tips.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"font-semibold text-gray-900",children:"ðŸ’¡ Tips:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:208,columnNumber:47},this),e.jsxDEV("ul",{className:"space-y-2",children:a.tips.map((a,s)=>e.jsxDEV("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[e.jsxDEV("span",{className:"text-green-500 font-bold mt-0.5",children:"â€¢"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:215,columnNumber:53},this),e.jsxDEV("span",{children:a},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:216,columnNumber:53},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:211,columnNumber:51},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:209,columnNumber:47},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:207,columnNumber:45},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:187,columnNumber:41},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:180,columnNumber:39},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:178,columnNumber:35},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:154,columnNumber:33},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:152,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:135,columnNumber:27},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:133,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:131,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:104,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:103,columnNumber:15},this),e.jsxDEV("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end rounded-b-2xl",children:e.jsxDEV("button",{onClick:t,className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:239,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:238,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:79,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:68,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:62,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpModal.tsx",lineNumber:60,columnNumber:5},this);return n.createPortal(N,document.body)}function Lr({topics:s,title:i,description:t,className:o="",showKeyboardHint:n=!0}){const[l,c]=a.useState(!1),[m,d]=a.useState(!1);return a.useEffect(()=>{const e=e=>{"?"!==e.key||l||(e.preventDefault(),c(!0)),"Escape"===e.key&&l&&c(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[l]),e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>c(!0),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:`relative p-2.5 rounded-lg bg-white/50 hover:bg-white/80 border border-white/20 shadow-lg hover:shadow-xl transition-all duration-200 text-gray-600 hover:text-gray-900 ${o}`,title:"Press '?' for help",children:[e.jsxDEV(Re,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpButton.tsx",lineNumber:53,columnNumber:9},this),m&&n&&e.jsxDEV(r.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded whitespace-nowrap pointer-events-none",children:["Press ",e.jsxDEV("kbd",{className:"font-mono",children:"?"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpButton.tsx",lineNumber:63,columnNumber:19},this)," for help"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpButton.tsx",lineNumber:57,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpButton.tsx",lineNumber:44,columnNumber:7},this),e.jsxDEV(qr,{isOpen:l,onClose:()=>c(!1),topics:s,title:i,description:t},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpButton.tsx",lineNumber:68,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/help/HelpButton.tsx",lineNumber:43,columnNumber:5},this)}const Gr=[{id:"overview",title:"Dashboard Overview",icon:"ðŸ“Š",description:"Get a quick snapshot of your teaching activity and key metrics",sections:[{id:"overview-stats",heading:"Key Statistics",content:"The overview displays important metrics at a glance: total courses you have created, total unique students enrolled, certificates issued, and active batches. These numbers update in real-time as students enroll and complete courses.",tips:["Click on any stat card to drill down and see detailed information","Stats are calculated from real database data, ensuring accuracy","Pending approvals and certificates badges appear on relevant stats"]},{id:"overview-actions",heading:"Quick Actions",content:"Quick action buttons provide shortcuts to the most common tasks: creating new courses, reviewing pending enrollments, issuing certificates, and viewing analytics.",tips:['Use "Create New Course" to launch a new educational offering','Check "Review Enrollments" for pending approvals requiring your attention','Use "Issue Certificates" to award students who have completed courses','View "Analytics" to track your teaching performance']},{id:"overview-activity",heading:"Recent Activity & Insights",content:"See recent student completions, certificate issuances, and enrollment requests. Performance insights show your completion rate, revenue, and other key teaching metrics.",tips:["Recent activity updates automatically as students engage","Completion rate shows percentage of enrolled students who finished courses","Review insights regularly to improve course quality and engagement"]}]},{id:"courses",title:"My Courses",icon:"ðŸ“š",description:"Create, manage, and monitor your educational courses",sections:[{id:"course-creation",heading:"Creating a New Course",content:'Click "Create New Course" to open the course creation form. Fill in required fields including title (minimum 5 characters), description (minimum 20 characters), level, and learning outcomes.',tips:["Course title should be clear and descriptive of what students will learn","Level options: Elementary, Basic, Intermediate, Advanced","Add multiple learning outcomes to set clear expectations","Slug is auto-generated but can be customized for URL-friendly names",'Mark "Includes Certificate" to automatically issue certs on completion'],example:'Creating "Advanced Python Programming": Set level to Advanced, add outcomes like "Master async/await patterns" and "Build production-ready applications"'},{id:"course-details",heading:"Course Details & Management",content:'Each course card shows key information: cover image, enrolled students, completion rate, and pending certificates. Click "View Details" to see full course information and manage it.',tips:["Hover over enrollment stats to see breakdown of approved, completed, and pending students","Color-coded badges indicate course status and student engagement","Add course prerequisites to help students self-assess readiness","Set pricing and currency for paid courses","Add video preview URL for course marketing"]},{id:"course-media",heading:"Media & SEO Settings",content:"Upload course images (thumbnail and cover), add video preview URL, and optimize for search engines with meta title and description.",tips:["Course images should be clear and professional (recommended: 800x600px or larger)","Meta title and description improve course visibility in search results","Video previews help students decide whether to enroll","Use high-quality images to increase course appeal"]}]},{id:"students",title:"Student & Batch Enrollment",icon:"ðŸ‘¥",description:"Manage student enrollments and organize students into learning batches",sections:[{id:"enrollment-approvals",heading:"Pending Enrollment Approvals",content:"Review and approve new enrollment requests from students. Each request shows student details and which course they want to enroll in. Approve, reject, or request more information.",tips:["Approve enrollments to allow students access to course materials","Reject enrollments if they don't meet prerequisites","Process approvals regularly to maintain student satisfaction","Email notifications are sent to students upon approval/rejection"]},{id:"enrolled-students",heading:"Enrolled Students Management",content:"View all students currently enrolled in your courses. See their enrollment status, courses taken, completed courses, and certificates earned. Export student data for records.",tips:["Filter students by enrollment status (approved, completed, pending)","Click on student names to see detailed enrollment history","Track individual student progress and engagement","Export enrollment data for reporting or analysis"]},{id:"batch-enrollment",heading:"Batch Enrollment Workflow",content:"Organize students into learning groups (batches). First, create a batch for your course. Then, enroll registered students into the batch. Finally, mark batch as completed and issue certificates to all students.",tips:["Step 1: Create a batch and assign it to a course","Step 2: Enroll students - only registered students can be added","Step 3: Track batch progress through the course","Step 4: Mark complete and issue certificates to all batch students","Batches help manage group learning experiences and cohort-based courses"],example:'For "Python Bootcamp": Create batch for September cohort â†’ Enroll 25 students â†’ Track progress weekly â†’ Mark complete after 12 weeks â†’ Issue 25 certificates'}]},{id:"certificates",title:"Certificate Management",icon:"ðŸ†",description:"Issue and manage student certificates for course completion",sections:[{id:"cert-templates",heading:"Certificate Templates",content:"Browse available certificate templates designed for different course types and contexts. Preview templates before selecting. Templates can be customized with your course name and student information.",tips:["Choose templates that match your course branding and style","Preview templates to ensure they look professional","Different templates available for individual courses vs. batches","Customize template text to include course-specific information"]},{id:"cert-issuance",heading:"Issuing Certificates",content:"Issue certificates to students who have completed courses. Select eligible students (those with completed enrollments) and choose a certificate template. Certificates are generated as PDFs and can be downloaded or emailed to students.",tips:['Only students with "completed" enrollment status are eligible',"Bulk issue certificates to multiple students at once","Download PDF certificates to archive or email directly","Certificate issuance triggers automatic notifications to students","Prevent duplicate certificates - system checks before issuing"],example:'For course completion: Select all students with "completed" status â†’ Choose professional certificate template â†’ Issue certificates â†’ System sends emails with PDF attachments'},{id:"batch-certs",heading:"Batch Certificate Issuance",content:"Issue certificates to all students in a completed batch at once. Select the batch, choose template, and issue certificates in one operation. Saves time for group courses.",tips:["Only completed batches appear in the batch certificate section","Batch issuance is faster than individual student issuance","All students in the batch receive certificates simultaneously","Track certificate issuance status for each batch"]}]},{id:"batches",title:"Batch Management",icon:"ðŸ“¦",description:"Organize students into learning cohorts and track their progress",sections:[{id:"batch-creation",heading:"Creating Batches",content:"Create learning batches to organize students into groups. Each batch is tied to a specific course. Set batch start and end dates, maximum students, and other parameters.",tips:['Name batches by cohort (e.g., "September 2024 Cohort")',"Set realistic start and end dates for the learning period","Limit batch size to maintain quality of instruction","Batches can be reused across multiple offerings of the same course"]},{id:"batch-students",heading:"Managing Batch Students",content:"Add registered students to batches. Only students in your student database can be enrolled. Remove students if needed, track attendance, and monitor progress.",tips:["Only registered students appear in the enrollment list","Enroll students before or after batch creation","Track per-student progress within the batch","Export student attendance and progress reports"]},{id:"batch-progress",heading:"Tracking Batch Progress",content:"Monitor overall batch progress with percentage completion metrics. See how many students have completed the course, earned certificates, and are currently active.",tips:["Progress percentage shows overall batch completion status","Color-coded indicators show batch status (active, completed, etc.)","Compare performance across different batches of the same course","Use progress data to identify struggling students early"]}]},{id:"analytics",title:"Analytics & Insights",icon:"ðŸ“ˆ",description:"Analyze teaching performance and student engagement patterns",sections:[{id:"analytics-overview",heading:"Analytics Dashboard",content:"Comprehensive view of your teaching metrics including total enrollments, completion rates, revenue (if applicable), and student engagement trends. Data updates daily.",tips:["Monitor completion rate to gauge course effectiveness","Track revenue to understand course financial performance","Compare metrics across different courses and time periods","Export analytics reports for stakeholder communication"]},{id:"course-analytics",heading:"Per-Course Analytics",content:"Deep-dive analytics for each course showing enrollment trends, dropout rates, completion patterns, and student feedback. Identify which courses perform best.",tips:["High completion rate indicates engaging course content","Identify courses with high dropout to plan improvements","Track enrollment trends to predict demand","Use feedback data to iterate on course content"]},{id:"student-analytics",heading:"Student Performance",content:"Track individual and cohort-level student performance. See which students are struggling, completing ahead of schedule, or at risk of dropping out.",tips:["Early intervention with struggling students improves outcomes","Recognize and celebrate high-performing students","Use data to provide personalized learning recommendations","Share progress updates with students to boost motivation"]}]},{id:"attendance",title:"Attendance Tracking",icon:"ðŸ“…",description:"Monitor student attendance for batches and synchronous sessions",sections:[{id:"attendance-recording",heading:"Recording Attendance",content:"Mark student attendance for synchronous sessions or batch meetings. Track who attended and who missed sessions to identify engagement issues.",tips:["Record attendance for in-person or live virtual sessions","Identify chronic absentees who may need intervention","Use attendance data to contact students about course engagement","Export attendance reports for institutional records"]},{id:"attendance-reports",heading:"Attendance Reports",content:"Generate attendance reports showing per-student attendance rates, frequent absences, and patterns. Use for performance evaluations and interventions.",tips:["Track attendance trends over time","Correlate attendance with course completion","Use low attendance as early warning of potential dropout","Share reports with students to encourage participation"]}]},{id:"profile",title:"Profile & Settings",icon:"âš™ï¸",description:"Manage your profile information and dashboard preferences",sections:[{id:"profile-info",heading:"Profile Information",content:"Update your personal information including name, email, phone number, and address. This information is displayed to students and in official documents.",tips:["Keep contact information current for student communication","Use professional photo for credibility","Add bio or credentials to build student confidence","Update address for official certificates and documents"]},{id:"privacy-settings",heading:"Privacy & Consent",content:"View and manage student data consent records. See when students gave consent for data usage and audit consent history for compliance.",tips:["Review student consent regularly for compliance","Maintain consent audit trail for regulatory purposes","Respect student privacy preferences","Only view sensitive data as permitted by role"]}]}],Ur=[{id:"home",title:"Dashboard Home",icon:"ðŸ ",description:"Your personal learning hub with quick stats and recommendations",sections:[{id:"home-welcome",heading:"Welcome Section",content:"Your dashboard greets you with a personalized message showing the time of day and your name. Below are your key learning metrics at a glance.",tips:["Check your completion rate to track overall progress","Monitor active courses to know what's in progress","See pending actions requiring your attention"]},{id:"home-stats",heading:"Learning Statistics",content:"Quick view of your learning journey: total enrollments, active courses, completed courses, certificates earned, and upcoming batches. These update in real-time.",tips:["Click on any stat to drill down for details","Badges show count of pending or recommended actions","Aim to increase completed courses and certificates"]},{id:"home-recommendations",heading:"Recommended Courses",content:"See courses recommended based on your interests and learning history. Recommendations help you discover relevant learning opportunities.",tips:["Browse recommended courses to expand your skills","Check course details and prerequisites before enrolling","Add courses to your wishlist for later"]},{id:"home-recent",heading:"Recent Activity",content:"See your recent actions: enrollments, course completions, certificates earned, and attendance records.",tips:["Recent activity helps you remember where you left off","Click on recent items to jump to that course or certificate"]}]},{id:"courses",title:"My Courses",icon:"ðŸ“–",description:"Browse and manage all your enrolled and available courses",sections:[{id:"courses-enrolled",heading:"Enrolled Courses",content:"View all courses you're currently enrolled in. Each course card shows progress bar, completion percentage, and enrollment status.",tips:["Progress bar shows your completion percentage in the course","Color coding: Green=Active, Blue=Completed, Yellow=Pending approval",'Click "Continue Learning" to resume the course',"See estimated time to complete remaining material"],example:'"Python Basics" shows 65% complete with 3 weeks remaining. Green progress bar indicates active enrollment.'},{id:"courses-catalog",heading:"Course Catalog",content:"Browse all available courses. Filter by level, topic, and duration. View detailed course information before deciding to enroll.",tips:["Read course descriptions to understand learning outcomes","Check prerequisites to ensure readiness","View instructor credentials and course reviews","Enroll in courses matching your learning goals","Filter by level: Elementary, Basic, Intermediate, Advanced"]},{id:"courses-search",heading:"Finding Courses",content:"Use search and filters to find courses matching your interests, skill level, and availability.",tips:["Search by course title, topic, or keyword","Filter by level to match your current skills","Sort by popularity, newest, or duration","Save searches for frequently looked-up topics"]}]},{id:"enrollments",title:"My Enrollments",icon:"ðŸ“",description:"Track the status and history of all your course enrollments",sections:[{id:"enrollment-status",heading:"Enrollment Status",content:"View current status of each enrollment: Pending (awaiting approval), Approved (active learning), or Completed (finished course).",tips:["Pending status means instructor needs to approve your enrollment","Approved means you have full access to course materials","Completed means you finished and can download certificate","Contact instructor if approval is delayed"]},{id:"enrollment-history",heading:"Enrollment History",content:"Complete record of all your enrollments including dates enrolled, approval dates, and completion dates. Useful for tracking your learning journey.",tips:["Review your enrollment history for resume or portfolio","Export enrollment records for official transcripts","See patterns in your learning (frequency, types of courses)"]},{id:"enrollment-actions",heading:"Enrollment Actions",content:"Request enrollment in new courses, withdraw from courses (if allowed), and download enrollment certificates or records.",tips:["Withdraw from courses early if you change your learning goals","Download enrollment certificates as proof of participation","Contact instructors with questions about enrollment"]}]},{id:"certificates",title:"My Certificates",icon:"ðŸŽ“",description:"View and download your earned achievement certificates",sections:[{id:"certificates-overview",heading:"Your Achievements",content:"Gallery of all certificates you've earned by completing courses. Each certificate shows the course name, completion date, and certificate ID.",tips:["Download certificates as PDFs for your portfolio","Share certificates on LinkedIn or resume","Certificate ID can be verified by institutions","Each certificate is dated and includes course details"]},{id:"certificates-download",heading:"Downloading Certificates",content:"Download your certificates in PDF format. PDFs are high-quality and suitable for printing or sharing digitally.",tips:["Download immediately after course completion","Keep copies for your records","Share certificates with employers or educators","Certificates include verification details"]},{id:"certificates-verification",heading:"Certificate Verification",content:"Each certificate has a unique verification code. Organizations can verify certificate authenticity using this code on the verification page.",tips:["Share verification code with organizations checking your credentials","Verification codes prove certificate authenticity","Certificates are issued automatically upon course completion","Archive certificates for future reference"]}]},{id:"batches",title:"My Batches",icon:"ðŸ‘«",description:"Manage group learning cohorts and track group progress",sections:[{id:"batch-overview",heading:"Batch Learning Groups",content:"View batches (learning cohorts) you're part of. Batches are groups of students learning together with synchronized timelines and group activities.",tips:["Batches provide structured group learning experiences","All batch members learn content simultaneously","Batch schedules are fixed - important for synchronous content","Group participation enhances learning outcomes"]},{id:"batch-progress",heading:"Tracking Batch Progress",content:"See overall batch progress and your individual progress within the batch. Compare your completion with other batch members.",tips:["Batch progress shows percentage completion of group","Your progress relative to batch average helps gauge engagement","Accelerate or slow to match batch pace as needed","Communicate with batch mates on group activities"]},{id:"batch-activities",heading:"Batch Activities",content:"Participate in group activities, discussions, and projects organized at the batch level. Group activities enhance learning and community.",tips:["Complete group activities to earn participation credits","Collaborate with batch mates on projects","Participate in discussions and forums","Attend scheduled group sessions or meetings"]}]},{id:"attendance",title:"Attendance Records",icon:"âœ…",description:"View your attendance for synchronous sessions and batches",sections:[{id:"attendance-view",heading:"Your Attendance",content:"View your attendance record for synchronous classes, batch sessions, and live meetings. Shows dates attended and any absences.",tips:["Regular attendance improves course completion","Absences may impact certificate eligibility","Contact instructor about excused absences","Review attendance before course ends"]},{id:"attendance-importance",heading:"Why Attendance Matters",content:"Attendance affects your course completion, certificate eligibility, and learning outcomes. Participate actively in scheduled sessions.",tips:["Attend synchronous sessions for live instruction","Minimum attendance thresholds may be required for completion","Make-up sessions available for excused absences","Consistent attendance improves learning retention"]}]},{id:"profile",title:"Profile & Settings",icon:"ðŸ‘¤",description:"Manage your account and learning preferences",sections:[{id:"profile-edit",heading:"Edit Your Profile",content:"Update your personal information: name, email, phone, date of birth, and address. This information appears on certificates and official records.",tips:["Use your legal name for certificates","Keep email current for course notifications","Add phone for instructor contact","Verify address appears correctly on certificates"]},{id:"profile-preferences",heading:"Learning Preferences",content:"Set preferences for course recommendations, notification frequency, and learning style. Customize your learning experience.",tips:["Set preferred learning topics for better recommendations","Choose notification frequency (daily, weekly, none)","Indicate learning style (visual, interactive, etc.)","Update language and timezone preferences"]},{id:"privacy-consent",heading:"Privacy & Consent",content:"Manage your privacy settings and data consent preferences. Control how your data is used and shared.",tips:["Review privacy policy to understand data usage","Provide necessary consent for course features","Manage third-party sharing preferences","Request data export or deletion as needed"]}]},{id:"analytics",title:"Learning Analytics",icon:"ðŸ“Š",description:"Track your personal learning performance and progress",sections:[{id:"analytics-overview",heading:"Your Learning Dashboard",content:"Visualize your learning journey with charts showing course completion trends, time spent learning, and progress metrics.",tips:["Track learning consistency over time","See which course topics take most time","Identify your fastest-completed courses","Use data to plan future learning"]},{id:"analytics-goals",heading:"Learning Goals",content:"Set personal learning goals and track progress toward them. Monitor certificates earned and courses completed vs. targets.",tips:["Set realistic monthly/yearly completion goals","Track certificates earned toward career goals","Adjust goals based on available time","Celebrate milestones and achievements"]},{id:"analytics-insights",heading:"Personalized Insights",content:"Receive AI-powered insights on your learning patterns, recommended next courses, and optimization tips.",tips:["Follow course recommendations to stay on learning path","Use performance insights to improve completion rates","Understand your learning pace and style","Get tips for more effective learning"]}]}],zr=[{id:"overview",title:"Dashboard Overview",icon:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",description:"Monitor your child's learning journey and educational progress",sections:[{id:"overview-children",heading:"Your Children",content:"View all children linked to your account. Each child profile shows their current courses, completion status, and certificates earned.",tips:["Add all your children to track their education","Switch between child profiles to view individual progress","Child profile shows real-time enrollment status","Track multiple children's learning simultaneously"]},{id:"overview-progress",heading:"Learning Progress Summary",content:"Quick overview of each child's learning statistics: courses in progress, completed courses, certificates earned, and overall learning pace.",tips:["Monitor completion rate to ensure consistent engagement","Check for long periods without progress","Celebrate course completions and certificates","Use progress to discuss learning goals with your child"]},{id:"overview-alerts",heading:"Important Alerts",content:"Receive notifications about significant events: course completions, certificate awards, low engagement, or action items requiring parent approval.",tips:["Enable notifications for important milestones","Address low engagement early with encouragement","Approve necessary consent forms when prompted","Review alerts regularly for updates"]}]},{id:"children",title:"Children Management",icon:"ðŸ‘¶",description:"Add and manage your children's learning profiles",sections:[{id:"children-add",heading:"Adding Children",content:"Add your children to your parent account. Link existing student profiles or create new profiles for each child. Requires child email to establish connection.",tips:["Link your child's existing student account","Get child approval to link their account","Create new profile if child doesn't have an account","Use child's full legal name for official records"]},{id:"children-profile",heading:"Child Profile Management",content:"View and manage each child's profile information, contact details, and educational records. Update information as needed.",tips:["Keep contact information current","Review profile for accuracy on certificates","Note any special learning needs or accommodations","Share profile information with child's school if needed"]},{id:"children-permissions",heading:"Permission & Consent",content:"Manage permissions for your child's learning. As parent, you may need to approve certain actions or provide consent forms.",tips:["Provide required parental consent for courses","Approve third-party integrations if needed","Manage data sharing preferences","Review privacy policies for each course"]}]},{id:"courses",title:"Child's Courses",icon:"ðŸ“š",description:"Monitor courses your child is enrolled in or has completed",sections:[{id:"courses-active",heading:"Active Courses",content:"View courses your child is currently taking. Each course card shows progress, enrollment status, completion percentage, and time remaining.",tips:["Check progress regularly to ensure engagement","Click course to see detailed learning materials and activities","Monitor completion percentage - should increase over time","Note estimated completion date"]},{id:"courses-completed",heading:"Completed Courses",content:"Archive of courses your child has successfully completed. Shows completion date, performance metrics, and earned certificates.",tips:["Review completed courses to understand skills acquired","Check for patterns in course choice and completion","Use completed courses when discussing educational progress","Archive data for future reference or applications"]},{id:"courses-details",heading:"Course Content & Materials",content:"View course details, learning materials, and activities. Understand what your child is learning and how the course is structured.",tips:["Review learning outcomes to understand course goals","Check prerequisites your child should have","See instructor credentials and background","Review course format (self-paced, synchronous, etc.)"]}]},{id:"progress",title:"Learning Progress",icon:"ðŸ“ˆ",description:"Track detailed learning progress and performance metrics",sections:[{id:"progress-tracking",heading:"Progress Tracking",content:"Monitor your child's progress in each course through percentage completion, assignments submitted, quizzes taken, and time spent learning.",tips:["Regular progress indicates healthy engagement","No progress for extended period may indicate disengagement","Monitor consistency - steady progress is better than sporadic","Note any dramatic changes in progress patterns"]},{id:"progress-assessment",heading:"Performance & Grades",content:"View your child's performance in courses through grades, quiz scores, and assignment results. Understand strengths and areas for improvement.",tips:["Review performance to understand learning strengths","Identify areas where your child needs additional help","Discuss grades and feedback with your child","Connect feedback to real-world applications"]},{id:"progress-analytics",heading:"Learning Analytics",content:"Detailed analytics showing learning patterns, time spent per course, topic mastery levels, and comparative performance metrics.",tips:["Identify optimal learning times for your child","See which topics are challenging vs. easy","Monitor study consistency and time management","Use data to discuss learning strategies"]}]},{id:"certificates",title:"Certificates & Achievements",icon:"ðŸ†",description:"View and manage certificates your child has earned",sections:[{id:"certificates-earned",heading:"Earned Certificates",content:"Collection of all certificates your child has earned by completing courses. Each certificate shows achievement date and course details.",tips:["Celebrate certificate achievements with your child","Download and print certificates to display","Share certificates with grandparents or family","Archive for future school or job applications"]},{id:"certificates-download",heading:"Download & Share",content:"Download certificates as PDFs. Share with schools, tutors, employers, or include in portfolios.",tips:["Download in high-quality PDF format","Print for display on child's wall or portfolio","Share with child's school for academic records","Use in job applications for internships"]},{id:"certificates-verification",heading:"Certificate Verification",content:"Certificates include verification codes. Schools or employers can verify authenticity of certificates using the code.",tips:["Keep verification codes for future reference","Share verification details with relevant institutions","Certificates are officially recorded in system","Verify certificate details before sharing"]}]},{id:"attendance",title:"Attendance Monitoring",icon:"ðŸ“…",description:"Monitor your child's attendance and session participation",sections:[{id:"attendance-records",heading:"Attendance Records",content:"View attendance records for synchronous courses and batch learning sessions. See dates attended and any absences.",tips:["Regular attendance ensures course completion eligibility","Absences may impact certificate awards","Encourage attendance for live interactive sessions","Review attendance with your child"]},{id:"attendance-importance",heading:"Attendance Impact",content:"Attendance is crucial for synchronous learning experiences. Regular participation improves learning outcomes and course completion.",tips:["Ensure your child attends scheduled sessions","Create regular learning schedule","Provide quiet space for learning","Encourage active participation during sessions"]},{id:"attendance-support",heading:"Supporting Attendance",content:"As parent, help establish consistent learning routines. Support your child in meeting attendance commitments.",tips:["Set regular learning times in family schedule","Minimize distractions during course time","Communicate schedule conflicts with instructors","Celebrate good attendance milestones"]}]},{id:"communication",title:"Communication",icon:"ðŸ’¬",description:"Communicate with instructors and manage learning support",sections:[{id:"communication-instructors",heading:"Contacting Instructors",content:"Send messages to course instructors regarding your child's learning, concerns, or accommodation needs.",tips:["Reach out if child struggles with course content","Communicate about attendance or health issues","Discuss accommodations for special needs","Be professional and constructive in communication"]},{id:"communication-support",heading:"Learning Support",content:"Access resources for supporting your child's learning at home. Find tutoring, study guides, and parental guidance materials.",tips:["Review course materials to understand content","Help your child create study schedules","Identify areas where additional support is needed","Connect with tutors or learning specialists"]}]},{id:"settings",title:"Account Settings",icon:"âš™ï¸",description:"Manage account preferences and notification settings",sections:[{id:"settings-notifications",heading:"Notification Preferences",content:"Customize which notifications you receive. Choose alert types, frequency, and delivery methods (email, SMS, in-app).",tips:["Enable alerts for course completions and certificates","Get notified of low engagement or performance concerns","Set notification frequency (immediate, daily digest, weekly)","Choose preferred contact method"]},{id:"settings-privacy",heading:"Privacy & Consent",content:"Manage privacy settings and data usage. Control how child's information is used and shared.",tips:["Review and approve data consent forms","Manage third-party sharing preferences","Protect child's privacy and data","Request data export or deletion if needed"]},{id:"settings-profile",heading:"Parent Profile",content:"Update your parent account information including name, email, phone, and contact preferences.",tips:["Keep contact information current for important notifications","Use valid email for account recovery","Maintain multiple contact methods","Review privacy settings regularly"]}]}],Or=[{id:"overview",title:"Dashboard Overview",icon:"ðŸ“Š",description:"Get started with the Admin Dashboard",sections:[{id:"overview-intro",heading:"What is the Admin Dashboard?",content:"The Admin Dashboard is a comprehensive management center for business administrators. From here, you can monitor platform metrics, manage users and content, handle enrollments, and access analytics to optimize your educational platform.",tips:["Quick Stats show key metrics at a glance","Notifications keep you informed about pending actions","Tab navigation provides quick access to different management areas"],example:"When you log in, you immediately see pending enrollments (4), new users this week (12), and total platform users (2,341) in the Quick Stats section."},{id:"overview-sidebar",heading:"Sidebar Navigation",content:"The left sidebar contains all main management modules. Click any tab to navigate to that section. You can collapse the sidebar to maximize content area.",tips:["Collapse sidebar with the hamburger menu icon","All tabs clearly show their purpose with icons and labels","Active tab is highlighted with a blue background"],example:'Click "Enrollments" tab to see all pending and approved student enrollments.'},{id:"overview-notifications",heading:"Notifications & Alerts",content:"The notification bell icon in the top-right shows important system alerts and updates. These include pending enrollments, new user registrations, and system warnings that need your attention.",tips:["Click the bell icon to view all notifications","Unread notifications are marked with a badge count","Each notification shows type (info, warning, success, error) with color coding"],example:'A warning notification appears: "15 enrollments pending approval - Review and approve to enable student access"'},{id:"overview-quickstats",heading:"Quick Stats Section",content:"The Quick Stats cards display key metrics: Pending Enrollments (needing approval), New Users (from last 7 days), and Total Users (cumulative platform users). These help you quickly assess platform health.",tips:["Stats refresh automatically when you navigate","Click a stat card to jump to the relevant management section","Use these numbers to prioritize daily tasks"],example:"If Pending Enrollments shows 8, you have 8 students waiting for enrollment approval. Click to go to Enrollments tab."}]},{id:"analytics",title:"Site Analytics",icon:"ðŸ“ˆ",description:"Monitor platform performance and user behavior",sections:[{id:"analytics-overview",heading:"Analytics Dashboard",content:"The Analytics section provides comprehensive insights into platform performance, user engagement, course popularity, and revenue metrics. Use these insights to make data-driven decisions about platform improvements.",tips:["Charts update in real-time with new data","Filter analytics by date range for historical comparison","Export reports for board meetings or stakeholder updates"],example:"The User Growth chart shows your platform has grown from 1,500 users in January to 2,341 users today, a 56% increase."},{id:"analytics-engagement",heading:"Engagement Metrics",content:"Track how actively users are engaging with the platform. Metrics include daily active users, course completion rates, average learning time, and user retention rates.",tips:["High engagement rates indicate good content quality","Low engagement may signal need for course improvements or better marketing","Seasonal trends are normal in educational platforms"],example:"Your analytics show 65% of enrolled students are actively participating in courses, with an average daily learning time of 45 minutes."},{id:"analytics-revenue",heading:"Revenue & Financial Analytics",content:"Monitor monetary performance of your platform including total revenue, average enrollment value, refund rates, and revenue by course or batch.",tips:["Revenue shows subscription income and one-time purchases combined","Compare revenue trends month-over-month to identify seasonality","High-revenue courses are your top performers"],example:'This month shows $25,430 in total revenue, with the "Advanced Python" course generating $8,200 alone.'},{id:"analytics-courses",heading:"Course Performance Analytics",content:"See which courses are most popular, have highest completion rates, and generate the most revenue. This helps you identify successful content to replicate and underperforming courses needing improvement.",tips:["Sort by enrollments, revenue, or completion rate","High enrollment but low completion may indicate quality issues","Use this data to guide content creation priorities"],example:'Analytics show "Web Development Bootcamp" has 156 enrollments with 82% completion rate and $12,400 revenue - your top performer.'}]},{id:"enrollments",title:"Enrollment Management",icon:"âœ…",description:"Approve, reject, and manage student enrollments",sections:[{id:"enrollments-pending",heading:"Pending Enrollments Queue",content:"All new enrollment requests appear in a queue awaiting approval. Review student information, course details, and enrollment requests before approving or rejecting.",tips:["Prioritize processing pending enrollments daily","Check student eligibility requirements before approving","Bulk actions available for processing multiple enrollments at once"],example:'You see 4 pending enrollments: 3 students enrolled in "Python Basics" and 1 in "Data Science". Review each, then approve all with the "Approve All" button.'},{id:"enrollments-approval",heading:"Approving Enrollments",content:'Click the "Approve" button next to an enrollment to confirm it. Once approved, the student gains access to the course and can begin learning immediately.',tips:["Approved enrollments cannot be undone - review carefully before approving","The student receives an email confirmation when approved","Keep approval times quick to maintain student satisfaction"],example:'You review "Rajesh Kumar" for Python Basics enrollment - verified student details are correct, click "Approve", and he immediately gains course access.'},{id:"enrollments-rejection",heading:"Rejecting Enrollments",content:'If an enrollment does not meet requirements, click "Reject" and provide a reason. The student receives notification with explanation and can reapply after addressing issues.',tips:["Always provide a clear rejection reason","Common reasons: prerequisite not met, payment failed, duplicate enrollment","Help students understand what they need to do to be approved"],example:'Student lacks required prerequisite (Java Basics). Click "Reject", select reason "Prerequisite not met", and add message: "Complete Java Basics first".'},{id:"enrollments-filters",heading:"Filtering & Search",content:"Use search and filter options to find specific enrollments. Filter by status (pending, approved, rejected), course, student name, or date range.",tips:["Search by student email for quick lookup","Filter by course to see all students in a batch","Use date filters to see enrollments from specific time periods"],example:'To approve all enrollments from today, filter by "Status: Pending" and "Date: Today", then use bulk approve action.'}]},{id:"students",title:"Student Management",icon:"ðŸ‘¥",description:"Manage student profiles and enrollment data",sections:[{id:"students-view",heading:"Student Profiles",content:"View comprehensive student information including personal details, enrolled courses, progress, certificates earned, and engagement metrics. Each student has a detailed profile page.",tips:["Click any student to view their full profile","View all enrolled courses and completion status","See student learning history and certificates"],example:'Click on "Priya Sharma" to see her profile with 3 enrolled courses, 1 completed course with certificate, and 87% overall progress.'},{id:"students-enrollment",heading:"Managing Student Enrollments",content:"From a student profile, you can view all their course enrollments, see progress, modify enrollment status, or unenroll them if needed.",tips:["Unenroll only as a last resort - provide explanation to student","Monitor student progress to identify those needing support","Can manually enroll students in courses if needed"],example:'View "Amit Singh" enrolled in Python course at 45% completion. Contact him if progress stalls for 2 weeks.'},{id:"students-progress",heading:"Tracking Student Progress",content:"Monitor each student progress through courses including lesson completion, quiz scores, assignment submissions, and overall performance.",tips:["Low progress may indicate student needs support","Quiz and assignment scores show subject mastery","Intervene early if student falls significantly behind"],example:'Student "Deepak" completed 8 of 20 lessons, scored 65% on Quiz 2, and hasnt submitted Assignment 3. Contact to provide support.'},{id:"students-search",heading:"Search & Filter Students",content:"Find specific students using search by name, email, student ID, or filter by course, progress level, or enrollment date.",tips:["Search is case-insensitive and partial matches work","Filter by status to find active, inactive, or completed students","Bulk export student list for reporting"],example:'Search "Sharma" to find all students with that name, or filter by course "Web Development" to see all students in that batch.'}]},{id:"users",title:"User Management",icon:"ðŸ‘¤",description:"Manage system users and access control",sections:[{id:"users-overview",heading:"User Accounts & Roles",content:"Manage all system users and their roles. Users can be Students, Teachers, Parents, Business Admins, or Super Admins. Each role has different permissions and capabilities.",tips:["Students can only access courses theyve enrolled in","Teachers create and manage courses, grade assignments","Business Admins manage users, enrollments, content, and analytics","Super Admins have full system access"],example:"Your system has: 2,100 Students, 45 Teachers, 320 Parents, 3 Business Admins, and 1 Super Admin = 2,469 total users."},{id:"users-add",heading:"Adding New Users",content:"Create new user accounts manually or invite via email. Assign role, email, and initial password. Users can change password on first login.",tips:["Bulk invite features available for adding multiple users","Email invitations include login instructions","Set temporary passwords that users must change on first login"],example:'Add new teacher: Click "Add User", enter name "Dr. Patel", email "patel@school.edu", assign role "Teacher", send invitation. Dr. Patel receives email and sets their password.'},{id:"users-roles",heading:"Managing User Roles",content:"Change user roles to promote teachers to admins, convert student accounts to parent accounts, or modify permissions. Role changes take effect immediately.",tips:["Be careful changing roles - ensure user understands new responsibilities","Super Admin role should be limited to senior staff only","Teachers promoted to Business Admin get access to analytics and user management"],example:'Experienced teacher "Rajesh" doing excellent course management. Change his role from Teacher to Business Admin to help manage the platform.'},{id:"users-deactivate",heading:"Deactivating & Removing Users",content:"Deactivate user accounts temporarily (they cannot log in) or permanently delete accounts. Deactivation is reversible, deletion is not.",tips:["Always deactivate instead of delete if you might need the account later","Notify users before deactivation","Deletion removes all user data - use cautiously"],example:"Student graduated and will not return. Deactivate account to keep records but prevent login. If confirmed no return needed, then permanently delete."}]},{id:"teachers",title:"Teacher Management",icon:"ðŸ‘¨â€ðŸ«",description:"Manage teacher profiles, assignments, and performance",sections:[{id:"teachers-overview",heading:"Teacher Profiles & Dashboard",content:"View detailed information about each teacher including their qualification, subject expertise, courses taught, student reviews, and teaching performance metrics.",tips:["Click any teacher to see their complete profile","View all courses assigned to the teacher with student count","See average student satisfaction ratings and reviews","Track teaching hours and engagement metrics"],example:'View "Prof. Sharma" profile: Teaching "Python Basics" (45 students), "Advanced Python" (28 students), 4.8â˜… rating from 150 student reviews, teaching for 2 years.'},{id:"teachers-assign",heading:"Assigning Teachers to Courses",content:"Assign qualified teachers to course batches. A teacher can teach multiple courses simultaneously if workload permits. Assignments include subject area, student capacity, and time commitment expectations.",tips:["Match teacher expertise to course subject matter","Consider teacher workload - limit to 2-3 courses per term","New teachers should start with smaller batches","Teacher-student ratio typically 1:25 to 1:40 optimal"],example:'Assign "Dr. Kumar" to teach "Java Advanced" batch starting next quarter. 35 students enrolled, 8-week duration, 4 hours per week commitment expected.'},{id:"teachers-performance",heading:"Monitoring Teacher Performance",content:"Track teaching quality through student feedback, course completion rates, assignment grading speed, and attendance. Identify high performers for recognition and underperformers for support.",tips:["Average student rating above 4.5â˜… indicates excellent teaching","Fast assignment grading (within 3 days) improves student satisfaction","High course completion rates reflect course quality and teacher engagement","Identify mentorship opportunities for new teachers"],example:'Teacher "Asha" has 4.2â˜… rating, grades assignments within 5 days, 68% student completion rate. Provide mentoring to improve grading speed and engagement.'},{id:"teachers-training",heading:"Teacher Support & Training",content:"Provide resources, training materials, and support for teachers to improve course delivery. Access to pedagogical resources, platform best practices, and peer collaboration opportunities.",tips:["Offer regular training on platform features and pedagogy","Share best practices from high-performing teachers","Provide feedback and coaching for improvement areas","Facilitate peer learning and collaboration"],example:'Monthly teacher workshops on "Active Learning Strategies" and "Using Platform Analytics". Teachers network and share successful course modules.'}]},{id:"assignments",title:"Course Assignments Management",icon:"ðŸ“‹",description:"Create and manage course assignments and assessments",sections:[{id:"assignments-overview",heading:"Assignment Management System",content:"Centralized system for creating, distributing, grading, and tracking assignments across all courses. Teachers can create assignments; admins can monitor, audit, and ensure quality standards.",tips:["Set clear deadlines with timezone awareness","Use rubrics for consistent and fair grading","Allow resubmissions for low-scoring assignments","Track late submissions separately for reporting"],example:"View all 234 active assignments across 18 course batches. Filter by status (active, graded, overdue) or course to find assignments needing attention."},{id:"assignments-create",heading:"Creating Assignments",content:"Define assignment parameters: title, description, submission type (file, text, link), deadline, points, rubric criteria, and late submission policies. Support for various file types and formats.",tips:["Clear instructions reduce student confusion and support requests","Set realistic deadlines aligned with course pace","Include rubric details (e.g., clarity 20%, correctness 60%, completeness 20%)","Allow 1-2 days grace period for technical issues"],example:'Create assignment: "Build Personal Website", Description with requirements, Due Sunday 11:59pm, 50 points, Rubric with 5 criteria, Allow resubmission for 5 days.'},{id:"assignments-grading",heading:"Grading & Feedback",content:"Monitor submission status, grade assignments using rubrics, provide detailed feedback, and track grading progress. Support for partial grading and peer review workflows.",tips:["Grade within 3-5 days to maintain student motivation","Use rubric-based grading for consistency","Provide constructive feedback for improvement","Identify common mistakes to address in class"],example:'Monitor "Python Basics" Week 3 assignment: 38 submitted, 5 pending, 2 overdue. Grade 10 per day to stay on pace. Use rubric for quick, consistent grading.'},{id:"assignments-analytics",heading:"Assignment Analytics & Reports",content:"Analyze submission trends, grading times, score distributions, and student performance patterns. Generate reports by course, teacher, or assignment type.",tips:["Track average submission time relative to deadline","Monitor score distribution to identify gaps","Identify students struggling with specific assignment types","Use data to improve assignment design"],example:"Report shows: 68% on-time submission rate, average score 75%, submission peak 2 hours before deadline. Consider deadline too tight - extend next cycle."}]},{id:"media",title:"Media Management",icon:"ðŸŽ¬",description:"Upload, organize, and manage multimedia content",sections:[{id:"media-overview",heading:"Media & Asset Management",content:"Centralized library for managing course videos, images, documents, audio files, and other multimedia assets. Supports HD streaming, thumbnail generation, and metadata tagging.",tips:["Organize media by course or topic for easy access","Use descriptive filenames and metadata for searchability","Monitor storage usage to manage platform costs","Regular backups ensure media availability"],example:"Media library contains 2,340 assets: 450 videos (245GB), 680 images (12GB), 420 PDFs (8GB), 790 audio files (15GB). Well organized by course."},{id:"media-upload",heading:"Uploading & Encoding Media",content:"Upload media files with automatic encoding to multiple quality levels (480p, 720p, 1080p for video). Supports drag-and-drop bulk uploads and background processing.",tips:["Upload high-resolution source files - system auto-optimizes","Compress images before upload to save bandwidth","Batch upload multiple files simultaneously","Monitor upload progress and encoding status"],example:'Upload course video: "Python 101 Lecture.mp4" (2.5GB). System processes and creates 480p, 720p, 1080p versions. Auto-generates thumbnail. Ready in 30 minutes.'},{id:"media-storage",heading:"Storage & Optimization",content:"Monitor storage usage, implement retention policies, optimize file sizes, and archive old media. Balance quality with storage costs and bandwidth.",tips:["Set auto-delete policy for outdated course materials (e.g., after 2 years)","Archive high-quality originals separately from streaming versions","Monitor video bitrate - higher quality for lectures, lower for thumbnail previews","Use CDN for global distribution and fast loading"],example:'Review storage: Course videos taking 280GB. Identify "Archive 2023" videos (80GB) for cheaper archive storage. Saves 30% on monthly costs.'},{id:"media-access",heading:"Media Access & Permissions",content:"Control who can access, download, or share media. Set permissions by course, student group, or individual. Support for expiring links and watermarking.",tips:["Restrict downloads to prevent unauthorized sharing","Use watermarks on sensitive or premium content","Create expiring download links for temporary access","Track media access for licensing and compliance"],example:'Premium course video: Set access for "Advanced Python" batch only. Add watermark with student name. Create 30-day download links. Log all access attempts.'}]},{id:"cms",title:"Content Management System (CMS)",icon:"âœï¸",description:"Manage course pages, content blocks, and digital assets",sections:[{id:"cms-overview",heading:"CMS Overview",content:"Comprehensive content management system for creating and managing course pages, content blocks, and structured learning materials. Supports rich text, video embeds, code blocks, and interactive elements.",tips:["Plan content structure before creating pages","Use consistent formatting and styling across courses","Version control allows reverting to previous content","Preview content before publishing to students"],example:'Manage "Python Basics" course: 24 lesson pages (introduction, concepts, examples), 15 project pages, 8 quiz pages, 3 resource pages. All organized in course hierarchy.'},{id:"cms-create",heading:"Creating & Editing Content",content:"Create content pages with rich text editor, embed videos, code snippets, images, and interactive elements. Draft/Preview/Publish workflow ensures quality.",tips:["Use heading hierarchy (H1, H2, H3) for structure","Break content into short sections for readability","Embed videos directly into content pages","Use consistent formatting templates"],example:'Create lesson: "Variables in Python". Title, introduction paragraph, 3 concept sections with examples, embedded video (5min), practice code block, summary.'},{id:"cms-pages",heading:"Managing Page Hierarchy",content:"Organize content into logical hierarchies: Courses > Modules > Lessons. Set dependencies, prerequisites, and unlock conditions. Control student access flow.",tips:["Sequential modules improve learning flow",'Set "complete Module 1 before accessing Module 2" requirements',"Add progress indicators showing completion status","Allow teachers to override prerequisites for individual students if needed"],example:"Course Structure: Module 1 (Basics) > Lesson 1-5, Module 2 (Intermediate) requires Module 1 completion, Module 3 (Advanced) requires Module 2 completion."},{id:"cms-publish",heading:"Publishing & Versioning",content:"Control when content becomes visible to students. Schedule content releases, maintain version history, and compare changes between versions.",tips:["Schedule lesson releases to match course calendar","Version history allows comparison of changes","Bulk publish/unpublish multiple pages at once","Archive old content versions for compliance"],example:'Schedule "Week 4 Lessons" to publish Monday 9am. Content unavailable until then. If errors found, revert to previous version in seconds.'}]},{id:"courses",title:"Course Management",icon:"ðŸ“š",description:"Create, edit, and manage courses and batches",sections:[{id:"courses-overview",heading:"Course & Batch System",content:"Courses are educational programs containing multiple lessons, assignments, and quizzes. Batches are scheduled instances of courses with specific start/end dates and enrollment limits.",tips:["Multiple batches can run for the same course with different schedules","Each batch has its own students and can have different pricing","Courses must have at least one batch before students can enroll"],example:'Course "Python Basics" has 3 active batches: Jan-Mar (40 students), Feb-Apr (25 students), Mar-May (starting soon with 0 enrollments).'},{id:"courses-create",heading:"Creating New Courses",content:"Add new courses to your platform with course title, description, learning outcomes, difficulty level, and course duration. Teachers can then be assigned to teach the course.",tips:["Write clear course descriptions to attract students","List specific learning outcomes students can expect","Set appropriate difficulty levels (Beginner, Intermediate, Advanced)","Define course prerequisites if needed"],example:'Create new course: Title "Advanced JavaScript", Description "Master async programming, APIs, and frameworks", Duration "8 weeks", Difficulty "Advanced".'},{id:"courses-content",heading:"Organizing Course Content",content:"Courses contain modules (main sections) with lessons (individual content pieces). Each lesson can include video, text, code examples, assignments, and quizzes.",tips:["Logical module organization improves student learning","Mix content types - video, text, interactive exercises for engagement","Include practice problems and real-world projects","Build knowledge progressively from simple to complex"],example:"JavaScript course structured as: Module 1 (Basics), Module 2 (DOM), Module 3 (Async), Module 4 (APIs), Module 5 (Frameworks with real project)"},{id:"courses-batch",heading:"Creating & Managing Batches",content:"Create specific batch instances with start date, end date, max students, pricing, and assigned teacher. Each batch runs independently with its own enrollment and grading.",tips:["Schedule batches around student demand and teacher availability","Limit batch sizes for better teacher-student ratio and engagement","Offer multiple batch dates throughout the year","Different pricing possible for different batches if needed"],example:'Create batch of Python course: Start Jan 15, End Mar 15, Max 30 students, Price $199, Assign Teacher "Rajesh Kumar", Enable early bird discount 10%.'}]},{id:"gurukuls",title:"Gurukul Management",icon:"ðŸ›ï¸",description:"Manage educational institutions and centers",sections:[{id:"gurukuls-overview",heading:"What are Gurukuls?",content:"Gurukuls are educational institutions or learning centers within your platform. They can represent physical schools, training centers, or online learning organizations. Each gurukul can have its own courses, teachers, and students.",tips:["Use Gurukuls to organize content by educational institution","Each gurukul has its own brand and independent operations","Perfect for school franchises or multi-center organizations"],example:'Your platform hosts 3 gurukuls: "Delhi Public School", "STEM Academy", and "Online Learning Center", each with separate course catalogs.'},{id:"gurukuls-create",heading:"Creating a Gurukul",content:"Set up new educational institution with name, location, description, brand logo, and administrator contact. Configure governance and policies specific to the gurukul.",tips:["Professional branding increases trust with students","Clear location information helps local students find your institution","Set up administrator contact for gurukul-specific issues"],example:'Add gurukul: "Mumbai Tech Academy", Location "Mumbai", Description "Leading technology and programming school", Logo upload, Admin "Ms. Sharma".'},{id:"gurukuls-teachers",heading:"Managing Gurukul Teachers",content:"Assign teachers to gurukuls. Teachers can teach courses only in gurukuls they are assigned to. Multiple teachers per gurukul ensure course coverage.",tips:["Each teacher specializes in certain subjects - assign accordingly","Monitor teacher workload - typically 2-3 courses per teacher maximum","Ensure subject expertise alignment with courses"],example:'Gurukul "Tech Academy" has 12 teachers: 4 teaching Python courses, 3 teaching Web Development, 2 teaching Data Science, 3 teaching Mobile Development.'},{id:"gurukuls-performance",heading:"Gurukul Performance Analytics",content:"Track each gurukuls performance including total students, courses offered, revenue generated, student satisfaction ratings, and course completion rates.",tips:["Compare performance across gurukuls to identify best practices","High completion rates indicate quality content and instruction","Low ratings suggest need for teacher training or curriculum review"],example:"Compare Performance: Delhi Center (420 students, 8 courses, 78% completion, 4.5â˜…), Mumbai Center (380 students, 6 courses, 72% completion, 4.2â˜…)."}]},{id:"certificates",title:"Certificate Management",icon:"ðŸŽ“",description:"Create and manage course completion certificates",sections:[{id:"certificates-overview",heading:"Certificate System",content:"Upon course completion, students receive digital certificates. Certificates validate course completion and can be downloaded, printed, or shared on professional networks.",tips:["Professional certificates increase student motivation","Certificates can be verified by employers through unique certificate ID","Students can add certificates to LinkedIn and resumes"],example:'Student "Ananya" completes "Python Basics" with 85% score. She receives certificate with unique ID, completion date, and course details. Can download and verify.'},{id:"certificates-create",heading:"Designing Certificates",content:"Create professional certificate templates with course branding, completion criteria, and layout customization. Set minimum score requirements for certificate eligibility.",tips:["Include your institution name prominently","Use professional design and logos","Specify completion requirements (e.g., score must be 60% or higher)","Include signature lines or digital signatures for authenticity"],example:'Design certificate template: Header "XYZ Educational Platform", Course name, Student name, Completion date, Signature line, Unique certificate ID, Blue gradient background.'},{id:"certificates-criteria",heading:"Setting Completion Criteria",content:"Define what students must accomplish to earn certificates. Common criteria include minimum score on final assessment, completion of all lessons, or passing required assignments.",tips:["Set realistic but meaningful criteria","Higher standards increase certificate value","Consider difficulty level when setting requirements"],example:"Python Basics certificate requires: 100% lesson completion AND 70% minimum on final quiz. Advanced Python requires 80% minimum score."},{id:"certificates-verify",heading:"Certificate Verification",content:"Employers and institutions can verify certificate authenticity using the unique certificate ID. Build trust through transparent verification processes.",tips:["Maintain certificate database for verification queries","Respond quickly to verification requests","Build reputation as trustworthy credential issuer"],example:'Employer verifies "Rajesh Kumar" certificate ID "PYT-2024-12549" confirming he completed Python Basics with distinction.'}]}];async function $r(e){try{const a=await async function(e,a){try{if(e===a)return!0;const{data:s}=await O.from("profiles").select("parent_id").eq("id",a).single();return!(!s||s.parent_id!==e)}catch(i){return console.error("Error verifying deletion permission:",i),!1}}(e.user_id,e.target_user_id);if(!a)return console.error("User does not have permission to request deletion for target user"),null;const{data:s}=await O.from("deletion_requests").select("*").eq("target_user_id",e.target_user_id).in("status",["pending","approved","processing"]);if(s&&s.length>0)return console.error("There is already a pending or approved deletion request for this user"),null;const{data:r,error:i}=await O.from("deletion_requests").insert({user_id:e.user_id,target_user_id:e.target_user_id,request_type:e.request_type,status:"pending",reason:e.reason,ip_address:e.ip_address,user_agent:e.user_agent,requested_at:(new Date).toISOString()}).select("\n        *,\n        requester:profiles!deletion_requests_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        ),\n        target_user:profiles!deletion_requests_target_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        )\n      ").single();if(i)return console.error("Error creating deletion request:",i),null;Y.invalidatePattern("deletion:.*");return{...r,requester:r.requester?Q(r.requester):null,target_user:r.target_user?Q(r.target_user):null}}catch(a){return console.error("Error in createDeletionRequest:",a),null}}async function Yr(e){try{const{data:a}=await O.from("profiles").select("role").eq("id",e).single(),[s,r,i,t,o,n,l]=await Promise.all([O.from("enrollments").select("*",{count:"exact",head:!0}).eq("student_id",e).then(e=>e.count||0),O.from("certificates").select("*",{count:"exact",head:!0}).eq("student_id",e).then(e=>e.count||0),O.from("attendance_records").select("*",{count:"exact",head:!0}).eq("student_id",e).then(e=>e.count||0),O.from("batch_students").select("*",{count:"exact",head:!0}).eq("student_id",e).then(e=>e.count||0),O.from("compliance_submissions").select("*",{count:"exact",head:!0}).eq("user_id",e).then(e=>e.count||0),O.from("student_consent").select("*",{count:"exact",head:!0}).eq("student_id",e).then(e=>e.count||0),"parent"===a?.role?O.from("profiles").select("*",{count:"exact",head:!0}).eq("parent_id",e).eq("role","student").then(e=>e.count||0):Promise.resolve(0)]);return{profiles:1,enrollments:s,certificates:r,attendance_records:i,batch_students:t,compliance_submissions:o,consent_records:n,children_accounts:l,total_records:1+s+r+i+t+o+n+l}}catch(a){return console.error("Error calculating deletion impact:",a),{profiles:0,enrollments:0,certificates:0,attendance_records:0,batch_students:0,compliance_submissions:0,consent_records:0,children_accounts:0,total_records:0}}}async function Kr(e){try{const{data:a,error:s}=await O.from("deletion_requests").select("\n        *,\n        requester:profiles!deletion_requests_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        ),\n        target_user:profiles!deletion_requests_target_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        ),\n        reviewer:profiles!deletion_requests_reviewed_by_fkey (\n          id,\n          full_name,\n          email\n        )\n      ").eq("id",e).single();if(s)return console.error("Error fetching deletion request:",s),null;return{...a,requester:a.requester?Q(a.requester):null,target_user:a.target_user?Q(a.target_user):null,reviewer:a.reviewer?Q(a.reviewer):null}}catch(a){return console.error("Error in getDeletionRequest:",a),null}}async function Jr(e){try{const a=await Kr(e);if(!a)return null;const s=a.target_user_id?await Yr(a.target_user_id):{profiles:0,enrollments:0,certificates:0,attendance_records:0,batch_students:0,compliance_submissions:0,consent_records:0,children_accounts:0,total_records:0};return{...a,impact:s}}catch(a){return console.error("Error in getDeletionRequestWithImpact:",a),null}}async function Qr(e){try{let a=O.from("deletion_requests").select("\n        *,\n        requester:profiles!deletion_requests_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        ),\n        target_user:profiles!deletion_requests_target_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        ),\n        reviewer:profiles!deletion_requests_reviewed_by_fkey (\n          id,\n          full_name,\n          email\n        )\n      ",{count:"exact"});e?.status&&(a=a.eq("status",e.status)),e?.limit&&(a=a.limit(e.limit)),e?.offset&&(a=a.range(e.offset,e.offset+(e.limit||10)-1)),a=a.order("created_at",{ascending:!1});const{data:s,error:r,count:i}=await a;if(r)return console.error("Error fetching deletion requests:",r),{data:[],count:0};return{data:(s||[]).map(e=>({...e,requester:e.requester?Q(e.requester):null,target_user:e.target_user?Q(e.target_user):null,reviewer:e.reviewer?Q(e.reviewer):null}))||[],count:i||0}}catch(a){return console.error("Error in getAllDeletionRequests:",a),{data:[],count:0}}}async function Zr(e,a,s,r,i,t,o,n){try{await O.from("deletion_audit_logs").insert({deletion_request_id:e,action:s,table_name:r,records_affected:i,success:t,error_message:o,performed_by:a,performed_at:(new Date).toISOString(),metadata:n})}catch(l){console.error("Error logging deletion action:",l)}}async function Xr(e){try{const{data:a,error:s}=await O.from("deletion_audit_logs").select("*").eq("deletion_request_id",e).order("performed_at",{ascending:!0});return s?(console.error("Error fetching deletion audit logs:",s),[]):a||[]}catch(a){return console.error("Error in getDeletionAuditLogs:",a),[]}}async function ei(){try{const[e,a,s,r,i]=await Promise.all([O.from("deletion_requests").select("*",{count:"exact",head:!0}).then(e=>e.count||0),O.from("deletion_requests").select("*",{count:"exact",head:!0}).eq("status","pending").then(e=>e.count||0),O.from("deletion_requests").select("*",{count:"exact",head:!0}).eq("status","approved").then(e=>e.count||0),O.from("deletion_requests").select("*",{count:"exact",head:!0}).eq("status","rejected").then(e=>e.count||0),O.from("deletion_requests").select("*",{count:"exact",head:!0}).eq("status","completed").then(e=>e.count||0)]);return{total_requests:e,pending_requests:a,approved_requests:s,rejected_requests:r,completed_requests:i}}catch(e){return console.error("Error getting deletion stats:",e),{total_requests:0,pending_requests:0,approved_requests:0,rejected_requests:0,completed_requests:0}}}function ai({userId:i,userRole:t,targetUserId:o,targetUserName:n,className:l="",compactView:c=!1}){const[m,d]=a.useState(!1),[u,h]=a.useState(!1),[b,g]=a.useState("student_data"),[N,x]=a.useState(""),[p,D]=a.useState(null),[f,S]=a.useState([]),[y,v]=a.useState(!1),[j,T]=a.useState(!1),[P,E]=a.useState(null),I=o||i,H=n||"your",V="parent"===t&&o&&o!==i,W=a.useCallback(async()=>{try{const e=await async function(e){try{const{data:a,error:s}=await O.from("deletion_requests").select("\n        *,\n        requester:profiles!deletion_requests_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        ),\n        target_user:profiles!deletion_requests_target_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        ),\n        reviewer:profiles!deletion_requests_reviewed_by_fkey (\n          id,\n          full_name,\n          email\n        )\n      ").or(`user_id.eq.${e},target_user_id.eq.${e}`).order("created_at",{ascending:!1});return s?(console.error("Error fetching user deletion requests:",s),[]):(a||[]).map(e=>({...e,requester:e.requester?Q(e.requester):null,target_user:e.target_user?Q(e.target_user):null,reviewer:e.reviewer?Q(e.reviewer):null}))||[]}catch(a){return console.error("Error in getUserDeletionRequests:",a),[]}}(i);S(e)}catch(e){console.error("Error loading deletion requests:",e)}},[i]);a.useEffect(()=>{W()},[W]);const w=async()=>{if(y)if(N.trim()){d(!0);try{const e=await fetch("https://api.ipify.org?format=json").catch(()=>null),a=e?await e.json():null;await $r({user_id:i,target_user_id:I,request_type:b,reason:N.trim(),ip_address:a?.ip,user_agent:navigator.userAgent})?(s.success("Deletion request submitted successfully"),h(!1),x(""),v(!1),W()):s.error("Failed to submit deletion request")}catch(e){console.error("Error submitting deletion request:",e),s.error("An error occurred while submitting the request")}finally{d(!1)}}else s.error("Please provide a reason for the deletion request");else s.error("Please acknowledge that you understand the consequences")},_=a=>e.jsxDEV(oe,{className:{pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",processing:"bg-blue-100 text-blue-800",completed:"bg-gray-100 text-gray-800",failed:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800",children:a.charAt(0).toUpperCase()+a.slice(1)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:165,columnNumber:7},this),C=f.filter(e=>e.target_user_id===I),M=C.some(e=>["pending","processing","approved"].includes(e.status));return u?e.jsxDEV("div",{className:`bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-8 border border-white/20 ${l}`,children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV(Ge,{className:"h-8 w-8 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:187,columnNumber:13},this),e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Request Data Deletion"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:188,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:186,columnNumber:11},this),e.jsxDEV(re,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:190,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:185,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(Ge,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:199,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-red-900 mb-2",children:"Warning"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:201,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-red-800",children:["This action will permanently delete"," ",V?`${H}'s`:"your"," personal data from our system. This process cannot be undone. Please read carefully before proceeding."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:202,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:200,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:198,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:197,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deletion Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:213,columnNumber:13},this),e.jsxDEV("select",{value:b,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500",disabled:m,children:[e.jsxDEV("option",{value:"student_data",children:"Delete Student Data Only"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:220,columnNumber:15},this),e.jsxDEV("option",{value:"full_account",children:"Delete Full Account"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:221,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:214,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"full_account"===b?"This will delete all data and close the account permanently":"This will delete personal data but anonymize academic records"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:223,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:212,columnNumber:11},this),p&&e.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Data to be Affected:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:233,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Enrollments:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:236,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:p.enrollments},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:237,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:235,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Certificates:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:240,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:p.certificates},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:241,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:239,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Attendance Records:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:244,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:p.attendance_records},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:245,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:243,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Batch Assignments:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:248,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:p.batch_students},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:249,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:247,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Compliance Records:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:252,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:p.compliance_submissions},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:253,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:251,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Consent Records:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:256,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:p.consent_records},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:257,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:255,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between col-span-2 pt-2 border-t border-gray-300",children:[e.jsxDEV("span",{className:"font-semibold text-gray-700",children:"Total Records:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:260,columnNumber:19},this),e.jsxDEV("span",{className:"font-bold text-gray-900",children:"full_account"===b?p.total_records:p.enrollments+p.certificates+p.attendance_records+p.batch_students+p.compliance_submissions+p.consent_records},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:261,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:259,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:234,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:232,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Deletion Request ",e.jsxDEV("span",{className:"text-red-600",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:279,columnNumber:43},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:278,columnNumber:13},this),e.jsxDEV("textarea",{value:N,onChange:e=>x(e.target.value),placeholder:"Please explain why you are requesting data deletion...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500",disabled:m},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:281,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:277,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("input",{type:"checkbox",id:"acknowledge",checked:y,onChange:e=>v(e.target.checked),className:"mt-1",disabled:m},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:294,columnNumber:15},this),e.jsxDEV("label",{htmlFor:"acknowledge",className:"text-sm text-gray-700",children:["I understand that this request will be reviewed by an administrator and that the deletion process is irreversible once approved. I acknowledge that"," ",V?`${H}'s`:"my"," certificates will be anonymized for legal compliance, and all personal data will be permanently removed."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:302,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:293,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:292,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:313,columnNumber:13},this),e.jsxDEV(re,{onClick:w,disabled:m||!y||!N.trim(),loading:m,className:"bg-red-600 hover:bg-red-700 text-white",children:"Submit Deletion Request"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:316,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:312,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:195,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:182,columnNumber:7},this):e.jsxDEV("div",{className:`bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-8 border border-white/20 ${l}`,children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV(ta,{className:"h-8 w-8 text-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:336,columnNumber:11},this),e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Data Privacy & Deletion"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:337,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:335,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:334,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-6",children:[!c&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(Oe,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:346,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Your Right to Data Deletion"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:348,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-blue-800 mb-2",children:["Under GDPR Article 17, you have the right to request deletion of"," ",V?`${H}'s`:"your"," personal data. This includes:"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:351,columnNumber:17},this),e.jsxDEV("ul",{className:"text-sm text-blue-800 list-disc list-inside space-y-1",children:[e.jsxDEV("li",{children:"Personal information and contact details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:357,columnNumber:19},this),e.jsxDEV("li",{children:"Enrollment and course data"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:358,columnNumber:19},this),e.jsxDEV("li",{children:"Attendance records"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:359,columnNumber:19},this),e.jsxDEV("li",{children:"Consent records"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:360,columnNumber:19},this),e.jsxDEV("li",{children:"Compliance submissions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:361,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:356,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-blue-800 mt-2",children:"Note: Certificates may be anonymized rather than deleted for legal compliance and accreditation purposes."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:363,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:347,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:345,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:344,columnNumber:11},this),C.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:V?`${H}'s Deletion Requests`:"Your Deletion Requests"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:375,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:C.map(a=>e.jsxDEV(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-gray-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[_(a.status),e.jsxDEV("span",{className:"text-xs text-gray-500",children:new Date(a.requested_at).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:390,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:388,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-700 mb-1",children:[e.jsxDEV("strong",{children:"Target:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:395,columnNumber:25},this)," ",a.target_user?.full_name||"Unknown"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:394,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-700 mb-1",children:[e.jsxDEV("strong",{children:"Type:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:398,columnNumber:25},this)," ",a.request_type.replace("_"," ")]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:397,columnNumber:23},this),a.reason&&e.jsxDEV("p",{className:"text-sm text-gray-600 mt-2",children:[e.jsxDEV("strong",{children:"Reason:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:402,columnNumber:27},this)," ",a.reason]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:401,columnNumber:25},this),a.rejection_reason&&e.jsxDEV("p",{className:"text-sm text-red-600 mt-2",children:[e.jsxDEV("strong",{children:"Rejection Reason:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:407,columnNumber:27},this)," ",a.rejection_reason]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:406,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:387,columnNumber:21},this),"pending"===a.status&&e.jsxDEV(re,{size:"sm",onClick:()=>{return e=a.id,E(e),void T(!0);var e},disabled:m,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white border-0",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:412,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:386,columnNumber:19},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:380,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:378,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:374,columnNumber:11},this),!M&&e.jsxDEV("div",{className:"pt-4 border-t border-gray-200",children:e.jsxDEV(re,{onClick:()=>{h(!0),(async()=>{try{d(!0);const e=await Yr(I);D(e)}catch(e){console.error("Error loading impact:",e),s.error("Failed to load impact analysis")}finally{d(!1)}})()},className:"w-full bg-red-600 hover:bg-red-700 text-white",disabled:m,children:[e.jsxDEV(Xe,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:436,columnNumber:15},this),"Request Data Deletion"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:431,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:430,columnNumber:11},this),M&&e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(Ye,{className:"h-6 w-6 text-yellow-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:445,columnNumber:15},this),e.jsxDEV("div",{children:e.jsxDEV("p",{className:"text-sm text-yellow-800",children:"You have a pending deletion request. Please wait for administrator review before submitting a new request."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:447,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:446,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:444,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:443,columnNumber:11},this),e.jsxDEV("div",{className:"text-xs text-gray-500 text-center pt-4 border-t border-gray-200",children:["For questions about data deletion, contact:"," ",e.jsxDEV("a",{href:"mailto:info@eyogigurukul.com",className:"text-orange-600 hover:underline",children:"info@eyogigurukul.com"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:459,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:457,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:341,columnNumber:7},this),j&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxDEV(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[e.jsxDEV("div",{className:"flex items-start gap-4 mb-4",children:[e.jsxDEV("div",{className:"p-2 rounded-full bg-yellow-100",children:e.jsxDEV(Ke,{className:"h-6 w-6 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:475,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:474,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cancel Deletion Request"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:478,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Are you sure you want to cancel this deletion request? You can submit a new request at any time."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:481,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:477,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:473,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-3 justify-end",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>{T(!1),E(null)},disabled:m,children:"Keep Request"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:489,columnNumber:15},this),e.jsxDEV(re,{onClick:async()=>{if(P){d(!0),T(!1);try{const e=await async function(e,a){try{const s=await Kr(e);if(!s)return!1;if(s.user_id!==a||"pending"!==s.status)return!1;const{error:r}=await O.from("deletion_requests").update({status:"rejected",rejection_reason:"Cancelled by requester"}).eq("id",e);return r?(console.error("Error cancelling deletion request:",r),!1):(Y.invalidatePattern("deletion:.*"),!0)}catch(s){return console.error("Error in cancelDeletionRequest:",s),!1}}(P,i);e?(s.success("Deletion request cancelled"),W()):s.error("Failed to cancel deletion request")}catch(e){console.error("Error cancelling deletion request:",e),s.error("An error occurred while cancelling the request")}finally{d(!1),E(null)}}},className:"bg-yellow-600 hover:bg-yellow-700 text-white",disabled:m,children:"Cancel Request"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:499,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:488,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:468,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:467,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/gdpr/DataDeletionRequest.tsx",lineNumber:331,columnNumber:5},this)}const si=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{user:t,canAccess:o}=y(),{isStudent:n,shouldShowAnalytics:c,getUserRole:m}=(()=>{const{user:e,profile:a}=N(),{canAccess:s,getUserPermissions:r}=Ls(),i=()=>e&&!a?"super_admin":a?.role||"student";return{getUserRole:i,isStudent:()=>"student"===i(),isTeacher:()=>"teacher"===i(),isAdmin:()=>{const e=i();return"admin"===e||"super_admin"===e},canAccessAdminConsole:()=>s("admin","access"),shouldShowAnalytics:()=>s("analytics","read"),canAccess:s,getUserPermissions:r}})(),[d,u]=a.useState("home"),[h,b]=a.useState([]),[g,x]=a.useState([]),[p,D]=a.useState([]),[S,T]=a.useState([]),[P,E]=a.useState(!0),[I,H]=a.useState({totalEnrollments:0,completedCourses:0,activeCourses:0,certificatesEarned:0,totalBatches:0,totalSpent:0,averageGrade:0,learningStreak:0,xpPoints:0,level:"Beginner",completionRate:0}),[V,W]=a.useState(!1),[w,_]=a.useState(!1),C=a.useRef(null),[M,k]=a.useState(!1),[A,R]=a.useState(null),[F,B]=a.useState(null),q=a.useCallback(async e=>{try{B(e.id);const a=await ur(e),r=window.URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download=`${e.certificate_number}.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r),s.success("Certificate downloaded successfully")}catch(a){console.error("Error downloading certificate:",a),s.error("Failed to download certificate. Please try again.")}finally{B(null)}},[]);a.useEffect(()=>{const e=e=>{C.current&&!C.current.contains(e.target)&&_(!1)},a=e=>{"Escape"===e.key&&_(!1)};if(w)return document.addEventListener("mousedown",e),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",a)}},[w]);const[L,G]=a.useState(null),[U,z]=a.useState({}),[O,$]=a.useState(""),[Y,K]=a.useState("all"),[J,Q]=a.useState("all"),[Z,ee]=a.useState(null);a.useEffect(()=>{t?.id?ae():E(!1)},[t?.id]);const ae=async()=>{try{const[e,a,s,r,i,o,n]=await Promise.all([ye(t.id),gr(t.id),X(),v(t.id),j(t.id),ve(t.id),Ar(t.id)]);R(n),b(e),x(a),D(s),T(i),z(o);const l=e.filter(e=>{const a=e.course?.id||e.course_id;return(o[a]||0)>=100}).length,c=e.filter(e=>{if("approved"!==e.status)return!1;const a=e.course?.id||e.course_id;return(o[a]||0)<100}).length,m=e.reduce((e,a)=>e+(a.course?.price||0),0),d=e.filter(e=>"approved"===e.status||"completed"===e.status).reduce((e,a)=>{const s=a.course?.id||a.course_id;return e+(o[s]||0)},0),u=e.length>0?d/e.length:0,h=e.filter(e=>{const a=e.course?.id||e.course_id;return(o[a]||0)>=100&&e.final_grade}).map(e=>parseFloat(e.final_grade)).filter(e=>!isNaN(e)),g=h.length>0?Math.round(h.reduce((e,a)=>e+a,0)/h.length):0,N=e.filter(e=>{const a=e.course?.id||e.course_id;return(o[a]||0)>=100&&e.completed_at}).sort((e,a)=>new Date(a.completed_at).getTime()-new Date(e.completed_at).getTime());let p=0;if(N.length>0){const e=864e5;let a=new Date(new Date);for(const s of N){const r=new Date(s.completed_at);if(!(Math.floor((a.getTime()-r.getTime())/e)<=1))break;p++,a=r}}const f=100*l,S=50*a.length,y=e.filter(e=>"approved"===e.status||"completed"===e.status).reduce((e,a)=>{const s=a.course?.id||a.course_id;return e+(o[s]||0)},0),P=f+S+Math.round(y);H({totalEnrollments:e.length,completedCourses:l,activeCourses:c,certificatesEarned:a.length,totalBatches:r.length,totalSpent:m,averageGrade:g,learningStreak:p,xpPoints:P,level:l<3?"Beginner":l<8?"Intermediate":"Advanced",completionRate:u})}catch{s.error("Failed to load dashboard data")}finally{E(!1)}},se=[...g.map(e=>({id:e.id,type:"certificate",title:"Certificate Earned",description:`Certificate for ${e.course?.title||"course completion"}`,icon:na,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",date:new Date(e.issued_at||(new Date).toISOString()),points:50,action:()=>u("certificates")})),...h.filter(e=>"completed"===e.status).map(e=>({id:`course-${e.id}`,type:"completion",title:"Course Completed",description:`Successfully completed ${e.course?.title||"course"}`,icon:Je,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",date:new Date(e.completed_at||e.updated_at),points:100,action:()=>u("courses")})),...h.filter(e=>{const a=e.course?.id||e.course_id;return(U[a]||0)>=50&&"completed"!==e.status}).map(e=>{const a=e.course?.id||e.course_id,s=U[a]||0;return{id:`progress-${e.id}`,type:"progress",title:"Great Progress!",description:`${Math.round(s)}% completed in ${e.course?.title||"course"}`,icon:ra,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",date:new Date(e.updated_at),points:5*Math.floor(s/10),action:()=>u("courses")}}),..."Beginner"!==I.level?[{id:"level-achievement",type:"level",title:`${I.level} Level Reached!`,description:`You've advanced to ${I.level} level with ${I.completedCourses} completed courses`,icon:oa,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",date:new Date,points:"Intermediate"===I.level?200:500,action:()=>u("home")}]:[]].sort((e,a)=>a.date.getTime()-e.date.getTime()).slice(0,8),ie=a.useCallback(async()=>{if(t?.id)try{const e=await f(t.id);if(e){const a=e,s={id:a.id,full_name:a.full_name,phone:a.phone||void 0,date_of_birth:a.date_of_birth||void 0,address_line_1:a.address_line_1||void 0,address_line_2:a.address_line_2||void 0,city:a.city||void 0,state:a.state||void 0,zip_code:a.zip_code||void 0,country:a.country||void 0};G(s)}}catch{}},[t?.id]);a.useEffect(()=>{t?.id&&ie()},[t?.id,ie]);const{greeting:ne,icon:le}=(()=>{const e=(new Date).getHours();return e<12?{greeting:"Good morning",icon:Na}:e<18?{greeting:"Good afternoon",icon:Na}:{greeting:"Good evening",icon:xa}})(),ce=[{id:"home",name:"Dashboard",icon:la,description:"Your Learning Hub",gradient:"from-blue-500 to-purple-600",available:!0},{id:"courses",name:"My Courses",icon:ca,description:"View enrolled courses and progress",gradient:"from-green-500 to-teal-600",badge:I.activeCourses>0?I.activeCourses:void 0,available:o("courses","view")},{id:"enrollments",name:"My Enrollments",icon:ma,description:"Track enrollment status and history",gradient:"from-blue-500 to-indigo-600",badge:h.filter(e=>"pending"===e.status).length>0?h.filter(e=>"pending"===e.status).length:void 0,available:o("enrollments","view")},{id:"certificates",name:"My Certificates",icon:da,description:"Download earned certificates",gradient:"from-yellow-500 to-orange-600",badge:I.certificatesEarned>0?I.certificatesEarned:void 0,available:o("certificates","read")},{id:"batches",name:"My Batches",icon:ua,description:"View assigned batches and groups",gradient:"from-orange-500 to-red-600",badge:I.totalBatches>0?I.totalBatches:void 0,available:o("batches","read")},{id:"attendance",name:"Attendance",icon:ha,description:"View your attendance records",gradient:"from-teal-500 to-cyan-600",available:o("batches","read")},{id:"profile",name:"Profile",icon:ke,description:"Personal Settings",gradient:"from-pink-500 to-rose-600",available:o("settings","view")},...c()?[{id:"analytics",name:"Analytics",icon:ra,description:"System analytics and reports",gradient:"from-purple-500 to-indigo-600",available:c()}]:[]].filter(e=>e.available);return P?e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center pt-6 lg:pt-8",children:e.jsxDEV(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white/20",children:[e.jsxDEV(r.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-6 border-4 border-blue-200 border-t-blue-600 rounded-full"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:556,columnNumber:11},this),e.jsxDEV(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Loading Dashboard"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:566,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600",children:"Preparing your learning workspace..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:567,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:561,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:550,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:549,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 pt-0",children:[e.jsxDEV(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/80 backdrop-blur-xl border-b border-white/20 sticky top-0 z-40 shadow-lg",children:e.jsxDEV("div",{className:"w-full px-3 sm:px-4 lg:px-6 py-3 sm:py-4 lg:py-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between gap-3 sm:gap-4",children:[e.jsxDEV(r.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-lg sm:rounded-xl lg:rounded-2xl flex items-center justify-center shadow-xl flex-shrink-0",children:e.jsxDEV(ca,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:591,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:585,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex items-center gap-2 mb-1",children:e.jsxDEV("h1",{className:"text-base sm:text-lg lg:text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent truncate",children:["Welcome back, ",t?.full_name||"Student","!"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:600,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:594,columnNumber:17},this),e.jsxDEV(r.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-xs sm:text-sm text-gray-600 font-medium truncate",children:"Continue your amazing learning journey"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:604,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:593,columnNumber:15},this),e.jsxDEV("div",{className:"hidden sm:flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[e.jsxDEV(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},className:"relative",ref:C,children:[e.jsxDEV(r.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-2 sm:p-3 bg-white/50 rounded-lg sm:rounded-xl backdrop-blur-sm border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>_(!w),title:"View your achievements and progress",children:e.jsxDEV(na,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 group-hover:text-amber-700 transition-colors"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:628,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:621,columnNumber:19},this),se.length>0&&e.jsxDEV(r.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-5 w-5 bg-gradient-to-r from-amber-500 to-yellow-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse shadow-lg border-2 border-white",children:se.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:631,columnNumber:21},this),e.jsxDEV(i,{children:w&&e.jsxDEV(r.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"fixed sm:absolute top-16 left-0 sm:left-auto sm:right-0 right-0 w-full sm:w-96 bg-white rounded-xl sm:rounded-xl rounded-t-none sm:rounded-t-xl shadow-2xl border border-gray-200 z-50 max-h-[80vh] sm:max-h-96 overflow-hidden",children:[e.jsxDEV("div",{className:"p-2 sm:p-4 border-b border-gray-100",children:e.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(na,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:653,columnNumber:31},this),e.jsxDEV("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:"Achievements"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:654,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:652,columnNumber:29},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(oe,{className:"bg-amber-100 text-amber-800",children:se.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:659,columnNumber:31},this),e.jsxDEV(re,{variant:"ghost",size:"sm",className:"p-1 h-6 w-6 text-gray-400 hover:text-gray-600",onClick:()=>_(!1),children:e.jsxDEV(Ke,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:668,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:662,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:658,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:651,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:650,columnNumber:25},this),e.jsxDEV("div",{className:"max-h-80 overflow-y-auto",children:0===se.length?e.jsxDEV("div",{className:"p-4 sm:p-6 text-center",children:[e.jsxDEV(na,{className:"h-8 w-8 sm:h-12 sm:w-12 text-gray-300 mx-auto mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:676,columnNumber:31},this),e.jsxDEV("p",{className:"text-sm sm:text-base text-gray-500 font-medium mb-1",children:"No achievements yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:677,columnNumber:31},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-400",children:"Complete courses and earn certificates to unlock achievements!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:680,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:675,columnNumber:29},this):se.map(a=>e.jsxDEV(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-2 sm:p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{a.action(),_(!1)},children:e.jsxDEV("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsxDEV("div",{className:`flex-shrink-0 p-1 sm:p-2 rounded-lg ${a.bgColor} border ${a.borderColor}`,children:e.jsxDEV(a.icon,{className:"h-4 w-4 sm:h-5 sm:w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:700,columnNumber:37},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:697,columnNumber:35},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1 gap-2",children:[e.jsxDEV("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 truncate",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:704,columnNumber:39},this),e.jsxDEV("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsxDEV(oa,{className:"h-3 w-3 text-amber-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:708,columnNumber:41},this),e.jsxDEV("span",{className:"text-xs font-medium text-amber-600 whitespace-nowrap",children:["+",a.points," XP"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:709,columnNumber:41},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:707,columnNumber:39},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:703,columnNumber:37},this),e.jsxDEV("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:714,columnNumber:37},this),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[a.date.toLocaleDateString()," ",a.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:717,columnNumber:37},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:702,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:696,columnNumber:33},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:686,columnNumber:31},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:673,columnNumber:25},this),se.length>0&&e.jsxDEV("div",{className:"p-3 border-t border-gray-100 bg-gradient-to-r from-amber-50 to-yellow-50",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(oa,{className:"h-4 w-4 text-amber-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:734,columnNumber:33},this),e.jsxDEV("span",{className:"text-sm font-medium text-amber-700",children:["Total XP: ",I.xpPoints]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:735,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:733,columnNumber:31},this),e.jsxDEV(re,{variant:"ghost",size:"sm",className:"text-xs text-amber-600 hover:text-amber-700",onClick:()=>{u("home"),_(!1)},children:"View Dashboard"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:739,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:732,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:731,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:643,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:641,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:614,columnNumber:17},this),e.jsxDEV(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6},children:e.jsxDEV(oe,{className:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-200 px-4 py-2 text-sm font-semibold shadow-lg",children:[e.jsxDEV(oa,{className:"h-5 w-5 mr-2 fill-current"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:763,columnNumber:21},this),"Level ",I.level]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:762,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:757,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:613,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:584,columnNumber:13},this),e.jsxDEV("div",{className:"mt-4 sm:mt-8 w-full relative",children:[e.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-gray-100 to-transparent pointer-events-none sm:hidden z-10 rounded-r-lg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:772,columnNumber:15},this),e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:e.jsxDEV("div",{className:"flex gap-2 sm:gap-4 bg-white/50 backdrop-blur-sm p-2 sm:p-3 rounded-xl sm:rounded-2xl border border-white/20 shadow-lg min-w-min",children:ce.map((a,s)=>e.jsxDEV(r.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.9+.1*s},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>{u(a.id),window.scrollTo({top:0,behavior:"smooth"})},title:a.name,className:"relative flex items-center justify-center gap-2 px-3 sm:px-5 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-xs sm:text-sm transition-all duration-300 cursor-pointer whitespace-nowrap min-h-[44px] "+(d===a.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-white/80 hover:shadow-md"),children:[e.jsxDEV(a.icon,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:811,columnNumber:23},this),e.jsxDEV("span",{className:"hidden sm:inline",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:812,columnNumber:23},this),a.badge&&e.jsxDEV(r.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center shadow-lg",children:a.badge},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:814,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:781,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:779,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:773,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:770,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:583,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:577,columnNumber:9},this),e.jsxDEV("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-10 max-w-7xl mx-auto",children:[e.jsxDEV(i,{mode:"wait",children:"home"===d&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"w-full space-y-8",children:[e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[{title:"Active Courses",value:I.activeCourses,icon:ca,gradient:"from-blue-500 to-indigo-600",bgGradient:"from-blue-500/20 to-indigo-600/20",description:"Enrolled courses",delay:.1,permission:{resource:"courses",action:"view"}},{title:"Completed Courses",value:I.completedCourses,icon:Je,gradient:"from-green-500 to-teal-600",bgGradient:"from-green-500/20 to-teal-600/20",description:"Finished successfully",delay:.2,permission:{resource:"courses",action:"view"}},{title:"Certificates Earned",value:I.certificatesEarned,icon:na,gradient:"from-yellow-500 to-orange-600",bgGradient:"from-yellow-500/20 to-orange-600/20",description:"Achievements unlocked",delay:.3,permission:{resource:"certificates",action:"read"}},{title:"My Batches",value:I.totalBatches,icon:ua,gradient:"from-orange-500 to-red-600",bgGradient:"from-orange-500/20 to-red-600/20",description:"Learning groups",delay:.4,permission:{resource:"batches",action:"read"}},{title:"Learning Streak",value:I.learningStreak,icon:ba,gradient:"from-purple-500 to-pink-600",bgGradient:"from-purple-500/20 to-pink-600/20",description:1===I.learningStreak?"Day":"Days",suffix:1===I.learningStreak?" day":" days",delay:.5,permission:null}].filter(e=>{if(null===e.permission)return!0;return o(e.permission.resource,e.permission.action)}).map(a=>e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a.delay,duration:.6,type:"spring",stiffness:100},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group",children:e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative rounded-lg sm:rounded-xl p-4 sm:p-6 lg:p-8",children:[e.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-br ${a.bgGradient} opacity-10 group-hover:opacity-20 transition-opacity duration-300`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:920,columnNumber:27},this),e.jsxDEV("div",{className:"relative",children:e.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[e.jsxDEV("div",{className:"space-y-2 sm:space-y-3 min-w-0",children:[e.jsxDEV("p",{className:"text-gray-600 text-xs sm:text-sm font-semibold uppercase tracking-wider",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:926,columnNumber:33},this),e.jsxDEV(r.p,{initial:{scale:.8},animate:{scale:1},transition:{delay:a.delay+.2},className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:[a.value,a.suffix||""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:929,columnNumber:33},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:938,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:925,columnNumber:31},this),e.jsxDEV(r.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:a.delay+.3,type:"spring",stiffness:200},whileHover:{scale:1.2,rotate:10},className:`h-12 w-12 sm:h-14 sm:w-14 lg:h-16 lg:w-16 bg-gradient-to-r ${a.gradient} rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow duration-300 flex-shrink-0`,children:e.jsxDEV(a.icon,{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:953,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:942,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:924,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:923,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:919,columnNumber:25},this)},a.title,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:905,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:842,columnNumber:17},this),S.length>0&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg sm:rounded-xl shadow-lg p-3 sm:p-4 lg:p-6 border border-orange-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3 sm:mb-4 gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[e.jsxDEV(ua,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-orange-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:972,columnNumber:25},this),e.jsxDEV("div",{className:"min-w-0",children:[e.jsxDEV("h3",{className:"text-sm sm:text-base lg:text-lg font-bold text-gray-900 truncate",children:"Your Learning Groups"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:974,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-gray-600 truncate",children:["You're part of ",S.length," batch",1!==S.length?"es":""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:977,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:973,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:971,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>u("batches"),className:"bg-orange-600 text-white px-2 sm:px-3 py-1 sm:py-2 rounded-lg hover:bg-orange-700 transition-colors cursor-pointer text-xs sm:text-sm whitespace-nowrap flex-shrink-0",children:"View All"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:983,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:970,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.slice(0,3).map((a,s)=>e.jsxDEV("div",{className:"bg-white/60 rounded-lg p-4 border border-orange-100",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-900 mb-2",children:a.batch.name||"Unnamed Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:996,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Progress:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1e3,columnNumber:29},this),e.jsxDEV("span",{className:"font-medium text-orange-600",children:[Math.round(a.progress_percentage||0),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1001,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:999,columnNumber:27},this),e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,Math.max(0,a.progress_percentage||0))}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1007,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1006,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1005,columnNumber:27},this)]},a.batch.id||s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:992,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:990,columnNumber:21},this),S.length>3&&e.jsxDEV("div",{className:"mt-4 text-center",children:e.jsxDEV("button",{onClick:()=>u("batches"),className:"text-orange-600 hover:text-orange-800 font-medium cursor-pointer",children:["View ",S.length-3," more batch",S.length-3!=1?"es":""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1020,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1019,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:964,columnNumber:19},this),e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl p-4 sm:p-6 lg:p-8 border border-white/20",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsxDEV("h3",{className:"text-base sm:text-lg lg:text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"ðŸ“ˆ Learning Progress Overview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1040,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-gray-500",children:["Overall completion: ",Math.round(I.completionRate),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1043,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1039,columnNumber:19},this),e.jsxDEV("div",{className:"mb-4 sm:mb-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:[e.jsxDEV("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Overall Learning Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1050,columnNumber:23},this),e.jsxDEV("span",{className:"text-xs sm:text-sm text-gray-500",children:[Math.round(I.completionRate),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1053,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1049,columnNumber:21},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsxDEV(r.div,{initial:{width:0},animate:{width:`${I.completionRate}%`},transition:{delay:.8,duration:2,ease:"easeOut"},className:"h-full bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 rounded-full relative overflow-hidden",children:e.jsxDEV(r.div,{animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:2,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1064,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1058,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1057,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1048,columnNumber:19},this),h.filter(e=>"approved"===e.status).length>0&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Active Course Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1075,columnNumber:23},this),h.filter(e=>"approved"===e.status).slice(0,3).map((a,s)=>{const i=a.course?.id||a.course_id,t=U?.[i]||0;return e.jsxDEV(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+.1*s,duration:.5},className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg p-4 border border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h5",{className:"font-medium text-gray-900",children:a.course?.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1093,columnNumber:33},this),e.jsxDEV("span",{className:"text-sm text-gray-500",children:[Math.round(t),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1096,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1092,columnNumber:31},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsxDEV(r.div,{initial:{width:0},animate:{width:`${t}%`},transition:{delay:1.2+.1*s,duration:1.5,ease:"easeOut"},className:"h-full rounded-full "+(t<30?"bg-gradient-to-r from-red-400 to-red-500":t<70?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-green-400 to-green-500")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1101,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1100,columnNumber:31},this),e.jsxDEV("div",{className:"mt-2 text-xs text-gray-500",children:t<30?"Just getting started ðŸŒ±":t<70?"Making great progress! ðŸš€":"Almost there! ðŸŽ¯"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1118,columnNumber:31},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1085,columnNumber:29},this)})]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1074,columnNumber:21},this),e.jsxDEV("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Learning Goals ðŸŽ¯"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1132,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1.4,duration:.5},className:"text-center p-3 sm:p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxDEV("div",{className:"text-lg sm:text-xl font-bold text-blue-600 mb-1",children:[I.activeCourses,"/5"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1140,columnNumber:25},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-gray-600",children:"Active Courses Goal"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1143,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1134,columnNumber:23},this),e.jsxDEV(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1.5,duration:.5},className:"text-center p-3 sm:p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsxDEV("div",{className:"text-lg sm:text-xl font-bold text-green-600 mb-1",children:[I.learningStreak,"/","Beginner"===I.level?7:"Intermediate"===I.level?21:30]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1151,columnNumber:25},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-gray-600",children:[I.level," Streak Goal"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1160,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1145,columnNumber:23},this),e.jsxDEV(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1.6,duration:.5},className:"text-center p-3 sm:p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border border-purple-200",children:[e.jsxDEV("div",{className:"text-lg sm:text-xl font-bold text-purple-600 mb-1",children:[I.certificatesEarned,"/10"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1170,columnNumber:25},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-gray-600",children:"Certificates Goal"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1173,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1164,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1133,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1131,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1033,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsxDEV(Je,{className:"h-6 w-6 text-green-500 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1183,columnNumber:23},this),"Available Features"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1182,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-3",children:[{name:"My Courses",icon:ca,description:"View enrolled courses and progress",available:o("courses","view")},{name:"My Enrollments",icon:ma,description:"Track enrollment status and history",available:o("enrollments","view")},{name:"My Certificates",icon:da,description:"Download earned certificates",available:o("certificates","read")}].filter(e=>e.available).map((a,s)=>e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV(a.icon,{className:"h-5 w-5 text-green-500 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1210,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1212,columnNumber:31},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1213,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1211,columnNumber:29},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1209,columnNumber:27},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1186,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1181,columnNumber:19},this),!n()&&e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsxDEV(oa,{className:"h-6 w-6 text-blue-500 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1223,columnNumber:25},this),"Administrative Features"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1222,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-3",children:[{name:"Analytics Dashboard",icon:ra,description:"System analytics and reports",available:c()},{name:"System Settings",icon:ga,description:"Configure system settings",available:o("settings","view")}].filter(e=>e.available).map((a,s)=>e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV(a.icon,{className:"h-5 w-5 text-blue-500 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1244,columnNumber:31},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1246,columnNumber:33},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1247,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1245,columnNumber:31},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1243,columnNumber:29},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1226,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1221,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1179,columnNumber:17},this)]},"home",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:833,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:830,columnNumber:11},this),"courses"===d&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[e.jsxDEV("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxDEV("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent",children:"My Learning Journey ðŸ“š"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1269,columnNumber:17},this),e.jsxDEV("p",{className:"text-base sm:text-lg text-gray-600 mt-2",children:"Track your progress and continue learning"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1272,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1268,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[h.filter(e=>"approved"===e.status).map(a=>e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl shadow-lg p-3 sm:p-4 lg:p-6 border border-white/20 hover:shadow-xl transition-all duration-300",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3 sm:mb-4 gap-2",children:[e.jsxDEV("h3",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-900 line-clamp-2",children:a.course?.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1286,columnNumber:25},this),e.jsxDEV("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full whitespace-nowrap flex-shrink-0",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1289,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1285,columnNumber:23},this),e.jsxDEV("div",{className:"text-gray-600 text-xs sm:text-sm mb-3 sm:mb-4 line-clamp-2 overflow-hidden",dangerouslySetInnerHTML:{__html:te(a.course?.description||"")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1293,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between text-xs sm:text-sm",children:[e.jsxDEV("span",{children:"Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1301,columnNumber:27},this),e.jsxDEV("span",{className:"font-semibold",children:[Math.round(U?.[a.course?.id||a.course_id]||0),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1302,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1300,columnNumber:25},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 h-2 rounded-full",style:{width:`${Math.min(100,U?.[a.course?.id||a.course_id]||0)}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1311,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1310,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1299,columnNumber:23},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1281,columnNumber:21},this)),0===h.filter(e=>"approved"===e.status).length&&e.jsxDEV("div",{className:"col-span-full text-center py-12",children:[e.jsxDEV(ca,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1323,columnNumber:21},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Active Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1324,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-500",children:"Enroll in courses to start your learning journey!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1325,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1322,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1277,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-gray-900",children:"Recommended Courses for You ðŸŽ¯"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1333,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[p.filter(e=>!h.some(a=>a.course?.id===e.id)).slice(0,6).map(a=>e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-md p-3 sm:p-4 border border-white/20 hover:shadow-lg transition-all duration-300 flex flex-col h-full min-h-[200px]",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2 gap-2 flex-shrink-0",children:[e.jsxDEV(l,{to:de(a),className:"hover:underline flex-1 min-w-0",children:e.jsxDEV("h3",{className:"text-sm sm:text-base font-semibold text-blue-600 hover:text-blue-700 line-clamp-2 cursor-pointer transition-colors break-words",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1350,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1346,columnNumber:27},this),e.jsxDEV("span",{className:"text-xs px-2 py-0.5 rounded-full flex-shrink-0 whitespace-nowrap "+("basic"===a.level||"elementary"===a.level?"bg-green-100 text-green-800":"intermediate"===a.level?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:a.level?.charAt(0).toUpperCase()+a.level?.slice(1)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1354,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1345,columnNumber:25},this),e.jsxDEV("div",{className:"text-gray-600 text-xs sm:text-sm mb-3 flex-grow overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:te(a.description||"")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1366,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center justify-between mt-auto pt-2 flex-shrink-0 border-t border-gray-100",children:[e.jsxDEV("span",{className:"text-xs text-gray-500 flex-shrink-0",children:[a.duration_weeks,"w"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1380,columnNumber:27},this),e.jsxDEV("button",{onClick:()=>(async e=>{if(t?.id)try{ee(e),await je(e,t.id),await ae(),u("enrollments"),s.success("Successfully enrolled! Your enrollment is pending teacher approval.")}catch(a){s.error(a instanceof Error?a.message:"Failed to enroll in course")}finally{ee(null)}else s.error("Please log in to enroll in courses")})(a.id),disabled:Z===a.id,className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-3 py-1.5 rounded-lg text-xs sm:text-sm hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer flex-shrink-0 ml-2",children:Z===a.id?"Enrolling...":"Enrol Now"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1383,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1379,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1341,columnNumber:23},this)),0===p.filter(e=>!h.some(a=>a.course?.id===e.id)).length&&e.jsxDEV("div",{className:"col-span-full text-center py-12",children:[e.jsxDEV(ca,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1397,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Course Suggestions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1398,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-500",children:"All available courses are already enrolled!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1401,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1396,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1336,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1332,columnNumber:15},this)]},"courses",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1260,columnNumber:13},this),"enrollments"===d&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[e.jsxDEV("div",{className:"text-center mb-4 sm:mb-6 lg:mb-8",children:[e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"My Enrollments ðŸ“‹"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1419,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-600 mt-2",children:"Track your enrollment status and history"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1422,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1418,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl shadow-lg p-3 sm:p-4 lg:p-6 border border-white/20",children:e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 lg:gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:"Search Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1430,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:O,onChange:e=>$(e.target.value),placeholder:"Search by course title...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1433,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1429,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status Filter"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1442,columnNumber:21},this),e.jsxDEV("select",{value:Y,onChange:e=>K(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"all",children:"All Statuses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1450,columnNumber:23},this),e.jsxDEV("option",{value:"pending",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1451,columnNumber:23},this),e.jsxDEV("option",{value:"approved",children:"Approved"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1452,columnNumber:23},this),e.jsxDEV("option",{value:"completed",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1453,columnNumber:23},this),e.jsxDEV("option",{value:"rejected",children:"Rejected"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1454,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1445,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1441,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Level"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1458,columnNumber:21},this),e.jsxDEV("select",{value:J,onChange:e=>Q(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"all",children:"All Levels"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1466,columnNumber:23},this),e.jsxDEV("option",{value:"elementary",children:"Elementary"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1467,columnNumber:23},this),e.jsxDEV("option",{value:"basic",children:"Basic"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1468,columnNumber:23},this),e.jsxDEV("option",{value:"intermediate",children:"Intermediate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1469,columnNumber:23},this),e.jsxDEV("option",{value:"advanced",children:"Advanced"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1470,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1461,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1457,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1428,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1427,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[h.filter(e=>{const a=""===O||e.course?.title?.toLowerCase().includes(O.toLowerCase())||e.course?.course_number?.toLowerCase().includes(O.toLowerCase()),s="all"===Y||e.status===Y,r="all"===J||e.course?.level===J;return a&&s&&r}).map(a=>e.jsxDEV("div",{className:"rounded-lg shadow p-3 border-l-4 relative overflow-hidden "+("approved"===a.status?"bg-green-50 border-l-green-500":"pending"===a.status?"bg-yellow-50 border-l-yellow-500":"completed"===a.status?"bg-blue-50 border-l-blue-500":"bg-red-50 border-l-red-500"),children:e.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:a.course?.title||"Course Title Not Available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1507,columnNumber:29},this),e.jsxDEV("span",{className:`text-xs px-1.5 py-0.5 rounded ${"basic"===a.course?.level||"elementary"===a.course?.level?"bg-green-100 text-green-700":"intermediate"===a.course?.level?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"} whitespace-nowrap`,children:a.course?.level?a.course.level.charAt(0).toUpperCase()+a.course.level.slice(1):"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1510,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1506,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-gray-600 mt-1",children:[e.jsxDEV("span",{children:new Date(a.created_at).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1527,columnNumber:29},this),a.course?.duration_weeks&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{children:"â€¢"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1530,columnNumber:33},this),e.jsxDEV("span",{children:[a.course.duration_weeks,"w"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1531,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1529,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1526,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1505,columnNumber:25},this),e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold whitespace-nowrap "+("approved"===a.status?"bg-green-200 text-green-900":"pending"===a.status?"bg-yellow-200 text-yellow-900":"completed"===a.status?"bg-blue-200 text-blue-900":"bg-red-200 text-red-900"),children:["approved"===a.status&&e.jsxDEV(Je,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1549,columnNumber:31},this),"pending"===a.status&&e.jsxDEV(Ye,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1551,columnNumber:65},this),"completed"===a.status&&e.jsxDEV(Je,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1553,columnNumber:31},this),"rejected"===a.status&&e.jsxDEV(Ke,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1556,columnNumber:31},this),a.status.charAt(0).toUpperCase()+a.status.slice(1)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1537,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1536,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1504,columnNumber:23},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1492,columnNumber:21},this)),0===h.length&&e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(ma,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1566,columnNumber:21},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1567,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-500",children:"Start by enrolling in your first course!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1568,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1565,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1476,columnNumber:15},this)]},"enrollments",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1410,columnNumber:13},this),"certificates"===d&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[e.jsxDEV("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxDEV("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"My Achievements ðŸ†"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1585,columnNumber:17},this),e.jsxDEV("p",{className:"text-base sm:text-lg text-gray-600 mt-2",children:"Your earned certificates and accomplishments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1588,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1584,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[g.map(a=>e.jsxDEV("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6 border border-yellow-200",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(na,{className:"h-8 w-8 sm:h-10 sm:w-10 lg:h-12 lg:w-12 text-yellow-600 mx-auto mb-3 sm:mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1600,columnNumber:23},this),e.jsxDEV("h3",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:a.course?.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1601,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 sm:mb-4",children:["Completed:"," ",new Date(a.issued_at||(new Date).toISOString()).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1604,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-1 sm:space-y-2",children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:"Verification Code"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1611,columnNumber:25},this),e.jsxDEV("p",{className:"font-mono text-xs sm:text-sm bg-white/50 px-2 py-1 rounded break-all",children:a.verification_code},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1612,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1610,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>q(a),disabled:F===a.id,className:"mt-3 sm:mt-4 w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-3 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center justify-center gap-2 cursor-pointer text-sm sm:text-base min-h-[44px] sm:min-h-auto disabled:opacity-50 disabled:cursor-not-allowed",children:F===a.id?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1623,columnNumber:29},this),e.jsxDEV("span",{children:"Downloading..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1624,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1622,columnNumber:27},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1634,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1628,columnNumber:29},this),e.jsxDEV("span",{children:"Download PDF"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1641,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1627,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1616,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1599,columnNumber:21},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1595,columnNumber:19},this)),0===g.length&&e.jsxDEV("div",{className:"col-span-full text-center py-12",children:[e.jsxDEV(da,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1650,columnNumber:21},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Certificates Yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1651,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-500",children:"Complete courses to earn your first certificate!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1654,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1649,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1593,columnNumber:15},this)]},"certificates",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1576,columnNumber:13},this),"batches"===d&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h2",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"My Batches ðŸ‘¥"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1673,columnNumber:17},this),e.jsxDEV("p",{className:"text-xl text-gray-600",children:"Your assigned batches and learning groups"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1676,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1672,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[S.map((a,s)=>e.jsxDEV("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl shadow-lg p-6 border border-orange-200 hover:shadow-xl transition-shadow duration-300",children:[e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[e.jsxDEV(ua,{className:"h-8 w-8 text-orange-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1687,columnNumber:25},this),e.jsxDEV(oe,{className:"text-xs "+("active"===a.batch.status?"bg-green-100 text-green-800":"completed"===a.batch.status?"bg-blue-100 text-blue-800":"in_progress"===a.batch.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:a.batch.status||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1688,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1686,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.batch.name||"Unknown Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1702,columnNumber:23},this),a.batch.description&&e.jsxDEV("div",{className:"text-sm text-gray-600 mb-3 line-clamp-2",dangerouslySetInnerHTML:{__html:te(a.batch.description)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1706,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1685,columnNumber:21},this),a.courses.length>0&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Course:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1718,columnNumber:25},this),a.courses.map(a=>e.jsxDEV("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsxDEV("div",{className:"font-medium",children:a.courses.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1721,columnNumber:29},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:[a.courses.course_number," â€¢"," ",a.courses.duration_weeks," weeks"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1722,columnNumber:29},this)]},a.course_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1720,columnNumber:27},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1717,columnNumber:23},this),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1734,columnNumber:25},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:[a.completed_weeks,"/",a.total_weeks," weeks"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1735,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1733,columnNumber:23},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-2 rounded-full transition-all duration-300",style:{width:(a.total_weeks>0?a.completed_weeks/a.total_weeks*100:0)+"%"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1740,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1739,columnNumber:23},this),e.jsxDEV("div",{className:"text-xs text-center text-gray-500 mt-1",children:[a.progress_percentage,"% complete"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1747,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1732,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.batch.gurukul&&e.jsxDEV("div",{className:"flex items-center text-gray-600",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1755,columnNumber:27},this),e.jsxDEV("span",{className:"font-medium",children:"Gurukul:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1756,columnNumber:27},this),e.jsxDEV("span",{className:"ml-1",children:a.batch.gurukul.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1757,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1754,columnNumber:25},this),a.batch.start_date&&e.jsxDEV("div",{className:"flex items-center text-gray-600",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1763,columnNumber:27},this),e.jsxDEV("span",{className:"font-medium",children:"Start Date:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1764,columnNumber:27},this),e.jsxDEV("span",{className:"ml-1",children:new Date(a.batch.start_date).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1765,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1762,columnNumber:25},this),a.batch.end_date&&e.jsxDEV("div",{className:"flex items-center text-gray-600",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-red-400 rounded-full mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1773,columnNumber:27},this),e.jsxDEV("span",{className:"font-medium",children:"End Date:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1774,columnNumber:27},this),e.jsxDEV("span",{className:"ml-1",children:new Date(a.batch.end_date).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1775,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1772,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center text-gray-600",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1782,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"Joined:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1783,columnNumber:25},this),e.jsxDEV("span",{className:"ml-1",children:new Date(a.assigned_at).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1784,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1781,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1752,columnNumber:21},this)]},a.batch.id||s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1681,columnNumber:19},this)),0===S.length&&e.jsxDEV("div",{className:"col-span-full text-center py-12",children:[e.jsxDEV(ua,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1793,columnNumber:21},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Batches Assigned"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1794,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-500",children:"You haven't been assigned to any batches yet. Contact your instructor for more information."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1797,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1792,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1679,columnNumber:15},this)]},"batches",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1664,columnNumber:13},this),"profile"===d&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h2",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"My Profile ðŸ‘¤"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1817,columnNumber:17},this),e.jsxDEV("p",{className:"text-xl text-gray-600",children:"Manage your personal information and preferences"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1820,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1816,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-8 border border-white/20",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV(ke,{className:"h-8 w-8 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1829,columnNumber:21},this),e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Personal Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1830,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1828,columnNumber:19},this),e.jsxDEV("button",{onClick:async()=>{L||await ie(),W(!0)},className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-300 flex items-center space-x-2 cursor-pointer",children:[e.jsxDEV("span",{children:"âœï¸"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1841,columnNumber:21},this),e.jsxDEV("span",{children:"Edit Profile"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1842,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1832,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1827,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Personal Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1848,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1853,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:t?.full_name||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1854,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1852,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Email"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1857,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:t?.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1858,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1856,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Phone"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1861,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:L?.phone||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1862,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1860,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1865,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:L?.date_of_birth?new Date(L.date_of_birth).toLocaleDateString():"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1866,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1864,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Student ID"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1873,columnNumber:25},this),e.jsxDEV("p",{className:"font-semibold text-purple-600",children:L?.student_id||t?.student_id||"Not assigned"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1874,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1872,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Role"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1879,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:m()?.replace("_"," ").toUpperCase()||"Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1880,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1878,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1851,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1847,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Address Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1888,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Street Address"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1893,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:L?.address_line_1||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1894,columnNumber:25},this),L?.address_line_2&&e.jsxDEV("p",{className:"text-gray-900",children:L.address_line_2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1898,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1892,columnNumber:23},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[L?.city&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"City"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1905,columnNumber:29},this),e.jsxDEV("p",{className:"text-gray-900",children:L.city},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1906,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1904,columnNumber:27},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"State"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1910,columnNumber:27},this),e.jsxDEV("p",{className:"text-gray-900",children:L?.state&&L?.country?As(L.country,L.state)||L.state:"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1911,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1909,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1901,columnNumber:23},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"ZIP Code"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1921,columnNumber:27},this),e.jsxDEV("p",{className:"text-gray-900",children:L?.zip_code||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1922,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1920,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Country"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1927,columnNumber:27},this),e.jsxDEV("p",{className:"text-gray-900",children:L?.country?ks(L.country)||L.country:"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1928,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1926,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1919,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1891,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1887,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1845,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1826,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-8 border border-white/20",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV(ze,{className:"h-8 w-8 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1944,columnNumber:21},this),e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Participation Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1945,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1943,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Br,{consentGiven:A?.consent_given||!1,withdrawn:A?.withdrawn||!1,size:"md"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1948,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>k(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-300 flex items-center space-x-2 cursor-pointer",children:[e.jsxDEV(ze,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1957,columnNumber:23},this),e.jsxDEV("span",{children:A?.consent_given&&!A?.withdrawn?"View Consent":"Provide Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1958,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1953,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1947,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1942,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-4",children:!A?.consent_given||A?.withdrawn?e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsxDEV(Ge,{className:"h-6 w-6 text-yellow-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1969,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-yellow-900",children:"Consent Required"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1971,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-yellow-800 mt-1",children:"Please provide consent to participate in eYogi Gurukul activities. This is required for full access to all features and programs."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1972,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1970,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1968,columnNumber:21},this):e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Consent Given On"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1981,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:A.consent_date?new Date(A.consent_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1984,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1980,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"You have consented to participate in eYogi Gurukul activities. You can withdraw your consent at any time by clicking the button above."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1994,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1979,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1966,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1941,columnNumber:15},this),e.jsxDEV("div",{children:e.jsxDEV(jr,{userId:t?.id||"",userRole:"student",compactView:!1,showNotifications:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2005,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2004,columnNumber:15},this),e.jsxDEV(ai,{userId:t?.id||"",userRole:"student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2014,columnNumber:15},this)]},"profile",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:1808,columnNumber:13},this),"analytics"===d&&c()&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Analytics Dashboard ðŸ“Š"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2028,columnNumber:17},this),e.jsxDEV("p",{className:"text-xl text-gray-600",children:"System analytics and reports"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2031,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2027,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-8 border border-white/20",children:[e.jsxDEV("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxDEV(ra,{className:"h-8 w-8 text-purple-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2035,columnNumber:19},this),e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"System Analytics"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2036,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2034,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600",children:"Advanced analytics and reporting features are available here for users with appropriate permissions."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2038,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2033,columnNumber:15},this)]},"analytics",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2019,columnNumber:13},this),"attendance"===d&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},children:e.jsxDEV(Mr,{studentId:t?.id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2054,columnNumber:15},this)},"attendance",!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2047,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:829,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:575,columnNumber:7},this),e.jsxDEV(Lr,{topics:Ur,title:"Student Dashboard Help",description:"Learn how to track your courses and progress",showKeyboardHint:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2059,columnNumber:7},this),e.jsxDEV(or,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2065,columnNumber:7},this),V&&t&&e.jsxDEV(Ir,{isOpen:V,onClose:()=>W(!1),user:L?{...t,phone:L.phone,date_of_birth:L.date_of_birth,address_line_1:L.address_line_1,address_line_2:L.address_line_2,city:L.city,state:L.state,zip_code:L.zip_code,country:L.country}:t,onUpdate:async()=>{await ie()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2068,columnNumber:9},this),M&&t&&e.jsxDEV(Fr,{studentId:t.id,studentName:t.full_name||"Student",consentedBy:t.id,currentConsent:A,onClose:()=>k(!1),onSuccess:()=>{k(!1),ae()},isParent:!1},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:2095,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/StudentDashboard.tsx",lineNumber:574,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"})),ri=async e=>{try{let e=O.from("certificate_assignments").select("\n        *,\n        template:certificate_templates(*),\n        gurukul:gurukuls(*),\n        course:courses(*),\n        teacher:profiles!teacher_id(*),\n        creator:profiles!created_by(*)\n      ").order("created_at",{ascending:!1});const{data:a,error:s}=await e;if(s){if(s.message.includes('relation "certificate_assignments" does not exist'))return[];throw s}return a.map(e=>({...e,teacher:e.teacher?Q(e.teacher):e.teacher,creator:e.creator?Q(e.creator):e.creator}))}catch{return[]}},ii=async e=>{try{let a=[];const{data:s,error:r}=await O.from("certificate_assignments").select("\n        *,\n        template:certificate_templates(*),\n        gurukul:gurukuls(*),\n        course:courses(*),\n        teacher:profiles!teacher_id(*),\n        creator:profiles!created_by(*)\n      ").eq("teacher_id",e);!r&&s&&(a=[...a,...s]);let i=[];const{data:t,error:o}=await O.from("courses").select("id, gurukul_id").eq("teacher_id",e);!o&&t&&(i=[...i,...t]);const{data:n,error:l}=await O.from("course_assignments").select("\n        course_id,\n        courses!inner(id, gurukul_id)\n      ").eq("teacher_id",e).eq("is_active",!0);if(!l&&n){const e=n.map(e=>({id:e.courses?.[0]?.id||e.course_id,gurukul_id:e.courses?.[0]?.gurukul_id}));i=[...i,...e]}if(i.length>0){const e=i.map(e=>e.id),{data:s,error:r}=await O.from("certificate_assignments").select("\n          *,\n          template:certificate_templates(*),\n          gurukul:gurukuls(*),\n          course:courses(*),\n          teacher:profiles!teacher_id(*),\n          creator:profiles!created_by(*)\n        ").in("course_id",e).is("teacher_id",null);!r&&s&&(a=[...a,...s])}if(i.length>0){const e=[...new Set(i.map(e=>e.gurukul_id).filter(Boolean))];if(e.length>0){const{data:s,error:r}=await O.from("certificate_assignments").select("\n            *,\n            template:certificate_templates(*),\n            gurukul:gurukuls(*),\n            course:courses(*),\n            teacher:profiles!certificate_template_assignments_teacher_id_fkey(*),\n            creator:profiles!created_by(*)\n          ").in("gurukul_id",e).is("course_id",null).is("teacher_id",null);!r&&s&&(a=[...a,...s])}}const c=a.filter((e,a,s)=>a===s.findIndex(a=>a.template_id===e.template_id&&a.gurukul_id===e.gurukul_id&&a.course_id===e.course_id&&a.teacher_id===e.teacher_id));return c.map(e=>({...e,teacher:e.teacher?Q(e.teacher):e.teacher,creator:e.creator?Q(e.creator):e.creator}))}catch(a){return console.error("Error getting teacher certificate assignments:",a),[]}},ti=async e=>{const{error:a}=await O.from("certificate_assignments").delete().eq("id",e);if(a)throw a;return!0},oi=async()=>(await ee()).map(e=>({id:e.id,name:e.name,status:e.is_active?"active":"inactive"})),ni=async e=>{const a=e?{gurukul_id:e}:void 0;return(await X(a)).map(e=>({id:e.id,title:e.title,gurukul_id:e.gurukul_id,status:"active"}))},li=async()=>{const{data:e,error:a}=await O.from("profiles").select("id, full_name, email, role").eq("role","teacher").eq("is_active",!0).order("full_name");if(a)throw a;return e.map(e=>{const a=Q(e);return{id:a.id,name:a.full_name,email:a.email,status:"active"}})};async function ci(){try{const{data:e,error:a}=await O.from("certificate_templates").select("*").order("created_at",{ascending:!1});return a?bi():e||bi()}catch{return bi()}}async function mi(e){const{data:a,error:s}=await O.from("certificate_templates").insert({...e,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}).select().single();if(s)throw new Error(`Failed to create template: ${s.message}`);return a}async function di(e,a){const{data:s,error:r}=await O.from("certificate_templates").update({...a,updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(r)throw new Error(`Failed to update template: ${r.message}`);return s}async function ui(e){const{error:a}=await O.from("certificate_templates").delete().eq("id",e);if(a)throw new Error(`Failed to delete template: ${a.message}`)}async function hi(e){const{data:a,error:s}=await O.from("certificate_templates").select("*").eq("id",e).single();if(s||!a)throw new Error("Template not found");const r={...a,name:`${a.name} (Copy)`,created_by:a.created_by,id:void 0,created_at:void 0,updated_at:void 0};return await mi(r)}function bi(){return[{id:"default-student-template",name:"Default Student Certificate",type:"student",template_data:{design:{colors:{primary:"#FF6B35",secondary:"#2563EB",text:"#1F2937"},layout:{orientation:"landscape",size:"a4"}},logos:{eyogi_logo_url:"/eyogiLogo.png",ssh_logo_url:"/ssh-app/Images/Logo.png"},signatures:{vice_chancellor_signature_url:"",president_signature_url:""},placeholders:{student_name:!0,student_id:!0,course_name:!0,course_id:!0,gurukul_name:!0,completion_date:!0,certificate_number:!0,verification_code:!0},custom_text:{title:"CERTIFICATE OF COMPLETION",subtitle:"This is to certify that",header_text:"eYogi Gurukul",footer_text:"This certificate verifies successful completion of the course."}},is_active:!0,created_by:"system",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:"modern-student-template",name:"Modern Student Certificate",type:"student",template_data:{design:{colors:{primary:"#10B981",secondary:"#3B82F6",text:"#111827"},layout:{orientation:"landscape",size:"a4"}},logos:{eyogi_logo_url:"/eyogiLogo.png",ssh_logo_url:"/eyogiTextLess.png"},signatures:{vice_chancellor_signature_url:"",president_signature_url:""},placeholders:{student_name:!0,student_id:!0,course_name:!0,course_id:!0,gurukul_name:!0,completion_date:!0,certificate_number:!0,verification_code:!0},custom_text:{title:"CERTIFICATE OF ACHIEVEMENT",subtitle:"We hereby certify that",header_text:"eYogi Gurukul - Excellence in Learning",footer_text:"Awarded in recognition of successful course completion."}},is_active:!0,created_by:"system",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]}const gi=({batch:s,selectedDate:r,onClose:i,onSuccess:t})=>{const{user:n}=y(),l=n,[c,m]=a.useState([]),[d,u]=a.useState(!0),[h,b]=a.useState(!1),[g,N]=a.useState(""),[x,p]=a.useState(""),[D,f]=a.useState(""),S=a.useCallback(async()=>{try{u(!0);const{data:e,error:a}=await O.from("batch_students").select("\n          student_id,\n          student:profiles!batch_students_student_id_fkey (\n            id,\n            full_name,\n            email,\n            student_id\n          )\n        ").eq("batch_id",s.id).eq("is_active",!0).order("student(full_name)",{ascending:!0});if(a)throw a;const{data:i}=await O.from("attendance_records").select("student_id, status, notes").eq("batch_id",s.id).eq("class_date",r),t=new Map(i?.map(e=>[e.student_id,{status:e.status,notes:e.notes||""}])||[]),o=e?.map(e=>{const a=e.student?Q(e.student):null;return{student_id:e.student_id,student_name:a?.full_name||"Unknown",student_email:a?.email||"",student_number:a?.student_id||void 0,status:t.get(e.student_id)?.status||"present",notes:t.get(e.student_id)?.notes||""}})||[];m(o)}catch(e){console.error("Error fetching batch students:",e),o.error("Failed to fetch students")}finally{u(!1)}},[s.id,r]);a.useEffect(()=>{S()},[S]);const v=e=>{m(a=>a.map(a=>({...a,status:e})))},j=a=>{switch(a){case"present":return e.jsxDEV(Je,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:190,columnNumber:16},void 0);case"absent":return e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:192,columnNumber:16},void 0);case"late":return e.jsxDEV(Ye,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:194,columnNumber:16},void 0);case"excused":return e.jsxDEV(sa,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:196,columnNumber:16},void 0);default:return null}},T=c.filter(e=>e.student_name.toLowerCase().includes(D.toLowerCase())||e.student_email.toLowerCase().includes(D.toLowerCase())||e.student_number?.toLowerCase().includes(D.toLowerCase())),P={total:c.length,present:c.filter(e=>"present"===e.status).length,absent:c.filter(e=>"absent"===e.status).length,late:c.filter(e=>"late"===e.status).length,excused:c.filter(e=>"excused"===e.status).length};return e.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-md flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxDEV(ae,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col shadow-2xl border-4 border-blue-500 ring-4 ring-blue-200",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 flex-shrink-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Mark Attendance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:239,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:[s.name," -"," ",new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:240,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:238,columnNumber:13},void 0),e.jsxDEV("button",{onClick:i,className:"p-1.5 hover:bg-red-100 rounded-full transition-colors",disabled:h,children:e.jsxDEV(Me,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:254,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:249,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:237,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-5 gap-2",children:[e.jsxDEV("div",{className:"bg-white rounded-md p-2 text-center border border-gray-200",children:[e.jsxDEV("p",{className:"text-xs text-gray-600",children:"Total"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:261,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-900",children:P.total},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:262,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:260,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-green-500 rounded-md p-2 text-center",children:[e.jsxDEV("p",{className:"text-xs text-white",children:"Present"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:265,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-white",children:P.present},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:266,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:264,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-red-500 rounded-md p-2 text-center",children:[e.jsxDEV("p",{className:"text-xs text-white",children:"Absent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:269,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-white",children:P.absent},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:270,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:268,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-yellow-500 rounded-md p-2 text-center",children:[e.jsxDEV("p",{className:"text-xs text-white",children:"Late"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:273,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-white",children:P.late},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:274,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:272,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-blue-500 rounded-md p-2 text-center",children:[e.jsxDEV("p",{className:"text-xs text-white",children:"Excused"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:277,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-white",children:P.excused},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:278,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:276,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:259,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:236,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-3 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Session Topic (Optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:287,columnNumber:15},void 0),e.jsxDEV(ce,{type:"text",value:g,onChange:e=>N(e.target.value),placeholder:"e.g., Introduction to Yoga Philosophy",className:"w-full text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:290,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:286,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Session Notes (Optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:299,columnNumber:15},void 0),e.jsxDEV("textarea",{value:x,onChange:e=>p(e.target.value),placeholder:"Any additional notes...",rows:1,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:302,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:298,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:285,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:284,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-3 border-b border-gray-200 bg-white flex-shrink-0",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV(ce,{type:"text",value:D,onChange:e=>f(e.target.value),placeholder:"Search students...",className:"w-full text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:317,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:316,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(re,{onClick:()=>v("present"),variant:"outline",size:"sm",disabled:h,className:"bg-green-500 text-white border-green-600 hover:bg-green-600",children:"All Present"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:326,columnNumber:15},void 0),e.jsxDEV(re,{onClick:()=>v("absent"),variant:"outline",size:"sm",disabled:h,className:"bg-red-500 text-white border-red-600 hover:bg-red-600",children:"All Absent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:335,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:325,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:315,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:314,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-3",children:d?e.jsxDEV("div",{className:"space-y-2",children:[...Array(5)].map((a,s)=>e.jsxDEV("div",{className:"animate-pulse bg-gray-100 h-16 rounded-lg"},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:353,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:351,columnNumber:13},void 0):0===T.length?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:D?"No students found matching your search":"No students in this batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:357,columnNumber:13},void 0):e.jsxDEV("div",{className:"space-y-2",children:T.map(a=>e.jsxDEV("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-3 transition-all hover:shadow-md",children:[e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-3 items-start",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"font-semibold text-gray-900 text-sm truncate",children:a.student_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:370,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-xs text-gray-600 truncate",children:a.student_email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:373,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:369,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1.5 flex-wrap",children:["present","absent","late","excused"].map(s=>e.jsxDEV("button",{onClick:()=>((e,a)=>{m(s=>s.map(s=>s.student_id===e?{...s,status:a}:s))})(a.student_id,s),className:"flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium transition-all "+(a.status===s?"present"===s?"bg-green-500 text-white border-2 border-green-600":"absent"===s?"bg-red-500 text-white border-2 border-red-600":"late"===s?"bg-yellow-500 text-white border-2 border-yellow-600":"bg-blue-500 text-white border-2 border-blue-600":"bg-gray-100 text-gray-700 border-2 border-gray-300 hover:bg-gray-200"),disabled:h,children:[j(s),e.jsxDEV("span",{className:"capitalize hidden sm:inline",children:s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:401,columnNumber:27},void 0)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:379,columnNumber:25},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:377,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:367,columnNumber:19},void 0),e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV("input",{type:"text",value:a.notes,onChange:e=>{return s=a.student_id,r=e.target.value,void m(e=>e.map(e=>e.student_id===s?{...e,notes:r}:e));var s,r},placeholder:"Add notes (optional)...",className:"w-full px-2 py-1 text-xs border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 focus:bg-white",disabled:h},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:409,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:408,columnNumber:19},void 0)]},a.student_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:363,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:361,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:349,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-3 border-t border-gray-200 bg-gray-50 flex justify-end gap-2 flex-shrink-0",children:[e.jsxDEV(re,{onClick:i,variant:"outline",disabled:h,size:"sm",className:"bg-white",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:426,columnNumber:11},void 0),e.jsxDEV(re,{onClick:async()=>{if(l){b(!0);try{if(g.trim()){const e=await O.from("attendance_sessions").select("session_number",{count:"exact"}).eq("batch_id",s.id).order("session_number",{ascending:!1}).limit(1).then(e=>(e.data?.[0]?.session_number||0)+1)||1;await async function(e){try{const a=(new Date).toISOString(),{data:s,error:r}=await O.from("attendance_sessions").insert({id:crypto.randomUUID(),batch_id:e.batch_id,class_date:e.class_date,session_number:e.session_number,topic:e.topic||null,notes:e.notes||null,created_by:e.created_by,created_at:a,updated_at:a}).select("\n        *,\n        batch:batches (\n          id,\n          name,\n          description\n        ),\n        created_by_user:profiles!attendance_sessions_created_by_fkey (\n          id,\n          full_name,\n          email\n        )\n      ").single();return r?(console.error("Error creating attendance session:",r),null):(s.created_by_user&&(s.created_by_user=Q(s.created_by_user)),s)}catch(a){return console.error("Error in createAttendanceSession:",a),null}}({batch_id:s.id,class_date:r,session_number:e,topic:g,notes:x,created_by:l.id})}const e=await async function(e){try{(new Date).toISOString();const a=[];for(const s of e.attendance_records)await Hr({batch_id:e.batch_id,student_id:s.student_id,class_date:e.class_date,status:s.status,marked_by:e.marked_by,notes:s.notes})||a.push(`Failed to mark attendance for student ${s.student_id}`);return{success:0===a.length,errors:a}}catch(a){return console.error("Error in bulkMarkAttendance:",a),{success:!1,errors:["Failed to mark bulk attendance"]}}}({batch_id:s.id,class_date:r,marked_by:l.id,attendance_records:c.map(e=>({student_id:e.student_id,status:e.status,notes:e.notes||void 0}))});e.success?(o.success("Attendance marked successfully"),t()):o.error(`Failed to mark attendance for some students: ${e.errors.join(", ")}`)}catch(e){console.error("Error saving attendance:",e),o.error("Failed to save attendance")}finally{b(!1)}}else o.error("User not authenticated")},variant:"primary",loading:h,disabled:d,size:"sm",className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white",children:h?"Saving...":"Save Attendance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:435,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:425,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:234,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceMarkingModal.tsx",lineNumber:233,columnNumber:5},void 0)},Ni=()=>{const[s,r]=a.useState([]),[i,t]=a.useState(null),[n,l]=a.useState([]),[c,m]=a.useState([]),[d,u]=a.useState(null),[h,b]=a.useState(!0),[g,N]=a.useState(!1),[x,p]=a.useState((new Date).toISOString().split("T")[0]),[D,f]=a.useState({start:"",end:""}),{user:S}=y(),v=S,j="teacher"===v?.role||"business_admin"===v?.role||"super_admin"===v?.role||"admin"===v?.role,P=a.useCallback(async()=>{try{const e=await T({teacher_id:"teacher"===v?.role?v.id:void 0,is_active:!0});r(e),e.length>0&&!i&&t(e[0])}catch(e){console.error("Error fetching batches:",e),o.error("Failed to fetch batches")}},[v,i]),E=a.useCallback(async()=>{if(i){b(!0);try{const[e,a,s]=await Promise.all([Vr({batch_id:i.id,start_date:D.start||void 0,end_date:D.end||void 0}),Wr({batch_id:i.id,start_date:D.start||void 0,end_date:D.end||void 0}),_r(i.id)]);l(e),m(a),u(s)}catch(e){console.error("Error fetching attendance data:",e),o.error("Failed to fetch attendance data")}finally{b(!1)}}else b(!1)},[i,D]);a.useEffect(()=>{P()},[P]),a.useEffect(()=>{E()},[E]);const I=()=>{i?N(!0):o.error("Please select a batch first")},H=()=>{N(!1),E()},V=a=>{switch(a){case"present":return e.jsxDEV(Je,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:131,columnNumber:16},void 0);case"absent":return e.jsxDEV(Ke,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:133,columnNumber:16},void 0);case"late":return e.jsxDEV(Ye,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:135,columnNumber:16},void 0);case"excused":return e.jsxDEV(sa,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:137,columnNumber:16},void 0);default:return null}},W=e=>{switch(e){case"present":return"success";case"absent":return"danger";case"late":return"warning";case"excused":return"info";default:return"default"}};return h&&0===s.length?e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance Management"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:181,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:180,columnNumber:9},void 0),e.jsxDEV("div",{className:"animate-pulse space-y-4",children:[e.jsxDEV("div",{className:"h-32 bg-gray-200 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:184,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((a,s)=>e.jsxDEV("div",{className:"h-24 bg-gray-200 rounded"},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:187,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:185,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:183,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:179,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-lg p-6 text-white",children:[e.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Attendance Management"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:199,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-blue-100 text-lg mb-4",children:"Track and manage student attendance for your batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:200,columnNumber:9},void 0),e.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm mb-3 flex items-center",children:[e.jsxDEV("span",{className:"bg-white/20 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-2",children:"ðŸ“‹"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:206,columnNumber:13},void 0),"How to Mark Attendance"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:205,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm text-blue-50",children:[e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"bg-white/30 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold mr-2 flex-shrink-0",children:"1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:213,columnNumber:15},void 0),e.jsxDEV("span",{children:"Select the batch from the dropdown below"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:216,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:212,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"bg-white/30 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold mr-2 flex-shrink-0",children:"2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:219,columnNumber:15},void 0),e.jsxDEV("span",{children:"Choose the date for taking attendance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:222,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:218,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"bg-white/30 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold mr-2 flex-shrink-0",children:"3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:225,columnNumber:15},void 0),e.jsxDEV("span",{children:'Click "Mark Attendance" button below'},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:228,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:224,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:211,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:204,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:198,columnNumber:7},void 0),e.jsxDEV(ae,{className:"border-2 border-blue-200",children:[e.jsxDEV(se,{className:"bg-blue-50",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3",children:"1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:238,columnNumber:13},void 0),e.jsxDEV(me,{children:"Step 1: Select Your Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:241,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:237,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:236,columnNumber:9},void 0),e.jsxDEV(ie,{children:[0===s.length?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(pa,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:247,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Batches Available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:248,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"teacher"===v?.role?"You have not been assigned to any batches yet. Create a new batch or contact your administrator.":"No active batches found. Create a new batch to get started."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:249,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:246,columnNumber:13},void 0):e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Choose Batch ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:259,columnNumber:32},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:258,columnNumber:17},void 0),e.jsxDEV("select",{value:i?.id||"",onChange:e=>{const a=s.find(a=>a.id===e.target.value);t(a||null)},className:"w-full px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[e.jsxDEV("option",{value:"",children:"-- Select a batch to manage attendance --"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:269,columnNumber:19},void 0),s.map(a=>e.jsxDEV("option",{value:a.id,children:[a.name," (",a.gurukul?.name,") - ",a.student_count||0," students"]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:271,columnNumber:21},void 0))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:261,columnNumber:17},void 0),!i&&e.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:"Please select a batch to continue"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:277,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:257,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:256,columnNumber:13},void 0),i&&e.jsxDEV("div",{className:"mt-4 space-y-4",children:e.jsxDEV("div",{className:"p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-green-900 mb-2 flex items-center",children:[e.jsxDEV(Je,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:288,columnNumber:19},void 0),"Batch Selected: ",i.name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:287,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-gray-600",children:"Status:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:293,columnNumber:21},void 0)," ",e.jsxDEV(oe,{variant:"active"===i.status||"in_progress"===i.status?"success":"completed"===i.status?"default":"warning",size:"sm",children:i.status.replace("_"," ").toUpperCase()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:294,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:292,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-gray-600",children:"Students:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:308,columnNumber:21},void 0)," ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:i.student_count||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:309,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:307,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-gray-600",children:"Gurukul:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:314,columnNumber:21},void 0)," ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:i.gurukul?.name||"N/A"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:315,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:313,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:291,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:286,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:285,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:244,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:235,columnNumber:7},void 0),i&&j&&e.jsxDEV(ae,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-200",children:[e.jsxDEV(se,{className:"bg-green-50",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{className:"bg-green-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3",children:"2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:331,columnNumber:15},void 0),e.jsxDEV(me,{children:"Step 2: Choose Date & Mark Attendance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:334,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:330,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:329,columnNumber:11},void 0),e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-end",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Attendance Date ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:341,columnNumber:42},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:340,columnNumber:17},void 0),e.jsxDEV(ce,{type:"date",value:x,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 text-base border-2",max:(new Date).toISOString().split("T")[0]},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:343,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:["Attendance for:"," ",new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:350,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:339,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(re,{onClick:I,variant:"primary",size:"lg",className:"w-full shadow-lg bg-green-600 hover:bg-green-700 text-white py-4",children:[e.jsxDEV("span",{className:"bg-white/30 rounded-full w-6 h-6 inline-flex items-center justify-center text-xs font-bold mr-2",children:"3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:367,columnNumber:19},void 0),e.jsxDEV(Da,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:370,columnNumber:19},void 0),"Mark Attendance for ",i.name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:361,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-2 text-center",children:"Opens a form to record attendance for all students in this batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:373,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:360,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:338,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:337,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:328,columnNumber:9},void 0),i&&e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV(me,{children:"View Historical Attendance Records (Optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:386,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:385,columnNumber:11},void 0),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter Start Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:391,columnNumber:17},void 0),e.jsxDEV(ce,{type:"date",value:D.start,onChange:e=>f({...D,start:e.target.value}),placeholder:i?.start_date?new Date(i.start_date).toISOString().split("T")[0]:void 0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:394,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:390,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter End Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:406,columnNumber:17},void 0),e.jsxDEV(ce,{type:"date",value:D.end,onChange:e=>f({...D,end:e.target.value}),placeholder:i?.end_date?new Date(i.end_date).toISOString().split("T")[0]:void 0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:409,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:405,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:389,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:388,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:384,columnNumber:9},void 0),d&&e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:432,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:d.total_students},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:433,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:431,columnNumber:17},void 0),e.jsxDEV(pa,{className:"h-8 w-8 text-blue-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:435,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:430,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:429,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:428,columnNumber:11},void 0),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Total Sessions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:444,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:d.total_sessions},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:445,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:443,columnNumber:17},void 0),e.jsxDEV($e,{className:"h-8 w-8 text-purple-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:447,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:442,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:441,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:440,columnNumber:11},void 0),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Avg Attendance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:456,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-green-600",children:[d.average_attendance_percentage.toFixed(1),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:457,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:455,columnNumber:17},void 0),e.jsxDEV(ra,{className:"h-8 w-8 text-green-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:461,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:454,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:453,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:452,columnNumber:11},void 0),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Today's Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:470,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-900",children:(new Date).toLocaleDateString("en-US",{month:"short",day:"numeric"})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:471,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:469,columnNumber:17},void 0),e.jsxDEV($e,{className:"h-8 w-8 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:475,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:468,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:467,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:466,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:427,columnNumber:9},void 0),d&&d.student_summaries.length>0&&e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV(me,{children:"Student Attendance Overview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:486,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:485,columnNumber:11},void 0),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:493,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Classes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:496,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Present"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:499,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Absent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:502,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Late"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:505,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Excused"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:508,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendance %"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:511,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:492,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:491,columnNumber:17},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:d.student_summaries.map(a=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:a.student_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:521,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500",children:a.student_email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:524,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:520,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:519,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.stats.total_classes},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:529,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV(oe,{variant:"success",children:a.stats.present},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:533,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:532,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV(oe,{variant:"danger",children:a.stats.absent},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:536,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:535,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV(oe,{variant:"warning",children:a.stats.late},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:539,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:538,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV(oe,{variant:"info",children:a.stats.excused},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:542,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:541,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{className:"text-sm font-semibold "+(a.stats.attendance_percentage>=75?"text-green-600":a.stats.attendance_percentage>=50?"text-yellow-600":"text-red-600"),children:[a.stats.attendance_percentage.toFixed(1),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:546,columnNumber:27},void 0),e.jsxDEV("div",{className:"ml-2 w-24 bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:"h-2 rounded-full "+(a.stats.attendance_percentage>=75?"bg-green-600":a.stats.attendance_percentage>=50?"bg-yellow-600":"bg-red-600"),style:{width:`${a.stats.attendance_percentage}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:558,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:557,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:545,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:544,columnNumber:23},void 0)]},a.student_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:518,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:516,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:490,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:489,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:488,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:484,columnNumber:9},void 0),n.length>0&&e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV(me,{children:"Recent Attendance Records"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:586,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:585,columnNumber:11},void 0),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:593,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:596,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:599,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marked By"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:602,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:605,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:592,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:591,columnNumber:17},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:n.slice(0,10).map(a=>{return e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(s=a.class_date,new Date(s).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:613,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:a.student?.full_name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:617,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500",children:a.student?.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:620,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:616,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[V(a.status),e.jsxDEV(oe,{variant:W(a.status),children:a.status},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:625,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:623,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:622,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.marked_by_user?.full_name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:628,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.notes||"-"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:631,columnNumber:23},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:612,columnNumber:21},void 0);var s})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:610,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:590,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:589,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:588,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:584,columnNumber:9},void 0),!i&&e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-12 text-center",children:[e.jsxDEV($e,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:647,columnNumber:13},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Batch Selected"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:648,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"Please select a batch to view attendance records"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:649,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:646,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:645,columnNumber:9},void 0),i&&0===n.length&&!h&&e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-12 text-center",children:[e.jsxDEV(sa,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:657,columnNumber:13},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Attendance Records"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:658,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600 mb-4",children:["Start marking attendance for ",i.name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:659,columnNumber:13},void 0),j&&e.jsxDEV(re,{onClick:I,variant:"primary",children:[e.jsxDEV(Da,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:662,columnNumber:17},void 0),"Mark Attendance"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:661,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:656,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:655,columnNumber:9},void 0),g&&i&&e.jsxDEV(gi,{batch:i,selectedDate:x,onClose:H,onSuccess:H},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:672,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AttendanceManagement.tsx",lineNumber:196,columnNumber:5},void 0)};function xi({consent:a,studentName:s,onClose:t,userRole:o}){if(!a)return null;const n="business_admin"===o||"super_admin"===o||"admin"===o,l=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"}):"N/A";return e.jsxDEV(i,{children:e.jsxDEV("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxDEV("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsxDEV(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:t},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:37,columnNumber:11},this),e.jsxDEV(r.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-3xl bg-white rounded-2xl shadow-2xl",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-5 rounded-t-2xl",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:"Consent Audit Trail"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:56,columnNumber:19},this),e.jsxDEV("p",{className:"text-blue-100 mt-1",children:["Student: ",s]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:57,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:55,columnNumber:17},this),e.jsxDEV("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:e.jsxDEV(Me,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:63,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:59,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:54,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:53,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold "+(a.withdrawn?"bg-red-100 text-red-800":a.consent_given?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:a.withdrawn?"ðŸ”´ Consent Withdrawn":a.consent_given?"âœ… Consent Given":"âš ï¸ No Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:72,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:71,columnNumber:15},this),a.consent_given&&e.jsxDEV("div",{className:"bg-green-50 border border-green-200 rounded-xl p-5 mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[e.jsxDEV(ke,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:93,columnNumber:21},this),"Consent Given Details"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:92,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-green-700 uppercase tracking-wide",children:"Given By"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:99,columnNumber:25},this),e.jsxDEV("p",{className:"text-green-900 font-medium mt-1",children:a.consented_by_user?.full_name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:102,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-green-700",children:a.consented_by_user?.email||"N/A"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:105,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:98,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-green-700 uppercase tracking-wide",children:"User ID"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:110,columnNumber:25},this),e.jsxDEV("p",{className:"text-green-900 font-mono text-sm mt-1",children:a.consented_by||"N/A"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:113,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:109,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:97,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3 border-t border-green-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-green-700 uppercase tracking-wide flex items-center",children:[e.jsxDEV(Ye,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:122,columnNumber:27},this),"Date & Time"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:121,columnNumber:25},this),e.jsxDEV("p",{className:"text-green-900 font-medium mt-1",children:l(a.consent_date)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:125,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:120,columnNumber:23},this),n&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-green-700 uppercase tracking-wide flex items-center",children:[e.jsxDEV(fa,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:132,columnNumber:29},this),"IP Address"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:131,columnNumber:27},this),e.jsxDEV("p",{className:"text-green-900 font-mono text-sm mt-1",children:a.ip_address||"Not recorded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:135,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:130,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:119,columnNumber:21},this),n&&e.jsxDEV("div",{className:"pt-3 border-t border-green-200",children:[e.jsxDEV("label",{className:"text-xs font-medium text-green-700 uppercase tracking-wide flex items-center",children:[e.jsxDEV(Le,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:145,columnNumber:27},this),"User Agent (Browser/Device)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:144,columnNumber:25},this),e.jsxDEV("p",{className:"text-green-900 text-sm mt-1 break-all",children:a.user_agent||"Not recorded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:148,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:143,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:96,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:91,columnNumber:17},this),a.withdrawn&&e.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5 mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-red-900 mb-4",children:"Consent Withdrawn"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:160,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-red-700 uppercase tracking-wide flex items-center",children:[e.jsxDEV(Ye,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:164,columnNumber:25},this),"Withdrawn Date & Time"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:163,columnNumber:23},this),e.jsxDEV("p",{className:"text-red-900 font-medium mt-1",children:l(a.withdrawn_date)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:167,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:162,columnNumber:21},this),a.withdrawn_reason&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-red-700 uppercase tracking-wide",children:"Reason"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:173,columnNumber:25},this),e.jsxDEV("p",{className:"text-red-900 mt-1 bg-red-100 rounded-lg p-3",children:a.withdrawn_reason},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:176,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:172,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:161,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:159,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5 mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:187,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Full Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:190,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-1",children:a.student?.full_name||s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:193,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:189,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Student ID"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:198,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-1",children:a.student?.student_id||"N/A"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:201,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:197,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Email"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:206,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 mt-1",children:a.student?.email||"N/A"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:209,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:205,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Database ID"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:212,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 font-mono text-xs mt-1 break-all",children:a.student_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:215,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:211,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:188,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:186,columnNumber:15},this),e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-5",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"System Timestamps"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:224,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-blue-700 uppercase tracking-wide",children:"Record Created"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:227,columnNumber:21},this),e.jsxDEV("p",{className:"text-blue-900 mt-1",children:l(a.created_at)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:230,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:226,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-blue-700 uppercase tracking-wide",children:"Last Updated"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:233,columnNumber:21},this),e.jsxDEV("p",{className:"text-blue-900 mt-1",children:l(a.updated_at)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:236,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:232,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:225,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:223,columnNumber:15},this),e.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5 mt-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Consent Text"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:243,columnNumber:17},this),e.jsxDEV("div",{className:"bg-white rounded-lg p-4 max-h-48 overflow-y-auto text-sm text-gray-700 whitespace-pre-wrap border border-gray-300",children:a.consent_text},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:242,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:69,columnNumber:13},this),e.jsxDEV("div",{className:"bg-gray-50 px-6 py-4 rounded-b-2xl flex justify-end border-t border-gray-200",children:e.jsxDEV("button",{onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:252,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:251,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:35,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:34,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/consent/ConsentAuditModal.tsx",lineNumber:33,columnNumber:5},this)}const pi=hs({gurukul_id:bs().min(1,"Please select a Gurukul"),course_number:bs().optional(),part:bs().max(1,"Part must be a single letter").optional(),title:bs().min(5,"Title must be at least 5 characters"),slug:bs().optional(),description:bs().min(20,"Description must be at least 20 characters"),detailed_description:bs().optional(),level:Ds(["elementary","basic","intermediate","advanced"]),age_group_min:ps().min(4,"Minimum age must be at least 4").optional(),age_group_max:ps().max(100,"Maximum age must be less than 100").optional(),duration_weeks:ps().min(1,"Duration must be at least 1 week").optional(),duration_hours:ps().min(1,"Duration must be at least 1 hour").optional(),delivery_method:Ds(["physical","remote","hybrid"]).default("hybrid"),price:ps().min(0,"Price must be non-negative").default(0),currency:bs().default("EUR"),max_students:ps().min(1,"Must allow at least 1 student").default(20),min_students:ps().min(1,"Must allow at least 1 student").default(10),prerequisites:xs(bs()).optional(),learning_outcomes:xs(bs()).min(1,"At least one learning outcome is required"),includes_certificate:gs().default(!0),image_url:bs().optional().nullable(),cover_image_url:bs().optional().nullable(),video_preview_url:bs().optional().nullable(),tags:xs(bs()).optional(),meta_title:bs().optional(),meta_description:bs().optional(),featured:gs().default(!1),is_active:gs().default(!0)}),Di=e=>e?e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""):"";const fi=({isOpen:r,student:i,teacherCourses:t,existingEnrollments:o,pendingEnrollments:n,teacherId:l,certificates:c,onClose:m,onEnrollmentChange:d})=>{const[u,h]=a.useState(!1),[b,g]=a.useState(""),N=t.filter(e=>!o.some(a=>a.course_id===e.id)&&!n.some(a=>a.course_id===e.id));return r?e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:["Manage Enrollments - ",i.full_name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5679,columnNumber:13},void 0),e.jsxDEV("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5686,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5682,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5678,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:i.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5689,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5677,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6",children:[n.length>0&&e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-yellow-900 mb-4 flex items-center",children:[e.jsxDEV(Ye,{className:"h-5 w-5 mr-2 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5697,columnNumber:17},void 0),"Pending Enrollments"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5696,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3",children:n.map(a=>{const s=t.find(e=>e.id===a.course_id);return e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-gray-900",children:s?.title||"Unknown Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5709,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxDEV("span",{children:["Status:"," ",e.jsxDEV("span",{className:"capitalize text-yellow-600 font-medium",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5715,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5713,columnNumber:27},void 0),e.jsxDEV("span",{children:["Requested: ",new Date(a.enrolled_at).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5717,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5712,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5708,columnNumber:23},void 0)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5704,columnNumber:21},void 0)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5700,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5695,columnNumber:13},void 0),e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5731,columnNumber:13},void 0),o.length>0?e.jsxDEV("div",{className:"space-y-3",children:o.map(a=>{const s=t.find(e=>e.id===a.course_id);return e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-gray-900",children:s?.title||"Unknown Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5742,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxDEV("span",{children:["Status:"," ",e.jsxDEV("span",{className:"capitalize "+("completed"===a.status?"text-green-600":"approved"===a.status?"text-blue-600":"text-yellow-600"),children:a.status},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5748,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5746,columnNumber:27},void 0),e.jsxDEV("span",{children:["Enrolled: ",new Date(a.enrolled_at).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5754,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5745,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5741,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:(r=a.student_id,i=a.course_id,c.some(e=>e.student_id===r&&e.course_id===i)&&e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsxDEV(na,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5762,columnNumber:29},void 0),"Certified"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5761,columnNumber:27},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5759,columnNumber:23},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5737,columnNumber:21},void 0);var r,i})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5733,columnNumber:15},void 0):e.jsxDEV("p",{className:"text-gray-500 text-sm",children:"No enrollments found."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5772,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5730,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Enroll in New Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5778,columnNumber:13},void 0),N.length>0?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5782,columnNumber:19},void 0),e.jsxDEV("select",{value:b,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsxDEV("option",{value:"",children:"Choose a course..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5790,columnNumber:21},void 0),N.map(a=>e.jsxDEV("option",{value:a.id,children:[a.course_number," - ",a.title," (",a.level,")"]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5792,columnNumber:23},void 0))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5785,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5781,columnNumber:17},void 0),e.jsxDEV(re,{onClick:async()=>{if(!b)return void s.error("Please select a course");if(o.some(e=>e.course_id===b))return void s.error("Student is already enrolled in this course");if(n.some(e=>e.course_id===b))s.error("Student already has a pending enrollment in this course");else{h(!0);try{await Ve(b,i.id),s.success("Student enrolled successfully and auto-approved!"),d(),g("")}catch(e){console.error("Error enrolling student:",e),s.error("Failed to enroll student")}finally{h(!1)}}},disabled:!b||u,className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:u?"Enrolling...":"Enroll Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5798,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5780,columnNumber:15},void 0):e.jsxDEV("p",{className:"text-gray-500 text-sm",children:"No available courses. Student is enrolled in all your courses."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5807,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5777,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5692,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV(re,{onClick:m,variant:"outline",className:"px-6",children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5816,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5815,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5814,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5676,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5675,columnNumber:5},void 0):null},Si=({batch:s,allCourseStudents:r,loading:i,onClose:t,onToggleStudent:o})=>{const[n,l]=a.useState(new Set);return s?e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:["Edit Students - ",s.name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5864,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:["Course: ",s.course?.title]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5865,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5863,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6 space-y-6",children:i?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5871,columnNumber:15},void 0),e.jsxDEV("p",{className:"mt-2 text-gray-600",children:"Loading student data..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5872,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5870,columnNumber:13},void 0):e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Course Students (",r.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5876,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"Check students to include them in this batch. Unchecked students will be removed."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5879,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===r.length?e.jsxDEV("p",{className:"text-gray-500 text-center py-8",children:"No students enrolled in this course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5885,columnNumber:19},void 0):r.map(a=>e.jsxDEV("div",{className:"flex items-center space-x-3 p-3 rounded-lg border transition-colors "+(a.isInBatch?"border-indigo-200 bg-indigo-50":"border-gray-200 hover:border-gray-300"),children:[e.jsxDEV("div",{className:"flex items-center",children:e.jsxDEV("input",{type:"checkbox",checked:a.isInBatch,disabled:n.has(a.id),onChange:()=>(async(e,a)=>{l(a=>new Set(a).add(e));try{await o(e,!a)}finally{l(a=>{const s=new Set(a);return s.delete(e),s})}})(a.id,a.isInBatch),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5899,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5898,columnNumber:23},void 0),n.has(a.id)&&e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5909,columnNumber:25},void 0),e.jsxDEV(ke,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5912,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5915,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600",children:a.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5916,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5914,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-xs",children:a.isInBatch?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"In Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5921,columnNumber:27},void 0):e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Not in Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5925,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5919,columnNumber:23},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5890,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5883,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5875,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5868,columnNumber:9},void 0),e.jsxDEV("div",{className:"px-6 py-4 bg-gray-50 rounded-b-2xl",children:e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV(re,{onClick:t,variant:"outline",children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5940,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5939,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5938,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5862,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5861,columnNumber:5},void 0):null},yi=({teacherId:r,onClose:i,onSuccess:t})=>{const[o,n]=a.useState(!1),[l,c]=a.useState(""),[m,d]=a.useState(null),[u,h]=a.useState([]),[b,g]=a.useState([]),[N,x]=a.useState([]),[p,D]=a.useState("basic"),f=a.useCallback(async()=>{if(r)try{const e=await ue(r);g(e)}catch(e){console.error("Error loading courses:",e),s.error("Failed to load courses")}},[r]),S=a.useCallback(async e=>{try{const a=await He(e);x(a)}catch(a){console.error("Error loading students for course:",a),s.error("Failed to load students enrolled in this course"),x([])}},[]);a.useEffect(()=>{f()},[f]);return e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6080,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"Set up a new learning group for your students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6081,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6079,columnNumber:13},void 0),e.jsxDEV("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6087,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6083,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6078,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center justify-center mt-6 space-x-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-2 "+("basic"===p?"text-indigo-600":"course"===p||"students"===p?"text-green-600":"text-gray-400"),children:[e.jsxDEV("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+("basic"===p?"bg-indigo-100":"course"===p||"students"===p?"bg-green-100":"bg-gray-100"),children:"1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6096,columnNumber:15},void 0),e.jsxDEV("span",{className:"font-medium",children:"Basic Info"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6101,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6093,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-8 h-px bg-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6103,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2 "+("course"===p?"text-indigo-600":"students"===p?"text-green-600":"text-gray-400"),children:[e.jsxDEV("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+("course"===p?"bg-indigo-100":"students"===p?"bg-green-100":"bg-gray-100"),children:"2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6107,columnNumber:15},void 0),e.jsxDEV("span",{className:"font-medium",children:"Select Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6112,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6104,columnNumber:13},void 0),e.jsxDEV("div",{className:"w-8 h-px bg-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6114,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2 "+("students"===p?"text-indigo-600":"text-gray-400"),children:[e.jsxDEV("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+("students"===p?"bg-indigo-100":"bg-gray-100"),children:"3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6118,columnNumber:15},void 0),e.jsxDEV("span",{className:"font-medium",children:"Add Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6123,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6115,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6092,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6077,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6",children:["basic"===p&&e.jsxDEV("div",{className:"space-y-6",children:e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch Name *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6133,columnNumber:17},void 0),e.jsxDEV(ce,{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Enter a name for your batch (e.g., 'Morning Yoga Batch', 'Advanced Students Group')",className:"w-full"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6134,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:"Choose a descriptive name that helps identify this group of students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6141,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6132,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6131,columnNumber:13},void 0),"course"===p&&e.jsxDEV("div",{className:"space-y-6",children:e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Course *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6152,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid gap-3 max-h-64 overflow-y-auto",children:b.map(a=>e.jsxDEV("div",{onClick:()=>d(a),className:"p-4 rounded-lg border-2 cursor-pointer transition-all "+(m?.id===a.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"),children:e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV(ca,{className:"h-6 w-6 mt-0.5 "+(m?.id===a.id?"text-indigo-600":"text-gray-400")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6167,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-medium text-gray-900",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6173,columnNumber:27},void 0),a.description&&e.jsxDEV("div",{className:"text-sm text-gray-600 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:te(a.description)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6175,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxDEV("span",{children:["Level: ",a.level||"Basic"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6181,columnNumber:29},void 0),e.jsxDEV("span",{children:["Duration: ",a.duration_weeks||8," weeks"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6182,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6180,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6172,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6166,columnNumber:23},void 0)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6157,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6155,columnNumber:17},void 0),0===b.length&&e.jsxDEV("p",{className:"text-gray-500 text-center py-8",children:"No courses available. Please create a course first."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6190,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6151,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6150,columnNumber:13},void 0),"students"===p&&e.jsxDEV("div",{className:"space-y-6",children:e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Students (Optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6202,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:['Only students enrolled in "',m?.title,'" are shown. You can add more students later.']},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6205,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid gap-2 max-h-64 overflow-y-auto",children:0===N.length?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[e.jsxDEV(ke,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6212,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm",children:['No students enrolled in "',m?.title,'"']},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6213,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs mt-1",children:"You can create the batch and add students later"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6214,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6211,columnNumber:21},void 0):N.map(a=>e.jsxDEV("div",{onClick:()=>{h(e=>e.includes(a.id)?e.filter(e=>e!==a.id):[...e,a.id])},className:"p-3 rounded-lg border cursor-pointer transition-all "+(u.includes(a.id)?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"),children:e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-4 h-4 rounded border-2 "+(u.includes(a.id)?"bg-indigo-500 border-indigo-500":"border-gray-300"),children:u.includes(a.id)&&e.jsxDEV(Je,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6244,columnNumber:31},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6236,columnNumber:27},void 0),e.jsxDEV(ke,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6247,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-gray-900",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6249,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600",children:a.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6250,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6248,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6235,columnNumber:25},void 0)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6220,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6209,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:[u.length," student",1!==u.length?"s":""," ","selected"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6257,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6201,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6200,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6128,columnNumber:9},void 0),e.jsxDEV("div",{className:"px-6 py-4 bg-gray-50 rounded-b-2xl",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex space-x-3",children:"basic"!==p&&e.jsxDEV(re,{variant:"outline",onClick:()=>{"course"===p?D("basic"):"students"===p&&D("course")},children:"Previous"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6271,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6269,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex space-x-3",children:[e.jsxDEV(re,{variant:"outline",onClick:i,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6277,columnNumber:15},void 0),"students"===p?e.jsxDEV(re,{onClick:async()=>{if(r&&l.trim()&&m)if(m.gurukul_id){n(!0);try{const e={name:l.trim(),description:l.trim(),gurukul_id:m.gurukul_id,teacher_id:r,status:"not_started",created_by:r,is_active:!0,progress_percentage:0},a=await k(e);await A(a.id,m.id,r),u.length>0&&await Promise.all(u.map(e=>C(a.id,e,r))),s.success("Batch created successfully!"),t()}catch(e){console.error("Error creating batch:",e);let a="Failed to create batch";e instanceof Error&&(a=e.message.includes("duplicate")?"A batch with this name already exists":e.message.includes("foreign key")?"Invalid course or gurukul selection":e.message.includes("check constraint")?"Invalid batch data provided":`Error: ${e.message}`),s.error(a)}finally{n(!1)}}else s.error("Selected course must have a valid gurukul");else s.error("Please fill in all required fields")},disabled:o||!l.trim()||!m,className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300",children:o?"Creating...":"Create Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6281,columnNumber:17},void 0):e.jsxDEV(re,{onClick:()=>{"basic"===p&&l.trim()?D("course"):"course"===p&&m&&(S(m.id),D("students"))},disabled:"basic"===p&&!l.trim()||"course"===p&&!m,className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300",children:"Next"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6289,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6276,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6268,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6267,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6076,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6075,columnNumber:5},void 0)},vi=({teacherId:r,canAccess:i,initialBatches:t=[],onBatchUpdate:o})=>{const[n,l]=a.useState(t),[c,m]=a.useState(!1),[d,u]=a.useState(null),[h,b]=a.useState(!1),[g,N]=a.useState(!1),[x,p]=a.useState(null),[D,f]=a.useState(!1),[S,y]=a.useState(new Set),[v,j]=a.useState(!1),[P,E]=a.useState(null),[I,k]=a.useState([]),[A,R]=a.useState(!1),[F,B]=a.useState(!1),[q,L]=a.useState(null),[G,U]=a.useState([]),[z,O]=a.useState(!1),[$,Y]=a.useState({total:0,active:0,inactive:0,completed:0,archived:0,in_progress:0}),K=a.useCallback(async()=>{try{m(!0);const e=await T({teacher_id:r,is_active:!0});l(e)}catch(e){console.error("Error loading batches:",e),s.error("Failed to load batches")}finally{m(!1)}},[r]);a.useEffect(()=>{const e={total:n.length,active:n.filter(e=>"active"===e.status).length,inactive:n.filter(e=>!e.is_active).length,completed:n.filter(e=>"completed"===e.status).length,archived:n.filter(e=>"archived"===e.status).length,in_progress:n.filter(e=>"in_progress"===e.status).length};Y(e)},[n]),a.useEffect(()=>{l(t)},[t]);const J=e=>{switch(e){case"not_started":return"bg-red-100 text-red-800";case"active":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Q=e=>e?new Date(e).toLocaleDateString():"Not set";return c?e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:e.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900",children:"Batch Management"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6629,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6628,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[...Array(5)].map((a,s)=>e.jsxDEV(ae,{className:"animate-pulse",children:e.jsxDEV(ie,{className:"p-6",children:[e.jsxDEV("div",{className:"h-4 bg-gray-200 rounded mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6635,columnNumber:17},void 0),e.jsxDEV("div",{className:"h-8 bg-gray-200 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6636,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6634,columnNumber:15},void 0)},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6633,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6631,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6627,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"flex flex-col items-center justify-between space-y-4 md:space-y-0 md:flex-row",children:[e.jsxDEV("div",{className:"text-center md:text-left",children:[e.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Batch Management"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6650,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600 max-w-2xl",children:"Manage your student batches, create groups, and organize learning sessions."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6651,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6649,columnNumber:9},void 0),e.jsxDEV(re,{onClick:()=>R(!0),className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 font-semibold px-8 py-3",children:[e.jsxDEV(Da,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6659,columnNumber:11},void 0),"Create New Batch"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6655,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6648,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl",children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Total Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6670,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-orange-600",children:$.total},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6671,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6669,columnNumber:15},void 0),e.jsxDEV(ua,{className:"h-8 w-8 text-orange-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6673,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6668,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6667,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6666,columnNumber:9},void 0),e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl",children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6682,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-green-600",children:$.active},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6683,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6681,columnNumber:15},void 0),e.jsxDEV(Je,{className:"h-8 w-8 text-green-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6685,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6680,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6679,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6678,columnNumber:9},void 0),e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl",children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6694,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-indigo-600",children:$.in_progress},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6695,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6693,columnNumber:15},void 0),e.jsxDEV(_a,{className:"h-8 w-8 text-indigo-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6697,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6692,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6691,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6690,columnNumber:9},void 0),e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl",children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6706,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-blue-600",children:$.completed},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6707,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6705,columnNumber:15},void 0),e.jsxDEV(na,{className:"h-8 w-8 text-blue-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6709,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6704,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6703,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6702,columnNumber:9},void 0),e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl",children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"My Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6718,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-purple-600",children:n.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6719,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6717,columnNumber:15},void 0),e.jsxDEV(pa,{className:"h-8 w-8 text-purple-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6721,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6716,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6715,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6714,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6665,columnNumber:7},void 0),0===n.length?e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl",children:e.jsxDEV(ie,{className:"p-12",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(ua,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6732,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Batches Yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6733,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-gray-500 mb-6",children:"Start building your teaching community by creating your first batch of students."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6734,columnNumber:15},void 0),e.jsxDEV(re,{onClick:()=>R(!0),className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 font-semibold",children:[e.jsxDEV(Da,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6741,columnNumber:17},void 0),"Create Your First Batch"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6737,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6731,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6730,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6729,columnNumber:9},void 0):e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>e.jsxDEV(ae,{className:"hover:shadow-lg transition-shadow bg-white/80 backdrop-blur-sm border-white/20 shadow-xl",children:[e.jsxDEV(se,{className:"pb-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6757,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600",children:a.gurukul?.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6758,columnNumber:21},void 0),a.course&&e.jsxDEV("div",{className:"mt-1 flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs text-gray-500",children:a.course.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6761,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs text-gray-400",children:"-"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6762,columnNumber:25},void 0),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:(a.course.level||"Basic").charAt(0).toUpperCase()+(a.course.level||"Basic").slice(1).toLowerCase()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6763,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6760,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6756,columnNumber:19},void 0),e.jsxDEV("span",{className:`text-xs font-medium px-2 py-1 rounded ${J(a.status)}`,children:a.status.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6770,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6755,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6754,columnNumber:15},void 0),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(pa,{className:"h-4 w-4 text-gray-400 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6781,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-600",children:[a.student_count||0," students"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6782,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6780,columnNumber:21},void 0),a.course&&e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ca,{className:"h-4 w-4 text-gray-400 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6786,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-600",children:[a.course.duration_weeks," weeks"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6787,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6785,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6779,columnNumber:19},void 0),a.course&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-xs text-gray-500",children:"Course Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6796,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:[a.progress_percentage||0,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6797,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6795,columnNumber:23},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${a.progress_percentage||0}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6802,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6801,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:[a.progress?.filter(e=>e.is_completed).length||0," of"," ",a.course.duration_weeks," weeks completed"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6807,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6794,columnNumber:21},void 0),"not_started"!==a.status&&(a.start_date||a.end_date)&&e.jsxDEV("div",{className:"pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxDEV("span",{children:["Start: ",a.start_date?Q(a.start_date):"TBD"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6818,columnNumber:25},void 0),e.jsxDEV("span",{children:["End: ",a.end_date?Q(a.end_date):"TBD"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6821,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6817,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6816,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-3 pt-4",children:[e.jsxDEV(re,{variant:"outline",size:"sm",className:"flex-1 text-xs font-semibold bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5",onClick:()=>(async e=>{try{E(e),j(!0);const a=(await V(e.id)).map(a=>({...a,name:a.student?.full_name||"Unknown",email:a.student?.email||"No email",batch_name:a.batch?.name||e.name,course_title:e.course?.title||"No course"}));k(a)}catch(a){console.error("Error fetching batch students:",a),s.error("Failed to load batch details")}})(a),children:[e.jsxDEV(Ze,{className:"h-3 w-3 mr-1.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6834,columnNumber:23},void 0),"View Details"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6828,columnNumber:21},void 0),"not_started"===a.status?e.jsxDEV(re,{variant:"outline",size:"sm",className:"flex-1 text-xs font-semibold bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5",onClick:()=>(async e=>{if(e.course)try{const a=new Date,r=new Date;r.setDate(a.getDate()+7*(e.course.duration_weeks||8)),await W(e.id,{status:"active",start_date:a.toISOString(),end_date:r.toISOString(),updated_at:(new Date).toISOString()}),s.success("Batch started successfully! Dates have been calculated based on course duration."),K(),loadStats()}catch(a){console.error("Error starting batch:",a),s.error("Failed to start batch")}else s.error("Cannot start batch without an assigned course")})(a),children:[e.jsxDEV(Ye,{className:"h-3 w-3 mr-1.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6846,columnNumber:25},void 0),"Start Batch"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6840,columnNumber:23},void 0):a.course&&e.jsxDEV(re,{variant:"outline",size:"sm",className:"flex-1 text-xs font-semibold bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5",onClick:()=>(e=>{u(e),b(!0)})(a),children:[e.jsxDEV(ya,{className:"h-3 w-3 mr-1.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6858,columnNumber:27},void 0),"Progress"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6852,columnNumber:25},void 0),a.course&&e.jsxDEV(re,{variant:"outline",size:"sm",className:"flex-1 text-xs font-semibold bg-gradient-to-r from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5",onClick:()=>(async e=>{if(e.course?.id){L(e),O(!0),B(!0);try{const a=await V(e.id),s=new Set(a.map(e=>e.student_id)),r=(await He(e.course.id)).map(e=>({id:e.id,full_name:e.full_name,email:e.email,isInBatch:s.has(e.id)}));U(r)}catch(a){console.error("Error loading student data:",a),s.error("Failed to load student information")}finally{O(!1)}}else s.error("Cannot edit students: Batch has no associated course")})(a),children:[e.jsxDEV(pa,{className:"h-3 w-3 mr-1.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6872,columnNumber:25},void 0),"Edit Students"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6866,columnNumber:23},void 0),e.jsxDEV(re,{variant:"danger",size:"sm",className:"px-3 font-semibold bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5",onClick:()=>{return e=a.id,p(e),void N(!0);var e},children:e.jsxDEV(Xe,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6883,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6877,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6827,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6778,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6777,columnNumber:15},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6750,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6748,columnNumber:9},void 0),h&&d&&d.course&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Course Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6900,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-600",children:[d.name," - ",d.course.title]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6901,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6899,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{b(!1),u(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6912,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6905,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6898,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6897,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6920,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm font-bold text-gray-900",children:[d.progress_percentage||0,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6921,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6919,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-300",style:{width:`${d.progress_percentage||0}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6926,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6925,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6918,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 mb-4",children:"Weekly Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6934,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500 mb-4 p-2 bg-blue-50 rounded",children:"ðŸ’¡ Complete weeks in sequence. Only the next week can be checked off."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6935,columnNumber:17},void 0),Array.from({length:d.course.duration_weeks},(a,i)=>{const t=i+1,o=d.progress?.find(e=>e.week_number===t),n=o?.is_completed||!1,l=(d.progress?.filter(e=>e.is_completed)||[]).length+1,c=S.has(t),m=(n||t===l)&&!c,h=c?{text:"Updating...",color:"text-blue-500"}:n?{text:"Completed âœ…",color:"text-green-600"}:t===l?{text:"Ready to start ðŸŽ¯",color:"text-blue-600"}:{text:"Locked ðŸ”’",color:"text-gray-400"};return e.jsxDEV("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-all ${m?"border-gray-200 hover:bg-gray-50 hover:shadow-sm":"border-gray-100 bg-gray-50"} ${t!==l||n?"":"ring-2 ring-blue-200 border-blue-300"}`,children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("span",{className:"text-sm font-medium "+(m?"text-gray-900":"text-gray-400"),children:["Week ",t]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6984,columnNumber:25},void 0),o?.completed_at&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:Q(o.completed_at)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6990,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6983,columnNumber:23},void 0),e.jsxDEV("label",{className:"flex items-center space-x-2 "+(m?"cursor-pointer":"cursor-not-allowed"),children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"checkbox",checked:n,disabled:!m||c,onChange:e=>(async(e,a)=>{if(d&&r){y(a=>new Set(a).add(e));try{await w(d.id,e,a,r),s.success(`Week ${e} ${a?"completed":"reset"}!`)}catch(i){console.error("Error updating progress:",i),s.error("Failed to update progress")}finally{try{const e=(await T({teacher_id:r,is_active:!0})).find(e=>e.id===d.id);e&&u(e),K(),loadStats()}catch(t){console.error("Error refreshing batch data:",t)}y(a=>{const s=new Set(a);return s.delete(e),s})}}})(t,e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 "+(!m||c?"opacity-40 cursor-not-allowed":"")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6999,columnNumber:27},void 0),c&&e.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxDEV("div",{className:"w-3 h-3 border border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7010,columnNumber:31},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7009,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6998,columnNumber:25},void 0),e.jsxDEV("span",{className:`text-sm ${h.color} flex items-center gap-1`,children:[c&&e.jsxDEV("div",{className:"w-3 h-3 border border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7016,columnNumber:29},void 0),h.text]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7014,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6995,columnNumber:23},void 0)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6971,columnNumber:21},void 0)})]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6933,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 mt-6",children:e.jsxDEV(re,{variant:"outline",onClick:()=>{b(!1),u(null)},children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7027,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7026,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6917,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6896,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6895,columnNumber:9},void 0),v&&P&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Batch Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7049,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-600",children:P.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7050,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7048,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{j(!1),E(null),k([])},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7060,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7052,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7047,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7046,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 space-y-6",children:[e.jsxDEV("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Course Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7068,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:"Course Title:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7071,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-900",children:P.course?.title||"Not assigned"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7072,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7070,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:"Duration:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7077,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-900",children:[P.course?.duration_weeks||0," weeks"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7078,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7076,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:"Gurukul:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7083,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-900",children:P.gurukul?.name||"Not assigned"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7084,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7082,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:"Level:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7089,columnNumber:21},void 0),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:P.course?.level||"Basic"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7090,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7088,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7069,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7067,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Students (",I.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7099,columnNumber:17},void 0),0===I.length?e.jsxDEV("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsxDEV(pa,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7104,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-gray-500",children:"No students assigned to this batch yet."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7105,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7103,columnNumber:19},void 0):e.jsxDEV("div",{className:"bg-white border rounded-lg overflow-hidden",children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7114,columnNumber:29},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7117,columnNumber:29},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7120,columnNumber:29},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7123,columnNumber:29},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7126,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7113,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7112,columnNumber:25},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(a=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsxDEV("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsxDEV("span",{className:"text-sm font-medium text-white",children:a.student?.full_name?.charAt(0)||"S"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7138,columnNumber:39},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7137,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7136,columnNumber:35},void 0),e.jsxDEV("div",{className:"ml-3",children:e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:a.student?.full_name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7144,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7143,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7135,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7134,columnNumber:31},void 0),e.jsxDEV("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:a.student?.student_id||"Not set"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7150,columnNumber:31},void 0),e.jsxDEV("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:a.student?.email||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7153,columnNumber:31},void 0),e.jsxDEV("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("input",{type:"number",min:"0",max:"100",value:a.progress_percentage||0,onChange:async e=>{const r=Math.min(100,Math.max(0,parseInt(e.target.value)||0));try{await H(P.id,a.student_id,r),k(e=>e.map(e=>e.student_id===a.student_id?{...e,progress_percentage:r}:e)),s.success("Progress updated successfully")}catch(i){console.error("Error updating progress:",i),s.error("Failed to update progress")}},className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7158,columnNumber:35},void 0),e.jsxDEV("span",{className:"text-sm text-gray-600",children:"%"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7190,columnNumber:35},void 0),e.jsxDEV("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${a.progress_percentage||0}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7192,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7191,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7157,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7156,columnNumber:31},void 0),e.jsxDEV("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7200,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7199,columnNumber:31},void 0)]},a.student_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7133,columnNumber:29},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7131,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7111,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7110,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7108,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7098,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxDEV(re,{variant:"outline",onClick:()=>{j(!1),E(null),k([])},children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7215,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7214,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7065,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7045,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7044,columnNumber:9},void 0),g&&x&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center mb-4",children:e.jsxDEV("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:e.jsxDEV("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7244,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7238,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7237,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7236,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7254,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mb-6",children:"Are you sure you want to delete this batch? This will only remove the batch record. Students and courses will not be affected."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7255,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex space-x-3",children:[e.jsxDEV(re,{variant:"outline",className:"flex-1",disabled:D,onClick:()=>{N(!1),p(null)},children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7260,columnNumber:19},void 0),e.jsxDEV(re,{variant:"danger",className:"flex-1",onClick:async()=>{if(x)if(i("batches","delete")){f(!0);try{await _(x),s.success("Batch deleted successfully"),o?o():K(),loadStats(),N(!1),p(null)}catch(e){console.error("Error deleting batch:",e),s.error("Failed to delete batch")}finally{f(!1)}}else s.error("You do not have permission to delete batches")},disabled:D,children:D?e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7280,columnNumber:27},void 0),e.jsxDEV("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7288,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7279,columnNumber:25},void 0),e.jsxDEV("span",{children:"Deleting..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7294,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7278,columnNumber:23},void 0):"Delete"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7271,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7259,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7253,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7235,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7234,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7233,columnNumber:9},void 0),F&&q&&e.jsxDEV(Si,{batch:q,allCourseStudents:G,loading:z,onClose:()=>{B(!1),L(null),U([]),K(),o&&o()},onToggleStudent:async(e,a)=>{if(q&&r)try{a?(await C(q.id,e,r),s.success("Student added to batch successfully")):(await M(q.id,e),s.success("Student removed from batch successfully"));const i=await V(q.id),t=new Set(i.map(e=>e.student_id));U(e=>e.map(e=>({...e,isInBatch:t.has(e.id)})))}catch(i){console.error("Error toggling student in batch:",i),s.error(a?"Failed to add student to batch":"Failed to remove student from batch")}}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7309,columnNumber:9},void 0),A&&e.jsxDEV(yi,{teacherId:r,onClose:()=>R(!1),onSuccess:()=>{R(!1),K(),o&&o()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:7327,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:6646,columnNumber:5},void 0)},ji=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{user:o,canAccess:n}=y(),[c,m]=a.useState([]),[d,u]=a.useState([]),[h,b]=a.useState([]),[g,N]=a.useState([]),[x,p]=a.useState([]),[D,S]=a.useState([]),[v,j]=a.useState([]),[H,V]=a.useState([]),[W,w]=a.useState([]),[_,C]=a.useState([]),[M,k]=a.useState(new Map),[A,R]=a.useState(!1),[F,B]=a.useState(null),[q,L]=a.useState(""),[G,U]=a.useState(!0),[z,O]=a.useState(!1),[$,K]=a.useState(!1),[J,Q]=a.useState(null),[Z,X]=a.useState(!1),[ne,me]=a.useState(""),[De,fe]=a.useState("overview"),[Se,ye]=a.useState("registered"),[ve,je]=a.useState([""]),[He,Ve]=a.useState([""]),[We,we]=a.useState([""]),[Ce,Me]=a.useState(""),[Re,Fe]=a.useState(null),[Be,qe]=a.useState(null),[Le,Ge]=a.useState(null),Ue=a.useRef(null),[Oe,$e]=a.useState(!1),[Xe,ea]=a.useState(null),[aa,sa]=a.useState(!1),[ia,ta]=a.useState(null),[la,ma]=a.useState(!1),[ga,fa]=a.useState(null),[_a,Ca]=a.useState(!1),[Ma,ka]=a.useState([]),[Aa,Ra]=a.useState(!1),[Fa,Ba]=a.useState(null),[qa,La]=a.useState(!1),[Ga,Ua]=a.useState(0),[za,Oa]=a.useState(null),[$a,Ya]=a.useState(!1),[Ka,Ja]=a.useState(!1),[Qa,Za]=a.useState(!1),[Xa,es]=a.useState(null),[as,ss]=a.useState(!1),rs=a.useRef(null);a.useEffect(()=>{const e=e=>{rs.current&&!rs.current.contains(e.target)&&ss(!1)},a=e=>{"Escape"===e.key&&ss(!1)};if(as)return document.addEventListener("mousedown",e),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",a)}},[as]);const[is,ts]=a.useState(null),{register:cs,handleSubmit:ms,reset:ds,watch:hs,setValue:bs,formState:{errors:gs}}=t({resolver:us(pi),defaultValues:{level:"basic",delivery_method:"hybrid",currency:"EUR",price:0,max_students:20,min_students:10,duration_weeks:6,includes_certificate:!0,is_active:!0,featured:!1}});a.useEffect(()=>{o&&Ns()},[o]),a.useEffect(()=>{bs("learning_outcomes",ve.filter(e=>""!==e.trim()))},[ve,bs]),a.useEffect(()=>{bs("prerequisites",He.filter(e=>""!==e.trim()))},[He,bs]),a.useEffect(()=>{bs("tags",We.filter(e=>""!==e.trim()))},[We,bs]),a.useEffect(()=>{const e=setTimeout(async()=>{const e=hs("slug");if(!e)return void me("");if(J&&e===J.slug)return void me("");const a=await Ne(e);me(a?"This slug is already in use. Please choose a different one.":"")},500);return()=>clearTimeout(e)},[hs("slug"),J]),a.useEffect(()=>{if(!qa)return;(async()=>{if(D.length>Ga&&D[Ga]){if(D[Ga].template_data?.template_image)return void Oa(null);Ya(!0);try{const e={studentName:"Sample Student Name",studentId:"STU-001",courseName:"Sample Course",courseId:"COURSE-001",gurukulName:"Sample Gurukul",completionDate:(new Date).toISOString(),certificateNumber:"CERT-2024-001",verificationCode:"VERIFY123"},a=D[Ga],s=await mr(e,a);Oa(s)}catch(e){console.error("Failed to generate preview:",e),Oa(null)}finally{Ya(!1)}}})()},[qa,Ga,D]);const Ns=async()=>{try{Y.invalidatePattern("enrollments:.*");const[a,s,r,i,t,n,l,c,d]=await Promise.all([ue(o.id),Te(o.id),Pe(o.id),ee(),ii(o.id),T({teacher_id:o.id,is_active:!0}),P(),E(o.id),br()]);m(a),u(s),b(r),N(i),p(t);try{const e=await ci();S(e)}catch(e){console.error("Error loading templates:",e),S([])}if(V(n),w(l),C(c),j(d),l&&l.length>0){const e=l.map(e=>e.id),a=await Rr(e),s=new Map;a.forEach(e=>{e&&s.set(e.student_id,e)}),k(s)}}catch(e){console.error("Dashboard load error:",e),s.error("Failed to load dashboard data")}finally{U(!1)}},xs=(e,a)=>v.some(s=>s.student_id===e&&s.course_id===a),ps=a.useCallback(async()=>{if(o?.id)try{const e=await f(o.id);if(e){const a=e;ts({id:a.id,full_name:a.full_name,phone:a.phone||void 0,date_of_birth:a.date_of_birth||void 0,address_line_1:a.address_line_1||void 0,address_line_2:a.address_line_2||void 0,city:a.city||void 0,state:a.state||void 0,zip_code:a.zip_code||void 0,country:a.country||void 0})}}catch{}},[o?.id]);a.useEffect(()=>{o?.id&&ps()},[o?.id,ps]);const Ds=()=>{ds({gurukul_id:"",course_number:"",title:"",slug:"",description:"",detailed_description:"",level:"basic",age_group_min:void 0,age_group_max:void 0,duration_weeks:void 0,duration_hours:void 0,delivery_method:"hybrid",price:0,currency:"EUR",max_students:20,min_students:10,prerequisites:[],learning_outcomes:[],includes_certificate:!0,image_url:void 0,cover_image_url:void 0,video_preview_url:void 0,tags:[],meta_title:"",meta_description:"",featured:!1,is_active:!0,part:""}),je([""]),Ve([""]),we([""]),Me(""),Fe(null),qe(null),O(!0)},[fs,Ss]=a.useState(!1),ys=a.useCallback(()=>{Ss(!0)},[]),vs=a.useCallback(e=>{if(Ss(!1),e.length>0){const a=e[0];setTimeout(()=>{const e=Ue.current?.getEditor();if(e){const s=e.getSelection()||{index:e.getLength()};e.insertEmbed(s.index,"image",a.file_url),e.setSelection(s.index+1),e.focus()}},100)}},[]),js=a.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image"],["clean"]],handlers:{image:ys}}}),[ys]),Ts=a.useMemo(()=>["header","bold","italic","underline","strike","color","background","list","bullet","indent","align","link","image"],[]),Ps=e=>{es(e),Za(!0)},Es=()=>{je([...ve,""])},Is=e=>{if(ve.length>1){const a=ve.filter((a,s)=>s!==e);je(a)}},Hs=(e,a)=>{const s=[...ve];s[e]=a,je(s)},Vs=()=>{Ve([...He,""])},Ws=e=>{if(He.length>1){const a=He.filter((a,s)=>s!==e);Ve(a)}},ws=(e,a)=>{const s=[...He];s[e]=a,Ve(s)},_s=()=>{we([...We,""])},Cs=e=>{if(We.length>1){const a=We.filter((a,s)=>s!==e);we(a)}},Ms=(e,a)=>{const s=[...We];s[e]=a,we(s)},Rs={totalCourses:c.length,totalStudents:new Set(d.map(e=>e.student_id).filter(Boolean)).size,totalEnrollments:d.length,totalEnrolled:d.filter(e=>"approved"===e.status||"completed"===e.status).length,pendingApprovals:h.length,completedCourses:d.filter(e=>"completed"===e.status).length,certificatesIssued:d.filter(e=>"completed"===e.status&&xs(e.student_id,e.course_id)).length,pendingCertificates:d.filter(e=>"completed"===e.status&&!xs(e.student_id,e.course_id)).length,completedBatches:H.filter(e=>"completed"===e.status).length,batchesReadyForCertificates:_.length,totalRevenue:d.filter(e=>"paid"===e.payment_status&&e.course?.price&&e.course.price>0).reduce((e,a)=>e+(a.course?.price||0),0),completionRate:d.length>0?Math.round(d.filter(e=>"completed"===e.status).length/d.length*100):0,totalBatches:H.filter(e=>"active"===e.status||"in_progress"===e.status).length},Fs=[...h.map(e=>({id:e.id,type:"enrollment",title:"New enrollment pending approval",message:`${e.student?.full_name||"Student"} enrolled in ${e.course?.title||"course"}`,timestamp:new Date(e.created_at),action:()=>fe("students"),actionText:"Review"})),...d.filter(e=>"completed"===e.status&&!xs(e.student_id,e.course_id)).map(e=>({id:`cert-${e.id}`,type:"certificate",title:"Certificate ready to issue",message:`Issue certificate for ${e.student?.full_name||"student"} in ${e.course?.title||"course"}`,timestamp:new Date(e.completed_at||e.updated_at),action:()=>fe("certificates"),actionText:"Issue"})),...x.filter(e=>{const a=Date.now()-864e5;return new Date(e.created_at).getTime()>a}).map(e=>({id:`assign-${e.id}`,type:"assignment",title:"New certificate assignment",message:`New certificate template "${e.template?.name||"template"}" assigned`,timestamp:new Date(e.created_at),action:()=>fe("certificates"),actionText:"View"}))].sort((e,a)=>a.timestamp.getTime()-e.timestamp.getTime()).slice(0,10),Bs=d.sort((e,a)=>new Date(a.updated_at).getTime()-new Date(e.updated_at).getTime()).slice(0,4).map(e=>{const a=Date.now()-new Date(e.updated_at).getTime(),s=Math.floor(a/36e5),r=Math.floor(s/24);let i="";return i=r>0?`${r} day${r>1?"s":""} ago`:s>0?`${s} hour${s>1?"s":""} ago`:"Recently","completed"===e.status?{type:"completion",message:`${e.student?.full_name||"Student"} completed ${e.course?.title||"course"}`,time:i,icon:Je}:xs(e.student_id,e.course_id)?{type:"certificate",message:`Certificate issued to ${e.student?.full_name||"student"}`,time:i,icon:ze}:"pending"===e.status?{type:"enrollment",message:`New enrollment request from ${e.student?.full_name||"student"} in ${e.course?.title||"course"}`,time:i,icon:pa}:{type:"enrollment",message:`${e.student?.full_name||"Student"} enrolled in ${e.course?.title||"course"}`,time:i,icon:ca}}),qs=[{title:"Create New Course",description:"Design and launch a new course",icon:Da,action:()=>Ds(),color:"bg-gradient-to-r from-blue-500 to-blue-600",highlight:!0},{title:"Review Enrollments",description:`${Rs.pendingApprovals} pending approvals`,icon:Ye,action:()=>fe("students"),color:"bg-gradient-to-r from-orange-500 to-orange-600",badge:Rs.pendingApprovals},{title:"Issue Certificates",description:`${Rs.pendingCertificates} ready to issue`,icon:na,action:()=>fe("certificates"),color:"bg-gradient-to-r from-green-500 to-green-600",badge:Rs.pendingCertificates},{title:"View Analytics",description:"Track your teaching performance",icon:ra,action:()=>fe("analytics"),color:"bg-gradient-to-r from-purple-500 to-purple-600"}];if(G)return e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center pt-6 lg:pt-8",children:e.jsxDEV(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-4 sm:p-6 lg:p-8 shadow-2xl border border-white/20",children:[e.jsxDEV(r.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 mx-auto mb-4 sm:mb-6 border-4 border-blue-200 border-t-blue-600 rounded-full"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1105,columnNumber:11},this),e.jsxDEV(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxDEV("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-gray-900 mb-2",children:"Loading Dashboard"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1115,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-600",children:"Preparing your teaching workspace..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1118,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1110,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1099,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1098,columnNumber:7},this);const{greeting:Ls,icon:Gs}=(()=>{const e=(new Date).getHours();return e<12?{greeting:"Good morning",icon:Na}:e<18?{greeting:"Good afternoon",icon:Na}:{greeting:"Good evening",icon:xa}})();return e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 pt-0",children:[e.jsxDEV(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/80 backdrop-blur-xl border-b border-white/20 sticky top-0 z-40 shadow-lg",children:e.jsxDEV("div",{className:"w-full px-3 sm:px-4 lg:px-6 py-3 sm:py-4 lg:py-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between gap-3 sm:gap-4",children:[e.jsxDEV(r.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-lg sm:rounded-xl lg:rounded-2xl flex items-center justify-center shadow-xl flex-shrink-0",children:e.jsxDEV(da,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1148,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1142,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex items-center gap-2 mb-1",children:[e.jsxDEV(Gs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-amber-500 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1157,columnNumber:17},this),e.jsxDEV("h1",{className:"text-base sm:text-lg lg:text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent truncate",children:[Ls,", ",o?.full_name?.split(" ")[0]||"Teacher","! ðŸ‘‹"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1158,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1151,columnNumber:15},this),e.jsxDEV(r.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-xs sm:text-sm text-gray-600 font-medium truncate",children:"Ready to inspire minds today?"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1162,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1150,columnNumber:13},this),e.jsxDEV("div",{className:"hidden sm:flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[e.jsxDEV(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},className:"relative",ref:rs,children:[e.jsxDEV(r.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-3 bg-white/50 rounded-xl backdrop-blur-sm border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>ss(!as),children:[e.jsxDEV(Qe,{className:"h-6 w-6 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1185,columnNumber:19},this),Fs.length>0&&e.jsxDEV(r.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-6 w-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse shadow-lg",children:Fs.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1187,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1179,columnNumber:17},this),e.jsxDEV(i,{children:as&&e.jsxDEV(r.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"fixed sm:absolute top-16 right-0 left-0 sm:left-auto w-full sm:w-96 bg-white rounded-xl sm:rounded-xl rounded-t-none sm:rounded-t-xl shadow-2xl border border-gray-200 z-50 max-h-[80vh] sm:max-h-96 overflow-hidden mx-0 sm:mx-auto",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-100",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1209,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(oe,{className:"bg-orange-100 text-orange-800",children:Fs.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1211,columnNumber:29},this),Fs.length>0&&e.jsxDEV(re,{variant:"ghost",size:"sm",className:"p-1 h-6 w-6 text-gray-400 hover:text-gray-600",onClick:()=>ss(!1),children:e.jsxDEV(Ke,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1221,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1215,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1210,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1208,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1207,columnNumber:23},this),e.jsxDEV("div",{className:"max-h-80 overflow-y-auto",children:0===Fs.length?e.jsxDEV("div",{className:"p-6 text-center",children:[e.jsxDEV(Qe,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1230,columnNumber:29},this),e.jsxDEV("p",{className:"text-gray-500",children:"No new notifications"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1231,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1229,columnNumber:27},this):Fs.map(a=>e.jsxDEV(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{a.action(),ss(!1)},children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:["enrollment"===a.type&&e.jsxDEV(pa,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1249,columnNumber:39},this),"certificate"===a.type&&e.jsxDEV(ze,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1252,columnNumber:39},this),"assignment"===a.type&&e.jsxDEV(da,{className:"h-4 w-4 text-purple-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1255,columnNumber:39},this),e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1257,columnNumber:37},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1247,columnNumber:35},this),e.jsxDEV("p",{className:"text-xs text-gray-600 mb-2",children:a.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1261,columnNumber:35},this),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[a.timestamp.toLocaleDateString()," ",a.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1264,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1246,columnNumber:33},this),e.jsxDEV(re,{size:"sm",variant:"outline",className:"ml-3 text-xs",onClick:e=>{e.stopPropagation(),a.action(),ss(!1)},children:a.actionText},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1272,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1245,columnNumber:31},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1235,columnNumber:29},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1227,columnNumber:23},this),Fs.length>0&&e.jsxDEV("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:e.jsxDEV(re,{variant:"ghost",size:"sm",className:"w-full text-xs text-gray-600 hover:text-gray-900",onClick:()=>ss(!1),children:"Close notifications"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1291,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1290,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1200,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1198,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1172,columnNumber:15},this),e.jsxDEV(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6},children:e.jsxDEV(r.div,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>Ja(!0),className:"p-3 bg-white/50 rounded-xl backdrop-blur-sm border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer",children:e.jsxDEV(ke,{className:"h-6 w-6 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1316,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1310,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1305,columnNumber:15},this),e.jsxDEV(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.65},children:e.jsxDEV(Lr,{topics:Gr,title:"Teacher Dashboard Help",description:"Learn how to use all dashboard features",showKeyboardHint:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1336,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1331,columnNumber:15},this),e.jsxDEV(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1343,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1171,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1141,columnNumber:11},this),e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-3 sm:mt-4 lg:mt-8 w-full relative",children:[e.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-gray-100 to-transparent pointer-events-none sm:hidden z-10 rounded-r-lg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1360,columnNumber:13},this),e.jsxDEV("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:e.jsxDEV("div",{className:"flex gap-2 sm:gap-3 lg:gap-4 bg-white/50 backdrop-blur-sm p-2 sm:p-3 lg:p-4 rounded-lg sm:rounded-xl lg:rounded-2xl border border-white/20 shadow-lg min-w-min",children:[{id:"overview",name:"Dashboard",icon:ra,badge:null,permission:{resource:"dashboard",action:"read"}},{id:"courses",name:"My Courses",icon:ca,badge:Rs.totalCourses>0?Rs.totalCourses:null,permission:{resource:"courses",action:"view"}},{id:"students",name:"Students",icon:pa,badge:Rs.pendingApprovals>0?Rs.pendingApprovals:null,permission:{resource:"users",action:"view"}},{id:"certificates",name:"Certificates",icon:ze,badge:Rs.pendingCertificates>0?Rs.pendingCertificates:null,permission:{resource:"certificates",action:"read"}},{id:"analytics",name:"Analytics",icon:Sa,badge:null,permission:{resource:"analytics",action:"read"}},{id:"batches",name:"Batch Management",icon:ua,badge:null,permission:{resource:"batches",action:"read"}},{id:"attendance",name:"Attendance",icon:ha,badge:null,permission:{resource:"batches",action:"read"}},{id:"settings",name:"Profile",icon:ya,badge:null,permission:{resource:"settings",action:"view"}}].filter(e=>n(e.permission.resource,e.permission.action)).map((a,s)=>e.jsxDEV(r.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.9+.1*s},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>{fe(a.id),window.scrollTo({top:0,behavior:"smooth"})},title:a.name,className:"relative flex items-center justify-center gap-2 px-3 sm:px-4 lg:px-5 py-2 sm:py-2.5 lg:py-3 rounded-lg sm:rounded-lg lg:rounded-xl font-semibold text-xs sm:text-sm lg:text-sm transition-all duration-300 cursor-pointer whitespace-nowrap min-h-[44px] "+(De===a.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-white/80 hover:shadow-md"),children:[e.jsxDEV(a.icon,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5 lg:h-5 lg:w-5 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1455,columnNumber:23},this),e.jsxDEV("span",{className:"hidden sm:inline",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1456,columnNumber:23},this),a.badge&&e.jsxDEV(r.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center shadow-lg",children:a.badge},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1458,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1426,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1362,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1361,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1353,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1140,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1134,columnNumber:7},this),e.jsxDEV("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-10 max-w-7xl mx-auto",children:e.jsxDEV(i,{mode:"wait",children:["overview"===De&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-12",children:[e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-8",children:[{title:"Total Courses",value:Rs.totalCourses,icon:ca,gradient:"from-blue-500 via-blue-600 to-indigo-600",bgGradient:"from-blue-50 via-blue-100 to-indigo-100",delay:.1,permission:{resource:"courses",action:"view"}},{title:"Total Students",value:Rs.totalStudents,icon:pa,gradient:"from-green-500 via-emerald-600 to-teal-600",bgGradient:"from-green-50 via-emerald-100 to-teal-100",delay:.2,permission:{resource:"users",action:"view"}},{title:"Certificates",value:Rs.certificatesIssued,icon:na,gradient:"from-purple-500 via-violet-600 to-purple-600",bgGradient:"from-purple-50 via-violet-100 to-purple-100",delay:.3,permission:{resource:"certificates",action:"read"}},{title:"Active Batches",value:Rs.totalBatches||0,icon:ua,gradient:"from-orange-500 via-red-500 to-pink-600",bgGradient:"from-orange-50 via-red-50 to-pink-50",delay:.4,permission:{resource:"batches",action:"read"}}].filter(e=>n(e.permission.resource,e.permission.action)).map(a=>e.jsxDEV(r.div,{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:a.delay,duration:.6,type:"spring",stiffness:100},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group",children:e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative",children:[e.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-br ${a.bgGradient} opacity-10 group-hover:opacity-20 transition-opacity duration-300`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1548,columnNumber:25},this),e.jsxDEV(ie,{className:"p-4 sm:p-6 lg:p-8 relative",children:[e.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[e.jsxDEV("div",{className:"space-y-2 sm:space-y-3 min-w-0",children:[e.jsxDEV("p",{className:"text-gray-600 text-xs sm:text-sm font-semibold uppercase tracking-wider",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1554,columnNumber:31},this),e.jsxDEV(r.p,{initial:{scale:.8},animate:{scale:1},transition:{delay:a.delay+.2},className:"text-lg sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"string"==typeof a.value?a.value:a.value.toLocaleString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1557,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1553,columnNumber:29},this),e.jsxDEV(r.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:a.delay+.3,type:"spring",stiffness:200},whileHover:{scale:1.2,rotate:10},className:`h-12 w-12 sm:h-14 sm:w-14 lg:h-16 lg:w-16 bg-gradient-to-r ${a.gradient} rounded-lg sm:rounded-xl lg:rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow duration-300 flex-shrink-0`,children:e.jsxDEV(a.icon,{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1579,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1568,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1552,columnNumber:27},this),e.jsxDEV(r.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:a.delay+.5,duration:1},className:"mt-3 sm:mt-4 lg:mt-6",children:e.jsxDEV("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsxDEV(r.div,{initial:{width:0},animate:{width:"75%"},transition:{delay:a.delay+.7,duration:1.5},className:`h-full bg-gradient-to-r ${a.gradient} rounded-full`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1589,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1588,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1582,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1551,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1547,columnNumber:23},this)},a.title,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1533,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1486,columnNumber:15},this),e.jsxDEV(r.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-2xl overflow-hidden",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(_e,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1611,columnNumber:23},this),e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-xl font-bold",children:"Quick Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1612,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1610,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1609,columnNumber:19},this),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:qs.map((a,s)=>e.jsxDEV("div",{onClick:a.action,className:`relative p-3 sm:p-4 lg:p-6 rounded-lg sm:rounded-xl cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg ${a.color} text-white group min-h-[100px] sm:min-h-[120px]`,children:[a.highlight&&e.jsxDEV("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full animate-pulse",children:"NEW"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1624,columnNumber:29},this),a.badge&&e.jsxDEV("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:a.badge},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1629,columnNumber:29},this),e.jsxDEV(a.icon,{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 mb-2 sm:mb-3 group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1633,columnNumber:27},this),e.jsxDEV("h3",{className:"text-sm sm:text-base font-semibold mb-1",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1634,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs sm:text-sm opacity-90",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1637,columnNumber:27},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1618,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1616,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1615,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1608,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1603,columnNumber:15},this),e.jsxDEV("div",{className:"grid lg:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxDEV(ae,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ba,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1649,columnNumber:23},this),e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-xl font-bold",children:"Recent Activity"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1650,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1648,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1647,columnNumber:19},this),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"space-y-4",children:Bs.map((a,s)=>e.jsxDEV("div",{className:"flex items-center space-x-4 p-3 bg-gray-50/50 rounded-lg hover:bg-gray-100/50 transition-colors",children:[e.jsxDEV("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsxDEV(a.icon,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1661,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1660,columnNumber:27},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900",children:a.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1664,columnNumber:29},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:a.time},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1665,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1663,columnNumber:27},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1656,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1654,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1653,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1646,columnNumber:17},this),e.jsxDEV(ae,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Ae,{className:"h-6 w-6 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1676,columnNumber:23},this),e.jsxDEV("h2",{className:"text-xl font-bold",children:"Performance Insights"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1677,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1675,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1674,columnNumber:19},this),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsxDEV("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxDEV(Je,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1684,columnNumber:27},this),e.jsxDEV("span",{className:"font-semibold text-green-800",children:"Excellent Completion Rate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1685,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1683,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-green-700",children:"85% of your students complete courses successfully"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1689,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1682,columnNumber:23},this),e.jsxDEV("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsxDEV("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxDEV(oa,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1695,columnNumber:27},this),e.jsxDEV("span",{className:"font-semibold text-blue-800",children:"High Student Satisfaction"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1696,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1694,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-blue-700",children:"Student rating system coming soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1700,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1693,columnNumber:23},this),e.jsxDEV("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg border border-purple-200",children:[e.jsxDEV("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxDEV(na,{className:"h-5 w-5 text-purple-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1704,columnNumber:27},this),e.jsxDEV("span",{className:"font-semibold text-purple-800",children:"Certificate Achievement"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1705,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1703,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-purple-700",children:[Rs.certificatesIssued," certificates issued this month"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1709,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1702,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1681,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1680,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1673,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1644,columnNumber:15},this)]},"overview",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1477,columnNumber:13},this),"courses"===De&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-2xl font-bold text-gray-900",children:"My Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1731,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage and create your educational content"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1734,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1730,columnNumber:17},this),e.jsxDEV(re,{onClick:()=>Ds(),className:"bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 font-semibold",children:[e.jsxDEV(Da,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1742,columnNumber:19},this),"Create New Course"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1738,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1729,columnNumber:15},this),0===c.length?e.jsxDEV(ae,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:e.jsxDEV(ie,{className:"text-center py-16",children:[e.jsxDEV(ca,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1749,columnNumber:21},this),e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No courses yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1750,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Create your first course to start teaching!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1751,columnNumber:21},this),e.jsxDEV(re,{onClick:()=>Ds(),className:"bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 font-semibold",children:[e.jsxDEV(Da,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1758,columnNumber:23},this),"Create Your First Course"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1754,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1748,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1747,columnNumber:17},this):e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 lg:gap-6",children:c.map(a=>{const s=d.filter(e=>e.course_id===a.id),r=new Set(s.map(e=>e.student_id).filter(Boolean)).size,i=s.filter(e=>"completed"===e.status&&!xs(e.student_id,e.course_id)).length;return e.jsxDEV(ae,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 group",children:[e.jsxDEV("div",{className:"h-32 sm:h-40 lg:h-48 bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 rounded-t-lg relative overflow-hidden",children:[a.cover_image_url||a.image_url?e.jsxDEV("img",{src:a.cover_image_url||a.image_url,alt:a.title,className:"w-full h-full object-cover"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1781,columnNumber:29},this):e.jsxDEV("div",{className:"absolute inset-0 bg-black/20"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1787,columnNumber:29},this),e.jsxDEV("div",{className:"absolute bottom-2 left-2 bg-white/90 backdrop-blur-sm px-2 py-1 rounded shadow-sm",children:e.jsxDEV("p",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:a.course_number},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1790,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1789,columnNumber:27},this),i>0&&e.jsxDEV("div",{className:"absolute top-1 sm:top-2 right-1 sm:right-2 bg-red-500 text-white text-xs font-bold px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full animate-pulse",children:i},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1795,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1779,columnNumber:25},this),e.jsxDEV(ie,{className:"p-3 sm:p-4 lg:p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2 gap-1",children:[e.jsxDEV("h3",{className:"font-bold text-sm sm:text-base lg:text-lg group-hover:text-blue-600 transition-colors line-clamp-1",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1802,columnNumber:29},this),e.jsxDEV("span",{className:"px-1.5 sm:px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded border border-blue-200 whitespace-nowrap",children:a.level?a.level.charAt(0).toUpperCase()+a.level.slice(1).toLowerCase():"Basic"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1805,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1801,columnNumber:27},this),e.jsxDEV("div",{className:"text-gray-600 text-xs sm:text-sm mb-3 lg:mb-4 line-clamp-2",dangerouslySetInnerHTML:{__html:te(a.description)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1812,columnNumber:27},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 mb-3 lg:mb-4 text-xs sm:text-sm",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(va,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1818,columnNumber:31},this),e.jsxDEV("span",{children:[r," students"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1819,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1817,columnNumber:29},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Ye,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1822,columnNumber:31},this),e.jsxDEV("span",{children:[a.duration_weeks," w"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1823,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1821,columnNumber:29},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ja,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1826,columnNumber:31},this),e.jsxDEV("span",{className:"truncate",children:he(a.price)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1827,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1825,columnNumber:29},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(na,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1830,columnNumber:31},this),e.jsxDEV("span",{children:[s.filter(e=>xs(e.student_id,e.course_id)).length," ","certified"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1831,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1829,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1816,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(re,{variant:"outline",size:"sm",onClick:()=>(e=>{Q(e),ds({gurukul_id:e.gurukul_id,course_number:e.course_number,title:e.title,slug:e.slug,description:e.description,level:e.level,age_group_min:e.age_group_min,age_group_max:e.age_group_max,duration_weeks:e.duration_weeks,duration_hours:e.duration_hours,delivery_method:e.delivery_method,price:e.price,currency:e.currency,max_students:e.max_students,min_students:e.min_students,includes_certificate:e.includes_certificate,image_url:e.image_url,cover_image_url:e.cover_image_url,video_preview_url:e.video_preview_url,tags:e.tags,meta_title:e.meta_title||"",meta_description:e.meta_description||"",featured:e.featured,is_active:e.is_active,part:e.course_number?.slice(-1).match(/[A-Z]/)?e.course_number.slice(-1):""}),Me(e.detailed_description||""),je(e.learning_outcomes&&e.learning_outcomes.length>0?e.learning_outcomes:[""]),Ve(e.prerequisites&&Array.isArray(e.prerequisites)&&e.prerequisites.length>0?e.prerequisites:[""]),we(e.tags&&e.tags.length>0?e.tags:[""]),Fe(e.cover_image_url?{file_url:e.cover_image_url}:null),qe(e.video_preview_url?{file_url:e.video_preview_url}:null),K(!0)})(a),disabled:Z,className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(Ta,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1849,columnNumber:31},this),"Edit"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1842,columnNumber:29},this),e.jsxDEV(l,{to:de(a),className:"flex-1",children:e.jsxDEV(re,{variant:"outline",size:"sm",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"w-full bg-gradient-to-r from-slate-500 to-slate-600 hover:from-slate-600 hover:to-slate-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5",children:[e.jsxDEV(Ze,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1862,columnNumber:33},this),"View"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1853,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1852,columnNumber:29},this),i>0&&e.jsxDEV(re,{size:"sm",onClick:()=>{const e=s.filter(e=>"completed"===e.status&&!xs(e.student_id,e.course_id));e.length>=1&&(ka(e.map(e=>e.id)),Ca(!0),Ge(null))},className:"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5 font-semibold",children:[e.jsxDEV(Pa,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1884,columnNumber:33},this),"Issue (",i,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1867,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1841,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1800,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1775,columnNumber:23},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1764,columnNumber:17},this)]},"courses",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1721,columnNumber:13},this),"students"===De&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-2xl font-bold text-gray-900",children:"Student & Batch Enrollment"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1909,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage registered students and enroll them in batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1912,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1908,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1907,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3 lg:gap-4",children:[e.jsxDEV(ae,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200 cursor-pointer hover:shadow-lg transition-all duration-300 hover:scale-105",onClick:()=>{ye("registered"),setTimeout(()=>{const e=document.querySelector('[data-section="registered-students"]');if(e){const a=-150,s=e.getBoundingClientRect().top+window.pageYOffset+a;window.scrollTo({top:s,behavior:"smooth"})}},100)},children:e.jsxDEV(ie,{className:"p-3 sm:p-4 lg:p-6 text-center",children:[e.jsxDEV(pa,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-blue-600 mx-auto mb-2 sm:mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1940,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-blue-900",children:W.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1941,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-blue-700",children:"Registered"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1944,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1939,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1920,columnNumber:17},this),e.jsxDEV(ae,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200 cursor-pointer hover:shadow-lg transition-all duration-300 hover:scale-105",onClick:()=>{ye("enrolled"),setTimeout(()=>{const e=document.querySelector('[data-section="enrolled-students"]');if(e){const a=-150,s=e.getBoundingClientRect().top+window.pageYOffset+a;window.scrollTo({top:s,behavior:"smooth"})}},100)},children:e.jsxDEV(ie,{className:"p-3 sm:p-4 lg:p-6 text-center",children:[e.jsxDEV(Je,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-green-600 mx-auto mb-2 sm:mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1965,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-green-900",children:Rs.totalEnrolled},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1966,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-green-700",children:"Enrolled"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1969,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1964,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1947,columnNumber:17},this),e.jsxDEV(ae,{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-200 cursor-pointer hover:shadow-lg transition-all duration-300 hover:scale-105",onClick:()=>{setTimeout(()=>{const e=document.querySelector('[data-section="pending-approvals"]');if(e){const a=-150,s=e.getBoundingClientRect().top+window.pageYOffset+a;window.scrollTo({top:s,behavior:"smooth"})}},100)},children:e.jsxDEV(ie,{className:"p-3 sm:p-4 lg:p-6 text-center",children:[e.jsxDEV(Ye,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-yellow-600 mx-auto mb-2 sm:mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1989,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-yellow-900",children:Rs.pendingApprovals},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1990,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-yellow-700",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1993,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1988,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1972,columnNumber:17},this),e.jsxDEV(ae,{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 border-indigo-200",children:e.jsxDEV(ie,{className:"p-3 sm:p-4 lg:p-6 text-center",children:[e.jsxDEV(na,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-indigo-600 mx-auto mb-2 sm:mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1998,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-indigo-900",children:d.filter(e=>"completed"===e.status).length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1999,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-indigo-700",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2002,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1997,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1996,columnNumber:17},this),e.jsxDEV(ae,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:e.jsxDEV(ie,{className:"p-3 sm:p-4 lg:p-6 text-center",children:[e.jsxDEV(ke,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-purple-600 mx-auto mb-2 sm:mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2007,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-purple-900",children:Rs.totalBatches},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2008,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-purple-700",children:"Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2011,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2006,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2005,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1919,columnNumber:15},this),h.length>0&&e.jsxDEV(ae,{"data-section":"pending-approvals",className:"border-0 shadow-xl bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200 scroll-mt-32",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Ye,{className:"h-6 w-6 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2024,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-yellow-900",children:"Pending Enrollment Approvals"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2025,columnNumber:23},this),e.jsxDEV(oe,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[h.length," pending"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2028,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2023,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2022,columnNumber:19},this),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"space-y-4",children:h.map(a=>e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-yellow-200 shadow-sm",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV(ke,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2042,columnNumber:31},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold text-gray-900",children:a.student?.full_name||"Unknown Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2044,columnNumber:33},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:["Course: ",a.course?.title||"Unknown Course"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2047,columnNumber:33},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:["Enrolled: ",new Date(a.enrolled_at).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2050,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2043,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2041,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2040,columnNumber:27},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV(re,{size:"sm",onClick:async()=>{try{await Ee(a.id),s.success("Enrollment approved!"),Ns()}catch(e){console.error("Error approving enrollment:",e),s.error("Failed to approve enrollment")}},className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxDEV(Je,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2071,columnNumber:31},this),"Approve"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2057,columnNumber:29},this),e.jsxDEV(re,{size:"sm",variant:"outline",onClick:async()=>{try{await Ie(a.id),s.success("Enrollment rejected"),Ns()}catch(e){console.error("Error rejecting enrollment:",e),s.error("Failed to reject enrollment")}},className:"border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400",children:[e.jsxDEV(Ke,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2089,columnNumber:31},this),"Reject"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2074,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2056,columnNumber:27},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2036,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2034,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2033,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2018,columnNumber:17},this),"enrolled"===Se&&e.jsxDEV(ae,{"data-section":"enrolled-students",className:"border-0 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 scroll-mt-32",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Je,{className:"h-6 w-6 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2108,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-green-900",children:"Enrolled Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2109,columnNumber:23},this),e.jsxDEV(oe,{className:"bg-green-100 text-green-800 border-green-200",children:[Rs.totalEnrolled," enrolled"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2110,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2107,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2106,columnNumber:19},this),e.jsxDEV(ie,{children:0===Rs.totalEnrolled?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(Je,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2118,columnNumber:25},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No enrolled students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2119,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-600",children:"Students who are actively enrolled in courses will appear here."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2122,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2117,columnNumber:23},this):e.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(e=>{const a=d.filter(a=>a.student_id===e.id&&("approved"===a.status||"completed"===a.status));return{student:e,studentEnrollments:a}}).filter(({studentEnrollments:e})=>e.length>0).map(({student:a,studentEnrollments:r})=>{const i=r.filter(e=>"approved"===e.status),t=r.filter(e=>"completed"===e.status);return e.jsxDEV("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-100 rounded-lg border border-green-200 flex flex-col h-full",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxDEV("div",{className:"h-10 w-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white font-bold",children:a.full_name?.charAt(0)||"S"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2153,columnNumber:37},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2152,columnNumber:35},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-green-900",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2158,columnNumber:37},this),e.jsxDEV("p",{className:"text-sm text-green-700",children:a.student_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2161,columnNumber:37},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2157,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2151,columnNumber:33},this),e.jsxDEV("div",{className:"text-xs text-green-600 mb-3 space-y-1",children:[e.jsxDEV("div",{children:["Email: ",a.email]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2165,columnNumber:35},this),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV(Je,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2167,columnNumber:37},this),e.jsxDEV("span",{children:["Active: ",i.length]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2168,columnNumber:37},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2166,columnNumber:35},this),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV(na,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2171,columnNumber:37},this),e.jsxDEV("span",{children:["Completed: ",t.length]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2172,columnNumber:37},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2170,columnNumber:35},this),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV(ze,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2175,columnNumber:37},this),e.jsxDEV("span",{children:["Certificates:"," ",v.filter(e=>e.student_id===a.id).length]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2176,columnNumber:37},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2174,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2164,columnNumber:33},this),e.jsxDEV("div",{className:"space-y-2 mb-3 flex-1",children:[e.jsxDEV("p",{className:"text-xs font-semibold text-green-800",children:"Enrolled Courses:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2187,columnNumber:35},this),e.jsxDEV("div",{className:"space-y-1",children:[r.slice(0,3).map(r=>{const i=v.find(e=>e.student_id===a.id&&e.course_id===r.course_id);return e.jsxDEV("div",{className:"text-xs bg-white/60 rounded px-2 py-1",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[e.jsxDEV("span",{className:"truncate flex-1",children:r.course?.title||"Unknown Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2203,columnNumber:45},this),e.jsxDEV(oe,{className:"completed"===r.status?"bg-indigo-100 text-indigo-800 border-indigo-200 ml-1":"bg-green-100 text-green-800 border-green-200 ml-1",children:"completed"===r.status?"Done":"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2206,columnNumber:45},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2202,columnNumber:43},this),i&&e.jsxDEV("div",{className:"flex items-center gap-1 mt-1",children:[e.jsxDEV("button",{onClick:()=>{i.file_url?window.open(`${i.file_url}?t=${Date.now()}`,"_blank"):s.error("Certificate PDF not found")},className:"text-[10px] text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-0.5",children:[e.jsxDEV(Ze,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2233,columnNumber:49},this),"View Cert"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2220,columnNumber:47},this),e.jsxDEV("span",{className:"text-gray-300",children:"|"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2236,columnNumber:47},this),e.jsxDEV("button",{onClick:async()=>{try{s.loading("Regenerating certificate...");const{regenerateCertificate:e}=await le(async()=>{const{regenerateCertificate:e}=await Promise.resolve().then(()=>fr);return{regenerateCertificate:e}},void 0);await e(i.id),await Ns(),s.dismiss(),s.success("Certificate regenerated!")}catch(e){s.dismiss(),s.error("Failed to regenerate certificate")}},className:"text-[10px] text-orange-600 hover:text-orange-800 hover:underline flex items-center gap-0.5",children:[e.jsxDEV(Ta,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2254,columnNumber:49},this),"Reissue"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2237,columnNumber:47},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2219,columnNumber:45},this)]},r.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2198,columnNumber:41},this)}),r.length>3&&e.jsxDEV("p",{className:"text-xs text-green-700 italic",children:["+",r.length-3," more"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2263,columnNumber:39},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2190,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2186,columnNumber:33},this),e.jsxDEV(re,{size:"sm",variant:"outline",onClick:()=>Ps(a),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5 font-semibold mt-auto",children:[e.jsxDEV(ke,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2275,columnNumber:35},this),"Manage Enrollments"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2269,columnNumber:33},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2147,columnNumber:31},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2127,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2115,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2102,columnNumber:17},this),"registered"===Se&&e.jsxDEV(ae,{"data-section":"registered-students",className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm scroll-mt-32",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(pa,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2295,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Registered Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2296,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2294,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2293,columnNumber:19},this),e.jsxDEV(ie,{children:0===W.length?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(pa,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2302,columnNumber:25},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registered students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2303,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-600",children:"Students with EYG IDs will appear here once they register."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2306,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2301,columnNumber:23},this):e.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(a=>{const r=d.filter(e=>e.student_id===a.id),i=r.filter(e=>"approved"===e.status||"completed"===e.status);return e.jsxDEV("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxDEV("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white font-bold",children:a.full_name?.charAt(0)||"S"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2327,columnNumber:35},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2326,columnNumber:33},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-blue-900",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2332,columnNumber:35},this),e.jsxDEV("p",{className:"text-sm text-blue-700",children:a.student_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2333,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2331,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2325,columnNumber:31},this),e.jsxDEV("div",{className:"text-xs text-blue-600 mb-3 space-y-1",children:[e.jsxDEV("div",{children:["Email: ",a.email]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2337,columnNumber:33},this),e.jsxDEV("div",{children:["Enrollments: ",i.length]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2338,columnNumber:33},this),e.jsxDEV("div",{children:["Completed:"," ",r.filter(e=>"completed"===e.status).length]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2339,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2336,columnNumber:31},this),e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV(Br,{consentGiven:M.get(a.id)?.consent_given||!1,withdrawn:M.get(a.id)?.withdrawn||!1,size:"sm",showLabel:!0,onClick:async()=>{const e=await Ar(a.id);e?(B(e),L(a.full_name||"Unknown"),R(!0)):s.error("No consent record found for this student")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2349,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2348,columnNumber:31},this),e.jsxDEV(re,{size:"sm",variant:"outline",onClick:()=>Ps(a),className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5 font-semibold",children:[e.jsxDEV(ke,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2374,columnNumber:33},this),"Manage Enrollments"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2368,columnNumber:31},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2321,columnNumber:29},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2311,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2299,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2289,columnNumber:17},this),"registered"===Se&&e.jsxDEV(ae,{className:"border-0 shadow-xl bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(ua,{className:"h-6 w-6 text-purple-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2391,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-purple-900",children:"Quick Enrollment Guide"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2392,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2390,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2389,columnNumber:19},this),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"space-y-4 text-sm text-purple-800",children:[e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV("div",{className:"w-6 h-6 bg-purple-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2400,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:"Create or select a batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2404,columnNumber:27},this),e.jsxDEV("p",{className:"text-purple-700",children:"Go to Batches tab to create new batches for your courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2405,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2403,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2399,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV("div",{className:"w-6 h-6 bg-purple-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2411,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:"Enroll students manually"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2415,columnNumber:27},this),e.jsxDEV("p",{className:"text-purple-700",children:"Add registered students to batches - only enrolled students can receive certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2416,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2414,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2410,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV("div",{className:"w-6 h-6 bg-purple-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2423,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:"Complete batch and issue certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2427,columnNumber:27},this),e.jsxDEV("p",{className:"text-purple-700",children:"Mark batch as completed when course is finished, then issue certificates to all students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2428,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2426,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2422,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2398,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2397,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2388,columnNumber:17},this)]},"students",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1899,columnNumber:13},this),"certificates"===De&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-2xl font-bold text-gray-900",children:"Certificate Management Center"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2454,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-600",children:"Issue certificates to students in your courses and batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2457,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2453,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2 sm:gap-3",children:e.jsxDEV(re,{onClick:()=>{const e=d.filter(e=>"completed"===e.status).filter(e=>!v.some(a=>a.student_id===e.student_id&&a.course_id===e.course_id)).map(e=>e.id);0!==e.length?(ka(e),Ca(!0)):s.error("No eligible students found for certificate issuance")},className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2",children:[e.jsxDEV(na,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2487,columnNumber:21},this),e.jsxDEV("span",{className:"hidden sm:inline",children:"Bulk Issue Certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2488,columnNumber:21},this),e.jsxDEV("span",{className:"sm:hidden",children:"Bulk"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2489,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2462,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2461,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2452,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3 lg:gap-4",children:[e.jsxDEV(ae,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:e.jsxDEV(ie,{className:"p-3 sm:p-4 lg:p-6 text-center",children:[e.jsxDEV(pa,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-blue-600 mx-auto mb-2 sm:mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2498,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-blue-900",children:Rs.completedBatches},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2499,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-blue-700",children:"Completed Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2502,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2497,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2496,columnNumber:17},this),e.jsxDEV(ae,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:e.jsxDEV(ie,{className:"p-3 sm:p-4 lg:p-6 text-center",children:[e.jsxDEV(Ye,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-orange-600 mx-auto mb-2 sm:mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2507,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-orange-900",children:Rs.batchesReadyForCertificates},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2508,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-orange-700",children:"Ready for Certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2511,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2506,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2505,columnNumber:17},this),e.jsxDEV(ae,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:e.jsxDEV(ie,{className:"p-3 sm:p-4 lg:p-6 text-center",children:[e.jsxDEV(na,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-green-600 mx-auto mb-2 sm:mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2516,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-green-900",children:Rs.certificatesIssued},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2517,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-green-700",children:"Total Issued"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2520,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2515,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2514,columnNumber:17},this),e.jsxDEV(ae,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{D.length>0&&(Ua(0),La(!0))},children:e.jsxDEV(ie,{className:"p-6 text-center",children:[e.jsxDEV(ze,{className:"h-10 w-10 text-purple-600 mx-auto mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2533,columnNumber:21},this),e.jsxDEV("div",{className:"text-3xl font-bold text-purple-900",children:D.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2534,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-purple-700",children:"Available Templates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2535,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2532,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2523,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2495,columnNumber:15},this),e.jsxDEV(ae,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(ca,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2545,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Course-Based Certificate Issuance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2546,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2544,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Issue certificates to completed students by course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2548,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2543,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2542,columnNumber:17},this),e.jsxDEV(ie,{children:0===c.length?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(ca,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2556,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2557,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-600",children:"Create courses first to issue certificates to students."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2560,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2555,columnNumber:21},this):e.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(a=>{const s=d.filter(e=>e.course_id===a.id),r=s.filter(e=>"completed"===e.status),i=r.filter(e=>!v.some(a=>a.student_id===e.student_id&&a.course_id===e.course_id));return e.jsxDEV("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-200 hover:shadow-lg transition-all duration-300",children:[e.jsxDEV("div",{className:"flex items-start space-x-4 mb-4",children:[e.jsxDEV("div",{className:"h-12 w-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsxDEV(ca,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2588,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2587,columnNumber:31},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-900 truncate",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2591,columnNumber:33},this),e.jsxDEV("div",{className:"text-sm text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:te(a.description||"")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2594,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2590,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2586,columnNumber:29},this),e.jsxDEV("div",{className:"space-y-2 mb-4",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Total Enrolled:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2605,columnNumber:33},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:s.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2606,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2604,columnNumber:31},this),e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Completed:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2611,columnNumber:33},this),e.jsxDEV("span",{className:"font-medium text-green-700",children:r.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2612,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2610,columnNumber:31},this),e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Certificates Pending:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2617,columnNumber:33},this),e.jsxDEV("span",{className:"font-medium text-orange-600",children:i.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2618,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2616,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2603,columnNumber:29},this),i.length>0?e.jsxDEV(re,{size:"sm",onClick:()=>{const e=i.map(e=>e.id);ka(e),Ca(!0)},className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white",children:[e.jsxDEV(na,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2634,columnNumber:33},this),"Issue ",i.length," Certificate",1!==i.length?"s":""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2625,columnNumber:31},this):r.length>0?e.jsxDEV("div",{className:"text-center py-2",children:e.jsxDEV("span",{className:"text-sm text-green-600 font-medium",children:"âœ“ All certificates issued"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2640,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2639,columnNumber:31},this):e.jsxDEV("div",{className:"text-center py-2",children:e.jsxDEV("span",{className:"text-sm text-gray-500",children:"No completed students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2646,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2645,columnNumber:31},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2582,columnNumber:27},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2565,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2553,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2541,columnNumber:15},this),e.jsxDEV(ae,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(pa,{className:"h-6 w-6 text-purple-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2662,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Batch-Based Certificate Issuance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2663,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2661,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Issue certificates to entire batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2665,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2660,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2659,columnNumber:17},this),e.jsxDEV(ie,{children:0===H.length?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(pa,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2671,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No batches created"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2672,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-600",children:"Create batches first to manage group certificate issuance."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2673,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2670,columnNumber:21},this):e.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(a=>{const s="completed"===a.status,r=a.certificates_issued;return e.jsxDEV("div",{className:"p-6 rounded-xl border transition-all duration-300 hover:shadow-lg "+(r?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200":s?"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200":"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-200"),children:[e.jsxDEV("div",{className:"flex items-start space-x-4 mb-4",children:[e.jsxDEV("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center flex-shrink-0 "+(r?"bg-gradient-to-r from-green-500 to-emerald-600":s?"bg-gradient-to-r from-orange-500 to-amber-600":"bg-gradient-to-r from-gray-400 to-slate-500"),children:r?e.jsxDEV(na,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2705,columnNumber:35},this):e.jsxDEV(pa,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2707,columnNumber:35},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2695,columnNumber:31},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-900 truncate",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2711,columnNumber:33},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:["Course: ",a.course?.title||"No course assigned"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2714,columnNumber:33},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:["Status:"," ",a.status.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2717,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2710,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2694,columnNumber:29},this),e.jsxDEV("div",{className:"space-y-2 mb-4",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Students:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2728,columnNumber:33},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:a.student_count||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2729,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2727,columnNumber:31},this),e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Progress:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2734,columnNumber:33},this),e.jsxDEV("span",{className:"font-medium text-blue-700",children:[a.progress_percentage||0,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2735,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2733,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2726,columnNumber:29},this),r?e.jsxDEV("div",{className:"text-center py-2",children:e.jsxDEV("span",{className:"text-sm text-green-600 font-medium",children:"âœ“ Certificates issued"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2743,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2742,columnNumber:31},this):s?e.jsxDEV(re,{size:"sm",onClick:()=>{Ba(a.id),Ra(!0)},className:"w-full bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white",children:[e.jsxDEV(na,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2756,columnNumber:33},this),"Issue Batch Certificates"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2748,columnNumber:31},this):e.jsxDEV("div",{className:"text-center py-2",children:e.jsxDEV("span",{className:"text-sm text-gray-500",children:"Batch not completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2761,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2760,columnNumber:31},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2684,columnNumber:27},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2678,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2668,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2658,columnNumber:15},this),_.length>0?e.jsxDEV(ae,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Ye,{className:"h-6 w-6 text-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2777,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Students Ready for Certificate Issuance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2778,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2776,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2775,columnNumber:19},this),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:_.map(a=>e.jsxDEV("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200",children:e.jsxDEV("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsxDEV("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:e.jsxDEV(ke,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2792,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2791,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-orange-900",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2795,columnNumber:31},this),e.jsxDEV("p",{className:"text-xs text-orange-700",children:a.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2796,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2794,columnNumber:29},this),e.jsxDEV("div",{className:"text-xs text-orange-600 space-y-1 w-full",children:e.jsxDEV("div",{className:"bg-orange-100 rounded p-2",children:[e.jsxDEV("div",{children:["Batch: ",a.batch_name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2800,columnNumber:33},this),e.jsxDEV("div",{children:["Course: ",a.course_title]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2801,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2799,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2798,columnNumber:29},this),e.jsxDEV(re,{size:"sm",onClick:()=>{},className:"w-full bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5 font-semibold",children:[e.jsxDEV(na,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2809,columnNumber:31},this),"Issue Certificate"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2804,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2790,columnNumber:27},this)},`${a.batch_id}-${a.id}`,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2786,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2784,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2783,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2774,columnNumber:17},this):e.jsxDEV(ae,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:e.jsxDEV(ie,{className:"py-12 text-center",children:[e.jsxDEV(pa,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2821,columnNumber:21},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No students ready for certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2822,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-600",children:"Students from completed batches will appear here when they're ready for certificate issuance."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2825,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2820,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2819,columnNumber:17},this),e.jsxDEV(ae,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(na,{className:"h-6 w-6 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2837,columnNumber:21},this),e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Batches with Certificates Issued"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2838,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2836,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2835,columnNumber:17},this),e.jsxDEV(ie,{children:0===H.filter(e=>e.certificates_issued).length?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(ze,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2844,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No batch certificates issued yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2845,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-600",children:"Batches with issued certificates will appear here."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2848,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2843,columnNumber:21},this):e.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.filter(e=>e.certificates_issued).map(a=>e.jsxDEV("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxDEV("div",{className:"h-10 w-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:e.jsxDEV(na,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2863,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2862,columnNumber:31},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-green-900",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2866,columnNumber:33},this),e.jsxDEV("p",{className:"text-sm text-green-700",children:["Course: ",a.course?.title||"N/A"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2867,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2865,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2861,columnNumber:29},this),e.jsxDEV("div",{className:"text-xs text-green-600 mb-3 space-y-1",children:[e.jsxDEV("div",{children:["Students: ",a.student_count||0]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2873,columnNumber:31},this),e.jsxDEV("div",{children:["Certificates Issued: ",be(a.updated_at)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2874,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2872,columnNumber:29},this),e.jsxDEV(re,{size:"sm",variant:"outline",className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5 font-semibold",children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2881,columnNumber:31},this),"View Certificates"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2876,columnNumber:29},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2857,columnNumber:27},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2853,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2841,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2834,columnNumber:15},this)]},"certificates",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2444,columnNumber:13},this),"batches"===De&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-8",children:e.jsxDEV(vi,{teacherId:o?.id,canAccess:n,initialBatches:H,onBatchUpdate:Ns},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2903,columnNumber:15},this)},"batches",!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2895,columnNumber:13},this),"analytics"===De&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-12 pt-8",children:[e.jsxDEV(r.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1,duration:.6},className:"text-center space-y-3 sm:space-y-4 lg:space-y-6",children:[e.jsxDEV("h2",{className:"text-xl sm:text-2xl lg:text-4xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Teaching Analytics"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2929,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs sm:text-sm lg:text-base text-gray-600 max-w-2xl mx-auto",children:"Track your performance and student engagement with detailed insights"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2932,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2923,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-8",children:[{title:"Rating System",value:"Coming Soon",icon:oa,gradient:"from-yellow-500 via-orange-500 to-red-500",bgGradient:"from-yellow-50 via-orange-100 to-red-100",delay:.1},{title:"Completion Rate",value:d.length>0?Math.round(d.filter(e=>"completed"===e.status).length/d.length*100)+"%":"0%",icon:Je,gradient:"from-green-500 via-emerald-600 to-teal-600",bgGradient:"from-green-50 via-emerald-100 to-teal-100",delay:.2},{title:"Avg Students/Course",value:Math.round(Rs.totalStudents/Rs.totalCourses)||0,icon:pa,gradient:"from-purple-500 via-violet-600 to-indigo-600",bgGradient:"from-purple-50 via-violet-100 to-indigo-100",delay:.3}].map(a=>e.jsxDEV(r.div,{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:a.delay,duration:.6,type:"spring",stiffness:100},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group",children:e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative",children:[e.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-br ${a.bgGradient} opacity-10 group-hover:opacity-20 transition-opacity duration-300`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2986,columnNumber:23},this),e.jsxDEV(ie,{className:"p-4 sm:p-6 lg:p-8 relative",children:[e.jsxDEV("div",{className:"flex items-center justify-between gap-2",children:[e.jsxDEV("div",{className:"space-y-2 sm:space-y-3 min-w-0",children:[e.jsxDEV("p",{className:"text-gray-600 text-xs sm:text-sm font-semibold uppercase tracking-wider",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2992,columnNumber:29},this),e.jsxDEV(r.p,{initial:{scale:.8},animate:{scale:1},transition:{delay:a.delay+.2},className:"text-lg sm:text-2xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"string"==typeof a.value?a.value:a.value.toLocaleString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2995,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2991,columnNumber:27},this),e.jsxDEV(r.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:a.delay+.3,type:"spring",stiffness:200},whileHover:{scale:1.2,rotate:10},className:`h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 bg-gradient-to-r ${a.gradient} rounded-lg sm:rounded-xl lg:rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow duration-300 flex-shrink-0`,children:e.jsxDEV(a.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3017,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3006,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2990,columnNumber:25},this),e.jsxDEV(r.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:a.delay+.5,duration:1},className:"mt-3 sm:mt-4 lg:mt-6",children:e.jsxDEV("div",{className:"h-1 sm:h-1.5 lg:h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsxDEV(r.div,{initial:{width:0},animate:{width:"85%"},transition:{delay:a.delay+.7,duration:1.5},className:`h-full bg-gradient-to-r ${a.gradient} rounded-full`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3027,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3026,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3020,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2989,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2985,columnNumber:21},this)},a.title,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2971,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2937,columnNumber:15},this),e.jsxDEV(r.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"space-y-16",children:[e.jsxDEV("div",{className:"text-center space-y-2 sm:space-y-3 lg:space-y-6",children:[e.jsxDEV("h3",{className:"text-base sm:text-lg lg:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Course Performance Overview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3048,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-600",children:"Detailed insights into each of your courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3051,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3047,columnNumber:17},this),e.jsxDEV("div",{className:"grid gap-3 sm:gap-4 lg:gap-8",children:c.map((a,s)=>{const i=d.filter(e=>e.course_id===a.id),t=i.length>0?Math.round(i.filter(e=>"completed"===e.status).length/i.length*100):0;return e.jsxDEV(r.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.7+.1*s,duration:.6},whileHover:{scale:1.02},className:"group",children:e.jsxDEV(ae,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden relative",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/50 via-purple-50/50 to-indigo-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3076,columnNumber:27},this),e.jsxDEV(ie,{className:"p-4 sm:p-6 lg:p-8 relative",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 sm:mb-6 gap-2",children:[e.jsxDEV("div",{className:"space-y-1 min-w-0",children:[e.jsxDEV("h4",{className:"text-sm sm:text-base lg:text-xl font-bold text-gray-900 truncate",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3080,columnNumber:33},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-600",children:["Course #",a.course_number]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3083,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3079,columnNumber:31},this),e.jsxDEV(r.div,{whileHover:{scale:1.1},className:"flex items-center gap-1 flex-shrink-0",children:e.jsxDEV(oe,{className:"text-xs sm:text-sm font-medium px-2 sm:px-3 lg:px-4 py-1 sm:py-1.5 lg:py-2 whitespace-nowrap "+(t>=80?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":t>=60?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white":"bg-gradient-to-r from-red-500 to-pink-600 text-white"),children:[t,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3091,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3087,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3078,columnNumber:29},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 sm:gap-3 lg:gap-6",children:[{label:"Enrolled",value:i.length,icon:"ðŸ‘¥"},{label:"Completed",value:i.filter(e=>"completed"===e.status).length,icon:"âœ…"},{label:"Certificates",value:i.filter(e=>xs(e.student_id,e.course_id)).length,icon:"ðŸ†"}].map((a,i)=>e.jsxDEV(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+.1*s+.05*i},className:"bg-white/60 backdrop-blur-sm rounded-lg sm:rounded-xl p-2 sm:p-3 lg:p-4 text-center border border-white/30 hover:border-white/50 transition-all duration-300",children:[e.jsxDEV("div",{className:"text-base sm:text-lg lg:text-2xl mb-1",children:a.icon},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3128,columnNumber:35},this),e.jsxDEV("div",{className:"text-sm sm:text-base lg:text-2xl font-bold text-gray-900 mb-0.5",children:a.value},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3131,columnNumber:35},this),e.jsxDEV("div",{className:"text-xs text-gray-600 font-medium hidden sm:block",children:a.label},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3134,columnNumber:35},this)]},a.label,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3121,columnNumber:33},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3104,columnNumber:29},this),e.jsxDEV(r.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:1+.1*s,duration:1},className:"mt-4 sm:mt-6 lg:mt-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:[e.jsxDEV("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3148,columnNumber:33},this),e.jsxDEV("span",{className:"text-xs sm:text-sm font-bold text-gray-900",children:[t,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3151,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3147,columnNumber:31},this),e.jsxDEV("div",{className:"h-1.5 sm:h-2 lg:h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsxDEV(r.div,{initial:{width:0},animate:{width:`${t}%`},transition:{delay:1.2+.1*s,duration:1.5},className:"h-full rounded-full "+(t>=80?"bg-gradient-to-r from-green-500 to-emerald-600":t>=60?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-red-500 to-pink-600")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3156,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3155,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3141,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3077,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3075,columnNumber:25},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3067,columnNumber:23},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3055,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3041,columnNumber:15},this)]},"analytics",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:2914,columnNumber:13},this),"attendance"===De&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},children:e.jsxDEV(Ni,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3189,columnNumber:15},this)},"attendance",!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3182,columnNumber:13},this),"settings"===De&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[e.jsxDEV("div",{className:"text-center mb-6 sm:mb-8 lg:mb-10",children:[e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-3xl font-bold bg-gradient-to-r from-gray-600 to-slate-600 bg-clip-text text-transparent",children:"Account Settings âš™ï¸"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3204,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs sm:text-sm lg:text-base text-gray-600 mt-2",children:"Manage your account preferences and information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3207,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3203,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6 lg:p-8 border border-white/20",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 sm:mb-6 gap-2 flex-wrap",children:[e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4",children:[e.jsxDEV(ya,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-gray-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3215,columnNumber:21},this),e.jsxDEV("h3",{className:"text-sm sm:text-base lg:text-xl font-semibold text-gray-900",children:"Account Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3216,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3214,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>Ja(!0),className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg hover:shadow-lg transition-all duration-300 flex items-center gap-1 sm:gap-2 text-xs sm:text-sm whitespace-nowrap",children:[e.jsxDEV("span",{children:"âœï¸"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3224,columnNumber:21},this),e.jsxDEV("span",{children:"Edit"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3225,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3220,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3213,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Personal Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3231,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3236,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:o?.full_name||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3237,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3235,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Email"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3240,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:o?.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3241,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3239,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Teacher Code"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3244,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900 font-semibold",children:o?.teacher_code||"Not assigned"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3245,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3243,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Phone"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3250,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:is?.phone||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3251,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3249,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3254,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:is?.date_of_birth?new Date(is.date_of_birth).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3255,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3253,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3234,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3230,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Address Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3269,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Street Address"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3274,columnNumber:25},this),e.jsxDEV("p",{className:"text-gray-900",children:is?.address_line_1||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3275,columnNumber:25},this),is?.address_line_2&&e.jsxDEV("p",{className:"text-gray-900",children:is.address_line_2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3279,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3273,columnNumber:23},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[is?.city&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"City"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3286,columnNumber:29},this),e.jsxDEV("p",{className:"text-gray-900",children:is.city},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3287,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3285,columnNumber:27},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"State"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3291,columnNumber:27},this),e.jsxDEV("p",{className:"text-gray-900",children:is?.state&&is?.country?As(is.country,is.state)||is.state:"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3292,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3290,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3282,columnNumber:23},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"ZIP Code"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3302,columnNumber:27},this),e.jsxDEV("p",{className:"text-gray-900",children:is?.zip_code||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3303,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3301,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Country"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3308,columnNumber:27},this),e.jsxDEV("p",{className:"text-gray-900",children:is?.country?ks(is.country)||is.country:"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3309,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3307,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3300,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3272,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3268,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3228,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3212,columnNumber:15},this),e.jsxDEV("div",{className:"mt-8",children:e.jsxDEV(jr,{userId:o?.id||"",userRole:"teacher",compactView:!1,showNotifications:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3323,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3322,columnNumber:15},this)]},"settings",!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3195,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1474,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1473,columnNumber:7},this),z&&e.jsxDEV(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxDEV(r.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl max-w-6xl w-full max-h-[98vh] sm:max-h-[95vh] overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 sm:p-4 text-white",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h2",{className:"text-lg sm:text-xl font-bold flex items-center",children:[e.jsxDEV(_e,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3353,columnNumber:21},this),e.jsxDEV("span",{className:"truncate",children:"Create New Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3354,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3352,columnNumber:19},this),e.jsxDEV("p",{className:"text-blue-100 text-xs sm:text-sm mt-1 hidden sm:block",children:"Design your next educational masterpiece"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3356,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3351,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>{O(!1),ds(),je([""]),Ve([""]),we([""]),Me("")},className:"text-white/80 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10 ml-2 flex-shrink-0 min-h-[44px] min-w-[44px] flex items-center justify-center",children:e.jsxDEV(Ke,{className:"h-5 w-5 sm:h-6 sm:w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3371,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3360,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3350,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3349,columnNumber:13},this),e.jsxDEV("form",{onSubmit:ms(async e=>{X(!0);try{const a=e.slug||e.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),r={gurukul_id:e.gurukul_id,title:e.title,slug:a,description:e.description,detailed_description:Ce,level:e.level,age_group_min:e.age_group_min||4,age_group_max:e.age_group_max||18,duration_weeks:e.duration_weeks||6,duration_hours:e.duration_hours||24,price:e.price||0,currency:e.currency||"EUR",max_students:e.max_students||20,min_students:e.min_students||10,delivery_method:e.delivery_method,created_by:o.id,is_active:e.is_active??!0,learning_outcomes:e.learning_outcomes||[],prerequisites:e.prerequisites&&e.prerequisites.length>0?e.prerequisites:null,tags:e.tags||[],includes_certificate:e.includes_certificate??!0,cover_image_url:Re?.file_url||e.cover_image_url||void 0,video_preview_url:Be?.file_url||e.video_preview_url||void 0,syllabus:null,resources:[],meta_title:e.meta_title||void 0,meta_description:e.meta_description||void 0,featured:e.featured||!1,part:e.part||void 0},i=await xe(r);await I(i.id,o.id,o.id,"Course creator"),await Ns(),O(!1),ds(),je([""]),Ve([""]),we([""]),Me(""),Fe(null),qe(null),s.success("Course created successfully!")}catch(a){console.error("Error creating course:",a),s.error("Failed to create course: "+(a instanceof Error?a.message:"Unknown error"))}finally{X(!1)}}),className:"flex-1 overflow-y-auto",children:[e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(ca,{className:"h-4 w-4 mr-2 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3382,columnNumber:21},this),"Basic Information"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3381,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"md:col-span-2",children:e.jsxDEV(ce,{label:"Course Title",placeholder:"Enter course title",...cs("title"),error:gs.title?.message,className:"text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3387,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3386,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3396,columnNumber:23},this),e.jsxDEV("select",{...cs("gurukul_id"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",children:[e.jsxDEV("option",{value:"",children:"Select Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3401,columnNumber:25},this),g.map(a=>e.jsxDEV("option",{value:a.id,children:a.name},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3403,columnNumber:27},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3397,columnNumber:23},this),gs.gurukul_id&&e.jsxDEV("p",{className:"text-sm text-red-600",children:gs.gurukul_id.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3409,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3395,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Part (Optional)"," ",e.jsxDEV("span",{className:"text-xs text-gray-500",children:"(A, B, C, D, etc.)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3415,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3413,columnNumber:23},this),e.jsxDEV(ce,{placeholder:"A, B, C...",...cs("part"),maxLength:1,onChange:e=>{const a=e.target.value.toUpperCase().slice(0,1);bs("part",a)},error:gs.part?.message,className:"text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3417,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:["Course number will be auto-generated:",hs("gurukul_id")&&hs("title")&&g.find(e=>e.id===hs("gurukul_id"))?e.jsxDEV("span",{className:"font-semibold ml-1",children:[g.find(e=>e.id===hs("gurukul_id"))?.name.replace(/[^a-zA-Z]/g,"").substring(0,2).toUpperCase(),hs("title")?.replace(/[^a-zA-Z]/g,"").charAt(0).toUpperCase(),"#",hs("part")||""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3433,columnNumber:27},this):" [Select gurukul and enter title]"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3428,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3412,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Slug"," ",e.jsxDEV("span",{className:"text-xs text-gray-500",children:"(auto-generated from title)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3453,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3451,columnNumber:23},this),e.jsxDEV(ce,{value:hs("slug")?hs("slug")||"":Di(hs("title")||""),onChange:e=>bs("slug",e.target.value),placeholder:"course-title",readOnly:!hs("title"),error:gs.slug?.message,className:"text-sm "+(hs("title")?"":"bg-gray-100 cursor-not-allowed")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3455,columnNumber:23},this),ne&&e.jsxDEV("p",{className:"text-sm text-red-600 mt-1",children:ne},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3465,columnNumber:37},this),hs("title")&&!ne&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:hs("slug")?"You can edit or reset to auto-generate.":"Auto-generated from title."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3467,columnNumber:25},this),hs("slug")&&hs("title")&&!ne&&e.jsxDEV("button",{type:"button",onClick:()=>bs("slug",""),className:"text-xs text-blue-600 hover:text-blue-800 mt-1",children:"Reset to auto-generate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3474,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3450,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Level"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3484,columnNumber:23},this),e.jsxDEV("select",{...cs("level"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",children:[e.jsxDEV("option",{value:"elementary",children:"Elementary (4-7 years)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3489,columnNumber:25},this),e.jsxDEV("option",{value:"basic",children:"Basic (8-11 years)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3490,columnNumber:25},this),e.jsxDEV("option",{value:"intermediate",children:"Intermediate (12-15 years)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3491,columnNumber:25},this),e.jsxDEV("option",{value:"advanced",children:"Advanced (16-19 years)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3492,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3485,columnNumber:23},this),gs.level&&e.jsxDEV("p",{className:"text-sm text-red-600",children:gs.level.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3495,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3483,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3385,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3380,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-2 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3504,columnNumber:21},this),"Course Descriptions"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3503,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3509,columnNumber:23},this),e.jsxDEV("textarea",{...cs("description"),rows:3,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",placeholder:"Brief overview for course listings (plain text or formatted text)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3512,columnNumber:23},this),gs.description&&e.jsxDEV("p",{className:"text-sm text-red-600",children:gs.description.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3519,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3508,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Detailed Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3524,columnNumber:25},this),e.jsxDEV(os,{buttonText:"Insert Media",onSelect:e=>{if(e.length>0){const a=e[0];let s="";a.file_type.startsWith("image/")?s=`<img src="${a.file_url}" alt="${a.original_filename}" style="max-width: 100%; height: auto;" />`:a.file_type.startsWith("video/")&&(s=`<video controls style="max-width: 100%; height: auto;"><source src="${a.file_url}" type="${a.file_type}" /></video>`),Me((Ce||"")+s)}}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3527,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3523,columnNumber:23},this),e.jsxDEV(ns,{value:Ce,onChange:Me,modules:js,formats:Ts,placeholder:"Comprehensive course description with formatting (rich text editor)...",className:"bg-white text-sm",style:{minHeight:"200px"}},"course-description-editor",!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3543,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3522,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3507,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3502,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(ya,{className:"h-4 w-4 mr-2 text-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3560,columnNumber:21},this),"Course Details"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3559,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Method"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3565,columnNumber:23},this),e.jsxDEV("select",{...cs("delivery_method"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",children:[e.jsxDEV("option",{value:"hybrid",children:"Hybrid"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3572,columnNumber:25},this),e.jsxDEV("option",{value:"remote",children:"Online Only"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3573,columnNumber:25},this),e.jsxDEV("option",{value:"physical",children:"In-person Only"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3574,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3568,columnNumber:23},this),gs.delivery_method&&e.jsxDEV("p",{className:"text-sm text-red-600",children:gs.delivery_method.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3577,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3564,columnNumber:21},this),e.jsxDEV(ce,{label:"Duration (weeks)",type:"number",placeholder:"6",...cs("duration_weeks",{valueAsNumber:!0}),error:gs.duration_weeks?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3580,columnNumber:21},this),e.jsxDEV(ce,{label:"Duration (hours)",type:"number",placeholder:"24",...cs("duration_hours",{valueAsNumber:!0}),error:gs.duration_hours?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3587,columnNumber:21},this),e.jsxDEV(ce,{label:"Minimum Age",type:"number",placeholder:"8",...cs("age_group_min",{valueAsNumber:!0}),error:gs.age_group_min?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3594,columnNumber:21},this),e.jsxDEV(ce,{label:"Maximum Age",type:"number",placeholder:"12",...cs("age_group_max",{valueAsNumber:!0}),error:gs.age_group_max?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3601,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3609,columnNumber:23},this),e.jsxDEV("select",{...cs("currency"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",children:[e.jsxDEV("option",{value:"EUR",children:"EUR (â‚¬)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3614,columnNumber:25},this),e.jsxDEV("option",{value:"USD",children:"USD ($)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3615,columnNumber:25},this),e.jsxDEV("option",{value:"GBP",children:"GBP (Â£)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3616,columnNumber:25},this),e.jsxDEV("option",{value:"INR",children:"INR (â‚¹)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3617,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3610,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3608,columnNumber:21},this),e.jsxDEV(ce,{label:"Course Price",type:"number",step:"0.01",placeholder:"0.00",...cs("price",{valueAsNumber:!0}),error:gs.price?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3620,columnNumber:21},this),e.jsxDEV(ce,{label:"Maximum Students",type:"number",placeholder:"20",...cs("max_students",{valueAsNumber:!0}),error:gs.max_students?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3628,columnNumber:21},this),e.jsxDEV(ce,{label:"Minimum Students",type:"number",placeholder:"10",...cs("min_students",{valueAsNumber:!0}),error:gs.min_students?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3635,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3563,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3558,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[e.jsxDEV(Ea,{className:"h-4 w-4 mr-2 text-purple-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3649,columnNumber:23},this),"Prerequisites"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3648,columnNumber:21},this),e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:Vs,className:"text-xs px-2 py-1",children:[e.jsxDEV(Da,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3659,columnNumber:23},this),"Add"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3652,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3647,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:He.map((a,s)=>e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("input",{type:"text",value:a,onChange:e=>ws(s,e.target.value),placeholder:`Prerequisite ${s+1}`,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-2 px-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3666,columnNumber:25},this),He.length>1&&e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:()=>Ws(s),className:"text-red-600 border-red-300 hover:bg-red-50 p-1",children:e.jsxDEV(Ke,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3681,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3674,columnNumber:27},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3665,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3663,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3646,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[e.jsxDEV(Ae,{className:"h-4 w-4 mr-2 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3693,columnNumber:23},this),"Learning Outcomes"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3692,columnNumber:21},this),e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:Es,className:"text-xs px-2 py-1",children:[e.jsxDEV(Da,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3703,columnNumber:23},this),"Add"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3696,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3691,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:ve.map((a,s)=>e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("input",{type:"text",value:a,onChange:e=>Hs(s,e.target.value),placeholder:`Learning outcome ${s+1}`,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-2 px-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3710,columnNumber:25},this),ve.length>1&&e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:()=>Is(s),className:"text-red-600 border-red-300 hover:bg-red-50 p-1",children:e.jsxDEV(Ke,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3725,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3718,columnNumber:27},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3709,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3707,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3690,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[e.jsxDEV(Ia,{className:"h-4 w-4 mr-2 text-indigo-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3737,columnNumber:23},this),"Tags"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3736,columnNumber:21},this),e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:_s,className:"text-xs px-2 py-1",children:[e.jsxDEV(Da,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3747,columnNumber:23},this),"Add"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3740,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3735,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:We.map((a,s)=>e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("input",{type:"text",value:a,onChange:e=>Ms(s,e.target.value),placeholder:`Tag ${s+1}`,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-2 px-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3754,columnNumber:25},this),We.length>1&&e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:()=>Cs(s),className:"text-red-600 border-red-300 hover:bg-red-50 p-1",children:e.jsxDEV(Ke,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3769,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3762,columnNumber:27},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3753,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3751,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3734,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(Ha,{className:"h-4 w-4 mr-2 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3780,columnNumber:21},this),"Media & SEO (Optional)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3779,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(ls,{coverImageUrl:Re?.file_url,videoPreviewUrl:Be?.file_url,onCoverImageSelect:e=>{Fe(e[0]||null)},onVideoPreviewSelect:e=>{qe(e[0]||null)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3784,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:e.jsxDEV(ce,{label:"Meta Title",placeholder:"SEO title",...cs("meta_title"),error:gs.meta_title?.message,className:"text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3795,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3794,columnNumber:21},this),e.jsxDEV(ce,{label:"Meta Description",placeholder:"SEO description",...cs("meta_description"),error:gs.meta_description?.message,className:"text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3803,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3783,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3778,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(Va,{className:"h-4 w-4 mr-2 text-emerald-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3816,columnNumber:21},this),"Course Settings"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3815,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"flex items-center space-x-6",children:[e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",...cs("includes_certificate"),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3822,columnNumber:25},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Include Certificate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3827,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3821,columnNumber:23},this),e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",...cs("featured"),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3830,columnNumber:25},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Featured Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3835,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3829,columnNumber:23},this),e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",...cs("is_active"),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3838,columnNumber:25},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Active Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3843,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3837,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3820,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3819,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3814,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3378,columnNumber:15},this),e.jsxDEV("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:e.jsxDEV("div",{className:"flex items-center justify-end space-x-3",children:[e.jsxDEV(re,{type:"button",variant:"outline",onClick:()=>{O(!1),ds(),je([""]),Ve([""]),we([""]),Me(""),Fe(null),qe(null)},size:"sm",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3853,columnNumber:19},this),e.jsxDEV(re,{type:"submit",disabled:Z,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",size:"sm",children:Z?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3878,columnNumber:25},this),"Creating..."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3877,columnNumber:23},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(_e,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3883,columnNumber:25},this),"Create Course"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3882,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3870,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3852,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3851,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3377,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3342,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3336,columnNumber:9},this),$&&J&&e.jsxDEV(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxDEV(r.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl max-w-6xl w-full max-h-[98vh] sm:max-h-[95vh] overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 p-3 sm:p-4 text-white",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h2",{className:"text-lg sm:text-xl font-bold flex items-center",children:[e.jsxDEV(Ta,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3914,columnNumber:21},this),e.jsxDEV("span",{className:"truncate",children:"Edit Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3915,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3913,columnNumber:19},this),e.jsxDEV("p",{className:"text-emerald-100 text-xs sm:text-sm mt-1 hidden sm:block",children:"Update course information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3917,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3912,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>{K(!1),Q(null),ds(),je([""]),Ve([""]),we([""]),Me(""),Fe(null),qe(null)},className:"text-white/80 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10 ml-2 flex-shrink-0 min-h-[44px] min-w-[44px] flex items-center justify-center",children:e.jsxDEV(Ke,{className:"h-5 w-5 sm:h-6 sm:w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3935,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3921,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3911,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3910,columnNumber:13},this),e.jsxDEV("form",{onSubmit:ms(async e=>{if(console.log("handleEditCourse called",{editingCourse:J,data:e}),J){X(!0);try{const a=e.slug||e.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),r={gurukul_id:e.gurukul_id,title:e.title,slug:a,description:e.description,detailed_description:Ce,level:e.level,age_group_min:e.age_group_min||4,age_group_max:e.age_group_max||18,duration_weeks:e.duration_weeks||6,duration_hours:e.duration_hours||24,price:e.price||0,currency:e.currency||"EUR",max_students:e.max_students||20,min_students:e.min_students||10,delivery_method:e.delivery_method,is_active:e.is_active??!0,learning_outcomes:e.learning_outcomes||[],prerequisites:e.prerequisites&&e.prerequisites.length>0?e.prerequisites:null,tags:e.tags||[],includes_certificate:e.includes_certificate??!0,cover_image_url:Re?.file_url||e.cover_image_url||void 0,video_preview_url:Be?.file_url||e.video_preview_url||void 0,meta_title:e.meta_title||void 0,meta_description:e.meta_description||void 0,featured:e.featured||!1,part:e.part||void 0};await pe(J.id,r),s.success("Course updated successfully!"),await new Promise(e=>setTimeout(e,500)),await Ns(),K(!1),Q(null),ds(),je([""]),Ve([""]),we([""]),Me(""),Fe(null),qe(null)}catch(a){console.error("Error updating course:",a),s.error("Failed to update course: "+(a instanceof Error?a.message:"Unknown error")),await new Promise(e=>setTimeout(e,1e3))}finally{X(!1)}}else console.log("No editing course, returning")},e=>{console.log("Form validation errors:",e),s.error("Please fix the form errors before updating")}),className:"flex-1 overflow-y-auto",children:[e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:e.jsxDEV("p",{className:"text-sm text-yellow-800 flex items-center",children:[e.jsxDEV("span",{className:"font-semibold mr-2",children:"Editing:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3951,columnNumber:21},this)," ",J.title," (",J.course_number,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3950,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3949,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(ca,{className:"h-4 w-4 mr-2 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3959,columnNumber:21},this),"Basic Information"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3958,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"md:col-span-2",children:e.jsxDEV(ce,{label:"Course Title",placeholder:"Enter course title",...cs("title"),error:gs.title?.message,className:"text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3964,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3963,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3973,columnNumber:23},this),e.jsxDEV("select",{...cs("gurukul_id"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",children:[e.jsxDEV("option",{value:"",children:"Select Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3978,columnNumber:25},this),g.map(a=>e.jsxDEV("option",{value:a.id,children:a.name},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3980,columnNumber:27},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3974,columnNumber:23},this),gs.gurukul_id&&e.jsxDEV("p",{className:"text-sm text-red-600",children:gs.gurukul_id.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3986,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3972,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Part (Optional)"," ",e.jsxDEV("span",{className:"text-xs text-gray-500",children:"(A, B, C, D, etc.)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3992,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3990,columnNumber:23},this),e.jsxDEV(ce,{placeholder:"A, B, C...",...cs("part"),maxLength:1,onChange:e=>{const a=e.target.value.toUpperCase().slice(0,1);bs("part",a)},error:gs.part?.message,className:"text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3994,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:["Course number will be auto-regenerated:",hs("gurukul_id")&&hs("title")&&g.find(e=>e.id===hs("gurukul_id"))?e.jsxDEV("span",{className:"font-semibold ml-1",children:[g.find(e=>e.id===hs("gurukul_id"))?.name.replace(/[^a-zA-Z]/g,"").substring(0,2).toUpperCase(),hs("title")?.replace(/[^a-zA-Z]/g,"").charAt(0).toUpperCase(),"#",hs("part")||""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4010,columnNumber:27},this):" [Select gurukul and enter title]"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4005,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3989,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Slug"," ",e.jsxDEV("span",{className:"text-xs text-gray-500",children:"(auto-generated from title)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4030,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4028,columnNumber:23},this),e.jsxDEV(ce,{value:hs("slug")?hs("slug")||"":Di(hs("title")||""),onChange:e=>bs("slug",e.target.value),placeholder:"course-title",readOnly:!hs("title"),error:gs.slug?.message,className:"text-sm "+(hs("title")?"":"bg-gray-100 cursor-not-allowed")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4032,columnNumber:23},this),ne&&e.jsxDEV("p",{className:"text-sm text-red-600 mt-1",children:ne},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4042,columnNumber:37},this),hs("title")&&!ne&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:hs("slug")?"You can edit or reset to auto-generate.":"Auto-generated from title."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4044,columnNumber:25},this),hs("slug")&&hs("title")&&!ne&&e.jsxDEV("button",{type:"button",onClick:()=>bs("slug",""),className:"text-xs text-blue-600 hover:text-blue-800 mt-1",children:"Reset to auto-generate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4051,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4027,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Level"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4061,columnNumber:23},this),e.jsxDEV("select",{...cs("level"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",children:[e.jsxDEV("option",{value:"elementary",children:"Elementary (4-7 years)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4066,columnNumber:25},this),e.jsxDEV("option",{value:"basic",children:"Basic (8-11 years)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4067,columnNumber:25},this),e.jsxDEV("option",{value:"intermediate",children:"Intermediate (12-15 years)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4068,columnNumber:25},this),e.jsxDEV("option",{value:"advanced",children:"Advanced (16-19 years)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4069,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4062,columnNumber:23},this),gs.level&&e.jsxDEV("p",{className:"text-sm text-red-600",children:gs.level.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4072,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4060,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3962,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3957,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-2 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4081,columnNumber:21},this),"Course Descriptions"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4080,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4086,columnNumber:23},this),e.jsxDEV("textarea",{...cs("description"),rows:3,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",placeholder:"Brief overview for course listings (plain text or formatted text)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4089,columnNumber:23},this),gs.description&&e.jsxDEV("p",{className:"text-sm text-red-600",children:gs.description.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4096,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4085,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Detailed Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4101,columnNumber:25},this),e.jsxDEV(os,{buttonText:"Insert Media",onSelect:e=>{if(e.length>0){const a=e[0];let s="";a.file_type.startsWith("image/")?s=`<img src="${a.file_url}" alt="${a.original_filename}" style="max-width: 100%; height: auto;" />`:a.file_type.startsWith("video/")&&(s=`<video controls style="max-width: 100%; height: auto;"><source src="${a.file_url}" type="${a.file_type}" /></video>`),Me((Ce||"")+s)}}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4104,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4100,columnNumber:23},this),e.jsxDEV(ns,{value:Ce,onChange:Me,modules:js,formats:Ts,placeholder:"Comprehensive course description with formatting (rich text editor)...",className:"bg-white text-sm",style:{minHeight:"200px"}},"course-edit-description-editor",!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4120,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4099,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4084,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4079,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(ya,{className:"h-4 w-4 mr-2 text-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4137,columnNumber:21},this),"Course Details"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4136,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Method"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4142,columnNumber:23},this),e.jsxDEV("select",{...cs("delivery_method"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",children:[e.jsxDEV("option",{value:"hybrid",children:"Hybrid"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4149,columnNumber:25},this),e.jsxDEV("option",{value:"remote",children:"Online Only"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4150,columnNumber:25},this),e.jsxDEV("option",{value:"physical",children:"In-person Only"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4151,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4145,columnNumber:23},this),gs.delivery_method&&e.jsxDEV("p",{className:"text-sm text-red-600",children:gs.delivery_method.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4154,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4141,columnNumber:21},this),e.jsxDEV(ce,{label:"Duration (weeks)",type:"number",placeholder:"6",...cs("duration_weeks",{valueAsNumber:!0}),error:gs.duration_weeks?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4157,columnNumber:21},this),e.jsxDEV(ce,{label:"Duration (hours)",type:"number",placeholder:"24",...cs("duration_hours",{valueAsNumber:!0}),error:gs.duration_hours?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4164,columnNumber:21},this),e.jsxDEV(ce,{label:"Minimum Age",type:"number",placeholder:"8",...cs("age_group_min",{valueAsNumber:!0}),error:gs.age_group_min?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4171,columnNumber:21},this),e.jsxDEV(ce,{label:"Maximum Age",type:"number",placeholder:"12",...cs("age_group_max",{valueAsNumber:!0}),error:gs.age_group_max?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4178,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4186,columnNumber:23},this),e.jsxDEV("select",{...cs("currency"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors text-sm py-2 px-3",children:[e.jsxDEV("option",{value:"EUR",children:"EUR (â‚¬)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4191,columnNumber:25},this),e.jsxDEV("option",{value:"USD",children:"USD ($)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4192,columnNumber:25},this),e.jsxDEV("option",{value:"GBP",children:"GBP (Â£)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4193,columnNumber:25},this),e.jsxDEV("option",{value:"INR",children:"INR (â‚¹)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4194,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4187,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4185,columnNumber:21},this),e.jsxDEV(ce,{label:"Course Price",type:"number",step:"0.01",placeholder:"0.00",...cs("price",{valueAsNumber:!0}),error:gs.price?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4197,columnNumber:21},this),e.jsxDEV(ce,{label:"Maximum Students",type:"number",placeholder:"20",...cs("max_students",{valueAsNumber:!0}),error:gs.max_students?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4205,columnNumber:21},this),e.jsxDEV(ce,{label:"Minimum Students",type:"number",placeholder:"10",...cs("min_students",{valueAsNumber:!0}),error:gs.min_students?.message},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4212,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4140,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4135,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[e.jsxDEV(Ea,{className:"h-4 w-4 mr-2 text-purple-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4226,columnNumber:23},this),"Prerequisites"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4225,columnNumber:21},this),e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:Vs,className:"text-xs px-2 py-1",children:[e.jsxDEV(Da,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4236,columnNumber:23},this),"Add"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4229,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4224,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:He.map((a,s)=>e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("input",{type:"text",value:a,onChange:e=>ws(s,e.target.value),placeholder:`Prerequisite ${s+1}`,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-2 px-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4243,columnNumber:25},this),He.length>1&&e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:()=>Ws(s),className:"text-red-600 border-red-300 hover:bg-red-50 p-1",children:e.jsxDEV(Ke,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4258,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4251,columnNumber:27},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4242,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4240,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4223,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[e.jsxDEV(Ae,{className:"h-4 w-4 mr-2 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4270,columnNumber:23},this),"Learning Outcomes"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4269,columnNumber:21},this),e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:Es,className:"text-xs px-2 py-1",children:[e.jsxDEV(Da,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4280,columnNumber:23},this),"Add"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4273,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4268,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:ve.map((a,s)=>e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("input",{type:"text",value:a,onChange:e=>Hs(s,e.target.value),placeholder:`Learning outcome ${s+1}`,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-2 px-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4287,columnNumber:25},this),ve.length>1&&e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:()=>Is(s),className:"text-red-600 border-red-300 hover:bg-red-50 p-1",children:e.jsxDEV(Ke,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4302,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4295,columnNumber:27},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4286,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4284,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4267,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[e.jsxDEV(Ia,{className:"h-4 w-4 mr-2 text-indigo-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4314,columnNumber:23},this),"Tags"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4313,columnNumber:21},this),e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:_s,className:"text-xs px-2 py-1",children:[e.jsxDEV(Da,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4324,columnNumber:23},this),"Add"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4317,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4312,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:We.map((a,s)=>e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("input",{type:"text",value:a,onChange:e=>Ms(s,e.target.value),placeholder:`Tag ${s+1}`,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-2 px-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4331,columnNumber:25},this),We.length>1&&e.jsxDEV(re,{type:"button",variant:"outline",size:"sm",onClick:()=>Cs(s),className:"text-red-600 border-red-300 hover:bg-red-50 p-1",children:e.jsxDEV(Ke,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4346,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4339,columnNumber:27},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4330,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4328,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4311,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(Ha,{className:"h-4 w-4 mr-2 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4357,columnNumber:21},this),"Media & SEO (Optional)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4356,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(ls,{coverImageUrl:Re?.file_url,videoPreviewUrl:Be?.file_url,onCoverImageSelect:e=>{Fe(e[0]||null)},onVideoPreviewSelect:e=>{qe(e[0]||null)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4361,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:e.jsxDEV(ce,{label:"Meta Title",placeholder:"SEO title",...cs("meta_title"),error:gs.meta_title?.message,className:"text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4372,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4371,columnNumber:21},this),e.jsxDEV(ce,{label:"Meta Description",placeholder:"SEO description",...cs("meta_description"),error:gs.meta_description?.message,className:"text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4380,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4360,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4355,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-lg p-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsxDEV(Va,{className:"h-4 w-4 mr-2 text-emerald-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4393,columnNumber:21},this),"Course Settings"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4392,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"flex items-center space-x-6",children:[e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",...cs("includes_certificate"),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4399,columnNumber:25},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Include Certificate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4404,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4398,columnNumber:23},this),e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",...cs("featured"),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4407,columnNumber:25},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Featured Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4412,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4406,columnNumber:23},this),e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",...cs("is_active"),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4415,columnNumber:25},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Active Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4420,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4414,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4397,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4396,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4391,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3948,columnNumber:15},this),e.jsxDEV("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:e.jsxDEV("div",{className:"flex items-center justify-end space-x-3",children:[e.jsxDEV(re,{type:"button",variant:"outline",onClick:()=>{K(!1),Q(null),ds(),je([""]),Ve([""]),we([""]),Me(""),Fe(null),qe(null)},size:"sm",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4430,columnNumber:19},this),e.jsxDEV(re,{type:"submit",disabled:Z||!!ne,className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",size:"sm",title:ne?"Fix slug error before updating":"Update course",onClick:()=>{console.log("Update button clicked",{savingCourse:Z,slugError:ne,editingCourse:J})},children:Z?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4464,columnNumber:25},this),"Updating..."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4463,columnNumber:23},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ta,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4469,columnNumber:25},this),"Update Course"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4468,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4448,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4429,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4428,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3941,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3903,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:3897,columnNumber:9},this),fs&&e.jsxDEV("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-[60]",onClick:e=>e.stopPropagation(),children:e.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Select Image for Course Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4492,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>{Ss(!1),setTimeout(()=>{const e=Ue.current?.getEditor();e&&e.focus()},100)},className:"text-gray-400 hover:text-gray-600",children:[e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4506,columnNumber:17},this),"âœ•"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4493,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4491,columnNumber:13},this),e.jsxDEV(ge,{multiple:!1,accept:["image"],compact:!1,showUpload:!0,onSelect:vs,title:"Select Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4509,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4487,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4483,columnNumber:9},this),Oe&&Xe&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Issue Certificate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4528,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600",children:"Select a template to issue the certificate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4529,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4527,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>{$e(!1),ea(null),Ge(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4539,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4531,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4526,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4525,columnNumber:13},this),e.jsxDEV("div",{className:"p-6",children:0===x.length?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(ze,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4546,columnNumber:19},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Templates Available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4547,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"No certificate templates have been assigned to you by the administrator. Please contact your administrator to assign certificate templates before you can issue certificates."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4548,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(re,{variant:"outline",onClick:()=>{$e(!1),ea(null)},children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4554,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4553,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4545,columnNumber:17},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Available Templates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4568,columnNumber:21},this),e.jsxDEV("div",{className:"grid gap-4",children:x.map(a=>{const s=Le===a.template_id;return e.jsxDEV("div",{onClick:()=>Ge(a.template_id),className:"p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 "+(s?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"),children:e.jsxDEV("div",{className:"flex items-start justify-between",children:e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxDEV("div",{className:"w-4 h-4 rounded-full border-2 flex items-center justify-center "+(s?"bg-purple-500 border-purple-500":"border-gray-300"),children:s&&e.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4596,columnNumber:39},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4588,columnNumber:35},this),e.jsxDEV("h4",{className:"font-semibold text-gray-900",children:a.template?.name||"Certificate Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4599,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4587,columnNumber:33},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:[a.template?.type||"Student"," Certificate"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4603,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4586,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4585,columnNumber:29},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4576,columnNumber:27},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4571,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4567,columnNumber:19},this),Le&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:e.jsxDEV("div",{className:"flex items-center text-sm text-blue-800",children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4616,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"Template selected - You can preview it before issuing"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4617,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4615,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4614,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>{$e(!1),ea(null),Ge(null)},className:"border-gray-300",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4624,columnNumber:21},this),e.jsxDEV(re,{onClick:async()=>{if(Le&&Xe)try{s.loading("Generating preview...");const e=d.find(e=>e.id===Xe);if(!e)return;const a=x.find(e=>e.template_id===Le)?.template;if(!a)return;const r={studentName:e.student?.full_name||"Student Name",studentId:e.student?.student_id||e.student?.full_name?.split(" ").map(e=>e.charAt(0)).join("").toUpperCase()+Math.random().toString().slice(-3)||"STU001",courseName:e.course?.title||"Course Name",courseId:e.course?.course_number||`C${Math.random().toString().slice(-3)}`,gurukulName:e.course?.gurukul?.name||"eYogi Gurukul",completionDate:e.completed_at||(new Date).toISOString(),certificateNumber:`PREVIEW-${Date.now()}`,verificationCode:"PREVIEW"},i=await mr(r,a);s.dismiss();const t=window.open("","_blank");t&&(t.document.write(`\n                              <!DOCTYPE html>\n                              <html>\n                                <head>\n                                  <title>Certificate Preview</title>\n                                  <style>\n                                    body { margin: 0; padding: 20px; background: #f3f4f6; }\n                                    iframe { width: 100%; height: 90vh; border: none; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\n                                    .header { text-align: center; margin-bottom: 20px; }\n                                    h1 { color: #1f2937; }\n                                    .note { color: #6b7280; font-style: italic; }\n                                  </style>\n                                </head>\n                                <body>\n                                  <div class="header">\n                                    <h1>Certificate Preview</h1>\n                                    <p class="note">This is a preview. The actual certificate will have a unique number.</p>\n                                  </div>\n                                  <iframe src="${i}"></iframe>\n                                </body>\n                              </html>\n                            `),t.document.close())}catch(e){s.dismiss(),console.error("Preview error:",e),s.error("Failed to generate preview")}},disabled:!Le,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(Ze,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4718,columnNumber:23},this),"Preview Certificate"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4635,columnNumber:21},this),e.jsxDEV(re,{onClick:()=>{Le&&Xe&&(async(e,a)=>{try{await xr(e,a),await Ns(),$e(!1),ea(null),Ge(null),s.success("Certificate issued successfully with template!")}catch{s.error("Failed to issue certificate")}})(Xe,Le)},disabled:!Le,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(na,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4733,columnNumber:23},this),"Issue Certificate"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4721,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4623,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4566,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4543,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4524,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4523,columnNumber:9},this),aa&&ia&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:e.jsxDEV("div",{className:"w-full max-w-4xl mx-4 bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Certificate Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4749,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600",children:["Certificate for ",ia.student?.full_name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4750,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4748,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>{sa(!1),ta(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4761,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4754,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4747,columnNumber:13},this),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg border border-green-200 mb-6",children:e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("div",{className:"h-16 w-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:e.jsxDEV(na,{className:"h-8 w-8 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4768,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4767,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-xl font-bold text-green-900",children:"Certificate Issued"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4771,columnNumber:21},this),e.jsxDEV("p",{className:"text-green-700",children:["Successfully completed ",ia.course?.title]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4772,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4770,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4766,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4765,columnNumber:15},this),e.jsxDEV("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4782,columnNumber:21},this),e.jsxDEV("p",{className:"text-lg font-semibold text-gray-900",children:ia.student?.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4785,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4781,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4790,columnNumber:21},this),e.jsxDEV("p",{className:"text-lg text-gray-900",children:ia.course?.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4793,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4789,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Completion Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4798,columnNumber:21},this),e.jsxDEV("p",{className:"text-lg text-gray-900",children:be(ia.updated_at)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4801,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4797,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4780,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4809,columnNumber:21},this),e.jsxDEV(oe,{className:"bg-green-600 text-white",children:"Issued"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4812,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4808,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4815,columnNumber:21},this),e.jsxDEV("p",{className:"text-lg text-gray-900",children:be(ia.updated_at)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4818,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4814,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Email"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4823,columnNumber:21},this),e.jsxDEV("p",{className:"text-lg text-gray-900",children:ia.student?.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4826,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4822,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4807,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4779,columnNumber:15},this),e.jsxDEV("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Certificate Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4836,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-600",children:"This certificate has been successfully issued and is now available to the student."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4839,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4835,columnNumber:19},this),e.jsxDEV("div",{className:"flex space-x-3",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>{sa(!1),ta(null)},children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4845,columnNumber:21},this),e.jsxDEV(re,{className:"bg-gradient-to-r from-blue-500 to-blue-600",onClick:()=>{const e=`CERT-${ia.updated_at?.replace(/[-:.]/g,"")}-${ia.id}`;fa(`/certificates/${e}.pdf`),ma(!0)},children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4864,columnNumber:23},this),"View Certificate PDF"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4854,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4844,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4834,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4833,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4764,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4746,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4745,columnNumber:9},this),la&&ga&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 backdrop-blur-sm",children:e.jsxDEV("div",{className:"w-full max-w-6xl mx-4 bg-white rounded-xl shadow-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsxDEV(ze,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4883,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4882,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Certificate Preview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4886,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600 text-sm",children:[ia?.student?.full_name," -"," ",ia?.course?.title]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4887,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4885,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4881,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>window.open(ga,"_blank"),className:"text-gray-600 border-gray-300",children:[e.jsxDEV("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4905,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4899,columnNumber:19},this),"Download"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4894,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>{ma(!1),fa(null)},className:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-lg hover:bg-gray-100",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4921,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4914,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4893,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4880,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1 bg-gray-100 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"w-full h-full bg-white rounded-lg shadow-inner overflow-hidden",children:e.jsxDEV("iframe",{src:`${ga}#toolbar=1&navpanes=1&scrollbar=1&page=1&view=FitH`,className:"w-full h-full border-0",title:"Certificate Preview",loading:"lazy"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4929,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4928,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4927,columnNumber:13},this),e.jsxDEV("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsxDEV("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4942,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4941,columnNumber:17},this),e.jsxDEV("span",{children:"Certificate generated and issued successfully"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4949,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4940,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>{ma(!1),fa(null)},children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4952,columnNumber:17},this),e.jsxDEV(re,{className:"bg-gradient-to-r from-green-500 to-green-600",onClick:()=>{navigator.clipboard.writeText(window.location.origin+ga),s.success("Certificate link copied to clipboard!")},children:[e.jsxDEV("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4975,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4969,columnNumber:19},this),"Copy Link"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4961,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4951,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4939,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4878,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4877,columnNumber:9},this),_a&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Select Template for Bulk Certificate Issuance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4997,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600",children:["Choose a template to issue certificates for ",Ma.length," ","eligible students"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5e3,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4996,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>{Ca(!1),ka([]),Ge(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5013,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5005,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4995,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4994,columnNumber:13},this),e.jsxDEV("div",{className:"p-6",children:0===x.length?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(ze,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5021,columnNumber:19},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Templates Available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5022,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"No certificate templates have been assigned to you by the administrator. Please contact your administrator to assign certificate templates before you can issue certificates."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5023,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(re,{variant:"outline",onClick:()=>{Ca(!1),ka([])},children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5029,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5028,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5020,columnNumber:17},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Available Templates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5043,columnNumber:21},this),e.jsxDEV("div",{className:"grid gap-4",children:x.map(a=>{const s=Le===a.template_id;return e.jsxDEV("div",{className:"p-4 rounded-lg border-2 transition-all duration-200 "+(s?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"),children:e.jsxDEV("div",{className:"flex items-start justify-between",children:e.jsxDEV("div",{className:"flex-1 cursor-pointer",onClick:()=>Ge(a.template_id),children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxDEV("div",{className:"w-4 h-4 rounded-full border-2 flex items-center justify-center "+(s?"bg-purple-500 border-purple-500":"border-gray-300"),children:s&&e.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5073,columnNumber:39},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5065,columnNumber:35},this),e.jsxDEV("h4",{className:"font-semibold text-gray-900",children:a.template?.name||"Certificate Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5076,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5064,columnNumber:33},this),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-3",children:[a.template?.type||"Student"," Certificate"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5080,columnNumber:33},this),e.jsxDEV("div",{className:"text-xs text-gray-500",children:e.jsxDEV("p",{children:["Assigned to:"," ",a.course?.title||a.gurukul?.name||"Direct assignment"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5084,columnNumber:35},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5083,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5060,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5059,columnNumber:29},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5051,columnNumber:27},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5046,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5042,columnNumber:19},this),Le&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:e.jsxDEV("div",{className:"flex items-center text-sm text-blue-800",children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5102,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"Template selected - You can preview it before bulk issuing"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5103,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5101,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5100,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>{Ca(!1),ka([]),Ge(null)},className:"border-gray-300",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5111,columnNumber:21},this),e.jsxDEV(re,{onClick:async()=>{if(Le&&0!==Ma.length)try{s.loading("Generating preview...");const e=Ma[0],a=d.find(a=>a.id===e);if(!a)return;const r=x.find(e=>e.template_id===Le)?.template;if(!r)return;const i={studentName:a.student?.full_name||"Student Name",studentId:a.student?.student_id||a.student?.full_name?.split(" ").map(e=>e.charAt(0)).join("").toUpperCase()+Math.random().toString().slice(-3)||"STU001",courseName:a.course?.title||"Course Name",courseId:a.course?.course_number||`C${Math.random().toString().slice(-3)}`,gurukulName:a.course?.gurukul?.name||"eYogi Gurukul",completionDate:a.completed_at||(new Date).toISOString(),certificateNumber:`PREVIEW-${Date.now()}`,verificationCode:"PREVIEW"},t=await mr(i,r);s.dismiss();const o=window.open("","_blank");o&&(o.document.write(`\n                              <!DOCTYPE html>\n                              <html>\n                                <head>\n                                  <title>Certificate Preview</title>\n                                  <style>\n                                    body { margin: 0; padding: 20px; background: #f3f4f6; }\n                                    iframe { width: 100%; height: 90vh; border: none; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\n                                    .header { text-align: center; margin-bottom: 20px; }\n                                    h1 { color: #1f2937; }\n                                    .note { color: #6b7280; font-style: italic; }\n                                  </style>\n                                </head>\n                                <body>\n                                  <div class="header">\n                                    <h1>Certificate Preview</h1>\n                                    <p class="note">Preview for the first student. All ${Ma.length} certificates will use this template.</p>\n                                  </div>\n                                  <iframe src="${t}"></iframe>\n                                </body>\n                              </html>\n                            `),o.document.close())}catch(e){s.dismiss(),console.error("Preview error:",e),s.error("Failed to generate preview")}},disabled:!Le,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(Ze,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5204,columnNumber:23},this),"Preview Certificate"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5122,columnNumber:21},this),e.jsxDEV(re,{onClick:()=>{Le&&(async e=>{if(0!==Ma.length)try{await Promise.all(Ma.map(a=>xr(a,e))),await Ns(),s.success(`${Ma.length} certificates issued with selected template!`),Ca(!1),ka([]),Ge(null)}catch(a){console.error("Error issuing bulk certificates:",a),s.error("Failed to issue certificates")}else s.error("No eligible students selected")})(Le)},disabled:!Le,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(na,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5216,columnNumber:23},this),"Issue ",Ma.length," Certificates"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5207,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5110,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5041,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5018,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4993,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:4992,columnNumber:9},this),Aa&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Select Template for Batch Certificate Issuance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5234,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600",children:"Choose a template to issue certificates for all students in this batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5237,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5233,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>{Ra(!1),Ba(null),Ge(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5249,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5241,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5232,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5231,columnNumber:13},this),e.jsxDEV("div",{className:"p-6",children:0===x.length?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(ze,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5257,columnNumber:19},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Templates Available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5258,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"No certificate templates have been assigned to you by the administrator. Please contact your administrator to assign certificate templates before you can issue batch certificates."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5259,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(re,{variant:"outline",onClick:()=>{Ra(!1),Ba(null)},children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5265,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5264,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5256,columnNumber:17},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Available Templates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5279,columnNumber:21},this),e.jsxDEV("div",{className:"grid gap-4",children:x.map(a=>{const s=Le===a.template_id;return e.jsxDEV("div",{onClick:()=>Ge(a.template_id),className:"p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 "+(s?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"),children:e.jsxDEV("div",{className:"flex items-start justify-between",children:e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxDEV("div",{className:"w-4 h-4 rounded-full border-2 flex items-center justify-center "+(s?"bg-purple-500 border-purple-500":"border-gray-300"),children:s&&e.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5307,columnNumber:39},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5299,columnNumber:35},this),e.jsxDEV("h4",{className:"font-semibold text-gray-900",children:a.template?.name||"Certificate Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5310,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5298,columnNumber:33},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:[a.template?.type||"Student"," Certificate"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5314,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5297,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5296,columnNumber:29},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5287,columnNumber:27},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5282,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5278,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>{Ra(!1),Ba(null),Ge(null)},children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5326,columnNumber:21},this),e.jsxDEV(re,{onClick:()=>{Le&&(async e=>{if(Fa)try{const a=await pr(Fa,e),r=a.filter(e=>e.success).length,i=a.filter(e=>!e.success).length;r>0&&s.success(`${r} certificates issued successfully!`),i>0&&s.error(`${i} certificates failed to issue`),await Ns(),Ra(!1),Ba(null),Ge(null)}catch(a){console.error("Error issuing batch certificates:",a),s.error("Failed to issue batch certificates")}else s.error("No batch selected")})(Le)},disabled:!Le,className:"bg-gradient-to-r from-purple-500 to-purple-600 disabled:opacity-50",children:[e.jsxDEV(na,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5345,columnNumber:23},this),"Issue Batch Certificates"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5336,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5325,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5277,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5254,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5230,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5229,columnNumber:9},this),qa&&D.length>0&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-x-hidden",children:e.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[e.jsxDEV("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Certificate Template Preview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5363,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600 text-sm mt-1",children:["Template ",Ga+1," of ",D.length]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5364,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5362,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>{La(!1),Ua(0)},className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0",children:e.jsxDEV(Ke,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5375,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5368,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5361,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5360,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 flex-grow overflow-y-auto",children:D[Ga]&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Template Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5387,columnNumber:25},this),e.jsxDEV("p",{className:"text-lg font-semibold text-gray-900",children:D[Ga]?.name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5390,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5386,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Certificate Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5395,columnNumber:25},this),e.jsxDEV("p",{className:"text-lg font-semibold text-gray-900",children:D[Ga]?.type||"Certificate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5398,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5394,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5403,columnNumber:25},this),e.jsxDEV("p",{className:"text-lg font-semibold text-green-600",children:D[Ga]?.is_active?"Active":"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5404,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5402,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Template Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5409,columnNumber:25},this),e.jsxDEV("p",{className:"text-lg font-semibold text-blue-600",children:D[Ga]?.template_data?.template_image?"Image-based":"Design-based"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5412,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5408,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5385,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5384,columnNumber:19},this),e.jsxDEV("div",{className:"bg-white border-4 border-gray-300 rounded-lg p-0 overflow-hidden",children:D[Ga]?.template_data?.template_image?e.jsxDEV("img",{src:D[Ga]?.template_data?.template_image,alt:"Template Preview",className:"w-full h-auto rounded-lg",style:{minHeight:"600px",objectFit:"contain"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5424,columnNumber:23},this):$a?e.jsxDEV("div",{className:"w-full bg-gray-50 flex items-center justify-center",style:{minHeight:"600px"},children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5436,columnNumber:27},this),e.jsxDEV("p",{className:"text-gray-600",children:"Generating preview..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5437,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5435,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5431,columnNumber:23},this):za?e.jsxDEV("img",{src:za,alt:"Certificate Preview",className:"w-full h-auto rounded-lg",style:{minHeight:"600px",objectFit:"contain"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5441,columnNumber:23},this):e.jsxDEV("div",{className:"w-full bg-gray-50 flex items-center justify-center",style:{minHeight:"600px"},children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(ze,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5453,columnNumber:27},this),e.jsxDEV("p",{className:"text-gray-600",children:"No preview available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5454,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5452,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5448,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5422,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5382,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5380,columnNumber:13},this),e.jsxDEV("div",{className:"p-6 border-t border-gray-200 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>{Ga>0&&Ua(Ga-1)},disabled:0===Ga,children:[e.jsxDEV(Wa,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5476,columnNumber:21},this),"Previous"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5467,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:D.map((a,s)=>e.jsxDEV("button",{onClick:()=>Ua(s),className:"h-2 rounded-full transition-all "+(s===Ga?"bg-purple-600 w-6":"bg-gray-300 w-2"),title:`Template ${s+1}`},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5483,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5481,columnNumber:19},this),e.jsxDEV(re,{variant:"outline",onClick:()=>{Ga<D.length-1&&Ua(Ga+1)},disabled:Ga===x.length-1,children:["Next",e.jsxDEV(wa,{className:"h-4 w-4 ml-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5504,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5494,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5466,columnNumber:17},this),e.jsxDEV(re,{variant:"outline",onClick:()=>{La(!1),Ua(0)},children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5508,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5465,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5464,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5359,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5358,columnNumber:9},this),Qa&&Xa&&e.jsxDEV(fi,{isOpen:Qa,student:Xa,teacherCourses:c,existingEnrollments:d.filter(e=>e.student_id===Xa.id&&"pending"!==e.status),pendingEnrollments:d.filter(e=>e.student_id===Xa.id&&"pending"===e.status),teacherId:o?.id||"",certificates:v,onClose:()=>{Za(!1),es(null)},onEnrollmentChange:()=>{Ns()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5525,columnNumber:9},this),Ka&&o&&is&&e.jsxDEV(Ir,{isOpen:Ka,onClose:()=>Ja(!1),user:{...o,phone:is.phone,date_of_birth:is.date_of_birth,address_line_1:is.address_line_1,address_line_2:is.address_line_2,city:is.city,state:is.state,zip_code:is.zip_code,country:is.country},onUpdate:()=>{window.location.reload()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5550,columnNumber:9},this),A&&F&&e.jsxDEV(xi,{consent:F,studentName:q,userRole:o?.role,onClose:()=>{R(!1),B(null),L("")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:5576,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/TeacherDashboard.tsx",lineNumber:1132,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"}));const Ti=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{loading:a,isSuperAdmin:s}=N(),{user:r,loading:i}=y();if(a||i)return e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"spinner w-8 h-8 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:12,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600",children:"Loading dashboard..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:13,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:11,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:10,columnNumber:7},this);if(s)return e.jsxDEV(c,{to:"/admin/dashboard",replace:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:20,columnNumber:12},this);if(r)switch(r.role){case"student":return e.jsxDEV(c,{to:"/dashboard/student",replace:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:26,columnNumber:16},this);case"teacher":return e.jsxDEV(c,{to:"/dashboard/teacher",replace:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:28,columnNumber:16},this);case"parent":return e.jsxDEV(c,{to:"/dashboard/parent",replace:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:30,columnNumber:16},this);case"admin":return e.jsxDEV(c,{to:"/dashboard/admin",replace:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:32,columnNumber:16},this);default:return e.jsxDEV(c,{to:"/auth/signin",replace:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:34,columnNumber:16},this)}return e.jsxDEV(c,{to:"/auth/signin",replace:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/DashboardPage.tsx",lineNumber:38,columnNumber:10},this)}},Symbol.toStringTag,{value:"Module"}));function Pi({isOpen:s,onClose:r,onAddChild:i,loading:t=!1,parentInfo:o,initialData:n,isEditMode:l=!1}){const c=e=>{if(!e)return"";try{const a=e.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(a){const[,e,s,r]=a,i=e.padStart(2,"0");return`${r}-${i}-${s.padStart(2,"0")}`}return""}catch(a){return console.error("Error parsing date:",e,a),""}},[m,d]=a.useState({firstName:"",lastName:"",date_of_birth:"",grade:"",email:"",phone:"",address:{address_line_1:"",address_line_2:"",city:"",state:"",zip_code:"",country:"USA"}}),[u,h]=a.useState({});a.useEffect(()=>{if(s){if(l&&n){const e=(e=>{if(!e||"null"===e)return"";try{const a=e.trim();if(!a)return"";const s=new Date(a);if(isNaN(s.getTime()))return"";const r=(s.getMonth()+1).toString().padStart(2,"0");return`${r}/${s.getDate().toString().padStart(2,"0")}/${s.getFullYear()}`}catch(a){return console.error("Error formatting date:",e,a),""}})(n.date_of_birth),a=n.fullName?n.fullName.split(" "):[n.firstName||"",n.lastName||""],s=n.firstName||a[0]||"",r=n.lastName||(a.length>1?a.slice(1).join(" "):"");d({firstName:s,lastName:r,date_of_birth:e,grade:n.grade,email:n.email||"",phone:n.phone||"",address:{address_line_1:o?.address?.street||"",address_line_2:"",city:o?.address?.city||"",state:o?.address?.state||"",zip_code:o?.address?.postal_code||"",country:x(o?.address?.country||"USA")}})}else d({firstName:"",lastName:"",date_of_birth:"",grade:"",email:"",phone:"",address:{address_line_1:o?.address?.street||"",address_line_2:"",city:o?.address?.city||"",state:o?.address?.state||"",zip_code:o?.address?.postal_code||"",country:x(o?.address?.country||"USA")}});h({})}},[s,l]);const b=(e,a)=>{"address"!==e&&(d(s=>({...s,[e]:a})),u[e]&&h(a=>({...a,[e]:""})))};return s?e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl h-auto max-h-[85vh] overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Ca,{className:"h-5 w-5 text-indigo-600 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:307,columnNumber:13},this),e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:l?"Edit Child":"Add New Child"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:308,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:306,columnNumber:11},this),e.jsxDEV("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Ma,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:316,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:312,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:305,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:e.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};m.firstName.trim()||(e.firstName="First name is required"),m.lastName.trim()||(e.lastName="Last name is required"),m.date_of_birth?/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(m.date_of_birth)?c(m.date_of_birth)||(e.date_of_birth="Please enter a valid date"):e.date_of_birth="Please enter date in MM/DD/YYYY format":e.date_of_birth="Date of birth is required";l&&m.email&&m.email.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(e.email="Please enter a valid email address"));return h(e),0===Object.keys(e).length})()){if(l&&m.email&&m.email.trim()){if(await(async e=>{try{const{data:a,error:s}=await J.from("profiles").select("id").eq("email",e.toLowerCase()).limit(1);return s?(console.error("Error checking email existence:",s),!1):a&&a.length>0}catch(a){return console.error("Error checking email existence:",a),!1}})(m.email.trim()))return void h({email:"This email address is already in use. Please choose a different email."})}try{const e={fullName:`${m.firstName.trim()} ${m.lastName.trim()}`.trim(),firstName:m.firstName.trim(),lastName:m.lastName.trim(),date_of_birth:c(m.date_of_birth),grade:m.grade||"",phone:m.phone,address:m.address,...l&&m.email?{email:m.email}:{}};await i(e),d({firstName:"",lastName:"",date_of_birth:"",grade:"",email:"",phone:"",address:{address_line_1:o?.address?.street||"",address_line_2:"",city:o?.address?.city||"",state:o?.address?.state||"",zip_code:o?.address?.postal_code||"",country:x(o?.address?.country||"USA")}}),h({})}catch(a){console.error("Error adding child:",a)}}},className:"p-6 space-y-4",children:[!l&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(ka,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:326,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-blue-800",children:[e.jsxDEV("p",{className:"font-medium mb-1",children:"Student ID Generation"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:328,columnNumber:21},this),e.jsxDEV("p",{children:"A unique student ID will be automatically generated based on the country and state/county from your parent profile address (e.g., IRLDU202500001 for Dublin, Ireland). The address will be automatically copied from your profile."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:329,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:327,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:325,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:324,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:343,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:m.firstName,onChange:e=>b("firstName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(u.firstName?"border-red-300":"border-gray-300"),placeholder:"First name",disabled:t,required:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:344,columnNumber:17},this),u.firstName&&e.jsxDEV("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[e.jsxDEV(ka,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:357,columnNumber:21},this),u.firstName]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:356,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:342,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:365,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:m.lastName,onChange:e=>b("lastName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(u.lastName?"border-red-300":"border-gray-300"),placeholder:"Last name",disabled:t,required:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:366,columnNumber:17},this),u.lastName&&e.jsxDEV("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[e.jsxDEV(ka,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:379,columnNumber:21},this),u.lastName]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:378,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:364,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth * (MM/DD/YYYY)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:387,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:m.date_of_birth,onChange:e=>{let a=e.target.value.replace(/\D/g,"");a.length>=2&&(a=a.substring(0,2)+"/"+a.substring(2)),a.length>=5&&(a=a.substring(0,5)+"/"+a.substring(5,9)),b("date_of_birth",a)},placeholder:"MM/DD/YYYY",maxLength:10,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(u.date_of_birth?"border-red-300":"border-gray-300"),disabled:t,required:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:390,columnNumber:17},this),u.date_of_birth&&e.jsxDEV("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[e.jsxDEV(ka,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:410,columnNumber:21},this),u.date_of_birth]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:409,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:386,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class (Optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:418,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:m.grade,onChange:e=>b("grade",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 5th Grade, Year 10",disabled:t},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:421,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:417,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone (Optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:433,columnNumber:17},this),e.jsxDEV("input",{type:"tel",value:m.phone,onChange:e=>b("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number",disabled:t},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:436,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:432,columnNumber:15},this),l&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:449,columnNumber:19},this),e.jsxDEV("input",{type:"email",value:m.email,onChange:e=>b("email",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(u.email?"border-red-300":"border-gray-300"),placeholder:"Enter child's email",disabled:t},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:452,columnNumber:19},this),u.email&&e.jsxDEV("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[e.jsxDEV(ka,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:464,columnNumber:23},this),u.email]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:463,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:448,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:340,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Address (Automatically copied from Parent Profile)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:475,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-blue-800 space-y-1",children:m.address.address_line_1?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("p",{children:m.address.address_line_1},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:481,columnNumber:23},this),m.address.address_line_2&&e.jsxDEV("p",{children:m.address.address_line_2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:482,columnNumber:59},this),e.jsxDEV("p",{children:[m.address.city,m.address.state&&`, ${As(m.address.country,m.address.state)||m.address.state}`,m.address.zip_code&&` ${m.address.zip_code}`]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:483,columnNumber:23},this),e.jsxDEV("p",{children:R(m.address.country)||m.address.country},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:492,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:480,columnNumber:21},this):e.jsxDEV("p",{className:"text-amber-700",children:"No address found in parent profile. Please update your profile first."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:499,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:478,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:474,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:473,columnNumber:13},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 mt-6",children:[e.jsxDEV("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm text-white bg-red-600 hover:bg-red-700 font-medium rounded focus:ring-2 focus:ring-red-500 focus:ring-offset-2",disabled:t,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:509,columnNumber:15},this),e.jsxDEV("button",{type:"submit",disabled:t,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 disabled:opacity-50",children:t?"Saving...":l?"Update Child":"Add Child"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:517,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:508,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:321,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:320,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:303,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/parents/AddChildModal.tsx",lineNumber:302,columnNumber:5},this):null}function Ei({stats:a,children:s,courses:i,coursesLoading:t,canAccess:o,onAddChild:n,onCourseEnrollment:l}){const c=[{title:"Total Children",value:a.totalChildren,icon:va,gradient:"from-blue-500 to-purple-600",bgGradient:"from-blue-500/20 to-purple-600/20",description:"Registered children",delay:.1,permission:{resource:"students",action:"read"}},{title:"Active Enrollments",value:a.activeEnrollments,icon:ca,gradient:"from-green-500 to-teal-600",bgGradient:"from-green-500/20 to-teal-600/20",description:"Ongoing courses",delay:.2,permission:{resource:"enrollments",action:"read"}},{title:"Certificates Earned",value:a.certificatesEarned,icon:da,gradient:"from-yellow-500 to-orange-600",bgGradient:"from-yellow-500/20 to-orange-600/20",description:"Achievements unlocked",delay:.3,permission:{resource:"certificates",action:"read"},comingSoon:!0},{title:"Learning Hours",value:a.totalLearningHours,icon:ba,gradient:"from-purple-500 to-pink-600",bgGradient:"from-purple-500/20 to-pink-600/20",description:"This month",suffix:"hrs",delay:.4,permission:{resource:"certificates",action:"read"},comingSoon:!0}].filter(e=>o(e.permission.resource,e.permission.action));return e.jsxDEV("div",{className:"space-y-6",children:[c.length>0&&e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3 lg:gap-4",children:c.map(a=>e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a.delay,duration:.6,type:"spring",stiffness:100},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group h-full",children:e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative rounded-lg sm:rounded-xl p-3 sm:p-4 lg:p-8 h-full flex flex-col",children:[e.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-br ${a.bgGradient} opacity-10 group-hover:opacity-20 transition-opacity duration-300`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1309,columnNumber:17},this),a.comingSoon&&e.jsxDEV("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3",children:e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-0.5 sm:px-2.5 sm:py-0.5 rounded-full",children:"Coming Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1314,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1313,columnNumber:19},this),e.jsxDEV("div",{className:"relative flex-1 flex flex-col",children:e.jsxDEV("div",{className:"flex items-start sm:items-center justify-between gap-2 flex-1",children:[e.jsxDEV("div",{className:"space-y-2 sm:space-y-3 min-w-0",children:[e.jsxDEV("p",{className:"text-gray-600 text-xs sm:text-sm font-semibold uppercase tracking-wider",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1322,columnNumber:23},this),e.jsxDEV(r.p,{initial:{scale:.8},animate:{scale:1},transition:{delay:a.delay+.2},className:"text-lg sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent "+(a.comingSoon?"opacity-50":""),children:[a.value,a.suffix||""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1325,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1336,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1321,columnNumber:21},this),e.jsxDEV(r.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:a.delay+.3,type:"spring",stiffness:200},whileHover:{scale:1.2,rotate:10},className:`h-12 w-12 sm:h-14 sm:w-14 lg:h-16 lg:w-16 bg-gradient-to-r ${a.gradient} rounded-lg sm:rounded-xl lg:rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow duration-300 flex-shrink-0`,children:e.jsxDEV(a.icon,{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1351,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1340,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1320,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1319,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1308,columnNumber:15},this)},a.title,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1294,columnNumber:13},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1291,columnNumber:9},this),(o("certificates","read")||o("students","update"))&&e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[o("certificates","read")&&e.jsxDEV(r.div,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative rounded-xl p-6",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.5},children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-purple-600/10 opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1371,columnNumber:15},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsxDEV(ma,{className:"h-6 w-6 mr-3 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1374,columnNumber:19},this),"Recent Activity"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1373,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-4",children:s.slice(0,3).map((a,s)=>e.jsxDEV(r.div,{className:"p-4 rounded-xl bg-white/60 hover:bg-white/80 transition-all duration-300 border border-white/30",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.6+.1*s},whileHover:{scale:1.02,x:5},children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center text-white text-lg font-bold shadow-lg",children:a.full_name.charAt(0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1389,columnNumber:25},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1393,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-gray-600",children:a.grade},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1394,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1392,columnNumber:25},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-lg font-bold text-gray-900",children:[a.overall_progress,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1397,columnNumber:27},this),e.jsxDEV("div",{className:"text-xs text-gray-600",children:"Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1400,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1396,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1388,columnNumber:23},this),e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 transition-all duration-300",style:{width:`${a.overall_progress}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1407,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1406,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1405,columnNumber:23},this),e.jsxDEV("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxDEV("div",{className:"bg-blue-50 rounded-md p-2",children:[e.jsxDEV("div",{className:"text-sm font-bold text-blue-600",children:a.enrolled_courses?.length||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1417,columnNumber:27},this),e.jsxDEV("div",{className:"text-xs text-blue-500",children:"Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1420,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1416,columnNumber:25},this),e.jsxDEV("div",{className:"bg-green-50 rounded-md p-2",children:[e.jsxDEV("div",{className:"text-sm font-bold text-green-600",children:a.learning_time.weekly},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1423,columnNumber:27},this),e.jsxDEV("div",{className:"text-xs text-green-500",children:"Min/Week"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1426,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1422,columnNumber:25},this),e.jsxDEV("div",{className:"bg-purple-50 rounded-md p-2",children:[e.jsxDEV("div",{className:"text-sm font-bold text-purple-600",children:a.streak_days},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1429,columnNumber:27},this),e.jsxDEV("div",{className:"text-xs text-purple-500",children:"Streak"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1432,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1428,columnNumber:25},this),e.jsxDEV("div",{className:"bg-orange-50 rounded-md p-2",children:[e.jsxDEV("div",{className:"text-sm font-bold text-orange-600",children:[a.enrolled_courses&&Math.round(a.enrolled_courses.reduce((e,a)=>e+a.progress,0)/a.enrolled_courses.length)||0,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1435,columnNumber:27},this),e.jsxDEV("div",{className:"text-xs text-orange-500",children:"Avg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1446,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1434,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1415,columnNumber:23},this),e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-200 relative",children:[e.jsxDEV("span",{className:"absolute top-1 right-0 bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-0.5 rounded-full",children:"Coming Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1452,columnNumber:25},this),a.recent_activity&&a.recent_activity.length>0?e.jsxDEV("div",{className:"flex items-start space-x-2",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-1.5 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1457,columnNumber:29},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 truncate",children:a.recent_activity[0].description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1459,columnNumber:31},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:new Date(a.recent_activity[0].date).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1462,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1458,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1456,columnNumber:27},this):e.jsxDEV("div",{className:"flex items-start space-x-2 opacity-50",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-1.5 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1469,columnNumber:29},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("p",{className:"text-xs text-gray-500 truncate",children:"Recent activity tracking coming soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1471,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1470,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1468,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1451,columnNumber:23},this)]},a.student_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1379,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1377,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1372,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1365,columnNumber:13},this),o("students","update")&&e.jsxDEV(r.div,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative rounded-xl p-6",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.5},children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-teal-600/10 opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1492,columnNumber:15},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsxDEV(oa,{className:"h-6 w-6 mr-3 text-yellow-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1495,columnNumber:19},this),"Quick Actions"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1494,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(r.button,{onClick:n,className:"w-full flex items-center space-x-4 p-4 rounded-xl bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700 transition-all duration-300 shadow-lg hover:shadow-xl cursor-pointer",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[e.jsxDEV(Aa,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1505,columnNumber:21},this),e.jsxDEV("span",{className:"font-semibold",children:"Add New Child"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1506,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1499,columnNumber:19},this),e.jsxDEV(r.button,{className:"w-full flex items-center space-x-4 p-4 rounded-xl bg-white/60 hover:bg-white/80 border border-white/30 text-gray-700 hover:text-gray-900 transition-all duration-300 cursor-pointer",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[e.jsxDEV(ra,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1513,columnNumber:21},this),e.jsxDEV("span",{className:"font-semibold",children:"View Reports"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1514,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1508,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1498,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1493,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1486,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1362,columnNumber:9},this),o("courses","view")&&e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mt-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsxDEV(da,{className:"h-6 w-6 mr-3 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1532,columnNumber:15},this),"Available Courses"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1531,columnNumber:13},this),e.jsxDEV(r.button,{onClick:()=>{window.location.href="/ssh-app/courses"},className:"text-blue-600 hover:text-blue-800 font-medium flex items-center cursor-pointer",whileHover:{scale:1.05},children:["View All Courses",e.jsxDEV("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1544,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1543,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1535,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1530,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t?Array.from({length:6}).map((a,s)=>e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm border border-white/20 rounded-xl p-4 shadow-sm",children:e.jsxDEV("div",{className:"animate-pulse",children:[e.jsxDEV("div",{className:"h-4 bg-gray-300 rounded mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1562,columnNumber:23},this),e.jsxDEV("div",{className:"h-3 bg-gray-200 rounded mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1563,columnNumber:23},this),e.jsxDEV("div",{className:"h-3 bg-gray-200 rounded w-20"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1564,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1561,columnNumber:21},this)},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1557,columnNumber:19},this)):i.slice(0,6).map((a,s)=>e.jsxDEV(r.div,{className:"bg-white/80 backdrop-blur-sm border border-white/20 rounded-xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 flex flex-col h-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1*s},whileHover:{y:-2},children:[e.jsxDEV("div",{className:"flex-1 flex flex-col",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-900 text-sm mb-1 line-clamp-2",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1580,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-gray-600 mb-2",children:a.subject},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1583,columnNumber:27},this),e.jsxDEV("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+("Beginner"===a.difficulty?"bg-green-100 text-green-800":"Intermediate"===a.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:a.difficulty},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1584,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1579,columnNumber:25},this),e.jsxDEV("div",{className:"text-right ml-2 flex-shrink-0",children:[e.jsxDEV("div",{className:"text-sm font-bold text-gray-900",children:he(a.price)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1597,columnNumber:27},this),e.jsxDEV("div",{className:"text-xs text-gray-600",children:a.duration},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1600,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1596,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1578,columnNumber:23},this),e.jsxDEV("div",{className:"text-xs text-gray-600 mb-3 line-clamp-3 flex-1",dangerouslySetInnerHTML:{__html:te(a.description)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1603,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"flex text-yellow-400",children:[...Array(5)].map((a,s)=>e.jsxDEV("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",children:e.jsxDEV("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1612,columnNumber:33},this)},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1611,columnNumber:31},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1609,columnNumber:27},this),e.jsxDEV("span",{className:"text-xs text-gray-600 ml-1",children:["(",a.rating,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1616,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1608,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs text-gray-600 truncate ml-2",children:a.instructor},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1618,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1607,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1577,columnNumber:21},this),e.jsxDEV(r.button,{onClick:()=>l(a),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white text-sm font-medium py-2 px-4 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 cursor-pointer mt-auto",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Enroll Now"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1623,columnNumber:21},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1569,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1553,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1524,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1288,columnNumber:5},this)}function Ii({children:a,onAddChild:s,onEditChild:i,onDeleteChild:t,onManageConsent:o,childConsents:n}){return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-2xl font-bold text-gray-900",children:"My Children"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1658,columnNumber:9},this),e.jsxDEV(r.button,{onClick:s,className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 cursor-pointer text-sm sm:text-base min-h-[44px]",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsxDEV(Aa,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1665,columnNumber:11},this),e.jsxDEV("span",{children:"Add Child"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1666,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1659,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1657,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:a.map((a,s)=>e.jsxDEV(r.div,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative rounded-lg sm:rounded-xl p-4 sm:p-6 flex flex-col h-full",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.1*s},whileHover:{scale:1.02,y:-2},children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-600/10 opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1680,columnNumber:13},this),e.jsxDEV("div",{className:"relative flex-1 flex flex-col",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 flex gap-2",children:[e.jsxDEV(r.button,{onClick:()=>i(a.student_id),className:"min-w-[44px] min-h-[44px] w-11 h-11 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors duration-200 cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Edit Child","aria-label":"Edit Child",children:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1693,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1692,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1684,columnNumber:17},this),e.jsxDEV(r.button,{onClick:()=>t(a.student_id),className:"min-w-[44px] min-h-[44px] w-11 h-11 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors duration-200 cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Delete Child","aria-label":"Delete Child",children:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1710,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1709,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1701,columnNumber:17},this),e.jsxDEV(r.button,{onClick:()=>o(a),className:"min-w-[44px] min-h-[44px] w-11 h-11 bg-green-500 hover:bg-green-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors duration-200 cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Manage Consent","aria-label":"Manage Consent",children:e.jsxDEV(ze,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1726,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1718,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1683,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxDEV("div",{className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg sm:rounded-xl lg:rounded-2xl flex items-center justify-center text-white text-sm sm:text-base lg:text-lg font-bold shadow-lg flex-shrink-0",children:a.full_name.charAt(0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1730,columnNumber:17},this),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base lg:text-lg truncate",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1734,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-600",children:[a.grade," â€¢ Age ",a.age]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1737,columnNumber:19},this),a.display_student_id&&e.jsxDEV("p",{className:"text-xs sm:text-sm text-purple-600 font-medium mt-0.5",children:["ID: ",a.display_student_id]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1741,columnNumber:21},this),e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV(Br,{consentGiven:n.get(a.student_id)?.consent_given||!1,withdrawn:n.get(a.student_id)?.withdrawn||!1,size:"sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1746,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1745,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1733,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1729,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between text-xs sm:text-sm mb-2",children:[e.jsxDEV("span",{className:"text-gray-600 font-medium",children:"Overall Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1758,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-900 font-semibold",children:[a.overall_progress,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1759,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1757,columnNumber:19},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 sm:h-3",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-2 sm:h-3 rounded-full transition-all duration-300",style:{width:`${a.overall_progress}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1762,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1761,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1756,columnNumber:17},this),a.enrolled_courses&&a.enrolled_courses.length>0&&e.jsxDEV("div",{className:"bg-white/40 rounded-lg p-3 border border-white/20",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700",children:"Course Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1773,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center space-x-1",children:a.enrolled_courses.some(e=>e.batch_info?.is_in_batch)&&e.jsxDEV("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[e.jsxDEV("svg",{className:"w-2.5 h-2.5 mr-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsxDEV("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1784,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1779,columnNumber:29},this),"In Batches"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1778,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1774,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1772,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2 max-h-24 overflow-y-auto",children:[a.enrolled_courses.slice(0,3).map(a=>e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[e.jsxDEV("div",{className:"flex items-center flex-1 mr-2",children:[e.jsxDEV("span",{className:"text-gray-600 truncate",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1796,columnNumber:31},this),a.batch_info&&e.jsxDEV("span",{className:"ml-1 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[e.jsxDEV("svg",{className:"w-2.5 h-2.5 mr-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsxDEV("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1804,columnNumber:37},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1799,columnNumber:35},this),"Batch"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1798,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1795,columnNumber:29},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("span",{className:"text-gray-900 font-medium",children:[a.progress,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1811,columnNumber:31},this),e.jsxDEV("div",{className:"w-8 h-1.5 bg-gray-200 rounded-full",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-blue-400 to-purple-500 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1813,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1812,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1810,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1794,columnNumber:27},this),a.batch_info&&e.jsxDEV("div",{className:"text-xs text-orange-600 pl-1",children:a.batch_info.batch_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1821,columnNumber:29},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1793,columnNumber:25},this)),a.enrolled_courses.length>3&&e.jsxDEV("div",{className:"text-xs text-gray-500 text-center pt-1",children:["+",a.enrolled_courses.length-3," more courses"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1828,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1791,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1771,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxDEV("div",{className:"bg-white/60 rounded-lg p-3 border border-white/30",children:[e.jsxDEV("p",{className:"text-lg font-bold text-gray-900",children:a.enrolled_courses?.length||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1839,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-600 font-medium",children:"Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1842,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1838,columnNumber:19},this),e.jsxDEV("div",{className:"bg-white/60 rounded-lg p-3 border border-white/30 relative",children:[e.jsxDEV("span",{className:"absolute top-1 right-1 bg-yellow-100 text-yellow-800 text-xs font-medium px-1.5 py-0.5 rounded-full",children:"Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1845,columnNumber:21},this),e.jsxDEV("p",{className:"text-lg font-bold text-gray-900 opacity-50",children:a.streak_days},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1848,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-600 font-medium",children:"Streak"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1851,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1844,columnNumber:19},this),e.jsxDEV("div",{className:"bg-white/60 rounded-lg p-3 border border-white/30 relative",children:[e.jsxDEV("span",{className:"absolute top-1 right-1 bg-yellow-100 text-yellow-800 text-xs font-medium px-1.5 py-0.5 rounded-full",children:"Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1854,columnNumber:21},this),e.jsxDEV("p",{className:"text-lg font-bold text-gray-900 opacity-50",children:a.learning_time.weekly},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1857,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-600 font-medium",children:"Mins/Week"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1860,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1853,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1837,columnNumber:17},this),e.jsxDEV("div",{className:"bg-white/40 rounded-lg p-3 border border-white/20 relative",children:[e.jsxDEV("div",{className:"absolute top-2 right-2",children:e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-0.5 rounded-full",children:"Coming Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1867,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1866,columnNumber:19},this),e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Activity"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1871,columnNumber:19},this),a.recent_activity&&a.recent_activity.length>0?e.jsxDEV("div",{className:"space-y-1",children:a.recent_activity.slice(0,2).map(a=>e.jsxDEV("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsxDEV("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1876,columnNumber:27},this),e.jsxDEV("span",{className:"text-gray-600 truncate flex-1",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1877,columnNumber:27},this),e.jsxDEV("span",{className:"text-gray-500 flex-shrink-0",children:new Date(a.date).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1880,columnNumber:27},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1875,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1873,columnNumber:21},this):e.jsxDEV("div",{className:"opacity-50",children:e.jsxDEV("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsxDEV("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1889,columnNumber:25},this),e.jsxDEV("span",{className:"text-gray-500",children:"Activity tracking coming soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1890,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1888,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1887,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1865,columnNumber:17},this),e.jsxDEV("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-3 border border-yellow-200 relative",children:[e.jsxDEV("div",{className:"absolute top-2 right-2",children:e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-0.5 rounded-full",children:"Coming Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1899,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1898,columnNumber:19},this),a.achievements&&a.achievements.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-yellow-800",children:"Latest Achievement"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1906,columnNumber:25},this),e.jsxDEV("div",{className:"text-lg",children:a.achievements[0].icon},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1907,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1905,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-yellow-700 mt-1",children:a.achievements[0].title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1909,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1904,columnNumber:21},this):e.jsxDEV("div",{className:"opacity-50",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-yellow-800",children:"Latest Achievement"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1914,columnNumber:25},this),e.jsxDEV("div",{className:"text-lg",children:"ðŸ†"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1915,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1913,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-yellow-700 mt-1",children:"Achievement tracking coming soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1917,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1912,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1897,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1754,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1681,columnNumber:13},this)]},a.student_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1672,columnNumber:11},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1669,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1656,columnNumber:5},this)}function Hi({children:a}){const s=a.flatMap(e=>(e.enrolled_courses||[]).map(a=>({...a,childName:e.full_name,childId:e.student_id})));return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-2xl font-bold text-gray-900",children:"Course Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1943,columnNumber:9},this),e.jsxDEV("div",{className:"text-xs sm:text-sm text-gray-600",children:[s.length," enrollment",1!==s.length?"s":""," total"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1946,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1942,columnNumber:7},this),s.length>0?e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:s.map((a,s)=>e.jsxDEV(r.div,{className:"rounded-lg bg-white border border-gray-200 p-4 shadow-sm hover:shadow-md transition-all duration-300",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,delay:.1*s},children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-base",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1964,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:a.subject},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1965,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1963,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Student:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1970,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:a.childName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1971,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1969,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Level:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1975,columnNumber:21},this),e.jsxDEV("span",{className:"px-3 py-1.5 rounded-md text-xs font-medium bg-gradient-to-r "+("elementary"===a.level||"basic"===a.level?"from-green-400 to-blue-500 text-white":"intermediate"===a.level?"from-yellow-400 to-orange-500 text-white":"from-red-400 to-pink-500 text-white"),children:a.level.charAt(0).toUpperCase()+a.level.slice(1).toLowerCase()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1976,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1974,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Enrolled:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1991,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:new Date(a.enrollment_date).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1992,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1990,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1968,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1962,columnNumber:15},this)},`${a.childId}-${a.id}`,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1954,columnNumber:13},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1952,columnNumber:9},this):e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(ca,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2003,columnNumber:11},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Course Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2004,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mb-4",children:"Your children haven't enrolled in any courses yet."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2005,columnNumber:11},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Visit the course catalog to get started with learning!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2006,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2002,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1941,columnNumber:5},this)}function Vi({children:a,stats:s}){return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-2xl font-bold text-gray-900",children:"Progress Reports"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2018,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxDEV(r.div,{className:"rounded-xl backdrop-blur-md bg-white/80 border border-white/20 shadow-lg p-6 relative",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},children:[e.jsxDEV("div",{className:"absolute top-3 right-3",children:e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Coming Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2028,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2027,columnNumber:11},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Weekly Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2032,columnNumber:11},this),e.jsxDEV("div",{className:"text-center opacity-50",children:[e.jsxDEV("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:[s.weeklyProgress,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2034,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-600",children:"Average completion this week"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2037,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2033,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2021,columnNumber:9},this),e.jsxDEV(r.div,{className:"rounded-xl backdrop-blur-md bg-white/80 border border-white/20 shadow-lg p-6 relative",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},children:[e.jsxDEV("div",{className:"absolute top-3 right-3",children:e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Coming Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2047,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2046,columnNumber:11},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Learning Time"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2051,columnNumber:11},this),e.jsxDEV("div",{className:"text-center opacity-50",children:[e.jsxDEV("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:s.totalLearningHours},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2053,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600",children:"Hours this month"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2054,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2052,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2040,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2019,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-6",children:a.map((a,s)=>e.jsxDEV(r.div,{className:"rounded-xl backdrop-blur-md bg-white/80 border border-white/20 shadow-lg p-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.1*s},children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:a.full_name.charAt(0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2070,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-lg",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2074,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:a.grade},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2075,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2073,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2069,columnNumber:15},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:[a.overall_progress,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2079,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:"Overall Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2080,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2078,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2068,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxDEV("div",{className:"text-center bg-blue-50 rounded-lg p-3",children:[e.jsxDEV("div",{className:"text-lg font-bold text-blue-600",children:a.learning_time.daily},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2087,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-blue-500",children:"Daily (min)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2088,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2086,columnNumber:15},this),e.jsxDEV("div",{className:"text-center bg-green-50 rounded-lg p-3",children:[e.jsxDEV("div",{className:"text-lg font-bold text-green-600",children:a.learning_time.weekly},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2091,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-green-500",children:"Weekly (min)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2092,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2090,columnNumber:15},this),e.jsxDEV("div",{className:"text-center bg-purple-50 rounded-lg p-3",children:[e.jsxDEV("div",{className:"text-lg font-bold text-purple-600",children:a.streak_days},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2095,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-purple-500",children:"Streak (days)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2096,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2094,columnNumber:15},this),e.jsxDEV("div",{className:"text-center bg-orange-50 rounded-lg p-3",children:[e.jsxDEV("div",{className:"text-lg font-bold text-orange-600",children:a.enrolled_courses?.length||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2099,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-orange-500",children:"Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2102,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2098,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2085,columnNumber:13},this),a.enrolled_courses&&a.enrolled_courses.length>0?e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsxDEV(ca,{className:"h-5 w-5 mr-2 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2110,columnNumber:19},this),"Course Progress Breakdown"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2109,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.enrolled_courses.map(a=>e.jsxDEV("div",{className:"bg-white/60 rounded-lg p-4 border border-white/30",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h5",{className:"font-medium text-gray-900 text-sm mb-1",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2121,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-gray-600",children:[a.subject," â€¢ ",a.level]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2122,columnNumber:27},this),a.batch_info&&e.jsxDEV("div",{className:"mt-1",children:e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[e.jsxDEV("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsxDEV("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2133,columnNumber:35},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2128,columnNumber:33},this),"Batch: ",a.batch_info.batch_name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2127,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2126,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2120,columnNumber:25},this),e.jsxDEV("div",{className:"text-right ml-3",children:[e.jsxDEV("div",{className:"text-lg font-bold text-gray-900",children:[a.progress,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2141,columnNumber:27},this),e.jsxDEV("div",{className:"text-xs text-gray-600",children:"Complete"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2142,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2140,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2119,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-blue-400 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2150,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2149,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2148,columnNumber:25},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxDEV("div",{className:"text-center bg-gray-50 rounded p-2",children:[e.jsxDEV("div",{className:"font-medium text-gray-900",children:[a.completed_lessons,"/",a.total_lessons]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2160,columnNumber:29},this),e.jsxDEV("div",{className:"text-gray-600",children:"Lessons"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2163,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2159,columnNumber:27},this),e.jsxDEV("div",{className:"text-center bg-gray-50 rounded p-2",children:[e.jsxDEV("div",{className:"font-medium text-gray-900",children:[a.current_grade,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2166,columnNumber:29},this),e.jsxDEV("div",{className:"text-gray-600",children:"Grade"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2167,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2165,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2158,columnNumber:25},this),e.jsxDEV("div",{className:"flex justify-between items-center text-xs text-gray-500 pt-2 border-t border-gray-200",children:[e.jsxDEV("span",{children:["Started: ",new Date(a.enrollment_date).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2173,columnNumber:27},this),e.jsxDEV("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Beginner"===a.difficulty?"bg-green-100 text-green-700":"Intermediate"===a.difficulty?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:a.difficulty},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2176,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2172,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2146,columnNumber:23},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2115,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2113,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2108,columnNumber:15},this):e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2195,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600",children:"No courses enrolled yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2196,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:["Encourage ",a.full_name," to start their learning journey!"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2197,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2194,columnNumber:15},this),e.jsxDEV("div",{className:"mt-6 pt-6 border-t border-white/20",children:[e.jsxDEV("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsxDEV(na,{className:"h-5 w-5 mr-2 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2206,columnNumber:17},this),"Recent Achievements",e.jsxDEV("span",{className:"ml-2 bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Coming Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2208,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2205,columnNumber:15},this),a.achievements&&a.achievements.length>0?e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:a.achievements.slice(0,3).map(a=>e.jsxDEV("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-3 border border-yellow-200 flex-1 min-w-0",children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("span",{className:"text-lg",children:a.icon},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2220,columnNumber:25},this),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("h6",{className:"font-medium text-yellow-800 text-sm truncate",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2222,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-yellow-700 truncate",children:a.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2225,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2221,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2219,columnNumber:23},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2215,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2213,columnNumber:17},this):e.jsxDEV("div",{className:"text-center py-4 opacity-50",children:e.jsxDEV("p",{className:"text-gray-500 text-sm",children:"Achievement tracking will be available soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2235,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2234,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2204,columnNumber:13},this)]},a.student_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2060,columnNumber:11},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2058,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2017,columnNumber:5},this)}function Wi({children:a,stats:s}){return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Insights"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2251,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxDEV(r.div,{className:"rounded-xl backdrop-blur-md bg-white/80 border border-white/20 shadow-lg p-6 text-center relative",initial:{scale:0},animate:{scale:1},transition:{duration:.6},children:[e.jsxDEV("div",{className:"absolute top-2 right-2",children:e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-0.5 rounded-full",children:"Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2261,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2260,columnNumber:11},this),e.jsxDEV(na,{className:"h-8 w-8 text-yellow-500 mx-auto mb-3 opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2265,columnNumber:11},this),e.jsxDEV("div",{className:"text-2xl font-bold text-gray-900 opacity-50",children:s.certificatesEarned},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2266,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:"Certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2269,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2254,columnNumber:9},this),e.jsxDEV(r.div,{className:"rounded-xl backdrop-blur-md bg-white/80 border border-white/20 shadow-lg p-6 text-center",initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.1},children:[e.jsxDEV(ca,{className:"h-8 w-8 text-blue-500 mx-auto mb-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2277,columnNumber:11},this),e.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:s.activeEnrollments},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2278,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:"Active Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2279,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2271,columnNumber:9},this),e.jsxDEV(r.div,{className:"rounded-xl backdrop-blur-md bg-white/80 border border-white/20 shadow-lg p-6 text-center relative",initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.2},children:[e.jsxDEV("div",{className:"absolute top-2 right-2",children:e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-0.5 rounded-full",children:"Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2288,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2287,columnNumber:11},this),e.jsxDEV(ba,{className:"h-8 w-8 text-orange-500 mx-auto mb-3 opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2292,columnNumber:11},this),e.jsxDEV("div",{className:"text-2xl font-bold text-gray-900 opacity-50",children:s.totalLearningHours},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2293,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:"Hours Learned"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2296,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2281,columnNumber:9},this),e.jsxDEV(r.div,{className:"rounded-xl backdrop-blur-md bg-white/80 border border-white/20 shadow-lg p-6 text-center relative",initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.3},children:[e.jsxDEV("div",{className:"absolute top-2 right-2",children:e.jsxDEV("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-0.5 rounded-full",children:"Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2305,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2304,columnNumber:11},this),e.jsxDEV(ha,{className:"h-8 w-8 text-green-500 mx-auto mb-3 opacity-50"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2309,columnNumber:11},this),e.jsxDEV("div",{className:"text-2xl font-bold text-gray-900 opacity-50",children:s.upcomingEvents},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2310,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:"Upcoming Events"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2311,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2298,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2252,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Individual Child Analytics"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2317,columnNumber:9},this),a.map((a,s)=>e.jsxDEV(r.div,{className:"rounded-xl backdrop-blur-md bg-white/80 border border-white/20 shadow-lg p-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.4+.1*s},children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center text-white text-xl font-bold shadow-lg",children:a.full_name.charAt(0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2329,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-900",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2333,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:[a.grade," â€¢ ",a.enrolled_courses?.length||0," courses enrolled"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2334,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2332,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2328,columnNumber:15},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-gray-900",children:[a.overall_progress,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2340,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-gray-600",children:"Overall Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2341,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2339,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2327,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxDEV("div",{className:"bg-blue-50 rounded-xl p-4 text-center relative",children:[e.jsxDEV("span",{className:"absolute top-1 right-1 bg-yellow-100 text-yellow-800 text-xs font-medium px-1.5 py-0.5 rounded-full",children:"Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2348,columnNumber:17},this),e.jsxDEV("div",{className:"text-2xl font-bold text-blue-600 opacity-50",children:a.learning_time.daily},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2351,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-blue-500 font-medium",children:"Daily Minutes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2354,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2347,columnNumber:15},this),e.jsxDEV("div",{className:"bg-green-50 rounded-xl p-4 text-center relative",children:[e.jsxDEV("span",{className:"absolute top-1 right-1 bg-yellow-100 text-yellow-800 text-xs font-medium px-1.5 py-0.5 rounded-full",children:"Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2357,columnNumber:17},this),e.jsxDEV("div",{className:"text-2xl font-bold text-green-600 opacity-50",children:a.learning_time.weekly},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2360,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-green-500 font-medium",children:"Weekly Minutes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2363,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2356,columnNumber:15},this),e.jsxDEV("div",{className:"bg-purple-50 rounded-xl p-4 text-center relative",children:[e.jsxDEV("span",{className:"absolute top-1 right-1 bg-yellow-100 text-yellow-800 text-xs font-medium px-1.5 py-0.5 rounded-full",children:"Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2366,columnNumber:17},this),e.jsxDEV("div",{className:"text-2xl font-bold text-purple-600 opacity-50",children:a.streak_days},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2369,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-purple-500 font-medium",children:"Day Streak"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2372,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2365,columnNumber:15},this),e.jsxDEV("div",{className:"bg-orange-50 rounded-xl p-4 text-center relative",children:[e.jsxDEV("span",{className:"absolute top-1 right-1 bg-yellow-100 text-yellow-800 text-xs font-medium px-1.5 py-0.5 rounded-full",children:"Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2375,columnNumber:17},this),e.jsxDEV("div",{className:"text-2xl font-bold text-orange-600 opacity-50",children:a.achievements?.length||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2378,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-orange-500 font-medium",children:"Achievements"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2381,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2374,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2346,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[e.jsxDEV(ra,{className:"h-5 w-5 mr-2 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2390,columnNumber:19},this),"Course Performance"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2389,columnNumber:17},this),a.enrolled_courses&&a.enrolled_courses.length>0?e.jsxDEV("div",{className:"space-y-3",children:[a.enrolled_courses.slice(0,3).map(a=>e.jsxDEV("div",{className:"bg-white/60 rounded-lg p-3 border border-white/30",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-900 truncate flex-1 mr-2",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2401,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("span",{className:"text-sm font-bold text-gray-900",children:[a.progress,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2405,columnNumber:29},this),e.jsxDEV("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-blue-400 to-purple-500 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2409,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2408,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2404,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2400,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[e.jsxDEV("span",{children:["Grade: ",a.current_grade,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2417,columnNumber:27},this),e.jsxDEV("span",{children:[a.completed_lessons,"/",a.total_lessons," lessons"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2418,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2416,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2396,columnNumber:23},this)),a.enrolled_courses.length>3&&e.jsxDEV("div",{className:"text-xs text-gray-500 text-center",children:["+",a.enrolled_courses.length-3," more courses"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2425,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2394,columnNumber:19},this):e.jsxDEV("div",{className:"text-center py-4 text-gray-500",children:[e.jsxDEV(ca,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2432,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm",children:"No courses enrolled"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2433,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2431,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2388,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[e.jsxDEV(oa,{className:"h-5 w-5 mr-2 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2441,columnNumber:19},this),"Learning Insights"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2440,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"bg-white/60 rounded-lg p-3 border border-white/30",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Performance Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2448,columnNumber:23},this),e.jsxDEV("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(a.overall_progress>=80?"bg-green-100 text-green-700":a.overall_progress>=60?"bg-yellow-100 text-yellow-700":a.overall_progress>=40?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"),children:a.overall_progress>=80?"Excellent":a.overall_progress>=60?"Good":a.overall_progress>=40?"Average":"Needs Support"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2449,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2447,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2446,columnNumber:19},this),e.jsxDEV("div",{className:"bg-white/60 rounded-lg p-3 border border-white/30",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Learning Consistency"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2474,columnNumber:23},this),e.jsxDEV("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(a.streak_days>=7?"bg-green-100 text-green-700":a.streak_days>=3?"bg-yellow-100 text-yellow-700":"bg-orange-100 text-orange-700"),children:a.streak_days>=7?"Excellent":a.streak_days>=3?"Good":"Can Improve"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2477,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2473,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2472,columnNumber:19},this),a.achievements&&a.achievements.length>0&&e.jsxDEV("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-3 border border-yellow-200",children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("span",{className:"text-lg",children:a.achievements[0].icon},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2499,columnNumber:25},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm font-medium text-yellow-800 truncate",children:a.achievements[0].title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2501,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-yellow-700",children:"Latest Achievement"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2504,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2500,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2498,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2497,columnNumber:21},this),e.jsxDEV("div",{className:"bg-white/60 rounded-lg p-3 border border-white/30",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Weekly Study Goal"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2513,columnNumber:23},this),e.jsxDEV("span",{className:"text-xs text-gray-600",children:[Math.round(a.learning_time.weekly/300*100),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2514,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2512,columnNumber:21},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,a.learning_time.weekly/300*100)}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2519,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2518,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Target: 300 minutes/week"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2526,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2511,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2444,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2439,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2386,columnNumber:13},this)]},a.student_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2319,columnNumber:11},this)),0===a.length&&e.jsxDEV(r.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},children:[e.jsxDEV(va,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2541,columnNumber:13},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Children Added"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2542,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600",children:"Add your first child to see detailed analytics and insights."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2543,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2535,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2316,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2250,columnNumber:5},this)}function wi({user:s,parentProfile:r,children:i}){const[t,o]=a.useState(!1),n=s&&r?{id:s.id,email:s.email,full_name:s.full_name,role:s.role,phone:r.phone,date_of_birth:r.date_of_birth,address_line_1:r.address_line_1,address_line_2:r.address_line_2,city:r.city,state:r.state,zip_code:r.zip_code,country:r.country,student_id:null,teacher_code:null,grade:null,emergency_contact:null,preferences:{},created_at:"",updated_at:""}:null;return e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"text-center mb-6 sm:mb-8 lg:mb-10",children:[e.jsxDEV("h2",{className:"text-base sm:text-lg lg:text-3xl font-bold bg-gradient-to-r from-gray-600 to-slate-600 bg-clip-text text-transparent",children:"My Profile ðŸ‘¤"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2598,columnNumber:9},this),e.jsxDEV("p",{className:"text-xs sm:text-sm lg:text-base text-gray-600 mt-2",children:"Manage your account preferences and information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2601,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2597,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl shadow-lg p-4 sm:p-6 lg:p-8 border border-white/20",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 sm:mb-6 gap-2 flex-wrap",children:[e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4",children:[e.jsxDEV(ga,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-gray-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2610,columnNumber:13},this),e.jsxDEV("h3",{className:"text-sm sm:text-base lg:text-xl font-semibold text-gray-900",children:"Account Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2611,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2609,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg hover:shadow-lg transition-all duration-300 flex items-center gap-1 sm:gap-2 text-xs sm:text-sm whitespace-nowrap cursor-pointer",children:[e.jsxDEV("span",{children:"âœï¸"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2619,columnNumber:13},this),e.jsxDEV("span",{children:"Edit"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2620,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2615,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2608,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Personal Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2626,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2631,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-900",children:s?.full_name||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2632,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2630,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Email"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2635,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-900",children:s?.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2636,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2634,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Role"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2639,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-900 capitalize",children:s?.role||"Parent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2640,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2638,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Phone"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2643,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-900",children:r?.phone||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2644,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2642,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2647,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-900",children:r?.date_of_birth?new Date(r.date_of_birth).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2648,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2646,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2629,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2625,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Address Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2662,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Street Address"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2667,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-900",children:r?.address_line_1||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2668,columnNumber:17},this),r?.address_line_2&&e.jsxDEV("p",{className:"text-gray-900",children:r.address_line_2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2670,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2666,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[r?.city&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"City"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2677,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:r.city},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2678,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2676,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"State"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2682,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-900",children:r?.state&&r?.country?As(r.country,r.state)||r.state:"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2683,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2681,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2673,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"ZIP Code"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2693,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-900",children:r?.zip_code||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2694,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2692,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-500",children:"Country"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2697,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-900",children:r?.country?ks(r.country)||r.country:"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2698,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2696,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2691,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2665,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2661,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2623,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2607,columnNumber:7},this),e.jsxDEV("div",{children:e.jsxDEV(jr,{userId:s?.id||"",userRole:"parent",compactView:!1,showNotifications:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2712,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2711,columnNumber:7},this),e.jsxDEV("div",{className:"rounded-xl backdrop-blur-md bg-white/80 border border-white/20 shadow-lg p-6",children:[e.jsxDEV("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsxDEV(Ra,{className:"h-6 w-6 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2723,columnNumber:11},this),e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"GDPR Data Deletion & Privacy"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2724,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2722,columnNumber:9},this),e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(Oe,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2730,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Your Right to Data Deletion"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2732,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-blue-800 mb-2",children:"Under GDPR Article 17, you have the right to request deletion of personal data for yourself and your children. This includes personal information, enrollment data, attendance records, consent records, and compliance submissions."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2735,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-blue-800",children:"Note: Certificates may be anonymized rather than deleted for legal compliance."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2740,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2731,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2729,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2728,columnNumber:9},this),i.length>0&&e.jsxDEV("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-4 mb-6",children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(Ge,{className:"h-6 w-6 text-red-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2751,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-bold text-red-900 mb-2",children:"âš ï¸ CRITICAL WARNING - Parent Account Deletion"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2753,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-red-800 font-semibold mb-2",children:["If you request deletion of YOUR ACCOUNT (parent account), ALL ",i.length," ",1===i.length?"child account":"children accounts"," linked to you will be PERMANENTLY DELETED automatically."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2756,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-red-800",children:"This is irreversible. All children's data, enrollments, certificates, and progress will be lost forever. Please exercise utmost caution before requesting parent account deletion."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2761,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-red-700 mt-2 font-medium",children:"To delete only a specific child's account, use the individual deletion option for that child below."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2766,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2752,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2750,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2749,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-3 pb-3 border-b border-gray-200",children:[e.jsxDEV("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white font-semibold",children:(()=>{if(!s?.full_name)return"P";const e=s.full_name.trim().split(/\s+/);return e.length>1?(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase():e[0].charAt(0).toUpperCase()})()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2780,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h5",{className:"text-sm font-semibold text-gray-900",children:"Your Account"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2792,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:s?.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2793,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2791,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2779,columnNumber:13},this),e.jsxDEV(ai,{userId:s?.id||"",userRole:"parent",compactView:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2796,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2778,columnNumber:11},this),i.map(a=>{const r=a.full_name.trim().split(/\s+/),i=r.length>1?r[0].charAt(0)+r[r.length-1].charAt(0):r[0].charAt(0);return e.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-3 pb-3 border-b border-gray-200",children:[e.jsxDEV("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-sm",children:i.toUpperCase()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2814,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h5",{className:"text-sm font-semibold text-gray-900",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2818,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:a.display_student_id||`ID: ${a.student_id.slice(0,8)}`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2819,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2817,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2813,columnNumber:17},this),e.jsxDEV(ai,{userId:s?.id||"",userRole:"parent",targetUserId:a.student_id,targetUserName:a.full_name,compactView:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2824,columnNumber:17},this)]},a.student_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2809,columnNumber:15},this)})]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2776,columnNumber:9},this),0===i.length&&e.jsxDEV("div",{className:"text-center py-4 text-gray-500 mt-4 border-t border-gray-200",children:e.jsxDEV("p",{className:"text-sm",children:"No children accounts found."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2838,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2837,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2721,columnNumber:7},this),n&&e.jsxDEV(Ir,{isOpen:t,onClose:()=>o(!1),user:n,onUpdate:()=>{window.location.reload()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2845,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:2596,columnNumber:5},this)}const _i=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{show:t,Dialog:o}=function(){const[a,s]=m.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},confirmText:"Confirm",cancelText:"Cancel",variant:"danger"}),r=()=>s(e=>({...e,isOpen:!1})),i=e.jsxDEV(De,{isOpen:a.isOpen,title:a.title,message:a.message,confirmText:a.confirmText,cancelText:a.cancelText,onConfirm:()=>{a.onConfirm(),r()},onCancel:r,variant:a.variant},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/hooks/useConfirmDialog.tsx",lineNumber:26,columnNumber:5},this);return{show:e=>{s({...a,...e,isOpen:!0})},hide:r,Dialog:i}}(),{user:n,canAccess:l}=y(),[c,d]=a.useState("home"),[u,h]=a.useState([]),[b,g]=a.useState([]),[N,S]=a.useState(!1),[v,T]=a.useState(!1),[P,E]=a.useState(!1),[I,H]=a.useState(null),[V,W]=a.useState(!1),[w,_]=a.useState(!1),[C,M]=a.useState(null),[k,A]=a.useState(null),[R,F]=a.useState(!1),[B,q]=a.useState(null),[L,G]=a.useState(new Map),[U,z]=a.useState(!0),[$,Y]=a.useState(null),[K,J]=a.useState({totalChildren:0,activeEnrollments:0,completedCourses:0,certificatesEarned:0,weeklyProgress:0,monthlySpending:0,upcomingEvents:0,totalLearningHours:0}),ee=a.useCallback(async()=>{try{J({totalChildren:u.length,activeEnrollments:u.reduce((e,a)=>e+(a.enrolled_courses?.length||0),0),completedCourses:u.reduce((e,a)=>e+(a.enrolled_courses?.filter(e=>100===e.progress).length||0),0),certificatesEarned:u.reduce((e,a)=>e+(a.achievements?.length||0),0),weeklyProgress:u.length>0?Math.round(u.reduce((e,a)=>e+(a.learning_time?.weekly||0)/7,0)/u.length*10):0,monthlySpending:0,upcomingEvents:0,totalLearningHours:u.reduce((e,a)=>e+(a.learning_time?.monthly||0),0)})}catch{s.error("Failed to load dashboard data")}finally{z(!1)}},[u]),re=a.useCallback(async()=>{if(n?.id)try{const e=await f(n.id);if(e){const a=e;Y({id:a.id,full_name:a.full_name,phone:a.phone||void 0,date_of_birth:e.date_of_birth||void 0,address_line_1:a.address_line_1||void 0,address_line_2:a.address_line_2||void 0,city:a.city||void 0,state:a.state||void 0,zip_code:a.zip_code||void 0,country:a.country||void 0})}}catch{}},[n?.id]),te=a.useCallback(async()=>{if(n?.id)try{const e=await Qs(n.id),a=await Promise.all(e.map(async e=>{let a=0;if(e.age)a=e.age;else if(e.date_of_birth){const s=new Date(e.date_of_birth),r=new Date;a=r.getFullYear()-s.getFullYear();const i=r.getMonth()-s.getMonth();(i<0||0===i&&r.getDate()<s.getDate())&&a--}const s=await ye(e.id),r=await ve(e.id),i=await j(e.id),t=s.map(e=>{let a=0,s=0;const t=e.course?.id||e.course_id,o=i.find(e=>e.courses.some(e=>e.courses.id===t));a=void 0!==r[t]?r[t]:o?o.progress_percentage:"completed"===e.status?100:(e.status,0),s=a;const n=e.course?.duration_weeks||0,l=n>0?Math.floor(a/100*n):0,c=new Date(e.enrolled_at),m=new Date(c.getTime()+7*(e.course?.duration_weeks||4)*24*60*60*1e3),d=o?{batch_id:o.batch.id,batch_name:o.batch.name,is_in_batch:!0}:void 0;return{id:e.course?.id||e.course_id,title:e.course?.title||"Unknown Course",subject:e.course?.gurukul?.name||"General",level:e.course?.level||"basic",progress:a,total_lessons:n,completed_lessons:l,current_grade:s,enrollment_date:c.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),estimated_completion_date:m.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),difficulty:oe(e.course?.level||"basic"),batch_info:d}}),o=i.map(e=>({batch_name:e.batch.name,batch_id:e.batch.id,course_title:e.courses.length>0?e.courses[0].courses.title:"No Course",progress_percentage:e.progress_percentage,completed_weeks:e.completed_weeks,total_weeks:e.total_weeks,start_date:e.batch.start_date,end_date:e.batch.end_date,status:e.batch.status})),n=t.length>0?Math.round(t.reduce((e,a)=>e+a.progress,0)/t.length):0;return{student_id:e.id,display_student_id:e.student_id,full_name:e.full_name||"Unknown",age:a,grade:e.grade||"Not Set",email:e.email||"",avatar:a<10?"ðŸ‘¶":a<15?"ðŸ§’":"ðŸ‘¤",overall_progress:n,streak_days:0,learning_time:{daily:0,weekly:0,monthly:0},enrolled_courses:t,recent_activity:[],achievements:[],batch_progress:o,address_line_1:e.address_line_1||"",address_line_2:e.address_line_2||"",city:e.city||"",state:e.state||"",zip_code:e.zip_code||"",country:e.country||"",phone:e.phone||"",date_of_birth:e.date_of_birth||""}}));h(a);const s=await Promise.all(a.map(e=>Ar(e.student_id))),r=new Map;s.forEach(e=>{e&&r.set(e.student_id,e)}),G(r)}catch{s.error("Failed to load children")}},[n?.id]),oe=e=>{switch(e){case"elementary":case"basic":default:return"Beginner";case"intermediate":return"Intermediate";case"advanced":return"Advanced"}},ne=a.useCallback(async()=>{try{S(!0);const e=(await X()).map(e=>({id:e.id,title:e.title,subject:e.gurukul?.name||"General",description:e.description||"",difficulty:oe(e.level),duration:`${e.duration_weeks} weeks`,price:e.price||0,instructor:e.teacher?.full_name||"Instructor",rating:4.5}));g(e)}catch{s.error("Failed to load courses"),g([])}finally{S(!1)}},[]);a.useEffect(()=>{n?.id?(ee(),te(),re()):z(!1)},[n?.id,ee,te,re]),a.useEffect(()=>{ne()},[ne]);const{greeting:le,icon:ce}=(()=>{const e=(new Date).getHours();return e<12?{greeting:"Good morning",icon:Na}:e<18?{greeting:"Good afternoon",icon:Na}:{greeting:"Good evening",icon:xa}})(),de=[{id:"home",name:"Dashboard",icon:la,description:"Family Learning Hub",gradient:"from-blue-500 to-purple-600",available:l("dashboard","read")},{id:"children",name:"My Children",icon:va,description:"Manage your children",gradient:"from-green-500 to-teal-600",badge:K.totalChildren>0?K.totalChildren:void 0,available:l("students","read")},{id:"enrollments",name:"Enrollments",icon:ma,description:"Course enrollments & progress",gradient:"from-blue-500 to-indigo-600",badge:K.activeEnrollments>0?K.activeEnrollments:void 0,available:l("enrollments","read")},{id:"progress",name:"Progress Reports",icon:ra,description:"Learning analytics & insights",gradient:"from-purple-500 to-pink-600",available:l("certificates","read")},{id:"attendance",name:"Attendance",icon:ha,description:"View your children's attendance",gradient:"from-teal-500 to-cyan-600",available:l("batches","read")},{id:"analytics",name:"Analytics",icon:na,description:"Detailed performance metrics",gradient:"from-yellow-500 to-orange-600",available:l("batches","read")},{id:"profile",name:"Profile",icon:ga,description:"Account & preferences",gradient:"from-gray-500 to-gray-600",available:l("settings","view")}];return U?e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center pt-6 lg:pt-8",children:e.jsxDEV(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-4 sm:p-6 lg:p-8 shadow-2xl border border-white/20",children:[e.jsxDEV(r.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-6 border-4 border-blue-200 border-t-blue-600 rounded-full"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:783,columnNumber:11},this),e.jsxDEV(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Loading Dashboard"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:793,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600",children:"Preparing your family workspace..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:794,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:788,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:777,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:776,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 pt-0",children:[e.jsxDEV("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsxDEV(r.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:804,columnNumber:9},this),e.jsxDEV(r.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.5,.3,.5]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:816,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:803,columnNumber:7},this),e.jsxDEV(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/80 backdrop-blur-xl border-b border-white/20 sticky top-0 z-40 shadow-lg",children:e.jsxDEV("div",{className:"w-full px-3 sm:px-4 lg:px-6 py-3 sm:py-4 lg:py-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between gap-3 sm:gap-4",children:[e.jsxDEV(r.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 rounded-lg sm:rounded-xl lg:rounded-2xl flex items-center justify-center shadow-xl flex-shrink-0",children:e.jsxDEV(va,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:844,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:838,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex items-center gap-2 mb-1",children:[e.jsxDEV(ce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-500 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:853,columnNumber:17},this),e.jsxDEV("h1",{className:"text-base sm:text-lg lg:text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-700 bg-clip-text text-transparent truncate",children:[le,", ",n?.full_name||"Parent","!"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:854,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:847,columnNumber:15},this),e.jsxDEV(r.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-xs sm:text-sm text-gray-600 font-medium truncate",children:"Managing your family's learning journey"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:858,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:846,columnNumber:13},this),e.jsxDEV("div",{className:"hidden sm:flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[e.jsxDEV(r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6,type:"spring",stiffness:200},children:e.jsxDEV(Lr,{topics:zr,title:"Parents Dashboard Help",description:"Learn how to manage your children's learning journey and track their progress",showKeyboardHint:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:873,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:868,columnNumber:15},this),e.jsxDEV(r.button,{onClick:()=>{W(!0)},className:"p-2 sm:p-3 rounded-lg sm:rounded-xl bg-white/60 hover:bg-white/80 backdrop-blur-sm border border-white/30 text-gray-700 transition-all duration-200 shadow-lg hover:shadow-xl cursor-pointer",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:e.jsxDEV(ga,{className:"h-4 w-4 sm:h-5 sm:w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:888,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:880,columnNumber:15},this),e.jsxDEV(r.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg sm:rounded-xl flex items-center justify-center text-white font-bold shadow-lg text-xs sm:text-sm",children:n?.full_name?.[0]||"P"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:890,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:867,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:837,columnNumber:11},this),e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-3 sm:mt-4 lg:mt-8 w-full relative",children:[e.jsxDEV("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-gray-100 to-transparent pointer-events-none sm:hidden z-10 rounded-r-lg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:909,columnNumber:13},this),e.jsxDEV("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400",children:e.jsxDEV("div",{className:"flex gap-2 sm:gap-3 lg:gap-4 bg-white/50 backdrop-blur-sm p-2 sm:p-3 lg:p-4 rounded-lg sm:rounded-xl lg:rounded-2xl border border-white/20 shadow-lg min-w-min",children:de.filter(e=>e.available).map((a,s)=>e.jsxDEV(r.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.9+.1*s},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>{d(a.id),window.scrollTo({top:0,behavior:"smooth"})},title:a.name,className:"relative flex items-center justify-center gap-2 px-3 sm:px-4 lg:px-5 py-2 sm:py-2.5 lg:py-3 rounded-lg sm:rounded-lg lg:rounded-xl font-semibold text-xs sm:text-sm lg:text-sm transition-all duration-300 cursor-pointer whitespace-nowrap min-h-[44px] "+(c===a.id?"bg-gradient-to-r from-purple-500 to-pink-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-white/80 hover:shadow-md"),children:[e.jsxDEV(a.icon,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5 lg:h-5 lg:w-5 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:943,columnNumber:23},this),e.jsxDEV("span",{className:"hidden sm:inline",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:944,columnNumber:23},this),a.badge&&e.jsxDEV(r.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center shadow-lg",children:a.badge},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:946,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:915,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:911,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:910,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:902,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:836,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:830,columnNumber:7},this),e.jsxDEV("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-10 max-w-7xl mx-auto",children:e.jsxDEV(i,{mode:"wait",children:e.jsxDEV(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:["home"===c&&e.jsxDEV(Ei,{stats:K,children:u,courses:b,coursesLoading:N,canAccess:l,onAddChild:()=>T(!0),onCourseEnrollment:e=>{0!==u.length?(M(e),_(!0)):s.error("Please add a child first before enrolling in courses")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:974,columnNumber:15},this),"children"===c&&e.jsxDEV(Ii,{children:u,onAddChild:()=>T(!0),onEditChild:async e=>{try{const a=u.find(a=>a.student_id===e);if(!a)return;H(a),E(!0)}catch{s.error("Failed to open edit modal")}},onDeleteChild:async e=>{const a=u.find(a=>a.student_id===e);a&&t({title:"Delete Child",message:`Are you sure you want to remove ${a.full_name}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",onConfirm:async()=>{try{await Zs(e),h(a=>a.filter(a=>a.student_id!==e)),s.success(`${a.full_name} has been removed`),ee()}catch{s.error("Failed to delete child")}}})},onManageConsent:e=>{q(e),F(!0)},childConsents:L},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:985,columnNumber:15},this),"enrollments"===c&&e.jsxDEV(Hi,{children:u},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:997,columnNumber:45},this),"progress"===c&&e.jsxDEV(Vi,{children:u,stats:K},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:998,columnNumber:42},this),"attendance"===c&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV(me,{children:"Select Child"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1003,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1002,columnNumber:19},this),e.jsxDEV(ie,{children:e.jsxDEV("select",{value:k||"",onChange:e=>A(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsxDEV("option",{value:"",children:"Select a child..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1011,columnNumber:23},this),u.map(a=>e.jsxDEV("option",{value:a.student_id,children:a.full_name||a.email},a.student_id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1013,columnNumber:25},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1006,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1005,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1001,columnNumber:17},this),k&&e.jsxDEV(Mr,{studentId:k},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1021,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1e3,columnNumber:15},this),"analytics"===c&&e.jsxDEV(Wi,{children:u,stats:K},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1025,columnNumber:43},this),"profile"===c&&e.jsxDEV(wi,{user:n,parentProfile:$,children:u},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1027,columnNumber:15},this)]},c,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:965,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:964,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:962,columnNumber:7},this),v&&e.jsxDEV(Pi,{isOpen:v,onClose:()=>T(!1),onAddChild:async e=>{if(n?.id)try{const a={id:n.id,email:n.email||"",name:n.full_name||n.email||"Unknown",role:n.role||"parent"},r=await Js({full_name:e.fullName,date_of_birth:e.date_of_birth,grade:e.grade,parent_id:n.id,phone:e.phone,address_line_1:e.address.address_line_1,city:e.address.city,state:e.address.state,zip_code:e.address.zip_code,country:e.address.country},a),i=new Date(e.date_of_birth),t=new Date;let o=t.getFullYear()-i.getFullYear();const l=t.getMonth()-i.getMonth();(l<0||0===l&&t.getDate()<i.getDate())&&o--;const c={student_id:r.student_id||`temp-${Date.now()}`,full_name:r.full_name||e.fullName,age:o,grade:e.grade,avatar:o<10?"ðŸ‘¶":o<15?"ðŸ§’":"ðŸ‘¤",overall_progress:0,streak_days:0,learning_time:{daily:0,weekly:0,monthly:0},enrolled_courses:[],recent_activity:[],achievements:[]};h(e=>[...e,c]),T(!1),s.success(`${e.fullName} has been added successfully!`),ee()}catch{s.error("Failed to add child. Please try again.")}else s.error("User not authenticated")},parentInfo:{address:{street:$?.address_line_1||"",city:$?.city||"",state:$?.state||"",country:$?.country||"United States",postal_code:$?.zip_code||""},phone:$?.phone||n?.phone||void 0}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1034,columnNumber:9},this),P&&I&&e.jsxDEV(Pi,{isOpen:P,onClose:()=>{E(!1),H(null)},onAddChild:async e=>{try{if(!I||!n?.id)return;const a={id:n.id,email:n.email||"",name:n.full_name||n.email||"Unknown",role:n.role||"parent"};await async function(e,a,s){try{let i=O;const{data:t}=await i.from("profiles").select("*").eq("id",e).single();let o=a.age;if(a.date_of_birth){const e=new Date(a.date_of_birth),s=new Date;o=s.getFullYear()-e.getFullYear();const r=s.getMonth()-e.getMonth();(r<0||0===r&&s.getDate()<e.getDate())&&o--}let n=a.country||null,l=a.state||null;n&&(n=x(n),l&&(l=p(l,n)));const c={full_name:a.full_name,date_of_birth:a.date_of_birth,age:o,grade:a.grade,email:a.email,phone:a.phone||null,address_line_1:a.address_line_1||null,address_line_2:a.address_line_2||null,city:a.city||null,state:l,zip_code:a.zip_code||null,country:n},m=Z(c),{data:d,error:u}=await i.from("profiles").update(m).eq("id",e).select().single();if(u)throw new Error(`Failed to update child profile: ${u.message}`);if(s&&t)try{const a=Q(t);await D("profiles",e,a,c,s,"UPDATE")}catch(r){console.error("Failed to log audit trail for child update:",r)}return Q(d)}catch(i){throw i}}(I.student_id,{full_name:e.fullName,date_of_birth:e.date_of_birth,grade:e.grade,email:e.email,phone:e.phone,address_line_1:e.address.address_line_1,city:e.address.city,state:e.address.state,zip_code:e.address.zip_code,country:e.address.country},a),h(a=>a.map(a=>a.student_id===I.student_id?{...a,full_name:e.fullName,grade:e.grade,email:e.email}:a)),E(!1),H(null),s.success(`${e.fullName} updated successfully!`)}catch{s.error("Failed to update child")}},isEditMode:!0,initialData:{fullName:I.full_name,date_of_birth:I.date_of_birth||"",grade:I.grade,email:I.email||"",phone:I.phone||"",address:{address_line_1:I.address_line_1||"",address_line_2:I.address_line_2||"",city:I.city||"",state:I.state||"",zip_code:I.zip_code||"",country:I.country||"United States"}},parentInfo:{address:{street:$?.address_line_1||"",city:$?.city||"",state:$?.state||"",country:$?.country||"United States",postal_code:$?.zip_code||""},phone:$?.phone||n?.phone||void 0}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1051,columnNumber:9},this),V&&n&&$&&e.jsxDEV(Ir,{isOpen:V,onClose:()=>W(!1),user:{...n,phone:$.phone,address_line_1:$.address_line_1,address_line_2:$.address_line_2,city:$.city,state:$.state,zip_code:$.zip_code,country:$.country},onUpdate:()=>{window.location.reload()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1087,columnNumber:9},this),R&&B&&n&&e.jsxDEV(Fr,{studentId:B.student_id,studentName:B.full_name,consentedBy:n.id,currentConsent:L.get(B.student_id)||null,onClose:()=>{F(!1),q(null)},onSuccess:()=>{F(!1),q(null),te()},isParent:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1111,columnNumber:9},this),w&&C&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:"Select Child for Enrollment"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1138,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsxDEV("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1144,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1143,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1139,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1137,columnNumber:13},this),e.jsxDEV("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[e.jsxDEV("h4",{className:"font-semibold text-blue-900",children:C.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1154,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-blue-700",children:[C.subject," â€¢ ",C.difficulty]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1155,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-blue-600 mt-1",children:[he(C.price)," â€¢ ",C.duration]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1158,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1153,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:0===u.length?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV("p",{className:"text-gray-600 mb-4",children:"No children added yet."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1165,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>{_(!1),T(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 cursor-pointer",children:"Add Child First"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1166,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1164,columnNumber:17},this):u.map(a=>e.jsxDEV(r.button,{onClick:()=>(async e=>{if(!C)return;const a=u.find(a=>a.student_id===e);if(a)try{await je(C.id,a.student_id),s.success(`${a.full_name} has been enrolled in ${C.title}!`),te()}catch{s.error("Failed to enroll child in course. Please try again.")}finally{_(!1),M(null)}})(a.student_id),className:"w-full p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 text-left cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold mr-3",children:a.full_name.charAt(0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1186,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("h5",{className:"font-semibold text-gray-900",children:a.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1190,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:[a.grade," â€¢ Age ",a.age]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1191,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1189,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1185,columnNumber:21},this)},a.student_id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1178,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1162,columnNumber:13},this),e.jsxDEV("div",{className:"mt-6 flex justify-end",children:e.jsxDEV("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 cursor-pointer",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1201,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1200,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1131,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1130,columnNumber:9},this),e.jsxDEV(or,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:1212,columnNumber:7},this),o]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/pages/dashboard/parents/ParentsDashboard.tsx",lineNumber:801,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"})),Ci=async e=>{const a=(new TextEncoder).encode(e+"eyogi-salt-2024"),s=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(s)).map(e=>e.toString(16).padStart(2,"0")).join("")};function Mi(e){if(!e)return"";return`${e.toLowerCase().replace(/[^a-z]/g,"").substring(0,10)}${(new Date).getFullYear()}${Math.floor(1e3+9e3*Math.random())}@eyogi-student.com`}function ki(e){if(!e)return null;const a=new Date(e),s=new Date;let r=s.getFullYear()-a.getFullYear();const i=s.getMonth()-a.getMonth();return(i<0||0===i&&s.getDate()<a.getDate())&&r--,r>=0?r:null}const Ai=[{value:"admin",label:"Admin",color:"bg-purple-100 text-purple-800"},{value:"business_admin",label:"Business Admin",color:"bg-orange-100 text-orange-800"},{value:"parent",label:"Parent",color:"bg-yellow-100 text-yellow-800"},{value:"student",label:"Student",color:"bg-blue-100 text-blue-800"},{value:"teacher",label:"Teacher",color:"bg-green-100 text-green-800"}];function Ri({isOpen:r,onClose:i,onSuccess:t,user:o,mode:n}){const[l,c]=a.useState(!1),{currentUser:m,getUserRole:d}=F(),[u,h]=a.useState({email:"",password:"",full_name:"",role:"student",status:"pending_verification",date_of_birth:"",phone:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_email:"",emergency_contact_relationship:"",avatar_url:"",student_id:"",parent_id:"",address_line_1:"",address_line_2:"",city:"",state:"",zip_code:"",country:"",age:"",grade:""}),[b,g]=a.useState([]);a.useEffect(()=>{u.country?g(Cs(u.country)):g([])},[u.country]),a.useEffect(()=>{if("edit"!==n&&"view"!==n||!o)h({email:"",password:"",full_name:"",role:"student",status:"pending_verification",date_of_birth:"",phone:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_email:"",emergency_contact_relationship:"",avatar_url:"",student_id:"",parent_id:"",address_line_1:"",address_line_2:"",city:"",state:"",zip_code:"",country:"",age:"",grade:""});else{const e=Q(o);let a={name:"",phone:"",email:"",relationship:""};e?.emergency_contact&&"object"==typeof e.emergency_contact&&(a=e.emergency_contact);const s=e?.date_of_birth?String(e.date_of_birth).substring(0,10):"",r=s?ki(s):null;h({email:e?.email||"",password:"",full_name:e?.full_name||"",role:e?.role||"student",status:e?.status||"pending_verification",date_of_birth:s,phone:e?.phone||"",emergency_contact_name:a.name||"",emergency_contact_phone:a.phone||"",emergency_contact_email:a.email||"",emergency_contact_relationship:a.relationship||"",avatar_url:e?.avatar_url||"",student_id:e?.student_id||"",parent_id:e&&"parent_id"in e&&e.parent_id?String(e.parent_id):"",address_line_1:e?.address_line_1||"",address_line_2:e?.address_line_2||"",city:e?.city||"",state:e?.state||"",zip_code:e?.zip_code||"",country:e?.country||"",age:null!==r?String(r):"",grade:e?.grade||""})}},[n,o,r]);const N=e=>{const{name:a,value:s}=e.target;h(e=>{const r={...e,[a]:s};if("create"===n&&"full_name"===a&&s&&"student"===prevData.role&&(r.email=Mi(s)),"create"===n&&"role"===a&&"student"===s&&prevData.full_name&&(r.email=Mi(prevData.full_name)),"create"===n&&"role"===a&&"student"!==s&&prevData.email?.includes("@eyogi-student.com")&&(r.email=""),"date_of_birth"===a&&s){const e=ki(s);r.age=null!==e?String(e):""}return r})};if(!r)return null;const f="view"===n,S=f?"bg-gray-100 text-gray-500 cursor-not-allowed":"";return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("div",{className:"p-1 bg-blue-100 rounded",children:e.jsxDEV(Fa,{className:"h-3 w-3 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:470,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:469,columnNumber:13},this),e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:"create"===n?"Create New User":"edit"===n?"Edit User":"View User"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:472,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:468,columnNumber:11},this),e.jsxDEV("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded transition-colors cursor-pointer",style:{cursor:"pointer"},disabled:l,children:e.jsxDEV(Ma,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:482,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:476,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:467,columnNumber:9},this),e.jsxDEV("form",{onSubmit:f?void 0:async e=>{if(e.preventDefault(),u.email?"create"!==n||u.password?u.full_name?u.country?u.state?u.email&&!/\S+@\S+\.\S+/.test(u.email)?(s.error("Please enter a valid email address"),0):!("create"===n&&u.password&&u.password.length<6&&(s.error("Password must be at least 6 characters long"),1)):(s.error("State/Province is required"),0):(s.error("Country is required"),0):(s.error("Full name is required"),0):(s.error("Password is required for new users"),0):(s.error("Email is required"),0)){c(!0);try{if("create"===n){const{data:e,error:a}=await O.auth.admin.createUser({email:u.email,password:u.password,email_confirm:!0});if(a)throw new Error(`Authentication error: ${a.message}`);if(!e.user)throw new Error("Failed to create user account");const r=x(u.country),i=p(u.state,r),t=await B(u.role,r,i),o={name:u.emergency_contact_name||null,phone:u.emergency_contact_phone||null,email:u.emergency_contact_email||null,relationship:u.emergency_contact_relationship||null},n={...{id:e.user.id,email:u.email,full_name:u.full_name,role:u.role,status:u.status||"active",date_of_birth:u.date_of_birth||null,phone:u.phone||null,emergency_contact:o,address_line_1:u.address_line_1||null,address_line_2:u.address_line_2||null,city:u.city||null,state:i||null,zip_code:u.zip_code||null,country:r||null,age:u.age?Number(u.age):null,grade:u.grade||null,password_hash:await Ci(u.password),created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},...t},l=Z(n),{error:c}=await O.from("profiles").insert([l]);if(c)throw await O.auth.admin.deleteUser(e.user.id),new Error(`Profile creation error: ${c.message}`);if(m){const a={id:m.id||"",email:m.email||"",name:m.full_name||m.email||"Unknown",role:d()||"admin"};await D("profiles",e.user.id,null,l,a,"CREATE")}s.success("User created successfully!")}else{const e=x(u.country),a=p(u.state,e),r={name:u.emergency_contact_name||null,phone:u.emergency_contact_phone||null,email:u.emergency_contact_email||null,relationship:u.emergency_contact_relationship||null},i={email:u.email,full_name:u.full_name,role:u.role,status:u.status||"pending_verification",date_of_birth:u.date_of_birth||null,phone:u.phone||null,emergency_contact:r,avatar_url:u.avatar_url||null,student_id:u.student_id||null,parent_id:u.parent_id||null,address_line_1:u.address_line_1||null,address_line_2:u.address_line_2||null,city:u.city||null,state:a||null,zip_code:u.zip_code||null,country:e||null,age:u.age?Number(u.age):null,grade:u.grade||null,updated_at:(new Date).toISOString()};u.password&&(i.password_hash=await Ci(u.password));const t=Z(i),{data:n}=await O.from("profiles").select("*").eq("id",o.id).single(),{data:l,error:c}=await O.from("profiles").update(t).eq("id",o.id).select().single();if(c)throw console.error("Profile update error:",c),new Error(`Update error: ${c.message}`);if(!l)throw console.error("No data returned after update for user:",o.id),new Error("Update failed: No data returned");if(m&&n){const e={id:m.id||"",email:m.email||"",name:m.full_name||m.email||"Unknown",role:d()||"admin"},a=Q(n);await D("profiles",o.id,a,i,e,"UPDATE")}s.success("User updated successfully!")}t(),i()}catch(a){"object"==typeof a&&a&&"message"in a?s.error(a.message||"An error occurred while saving the user"):s.error("An error occurred while saving the user")}finally{c(!1)}}},className:"p-4 max-h-[calc(90vh-120px)] overflow-y-auto",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[("create"===n||"edit"===n)&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[e.jsxDEV(Ba,{className:"h-3 w-3 inline mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:496,columnNumber:19},this),"Role *"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:495,columnNumber:17},this),e.jsxDEV("select",{name:"role",value:u.role,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,required:!0,disabled:f,children:Ai.map(a=>e.jsxDEV("option",{value:a.value,children:a.label},a.value,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:508,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:499,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:494,columnNumber:15},this),"create"!==n&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Email *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:518,columnNumber:17},this),e.jsxDEV("input",{type:"email",name:"email",value:u.email,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,required:!0,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:519,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:517,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Full Name *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:531,columnNumber:15},this),e.jsxDEV("input",{type:"text",name:"full_name",value:u.full_name,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,required:!0,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:532,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:530,columnNumber:13},this),("create"===n||"edit"===n)&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Password ","create"===n?"*":"(leave blank to keep current)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:544,columnNumber:17},this),e.jsxDEV("input",{type:"password",name:"password",value:u.password,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,placeholder:"create"===n?"Enter password":"Enter new password",required:"create"===n,minLength:6,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:547,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:543,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:561,columnNumber:15},this),e.jsxDEV("input",{type:"tel",name:"phone",value:u.phone,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400 ${S}`,placeholder:"+353 (123) 4567 890",disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:562,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:560,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date of Birth"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:573,columnNumber:15},this),e.jsxDEV("input",{type:"date",name:"date_of_birth",value:u.date_of_birth&&"null"!==u.date_of_birth?u.date_of_birth:"",onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:574,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:572,columnNumber:13},this),"student"===u.role&&e.jsxDEV(e.Fragment,{children:["edit"===n&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Student ID"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:593,columnNumber:21},this),e.jsxDEV("input",{type:"text",name:"student_id",value:u.student_id,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 ${S}`,disabled:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:596,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:592,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Grade"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:607,columnNumber:19},this),e.jsxDEV("input",{type:"text",name:"grade",value:u.grade,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:608,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:606,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:589,columnNumber:15},this),"parent"===u.role&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Parent ID"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:621,columnNumber:17},this),e.jsxDEV("input",{type:"text",name:"parent_id",value:u.parent_id,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:622,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:620,columnNumber:15},this),e.jsxDEV("div",{className:"md:col-span-2",children:e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Emergency Contact"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:635,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:634,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Contact Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:638,columnNumber:15},this),e.jsxDEV("input",{type:"text",name:"emergency_contact_name",value:u.emergency_contact_name,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,placeholder:"Full Name",disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:639,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:637,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Contact Phone"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:650,columnNumber:15},this),e.jsxDEV("input",{type:"tel",name:"emergency_contact_phone",value:u.emergency_contact_phone,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,placeholder:"+1234567890",disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:651,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:649,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Contact Email"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:662,columnNumber:15},this),e.jsxDEV("input",{type:"email",name:"emergency_contact_email",value:u.emergency_contact_email,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,placeholder:"email@example.com",disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:663,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:661,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Relationship"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:674,columnNumber:15},this),e.jsxDEV("input",{type:"text",name:"emergency_contact_relationship",value:u.emergency_contact_relationship,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,placeholder:"Parent, Guardian, Spouse, etc.",disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:675,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:673,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Avatar URL"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:686,columnNumber:15},this),e.jsxDEV("input",{type:"text",name:"avatar_url",value:u.avatar_url,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:687,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:685,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Age (Auto-calculated)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:697,columnNumber:15},this),e.jsxDEV("input",{type:"number",name:"age",value:u.age&&"null"!==u.age&&!isNaN(Number(u.age))?u.age:"",readOnly:!0,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded bg-gray-50 cursor-not-allowed",min:"0",max:"120",disabled:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:700,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:696,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:491,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Country ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:721,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:720,columnNumber:15},this),e.jsxDEV("select",{name:"country",value:u.country,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f,required:!0,children:[e.jsxDEV("option",{value:"",children:"Select Country"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:731,columnNumber:17},this),ws.map(a=>e.jsxDEV("option",{value:a.code,children:a.name},a.code,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:733,columnNumber:19},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:723,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:719,columnNumber:13},this),b.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["State/Province ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:743,columnNumber:34},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:742,columnNumber:17},this),e.jsxDEV("select",{name:"state",value:u.state,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f,required:!0,children:[e.jsxDEV("option",{value:"",children:"Select State/Province"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:753,columnNumber:19},this),b.map(a=>e.jsxDEV("option",{value:a.code,children:a.name},a.code,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:755,columnNumber:21},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:745,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:741,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"City"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:763,columnNumber:15},this),e.jsxDEV("input",{type:"text",name:"city",value:u.city,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:764,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:762,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Address Line 1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:774,columnNumber:15},this),e.jsxDEV("input",{type:"text",name:"address_line_1",value:u.address_line_1,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:775,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:773,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Address Line 2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:785,columnNumber:15},this),e.jsxDEV("input",{type:"text",name:"address_line_2",value:u.address_line_2,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:786,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:784,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Zip Code"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:796,columnNumber:15},this),e.jsxDEV("input",{type:"text",name:"zip_code",value:u.zip_code,onChange:N,className:`w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${S}`,disabled:f},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:797,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:795,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:718,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center justify-end space-x-2 pt-4 border-t border-gray-200 mt-4",children:e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{type:"button",onClick:i,className:"px-3 py-1.5 text-sm font-medium text-white bg-red-600 border border-red-600 rounded hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 cursor-pointer",style:{cursor:"pointer"},disabled:l,children:f?"Close":"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:811,columnNumber:15},this),!f&&e.jsxDEV("button",{type:"submit",disabled:l,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 border border-transparent rounded hover:bg-blue-700 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1 cursor-pointer",style:{cursor:"pointer"},children:l?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(qa,{className:"h-3 w-3 animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:829,columnNumber:23},this),e.jsxDEV("span",{children:"Saving..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:830,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:828,columnNumber:21},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(La,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:834,columnNumber:23},this),e.jsxDEV("span",{children:"create"===n?"Create":"Update"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:835,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:833,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:821,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:810,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:809,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:486,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:465,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/UserFormModal.tsx",lineNumber:464,columnNumber:5},this)}const Fi=({students:s,onClose:r,onSuccess:i})=>{const[t,o]=a.useState([]),[n,l]=a.useState([]),[c,m]=a.useState(""),[d,u]=a.useState(!0),[h,b]=a.useState(!1),{profile:g}=N(),{user:x}=y(),p=g?.id||x?.id;a.useEffect(()=>{D()},[]);const D=async()=>{u(!0);try{const e=(await T({is_active:!0})).filter(e=>"active"===e.status);o(e)}catch(e){console.error("Error fetching data:",e)}finally{u(!1)}},f=e=>{l(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},S=t.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.description&&e.description.toLowerCase().includes(c.toLowerCase())||e.gurukul?.name.toLowerCase().includes(c.toLowerCase())),v=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"completed":return"bg-blue-100 text-blue-800";case"archived":return"bg-yellow-100 text-yellow-800"}};return d?e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:e.jsxDEV("div",{className:"animate-pulse flex flex-col gap-4",children:[e.jsxDEV("div",{className:"h-6 bg-gray-200 rounded w-1/3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:110,columnNumber:15},void 0),e.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-1/2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:111,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[...Array(5)].map((a,s)=>e.jsxDEV("div",{className:"h-12 bg-gray-200 rounded"},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:114,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:112,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:109,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:108,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:107,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:106,columnNumber:7},void 0):e.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-300",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-500 to-purple-600",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-white",children:"Assign Students to Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-white/90",children:["Assigning ",s.length," student",1!==s.length?"s":""," to selected batches"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:128,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"text-white/80 hover:text-white",children:e.jsxDEV(Me,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:136,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:135,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:127,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Selected Students:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:143,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:s.map(a=>e.jsxDEV(oe,{className:"bg-blue-100 text-blue-800",children:a.full_name||a.email},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:146,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:144,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:142,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-medium",children:["Select Batches (",S.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:156,columnNumber:15},void 0),n.length>0&&e.jsxDEV(re,{onClick:async()=>{if(p&&0!==n.length){b(!0);try{await Promise.all(s.flatMap(e=>n.map(a=>C(a,e.id,p)))),l([]),i(),r()}catch(e){console.error("Error assigning batches:",e),alert("Failed to assign batches. Please try again.")}finally{b(!1)}}},disabled:h,className:"flex items-center gap-2",children:[e.jsxDEV(Da,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:165,columnNumber:19},void 0),e.jsxDEV("span",{children:h?"Assigning...":`Assign to ${n.length} Batch${1!==n.length?"es":""}`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:166,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:160,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:155,columnNumber:13},void 0),e.jsxDEV("div",{className:"relative mb-4",children:[e.jsxDEV(Ga,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:177,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:c,onChange:e=>m(e.target.value),placeholder:"Search batches...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:178,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:176,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2 max-h-96 overflow-y-auto",children:0===S.length?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:c?"No batches found matching your search.":"No active batches available to assign."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:189,columnNumber:17},void 0):S.map(a=>e.jsxDEV("div",{className:"flex items-center p-3 border rounded-lg cursor-pointer transition-colors "+(n.includes(a.id)?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),onClick:()=>f(a.id),children:[e.jsxDEV("input",{type:"checkbox",checked:n.includes(a.id),onChange:()=>f(a.id),className:"mr-3 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:205,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"font-medium",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:212,columnNumber:23},void 0),a.description&&e.jsxDEV("div",{className:"text-sm text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:te(a.description)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:214,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxDEV(oe,{className:v(a.status),children:a.status},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:220,columnNumber:25},void 0),a.gurukul&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:a.gurukul.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:222,columnNumber:27},void 0),a.start_date&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:["Starts: ",new Date(a.start_date).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:225,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:219,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:["Max students: ",a.max_students||"Unlimited"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:230,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:211,columnNumber:21},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:196,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:154,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end gap-3 pt-6 border-t mt-6",children:e.jsxDEV(re,{variant:"outline",onClick:r,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:241,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:240,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:140,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:126,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BulkBatchAssignmentModal.tsx",lineNumber:125,columnNumber:5},void 0)},Bi=({isOpen:s,onClose:r})=>{const{user:i,signOut:t}=N(),{canAccessResource:o,canShowInMenu:n,getUserRole:l,currentUser:c,isSuperAdminRole:m}=F(),[u,h]=a.useState(!1),b=[{name:"Dashboard",href:"/admin/dashboard",icon:la,permission:{resource:"dashboard",action:"read"}},{name:"Users",href:"/admin/users",icon:va,permission:{resource:"users",action:"read"},adminOnly:!0},{name:"Students",href:"/admin/students",icon:da,permission:{resource:"users",action:"read"}},{name:"Teachers",href:"/admin/teachers",icon:pa,permission:{resource:"users",action:"read"}},{name:"Courses",href:"/admin/courses",icon:ca,permission:{resource:"courses",action:"read"}},{name:"Course Assignments",href:"/admin/course-assignments",icon:pa,permission:{resource:"assignments",action:"read"}},{name:"Gurukuls",href:"/admin/gurukuls",icon:Ua,permission:{resource:"gurukuls",action:"read"}},{name:"Enrollments",href:"/admin/enrollments",icon:ma,permission:{resource:"enrollments",action:"read"}},{name:"Certificates",href:"/admin/certificates",icon:za,permission:{resource:"certificates",action:"read"}},{name:"CMS",href:"/admin/content",icon:za,permission:{resource:"content",action:"read"}},{name:"Media",href:"/admin/media",icon:Ha,permission:{resource:"media",action:"read"}},{name:"Batch Management",href:"/admin/batches",icon:ua,permission:{resource:"batches",action:"read"}},{name:"Analytics",href:"/admin/analytics",icon:ra,permission:{resource:"analytics",action:"read"},adminOnly:!0},{name:"Compliance",href:"/admin/compliance",icon:Ea,permission:{resource:"compliance",action:"read"},adminOnly:!0},{name:"Invoice",href:"/admin/invoice",icon:ze,permission:{resource:"invoice",action:"read"},adminOnly:!0},{name:"Payment",href:"/admin/payment",icon:Oa,permission:{resource:"payment",action:"read"},adminOnly:!0},{name:"Permissions",href:"/admin/permissions",icon:ta,permission:{resource:"permissions",action:"read"},adminOnly:!0},{name:"GDPR Requests",href:"/admin/gdpr",icon:Ra,permission:{resource:"compliance",action:"read"},adminOnly:!0},{name:"Audit Trail",href:"/admin/audit-trail",icon:Ye,permission:{resource:"compliance",action:"read"},adminOnly:!0}].filter(e=>{const a=l();if("admin"===a||"super_admin"===a)return!0;if(e.permission){return!!o(e.permission.resource,e.permission.action)&&n(e.permission.resource,e.permission.action)}return!e.adminOnly});return e.jsxDEV(e.Fragment,{children:[s&&e.jsxDEV("div",{className:"fixed inset-0 z-40 lg:hidden",children:e.jsxDEV("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:r},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:196,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:195,columnNumber:9},void 0),e.jsxDEV("div",{className:`\n        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out flex flex-col\n        ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}\n      `,children:[e.jsxDEV("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 flex-shrink-0",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"relative",children:e.jsxDEV("img",{src:"/ssh-app/Images/SSH_Logo.png",alt:"SSH University",className:"h-10 w-10 lg:h-12 lg:w-12 object-contain"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:211,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:210,columnNumber:13},void 0),e.jsxDEV("div",{className:"hidden sm:block",children:[e.jsxDEV("h1",{className:"text-lg lg:text-xl font-bold bg-gradient-to-r from-orange-400 to-red-500 bg-clip-text text-transparent",children:"SSH University"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:219,columnNumber:15},void 0),e.jsxDEV("h2",{className:"text-sm lg:text-base font-medium text-gray-600",children:"eYogi Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:222,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:218,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:208,columnNumber:11},void 0),e.jsxDEV("button",{type:"button",className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:r,children:e.jsxDEV(Me,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:230,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:225,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:207,columnNumber:9},void 0),e.jsxDEV("nav",{className:"flex-1 overflow-y-auto px-4 py-6",children:e.jsxDEV("div",{className:"space-y-1",children:b.map(a=>e.jsxDEV(d,{to:a.href,onClick:r,className:({isActive:e})=>"group flex items-center px-3 py-2 text-sm font-medium rounded-md "+(e?"bg-blue-50 border-r-2 border-blue-500 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[e.jsxDEV(a.icon,{className:"mr-3 h-5 w-5 flex-shrink-0","aria-hidden":"true"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:250,columnNumber:17},void 0),a.name]},a.name,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:238,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:236,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:235,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-shrink-0 w-full p-4 border-t border-gray-200 bg-white",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white text-sm font-medium",children:c?.full_name?.charAt(0)||i?.email?.charAt(0)?.toUpperCase()||"A"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:262,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:261,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:260,columnNumber:15},void 0),e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:c?.full_name||i?.email?.split("@")[0]||"Admin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:270,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:(()=>{if(m())return"Super Admin";const e=l();if(!e)return"Admin";return e.replace("_"," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")})()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:273,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:269,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:259,columnNumber:13},void 0),e.jsxDEV("button",{onClick:async()=>{if(!u){h(!0);try{await t()}catch{h(!1)}}},disabled:u,className:"p-1 rounded-md transition-colors "+(u?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-red-600 hover:bg-red-50"),title:u?"Signing out...":"Sign out",children:u?e.jsxDEV("div",{className:"h-5 w-5 border-2 border-gray-300 border-t-red-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:298,columnNumber:17},void 0):e.jsxDEV($a,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:300,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:287,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:258,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:257,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:200,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminSidebar.tsx",lineNumber:192,columnNumber:5},void 0)},qi=[{path:"/admin",title:"Dashboard"},{path:"/admin/dashboard",title:"Dashboard"},{path:"/admin/users",title:"User Management"},{path:"/admin/students",title:"Student Management"},{path:"/admin/teachers",title:"Teacher Management"},{path:"/admin/courses",title:"Course Management"},{path:"/admin/course-assignments",title:"Course Assignment Management"},{path:"/admin/enrollments",title:"Enrollment Management"},{path:"/admin/certificates",title:"Certificate Management"},{path:"/admin/content",title:"Content Management"},{path:"/admin/batches",title:"Batch Management"},{path:"/admin/analytics",title:"Analytics"},{path:"/admin/permissions",title:"Permission Management"},{path:"/admin/settings",title:"System Settings"},{path:"/admin/assignments",title:"Course Assignment Management"},{path:"/admin/gurukuls",title:"Gurukul Management"},{path:"/admin/media",title:"Media Management"},{path:"/admin/compliance",title:"Compliance Management"},{path:"/admin/invoice",title:"Invoice Management"},{path:"/admin/payment",title:"Payment Management"},{path:"/admin/gdpr",title:"GDPR Deletion Management"},{path:"/admin/audit-trail",title:"Audit Trail"}],Li=({onMenuClick:s})=>{const{fullTitle:r}=(()=>{const e=u(),s=a.useMemo(()=>{const a=e.pathname,s=qi.find(e=>e.path===a);if(s)return s.title;const r=qi.find(e=>a.startsWith(e.path)&&"/admin"!==e.path);return r?r.title:"Dashboard"},[e.pathname]);return{pageTitle:s,fullTitle:`eYogi Gurukul Admin - ${s}`,baseName:"eYogi Gurukul Admin"}})();return e.jsxDEV("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("button",{type:"button",className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 cursor-pointer",onClick:s,children:e.jsxDEV(Ya,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:22,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:17,columnNumber:11},void 0),e.jsxDEV("div",{className:"ml-4 lg:ml-0",children:e.jsxDEV("h1",{className:"text-2xl font-semibold text-gray-900",children:r},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:25,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:24,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:16,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV(Lr,{topics:Or,title:"Admin Dashboard Help",description:"Learn how to manage users, courses, enrollments, analytics, and more",showKeyboardHint:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:31,columnNumber:11},void 0),e.jsxDEV("button",{type:"button",className:"p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 relative",children:[e.jsxDEV(Qe,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:42,columnNumber:13},void 0),e.jsxDEV("span",{className:"absolute top-1 right-1 block h-2 w-2 rounded-full bg-red-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:43,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:38,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:14,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminHeaderNew.tsx",lineNumber:13,columnNumber:5},void 0)};function Gi(){const[s,r]=a.useState(!1);return a.useEffect(()=>{},[]),s?e.jsxDEV("div",{className:"bg-red-600 text-white px-4 py-3 shadow-lg",children:e.jsxDEV("div",{className:"container mx-auto flex items-start gap-3",children:[e.jsxDEV(Ka,{className:"w-6 h-6 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:28,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"font-bold text-lg mb-1",children:"âš ï¸ Encryption Configuration Error"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:30,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm mb-2",children:[e.jsxDEV("strong",{children:"VITE_ENCRYPTION_KEY"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:32,columnNumber:13},this)," environment variable is not set. All encrypted user data will display as encrypted text."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:31,columnNumber:11},this),e.jsxDEV("div",{className:"text-xs bg-red-700 rounded p-2 font-mono",children:[e.jsxDEV("div",{className:"font-semibold mb-1",children:"Required Action:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:36,columnNumber:13},this),e.jsxDEV("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxDEV("li",{children:["Add ",e.jsxDEV("strong",{children:"VITE_ENCRYPTION_KEY"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:39,columnNumber:21},this)," to Vercel environment variables"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:38,columnNumber:15},this),e.jsxDEV("li",{children:"Redeploy the application (with cache disabled)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:41,columnNumber:15},this),e.jsxDEV("li",{children:"Clear browser cache completely"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:42,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:37,columnNumber:13},this),e.jsxDEV("div",{className:"mt-2 pt-2 border-t border-red-600",children:["ðŸ“– See ",e.jsxDEV("strong",{children:"ENCRYPTION_SETUP_GUIDE.md"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:45,columnNumber:22},this)," for detailed instructions"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:44,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:35,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:29,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>r(!1),className:"text-white hover:text-red-200 text-xl leading-none px-2","aria-label":"Dismiss",children:"Ã—"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:27,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/EncryptionStatusBanner.tsx",lineNumber:26,columnNumber:5},this):null}const Ui=({studentId:s,studentName:r,onClose:i})=>{const[t,o]=a.useState([]),[n,l]=a.useState(!0);a.useEffect(()=>{(async()=>{l(!0);try{const e=await ye(s),a=[...new Set(e.map(e=>e.course_id))];if(0===a.length)return o([]),void l(!1);const{data:r}=await O.from("course_assignments").select("teacher_id, course_id").in("course_id",a).eq("is_active",!0);if(!r||0===r.length)return o([]),void l(!1);const i=[...new Set(r.map(e=>e.teacher_id))],{data:t}=await O.from("profiles").select("id, full_name, email, teacher_code").in("id",i).eq("role","teacher");if(!t)return o([]),void l(!1);const n=t.map(e=>Q(e)),c=new Map;r.forEach(a=>{const s=n.find(e=>e.id===a.teacher_id);if(!s)return;const r=e.find(e=>e.course_id===a.course_id);if(!r||!r.course)return;c.has(s.id)||c.set(s.id,{teacher_id:s.id,teacher_name:s.full_name||"Unknown Teacher",teacher_email:s.email||"",teacher_code:s.teacher_code||null,courses:[]});c.get(s.id).courses.push({course_id:r.course.id,course_title:r.course.title||"Unknown Course",course_number:r.course.course_number||"",enrollment_status:r.status})}),o(Array.from(c.values()))}catch(e){console.error("Error fetching teacher enrollments:",e),o([])}finally{l(!1)}})()},[s]);return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex justify-between items-center px-4 py-3 border-b sticky top-0 bg-white z-10",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold",children:"Enrolled Teachers"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:140,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600",children:["Student: ",r]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:141,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:139,columnNumber:11},void 0),e.jsxDEV("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(Me,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:144,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:138,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-4",children:n?e.jsxDEV("div",{className:"animate-pulse space-y-3",children:[...Array(2)].map((a,s)=>e.jsxDEV("div",{className:"h-20 bg-gray-200 rounded"},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:152,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:150,columnNumber:13},void 0):0===t.length?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[e.jsxDEV(ke,{className:"h-10 w-10 mx-auto mb-3 text-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:157,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm",children:"No teachers assigned to this student's courses yet."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:158,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:156,columnNumber:13},void 0):e.jsxDEV("div",{className:"space-y-3",children:t.map(a=>e.jsxDEV("div",{className:"border rounded-lg p-3 hover:shadow-sm transition-shadow",children:[e.jsxDEV("div",{className:"flex items-start mb-2",children:[e.jsxDEV("div",{className:"h-10 w-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsxDEV(ke,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:169,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:168,columnNumber:21},void 0),e.jsxDEV("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsxDEV("div",{className:"text-sm font-semibold text-gray-900 truncate",children:a.teacher_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:172,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-xs text-gray-600 truncate",children:a.teacher_email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:175,columnNumber:23},void 0),a.teacher_code&&e.jsxDEV("div",{className:"text-xs text-gray-500 font-mono",children:a.teacher_code},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:179,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:171,columnNumber:21},void 0),e.jsxDEV(oe,{size:"sm",variant:"info",className:"ml-2 flex-shrink-0",children:a.courses.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:184,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:167,columnNumber:19},void 0),e.jsxDEV("div",{className:"ml-13 space-y-1.5",children:a.courses.map(a=>{return e.jsxDEV("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-xs",children:[e.jsxDEV("div",{className:"flex items-center flex-1 min-w-0 mr-2",children:[e.jsxDEV(ca,{className:"h-3.5 w-3.5 text-gray-400 mr-1.5 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:196,columnNumber:27},void 0),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("div",{className:"font-medium text-gray-900 truncate",children:a.course_title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:198,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-gray-500",children:a.course_number},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:201,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:197,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:195,columnNumber:25},void 0),e.jsxDEV(oe,{size:"sm",className:(s=a.enrollment_status,{pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-gray-100 text-gray-800"}[s]||"bg-gray-100 text-gray-800"),children:a.enrollment_status},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:204,columnNumber:25},void 0)]},a.course_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:191,columnNumber:23},void 0);var s})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:189,columnNumber:19},void 0)]},a.teacher_id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:163,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:161,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:148,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-end px-4 py-3 border-t bg-gray-50",children:e.jsxDEV("button",{onClick:i,className:"px-3 py-1.5 text-sm bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-md hover:from-orange-600 hover:to-red-600 transition-all shadow-sm hover:shadow-md",children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:217,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:216,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:137,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentTeachersModal.tsx",lineNumber:136,columnNumber:5},void 0)};function zi(){const[r,i]=a.useState([]),[t,o]=a.useState([]),[n,l]=a.useState(!0),[c,m]=a.useState(""),[d,u]=a.useState("all"),[h,b]=a.useState(!1),[g,N]=a.useState(null),[x,p]=a.useState("");a.useEffect(()=>{D()},[]),a.useEffect(()=>{f()},[r,c,d]);const D=async()=>{try{l(!0);const e=await async function(){try{let e=O.from("student_consent").select("\n        *,\n        student:profiles!student_consent_student_id_fkey (\n          id,\n          full_name,\n          email,\n          student_id\n        ),\n        consented_by_user:profiles!student_consent_consented_by_fkey (\n          id,\n          full_name,\n          email\n        )\n      ",{count:"exact"});e=e.order("consent_date",{ascending:!1,nullsFirst:!1});const{data:a,error:s,count:r}=await e;return s?(console.error("Error fetching all consents:",s),{data:[],count:0}):{data:(a||[]).map(e=>({...e,student:e.student?Q(e.student):e.student,consented_by_user:e.consented_by_user?Q(e.consented_by_user):e.consented_by_user})),count:r||0}}catch(e){return console.error("Error in getAllConsents:",e),{data:[],count:0}}}();i(e.data||[])}catch(e){console.error("Error loading consents:",e),s.error("Failed to load consent data")}finally{l(!1)}},f=()=>{let e=r;if("given"===d?e=e.filter(e=>e.consent_given&&!e.withdrawn):"not_given"===d?e=e.filter(e=>!e.consent_given):"withdrawn"===d&&(e=e.filter(e=>e.withdrawn)),c){const a=c.toLowerCase();e=e.filter(e=>e.student?.full_name?.toLowerCase().includes(a)||e.student?.email?.toLowerCase().includes(a)||e.student?.student_id?.toLowerCase().includes(a)||e.consented_by_user?.full_name?.toLowerCase().includes(a))}o(e)},S={total:r.length,given:r.filter(e=>e.consent_given&&!e.withdrawn).length,notGiven:r.filter(e=>!e.consent_given).length,withdrawn:r.filter(e=>e.withdrawn).length};return n?e.jsxDEV("div",{className:"flex items-center justify-center py-12",children:e.jsxDEV("div",{className:"spinner w-8 h-8"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:143,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:142,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Student Consent Report"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:153,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Comprehensive audit trail of all student consents"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:152,columnNumber:9},this),e.jsxDEV(re,{onClick:()=>{const e=t.map(e=>[e.student?.full_name||"N/A",e.student?.student_id||"N/A",e.student?.email||"N/A",e.withdrawn?"Withdrawn":e.consent_given?"Given":"Not Given",e.consented_by_user?.full_name||"N/A",e.consented_by_user?.email||"N/A",e.consent_date?new Date(e.consent_date).toLocaleString():"N/A",e.ip_address||"N/A",e.withdrawn?"Yes":"No",e.withdrawn_date?new Date(e.withdrawn_date).toLocaleString():"N/A",e.withdrawn_reason||"N/A"]),a=[["Student Name","Student ID","Student Email","Consent Status","Consented By","Consented By Email","Consent Date","IP Address","Withdrawn","Withdrawn Date","Withdrawn Reason"].join(","),...e.map(e=>e.map(e=>`"${e}"`).join(","))].join("\n"),r=new Blob([a],{type:"text/csv"}),i=window.URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=`consent-report-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i),s.success("Report exported successfully")},className:"bg-green-600 hover:bg-green-700 text-white",disabled:0===t.length,children:[e.jsxDEV(Ja,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:161,columnNumber:11},this),"Export to CSV"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:156,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:151,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxDEV(ae,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-blue-700",children:"Total Records"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:172,columnNumber:17},this),e.jsxDEV("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:S.total},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:173,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:171,columnNumber:15},this),e.jsxDEV(ze,{className:"h-12 w-12 text-blue-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:175,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:170,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:169,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:168,columnNumber:9},this),e.jsxDEV(ae,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-green-700",children:"Consent Given"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:184,columnNumber:17},this),e.jsxDEV("p",{className:"text-3xl font-bold text-green-900 mt-2",children:S.given},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:185,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:183,columnNumber:15},this),e.jsxDEV(Je,{className:"h-12 w-12 text-green-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:187,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:182,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:181,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:180,columnNumber:9},this),e.jsxDEV(ae,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-yellow-700",children:"No Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:196,columnNumber:17},this),e.jsxDEV("p",{className:"text-3xl font-bold text-yellow-900 mt-2",children:S.notGiven},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:197,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:195,columnNumber:15},this),e.jsxDEV(Ge,{className:"h-12 w-12 text-yellow-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:199,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:194,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:193,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:192,columnNumber:9},this),e.jsxDEV(ae,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-red-700",children:"Withdrawn"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:208,columnNumber:17},this),e.jsxDEV("p",{className:"text-3xl font-bold text-red-900 mt-2",children:S.withdrawn},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:207,columnNumber:15},this),e.jsxDEV(Ke,{className:"h-12 w-12 text-red-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:206,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:204,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:167,columnNumber:7},this),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-6",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:222,columnNumber:15},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:224,columnNumber:17},this),e.jsxDEV(ce,{type:"text",placeholder:"Search by student name, ID, or consenter...",value:c,onChange:e=>m(e.target.value),className:"pl-10"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:225,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:221,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status Filter"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:235,columnNumber:15},this),e.jsxDEV("select",{value:d,onChange:e=>u(e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"all",children:"All Statuses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:241,columnNumber:17},this),e.jsxDEV("option",{value:"given",children:"Consent Given"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:242,columnNumber:17},this),e.jsxDEV("option",{value:"not_given",children:"No Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:243,columnNumber:17},this),e.jsxDEV("option",{value:"withdrawn",children:"Withdrawn"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:236,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:220,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:219,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:218,columnNumber:7},this),e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV("h3",{className:"text-lg font-semibold",children:["Consent Records (",t.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:254,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:253,columnNumber:9},this),e.jsxDEV(ie,{children:0===t.length?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(ze,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:261,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No consent records found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:262,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:"Try adjusting your filters"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:263,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:260,columnNumber:13},this):e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:270,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:273,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Consented By"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:276,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:279,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:282,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:269,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:268,columnNumber:17},this),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(a=>e.jsxDEV("tr",{onClick:()=>(async e=>{const a=await Ar(e.student_id);a&&(N(a),p(a.student?.full_name||"Unknown"),b(!0))})(a),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center",children:e.jsxDEV(ke,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:297,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:296,columnNumber:27},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:a.student?.full_name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:300,columnNumber:29},this),e.jsxDEV("div",{className:"text-sm text-gray-500",children:["ID: ",a.student?.student_id||"N/A"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:303,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:299,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:295,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:294,columnNumber:23},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV(Br,{consentGiven:a.consent_given,withdrawn:a.withdrawn,size:"sm",showLabel:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:310,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:309,columnNumber:23},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("div",{className:"font-medium text-gray-900",children:a.consented_by_user?.full_name||"N/A"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:319,columnNumber:27},this),e.jsxDEV("div",{className:"text-gray-500",children:a.consented_by_user?.email||""},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:322,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:318,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:317,columnNumber:23},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsxDEV(Ye,{className:"h-4 w-4 mr-2 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:329,columnNumber:27},this),a.consent_date?be(a.consent_date):"N/A"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:328,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:327,columnNumber:23},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"text-sm text-gray-900 font-mono",children:a.ip_address||"Not recorded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:334,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:333,columnNumber:23},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:289,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:287,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:267,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:266,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:258,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:252,columnNumber:7},this),h&&g&&e.jsxDEV(xi,{consent:g,studentName:x,onClose:()=>{b(!1),N(null),p("")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:349,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ConsentReport.tsx",lineNumber:149,columnNumber:5},this)}function Oi(){const[r,i]=a.useState(!1);return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Cache Management"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:76,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Manage application caches to ensure fresh data after updates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:77,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:75,columnNumber:7},this),e.jsxDEV(ae,{className:"bg-blue-50 border-blue-200",children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV(Oe,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:86,columnNumber:13},this),e.jsxDEV("div",{className:"text-sm text-blue-900",children:[e.jsxDEV("p",{className:"font-medium mb-2",children:"When to clear cache:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:88,columnNumber:15},this),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxDEV("li",{children:"After renaming a Gurukul (clear Gurukul cache)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:90,columnNumber:17},this),e.jsxDEV("li",{children:"After updating course assignments (clear Course cache)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:91,columnNumber:17},this),e.jsxDEV("li",{children:"If pages are not showing updated data (clear all caches)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:92,columnNumber:17},this),e.jsxDEV("li",{children:"If experiencing routing or navigation issues (clear browser storage)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:93,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:87,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:84,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:83,columnNumber:7},this),e.jsxDEV("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Specific Caches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:105,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Clear individual cache types"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:104,columnNumber:11},this),e.jsxDEV(ie,{className:"space-y-3",children:[e.jsxDEV(re,{onClick:()=>{try{Y.invalidatePattern("gurukuls:.*"),s.success("Gurukul cache cleared!"),setTimeout(()=>{window.location.reload()},500)}catch(e){console.error("Error clearing gurukul cache:",e),s.error("Failed to clear gurukul cache")}},className:"w-full justify-between",variant:"outline",children:[e.jsxDEV("span",{children:"Clear Gurukul Cache"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:114,columnNumber:15},this),e.jsxDEV(oe,{variant:"secondary",children:"gurukuls:*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:109,columnNumber:13},this),e.jsxDEV(re,{onClick:()=>{try{Y.invalidatePattern("courses:.*"),s.success("Course cache cleared!"),setTimeout(()=>{window.location.reload()},500)}catch(e){console.error("Error clearing course cache:",e),s.error("Failed to clear course cache")}},className:"w-full justify-between",variant:"outline",children:[e.jsxDEV("span",{children:"Clear Course Cache"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:123,columnNumber:15},this),e.jsxDEV(oe,{variant:"secondary",children:"courses:*"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:118,columnNumber:13},this),e.jsxDEV(re,{onClick:()=>{try{localStorage.clear(),sessionStorage.clear(),s.success("Browser storage cleared!"),setTimeout(()=>{window.location.reload()},1e3)}catch(e){console.error("Error clearing browser storage:",e),s.error("Failed to clear browser storage")}},className:"w-full justify-between",variant:"outline",children:[e.jsxDEV("span",{children:"Clear Browser Storage"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:132,columnNumber:15},this),e.jsxDEV(oe,{variant:"secondary",children:"localStorage"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:133,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:103,columnNumber:9},this),e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Global Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:141,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Clear all caches or view statistics"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:140,columnNumber:11},this),e.jsxDEV(ie,{className:"space-y-3",children:[e.jsxDEV(re,{onClick:()=>{try{i(!0),fe(),s.success("All caches cleared successfully!"),setTimeout(()=>{window.location.reload()},1e3)}catch(e){console.error("Error clearing caches:",e),s.error("Failed to clear caches")}finally{i(!1)}},disabled:r,className:"w-full bg-red-600 hover:bg-red-700 text-white",children:[e.jsxDEV(Xe,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:150,columnNumber:15},this),r?"Clearing...":"Clear All Caches"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:145,columnNumber:13},this),e.jsxDEV(re,{onClick:()=>{Se(),s.success("Cache stats logged to console")},className:"w-full",variant:"outline",children:[e.jsxDEV(Oe,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:155,columnNumber:15},this),"Show Cache Statistics"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:154,columnNumber:13},this),e.jsxDEV(re,{onClick:()=>window.location.reload(),className:"w-full",variant:"outline",children:[e.jsxDEV(Ce,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:164,columnNumber:15},this),"Reload Application"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:159,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:139,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:101,columnNumber:7},this),e.jsxDEV(ae,{className:"bg-yellow-50 border-yellow-200",children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV(Oe,{className:"h-6 w-6 text-yellow-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:175,columnNumber:13},this),e.jsxDEV("div",{className:"text-sm text-yellow-900",children:[e.jsxDEV("p",{className:"font-medium",children:"Note:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:177,columnNumber:15},this),e.jsxDEV("p",{className:"mt-1",children:"Clearing caches will cause data to be reloaded from the database. This may take a few seconds. The application will automatically reload after clearing caches."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:176,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:174,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:173,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:172,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CacheManagement.tsx",lineNumber:74,columnNumber:5},this)}function $i({isOpen:r,onClose:i,onSave:t,templates:o,userId:n}){const[l,c]=a.useState(""),[m,d]=a.useState("course"),[u,h]=a.useState(""),[b,g]=a.useState(""),[N,x]=a.useState(""),[p,D]=a.useState([]),[f,S]=a.useState([]),[y,v]=a.useState([]),[j,T]=a.useState(!1),[P,E]=a.useState(!1),I=a.useCallback(async()=>{try{const e=await ni(u);S(e),g("")}catch{s.error("Failed to load courses")}},[u]);a.useEffect(()=>{r&&(async()=>{T(!0);try{const[e,a,s]=await Promise.all([oi(),ni(),li()]);D(e),S(a),v(s)}catch{s.error("Failed to load data")}finally{T(!1)}})()},[r]),a.useEffect(()=>{"course"===m&&u&&I()},[u,m,I]);const H=()=>{c(""),d("course"),h(""),g(""),x(""),i()};if(!r)return null;const V=f.filter(e=>"course"!==m||e.gurukul_id===u);return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Assign Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:162,columnNumber:11},this),e.jsxDEV("button",{onClick:H,className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:e.jsxDEV(Me,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:163,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:161,columnNumber:9},this),e.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),l)if("gurukul"!==m||u)if("course"!==m||b)if("teacher"!==m||N){E(!0);try{const e={template_id:l,gurukul_id:"gurukul"===m?u:void 0,course_id:"course"===m?b:void 0,teacher_id:"teacher"===m?N:void 0};"gurukul"===m?delete e.course_id:"course"===m&&delete e.gurukul_id,await(async(e,a)=>{if(!e.gurukul_id&&!e.course_id&&!e.teacher_id)throw new Error("Either gurukul_id, course_id, or teacher_id (profile UUID) must be provided");const s=O.from("certificate_assignments").select("\n      id,\n      created_at,\n      template:certificate_templates(name),\n      gurukul:gurukuls(name),\n      course:courses(title),\n      teacher:profiles!certificate_template_assignments_teacher_id_fkey(full_name),\n      creator:profiles!created_by(full_name)\n    ").eq("template_id",e.template_id);e.gurukul_id?s.eq("gurukul_id",e.gurukul_id):s.is("gurukul_id",null),e.course_id?s.eq("course_id",e.course_id):s.is("course_id",null),e.teacher_id?s.eq("teacher_id",e.teacher_id):s.is("teacher_id",null);const{data:r}=await s.single();if(r){const a=r,s=a.template?.name||"Unknown Template";let i="";e.teacher_id&&a.teacher?i=`teacher "${a.teacher.full_name}"`:e.course_id&&a.course?i=`course "${a.course.title}"`:e.gurukul_id&&a.gurukul&&(i=`gurukul "${a.gurukul.name}"`);const t=a.creator?.full_name||"Unknown User",o=r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown Date";throw new Error(`Template "${s}" is already assigned to ${i}. This assignment was created by ${t} on ${o}.`)}const i={template_id:e.template_id,gurukul_id:e.gurukul_id||null,course_id:e.course_id||null,teacher_id:e.teacher_id||null,created_by:a},{data:t,error:o}=await O.from("certificate_assignments").insert(i).select("\n        *,\n        template:certificate_templates(*),\n        gurukul:gurukuls(*),\n        course:courses(*),\n        teacher:profiles!teacher_id(*),\n        creator:profiles!created_by(*)\n      ").single();if(o){if(o.message.includes('relation "certificate_assignments" does not exist'))throw new Error("Certificate assignments table does not exist. Please contact administrator to set up the database.");if(o.message.includes('check constraint "check_assignment_target"'))throw new Error("Either gurukul or course must be selected for assignment.");throw o}return t})(e,n),s.success("Template assigned successfully"),t(),H()}catch{s.error("Failed to assign template")}finally{E(!1)}}else s.error("Please select a teacher");else s.error("Please select a course");else s.error("Please select a gurukul");else s.error("Please select a template")},className:"p-6 space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Template *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:173,columnNumber:13},this),e.jsxDEV("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",required:!0,children:[e.jsxDEV("option",{value:"",children:"Select Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:182,columnNumber:15},this),o.filter(e=>e.is_active).map(a=>e.jsxDEV("option",{value:a.id,children:a.name},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:186,columnNumber:19},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:176,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:172,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Type *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:194,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxDEV("button",{type:"button",onClick:()=>{d("gurukul"),g(""),x("")},className:"flex items-center justify-center gap-2 p-3 border rounded-md "+("gurukul"===m?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:[e.jsxDEV(Qa,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:211,columnNumber:17},this),"Gurukul"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:198,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:()=>{d("course"),x("")},className:"flex items-center justify-center gap-2 p-3 border rounded-md "+("course"===m?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:[e.jsxDEV(da,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:227,columnNumber:17},this),"Course"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:214,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:()=>{d("teacher"),h(""),g("")},className:"flex items-center justify-center gap-2 p-3 border rounded-md "+("teacher"===m?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:[e.jsxDEV(ke,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:243,columnNumber:17},this),"Teacher"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:230,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:193,columnNumber:11},this),("gurukul"===m||"course"===m)&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gurukul *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:251,columnNumber:15},this),e.jsxDEV("select",{value:u,onChange:e=>{return a=e.target.value,h(a),void("gurukul"===m&&g(""));var a},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",required:!0,disabled:j,children:[e.jsxDEV("option",{value:"",children:"Select Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:259,columnNumber:17},this),p.map(a=>e.jsxDEV("option",{value:a.id,children:a.name},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:261,columnNumber:19},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:252,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:250,columnNumber:13},this),"course"===m&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:271,columnNumber:15},this),e.jsxDEV("select",{value:b,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",required:!0,disabled:j||!u,children:[e.jsxDEV("option",{value:"",children:"Select Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:279,columnNumber:17},this),V.map(a=>e.jsxDEV("option",{value:a.id,children:a.title},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:281,columnNumber:19},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:272,columnNumber:15},this),u&&0===V.length&&!j&&e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:"No courses available for this gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:287,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:270,columnNumber:13},this),"teacher"===m&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teacher *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:294,columnNumber:15},this),e.jsxDEV("select",{value:N,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",required:!0,disabled:j,children:[e.jsxDEV("option",{value:"",children:"Select Teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:302,columnNumber:17},this),y.map(a=>e.jsxDEV("option",{value:a.id,children:[a.name," (",a.email,")"]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:304,columnNumber:19},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:295,columnNumber:15},this),0===y.length&&!j&&e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:"No teachers available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:310,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:293,columnNumber:13},this),e.jsxDEV("div",{className:"bg-blue-50 p-3 rounded-md",children:e.jsxDEV("div",{className:"flex",children:e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-blue-800",children:"Assignment Scope"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:318,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-blue-700 mt-1",children:"gurukul"===m?e.jsxDEV("p",{children:"Template will be available to all teachers in the selected gurukul for any course."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:321,columnNumber:21},this):"course"===m?e.jsxDEV("p",{children:"Template will be available only to teachers assigned to the selected course."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:326,columnNumber:21},this):e.jsxDEV("p",{children:"Template will be directly assigned to the selected teacher for all their courses."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:330,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:319,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:317,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:316,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:315,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-3 pt-4",children:[e.jsxDEV(re,{type:"button",variant:"danger",onClick:H,className:"flex-1",disabled:P,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:340,columnNumber:13},this),e.jsxDEV(re,{type:"submit",className:"flex-1",disabled:P||j,children:P?"Assigning...":"Assign Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:349,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:339,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:170,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:160,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TemplateAssignmentModal.tsx",lineNumber:159,columnNumber:5},this)}const Yi=({slug:s="home"})=>{const[r,i]=a.useState(null),[t,o]=a.useState(!0),[n,l]=a.useState(!1),[c,m]=a.useState("hero"),[d,u]=a.useState(null),[h,b]=a.useState(null),[g,N]=a.useState([]),[x,p]=a.useState([]);a.useEffect(()=>{(async()=>{try{const[e,a,r]=await Promise.all([zs(s),X(),ee()]);i(e),N(a),p(r),u(null)}catch(e){u(`Failed to load settings: ${e instanceof Error?e.message:"Unknown error"}`)}finally{o(!1)}})()},[s]);const D=(e,a)=>{i(s=>s?{...s,[e]:a}:null)};if(t)return e.jsxDEV("div",{className:"flex items-center justify-center p-12",children:e.jsxDEV("div",{className:"text-gray-600 text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:74,columnNumber:11},void 0),"Loading settings..."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:73,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:72,columnNumber:7},void 0);if(!r)return e.jsxDEV("div",{className:"p-6 bg-red-50 border-l-4 border-red-500 rounded",children:[e.jsxDEV("p",{className:"text-red-800 font-semibold",children:"Error"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:84,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-red-600 text-sm",children:"Page settings not found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:85,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:83,columnNumber:7},void 0);return e.jsxDEV("div",{className:"w-full max-w-5xl mx-auto",children:[e.jsxDEV("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[e.jsxDEV("div",{className:"px-4 py-3 flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"HomePage Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:104,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600 text-xs mt-0.5",children:"Manage all homepage sections and content"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:105,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:103,columnNumber:11},void 0),e.jsxDEV(re,{onClick:async()=>{if(r)try{l(!0),await async function(e,a){try{const{data:s,error:r}=await O.from("page_settings").select("*").eq("page_slug",e);if(r||!s||0===s.length)throw new Error(`Page settings record not found for slug: ${e}`);const i={},t=["page_slug","page_type","hero_title","hero_subtitle","hero_description","hero_image_url","hero_background_color","hero_text_color","hero_cta_button_text","hero_cta_button_link","hero_cta_button_color","stats_visible","stats_items","features_visible","features_title","features_subtitle","features_items","cta_visible","cta_title","cta_description","cta_background_color","cta_buttons","section_order","theme_primary_color","theme_secondary_color","show_breadcrumbs","seo_title","seo_description","seo_keywords","about_page_content"],o=Object.keys(a).filter(e=>e.startsWith("home_"));for(const e of t)e in a&&void 0!==a[e]&&(i[e]=a[e]);for(const e of o)void 0!==a[e]&&(i[e]=a[e]);const n={...i};n.updated_at=(new Date).toISOString();const{data:l,error:c}=await O.from("page_settings").update(n).eq("page_slug",e).select();if(c)throw console.error("Supabase update error:",{error:c,dbUpdates:i,updatePayload:n,slug:e}),new Error(`Failed to update page settings: ${c.message}`);if(!l||0===l.length)throw new Error("No page settings found to update");return Y.invalidatePattern(`page-settings:${e}`),l[0]}catch(d){throw console.error("Error updating page settings:",d),d}}(s,r),b("Settings saved successfully!"),setTimeout(()=>b(null),3e3)}catch(e){u(`Failed to save: ${e instanceof Error?e.message:"Unknown error"}`)}finally{l(!1)}},disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-1.5 rounded-lg text-sm font-semibold transition-colors",children:n?"Saving...":"ðŸ’¾ Save"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:107,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:102,columnNumber:9},void 0),d&&e.jsxDEV("div",{className:"px-4 pb-3 pt-0",children:e.jsxDEV("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 rounded text-sm",children:[e.jsxDEV("p",{className:"text-red-800 font-semibold",children:"Error"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:120,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-red-600 text-xs mt-0.5",children:d},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:121,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:119,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:118,columnNumber:11},void 0),h&&e.jsxDEV("div",{className:"px-4 pb-3 pt-0",children:e.jsxDEV("div",{className:"p-3 bg-green-50 border-l-4 border-green-500 rounded text-sm",children:[e.jsxDEV("p",{className:"text-green-800 font-semibold",children:"Success"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:128,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-green-600 text-xs mt-0.5",children:h},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:129,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:127,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:126,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:101,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white border-b border-gray-200",children:e.jsxDEV("div",{className:"flex gap-2 px-4 overflow-x-auto",children:[{id:"hero",label:"Hero",icon:"ðŸŽ¯"},{id:"features",label:"Features",icon:"âœ¨"},{id:"gurukuls",label:"Centers",icon:"ðŸ¢"},{id:"testimonials",label:"Testimonials",icon:"â­"},{id:"cta",label:"CTA",icon:"ðŸš€"}].map(a=>e.jsxDEV("button",{onClick:()=>m(a.id),className:"px-3 py-2.5 text-sm font-semibold border-b-2 whitespace-nowrap transition-all "+(c===a.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[e.jsxDEV("span",{className:"mr-1",children:a.icon},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:148,columnNumber:15},void 0),a.label]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:139,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:137,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:136,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-gray-50 min-h-screen p-4",children:["hero"===c&&e.jsxDEV(Zi,{settings:r,updateSetting:D},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:157,columnNumber:34},void 0),"features"===c&&e.jsxDEV(Xi,{settings:r,updateSetting:D},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:159,columnNumber:11},void 0),"gurukuls"===c&&e.jsxDEV(at,{settings:r,updateSetting:D,gurukuls:x,courses:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:162,columnNumber:11},void 0),"testimonials"===c&&e.jsxDEV(st,{settings:r,updateSetting:D},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:170,columnNumber:11},void 0),"cta"===c&&e.jsxDEV(rt,{settings:r,updateSetting:D},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:172,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:156,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:99,columnNumber:5},void 0)};function Ki({isOpen:a,onClose:s,onSelect:r}){return a?e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col",children:[e.jsxDEV("div",{className:"px-6 py-3 border-b border-gray-200 flex justify-end",children:e.jsxDEV("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 font-bold text-xl",children:"Ã—"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:194,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:193,columnNumber:9},this),e.jsxDEV("div",{className:"px-4 py-3 overflow-y-auto flex-1",children:e.jsxDEV(ge,{accept:["image/*"],compact:!0,showUpload:!1,onSelect:e=>{r(e),s()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:199,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:198,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:192,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:191,columnNumber:5},this):null}function Ji({label:a,description:s,children:r}){return e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV("label",{className:"text-sm font-semibold text-gray-900",children:[a,s&&e.jsxDEV("i",{className:"font-normal text-xs text-gray-500 ml-2",children:s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:228,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:226,columnNumber:7},this),r]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:225,columnNumber:5},this)}function Qi({title:a,children:s}){return e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 space-y-4",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:a},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:238,columnNumber:7},this),s]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:237,columnNumber:5},this)}function Zi({settings:s,updateSetting:r}){const[i,t]=a.useState(!1),[o,n]=a.useState(null);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Qi,{title:"Hero Section",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Ji,{label:"Badge Text",description:"Small text above the main title",children:e.jsxDEV("input",{type:"text",value:s.home_hero_badge_text||"",onChange:e=>r("home_hero_badge_text",e.target.value),placeholder:"e.g., Welcome to eYogi",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:261,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:260,columnNumber:11},this),e.jsxDEV(Ji,{label:"Title",description:"Main heading",children:e.jsxDEV("input",{type:"text",value:s.home_hero_title||"",onChange:e=>r("home_hero_title",e.target.value),placeholder:"e.g., Transform Your Life",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:271,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:270,columnNumber:11},this),e.jsxDEV(Ji,{label:"Title Highlight",children:e.jsxDEV("input",{type:"text",value:s.home_hero_title_highlight||"",onChange:e=>r("home_hero_title_highlight",e.target.value),placeholder:"Highlighted part of title",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:281,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:280,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:259,columnNumber:9},this),e.jsxDEV(Ji,{label:"Description",description:"Hero section subtitle - HTML supported",children:[e.jsxDEV("textarea",{value:s.home_hero_description||"",onChange:e=>r("home_hero_description",e.target.value),placeholder:"Enter the hero section description... (HTML tags supported)",rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:292,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-gray-500 italic mt-1",children:"ðŸ’¡ HTML content is supported (e.g., <b>, <i>, <br>, <a>)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:299,columnNumber:11},this),s.home_hero_description&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",dangerouslySetInnerHTML:{__html:s.home_hero_description}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:303,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:291,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Ji,{label:"Background Type",description:"Choose color or image",children:e.jsxDEV("select",{value:s.home_hero_background_type||"gradient",onChange:e=>r("home_hero_background_type",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"gradient",children:"Color"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:319,columnNumber:15},this),e.jsxDEV("option",{value:"image",children:"Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:320,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:312,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:311,columnNumber:11},this),"image"===s.home_hero_background_type?e.jsxDEV(Ji,{label:"Background Image",children:[s.home_hero_background_image_url&&e.jsxDEV("div",{className:"relative h-32 bg-gray-100 rounded-lg overflow-hidden mb-2",children:e.jsxDEV("img",{src:s.home_hero_background_image_url,alt:"Hero background preview",className:"w-full h-full object-cover"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:328,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:327,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(re,{onClick:()=>t(!0),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm py-1",children:s.home_hero_background_image_url?"Change":"Select"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:336,columnNumber:17},this),s.home_hero_background_image_url&&e.jsxDEV(re,{onClick:()=>r("home_hero_background_image_url",""),className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-sm py-1",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:343,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:335,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:325,columnNumber:13},this):e.jsxDEV(Ji,{label:"Background Color",children:e.jsxDEV("div",{className:"flex gap-2 items-center",children:[e.jsxDEV("input",{type:"color",value:s.home_hero_background_color||"#fef3f2",onChange:e=>r("home_hero_background_color",e.target.value),className:"w-12 h-8 border border-gray-300 rounded-lg cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:355,columnNumber:17},this),e.jsxDEV("span",{className:"text-xs text-gray-600 flex-1",children:s.home_hero_background_color},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:361,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:354,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:353,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:310,columnNumber:9},this),e.jsxDEV("div",{className:"pt-3 border-t border-gray-200 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Buttons"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:370,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV(Ji,{label:"Button 1 Text",children:e.jsxDEV("input",{type:"text",value:s.home_hero_button_1_text||"",onChange:e=>r("home_hero_button_1_text",e.target.value),placeholder:"e.g., Get Started",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:373,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:372,columnNumber:13},this),e.jsxDEV(Ji,{label:"Button 1 Link",children:e.jsxDEV("input",{type:"text",value:s.home_hero_button_1_link||"",onChange:e=>r("home_hero_button_1_link",e.target.value),placeholder:"e.g., /courses",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:383,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:382,columnNumber:13},this),e.jsxDEV(Ji,{label:"Button 2 Text",children:e.jsxDEV("input",{type:"text",value:s.home_hero_button_2_text||"",onChange:e=>r("home_hero_button_2_text",e.target.value),placeholder:"e.g., Learn More",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:393,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:392,columnNumber:13},this),e.jsxDEV(Ji,{label:"Button 2 Link",children:e.jsxDEV("input",{type:"text",value:s.home_hero_button_2_link||"",onChange:e=>r("home_hero_button_2_link",e.target.value),placeholder:"e.g., /about",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:403,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:402,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:371,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:369,columnNumber:9},this),e.jsxDEV("div",{className:"pt-3 border-t border-gray-200 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Hero Image & Caption"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:415,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(Ji,{label:"Hero Image",description:"Main image displayed in hero section",children:[s.home_hero_image_url&&e.jsxDEV("div",{className:"relative h-40 bg-gray-100 rounded-lg overflow-hidden mb-2",children:e.jsxDEV("img",{src:s.home_hero_image_url,alt:"Hero image preview",className:"w-full h-full object-cover"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:420,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:419,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(re,{onClick:()=>{n("hero_image"),t(!0)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm py-1.5",children:s.home_hero_image_url?"Change Image":"Select Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:428,columnNumber:17},this),s.home_hero_image_url&&e.jsxDEV(re,{onClick:()=>r("home_hero_image_url",""),className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-sm py-1.5",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:438,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:427,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:417,columnNumber:13},this),e.jsxDEV(Ji,{label:"Image Caption",children:e.jsxDEV("input",{type:"text",value:s.home_hero_image_caption||"",onChange:e=>r("home_hero_image_caption",e.target.value),placeholder:"e.g., Caption title",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:449,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:448,columnNumber:13},this),e.jsxDEV(Ji,{label:"Image Caption Icon",children:e.jsxDEV("select",{value:s.home_hero_image_caption_icon||"StarIcon",onChange:e=>r("home_hero_image_caption_icon",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"StarIcon",children:"Star"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:464,columnNumber:17},this),e.jsxDEV("option",{value:"AcademicCapIcon",children:"Academic Cap"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:465,columnNumber:17},this),e.jsxDEV("option",{value:"BookOpenIcon",children:"Book Open"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:466,columnNumber:17},this),e.jsxDEV("option",{value:"UserGroupIcon",children:"User Group"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:467,columnNumber:17},this),e.jsxDEV("option",{value:"LightBulbIcon",children:"Light Bulb"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:468,columnNumber:17},this),e.jsxDEV("option",{value:"SparklesIcon",children:"Sparkles"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:469,columnNumber:17},this),e.jsxDEV("option",{value:"GlobeAltIcon",children:"Globe"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:470,columnNumber:17},this),e.jsxDEV("option",{value:"HeartIcon",children:"Heart"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:471,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:459,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:458,columnNumber:13},this),e.jsxDEV(Ji,{label:"Image Caption Description",description:"Small text displayed below the image",children:e.jsxDEV("textarea",{value:s.home_hero_image_caption_description||"",onChange:e=>r("home_hero_image_caption_description",e.target.value),placeholder:"e.g., A description or details for the hero image",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:479,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:475,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:416,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:414,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:258,columnNumber:7},this),e.jsxDEV(Ki,{isOpen:i,onClose:()=>{t(!1),n(null)},onSelect:e=>{e.length>0&&("hero_image"===o?r("home_hero_image_url",e[0].file_url):"background_image"===o&&r("home_hero_background_image_url",e[0].file_url),t(!1),n(null))}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:493,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:257,columnNumber:5},this)}function Xi({settings:s,updateSetting:r}){const[i,t]=a.useState(null);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Qi,{title:"Features Section",children:[e.jsxDEV(Ji,{label:"Visible",description:"Toggle section visibility",children:e.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:s.home_features_visible||!1,onChange:e=>r("home_features_visible",e.target.checked),className:"w-5 h-5 rounded border-gray-300 cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:529,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Show features section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:535,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:528,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:527,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV(Ji,{label:"Section Title",children:e.jsxDEV("input",{type:"text",value:s.home_features_title||"",onChange:e=>r("home_features_title",e.target.value),placeholder:"e.g., Why Choose Us",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:541,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:540,columnNumber:11},this),e.jsxDEV(Ji,{label:"Section Description",description:"HTML supported",children:[e.jsxDEV("textarea",{value:s.home_features_subtitle||"",onChange:e=>r("home_features_subtitle",e.target.value),placeholder:"Enter features section description... (HTML tags supported)",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:551,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-gray-500 italic mt-1",children:"ðŸ’¡ HTML content is supported (e.g., <b>, <i>, <br>, <a>)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:558,columnNumber:13},this),s.home_features_subtitle&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",dangerouslySetInnerHTML:{__html:s.home_features_subtitle}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:562,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:550,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:539,columnNumber:9},this),e.jsxDEV(Ji,{label:"Background Color",children:e.jsxDEV("div",{className:"flex gap-2 items-center",children:[e.jsxDEV("input",{type:"color",value:s.home_features_background_color||"#ffffff",onChange:e=>r("home_features_background_color",e.target.value),className:"w-12 h-8 border border-gray-300 rounded-lg cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:572,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs text-gray-600",children:s.home_features_background_color},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:578,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:571,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:570,columnNumber:9},this),e.jsxDEV("div",{className:"mt-3 border-t pt-3",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Feature Boxes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:583,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[1,2,3,4].map(a=>{const r=`home_features_box_${a}_image_url`,i=`home_features_box_${a}_title`,o=`home_features_box_${a}_description`;return e.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50 cursor-pointer hover:bg-gray-100 transition",onClick:()=>t(a),children:[s[r]&&e.jsxDEV("div",{className:"relative w-full h-24 bg-gray-200 rounded-lg overflow-hidden mb-2",children:e.jsxDEV("img",{src:s[r],alt:`Feature ${a}`,className:"w-full h-full object-cover"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:598,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:597,columnNumber:21},this),e.jsxDEV("h4",{className:"font-semibold text-xs text-gray-900 line-clamp-1",children:s[i]||`Feature ${a}`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:605,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-500 line-clamp-2 mt-1",children:s[o]||"Click to edit..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:608,columnNumber:19},this)]},a,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:591,columnNumber:17},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:584,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:582,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:526,columnNumber:7},this),null!==i&&e.jsxDEV(et,{boxNum:i,settings:s,updateSetting:r,onClose:()=>t(null)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:619,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:525,columnNumber:5},this)}function et({boxNum:s,settings:r,updateSetting:i,onClose:t}){const[o,n]=a.useState(!1),l=`home_features_box_${s}_image_url`,c=`home_features_box_${s}_title`,m=`home_features_box_${s}_description`;return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:[e.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:["Edit Feature ",s]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:652,columnNumber:13},this),e.jsxDEV("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 font-bold text-xl",children:"Ã—"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:653,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:651,columnNumber:11},this),e.jsxDEV("div",{className:"px-6 py-4 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Thumbnail Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:663,columnNumber:15},this),r[l]&&e.jsxDEV("div",{className:"relative h-32 bg-gray-100 rounded-lg overflow-hidden mb-2",children:e.jsxDEV("img",{src:r[l],alt:`Feature ${s}`,className:"w-full h-full object-cover"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:668,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:667,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(re,{onClick:()=>n(!0),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm py-1.5",children:[r[l]?"Change":"Select"," Image"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:676,columnNumber:17},this),r[l]&&e.jsxDEV(re,{onClick:()=>i(l,""),className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-sm py-1.5",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:683,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:675,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:662,columnNumber:13},this),e.jsxDEV(Ji,{label:"Title",children:e.jsxDEV("input",{type:"text",value:r[c]||"",onChange:e=>i(c,e.target.value),placeholder:`Feature ${s} title`,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:695,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:694,columnNumber:13},this),e.jsxDEV(Ji,{label:"Icon",children:e.jsxDEV("select",{value:r[`home_features_box_${s}_icon`]||"AcademicCapIcon",onChange:e=>i(`home_features_box_${s}_icon`,e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"AcademicCapIcon",children:"Academic Cap"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:719,columnNumber:17},this),e.jsxDEV("option",{value:"BookOpenIcon",children:"Book Open"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:720,columnNumber:17},this),e.jsxDEV("option",{value:"UserGroupIcon",children:"User Group"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:721,columnNumber:17},this),e.jsxDEV("option",{value:"StarIcon",children:"Star"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:722,columnNumber:17},this),e.jsxDEV("option",{value:"LightBulbIcon",children:"Light Bulb"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:723,columnNumber:17},this),e.jsxDEV("option",{value:"SparklesIcon",children:"Sparkles"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:724,columnNumber:17},this),e.jsxDEV("option",{value:"GlobeAltIcon",children:"Globe"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:725,columnNumber:17},this),e.jsxDEV("option",{value:"HeartIcon",children:"Heart"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:726,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:706,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:705,columnNumber:13},this),e.jsxDEV(Ji,{label:"Description",children:e.jsxDEV("textarea",{value:r[m]||"",onChange:e=>i(m,e.target.value),placeholder:`Feature ${s} description`,rows:4,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:732,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:731,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:660,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:650,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:649,columnNumber:7},this),e.jsxDEV(Ki,{isOpen:o,onClose:()=>n(!1),onSelect:e=>{e.length>0&&i(l,e[0].file_url)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:744,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:648,columnNumber:5},this)}function at({settings:a,updateSetting:s,gurukuls:r,courses:i}){const t=a.home_gurukuls_selected_ids||[],o=a.home_gurukuls_item_type||"gurukuls";return e.jsxDEV(Qi,{title:"Academic Centers",children:[e.jsxDEV(Ji,{label:"Visible",description:"Toggle section visibility",children:e.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:a.home_gurukuls_visible||!1,onChange:e=>s("home_gurukuls_visible",e.target.checked),className:"w-5 h-5 rounded border-gray-300 cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:777,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Show centers section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:783,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:776,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:775,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV(Ji,{label:"Section Title",children:e.jsxDEV("input",{type:"text",value:a.home_gurukuls_title||"",onChange:e=>s("home_gurukuls_title",e.target.value),placeholder:"e.g., Our Centers",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:789,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:788,columnNumber:9},this),e.jsxDEV(Ji,{label:"Section Description",description:"HTML supported",children:[e.jsxDEV("textarea",{value:a.home_gurukuls_subtitle||"",onChange:e=>s("home_gurukuls_subtitle",e.target.value),placeholder:"Enter centers section description... (HTML tags supported)",rows:2,className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-xs"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:799,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-gray-500 italic mt-1",children:"ðŸ’¡ HTML content is supported (e.g., <b>, <i>, <br>, <a>)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:806,columnNumber:11},this),a.home_gurukuls_subtitle&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",dangerouslySetInnerHTML:{__html:a.home_gurukuls_subtitle}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:810,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:798,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:787,columnNumber:7},this),e.jsxDEV(Ji,{label:"Display Type",description:"Select what to show",children:e.jsxDEV("select",{value:o,onChange:e=>{s("home_gurukuls_item_type",e.target.value)},className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"gurukuls",children:"Academic Centers (Gurukuls)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:826,columnNumber:11},this),e.jsxDEV("option",{value:"courses",children:"Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:827,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:819,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:818,columnNumber:7},this),e.jsxDEV(Ji,{label:"gurukuls"===o?"Select Centers":"Select Courses",children:e.jsxDEV("div",{className:"space-y-2 max-h-80 overflow-y-auto border border-gray-200 rounded-lg p-3",children:"gurukuls"===o?0===r.length?e.jsxDEV("p",{className:"text-xs text-gray-500 py-3 text-center",children:"No centers available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:835,columnNumber:15},this):r.map(a=>{const r=t.includes(a.id);return e.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer p-2 hover:bg-gray-50 rounded text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:r,onChange:e=>{e.target.checked?s("home_gurukuls_selected_ids",[...t,a.id]):s("home_gurukuls_selected_ids",t.filter(e=>e!==a.id))},className:"w-4 h-4 rounded border-gray-300 cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:844,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-xs",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:860,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-gray-500 line-clamp-2",dangerouslySetInnerHTML:{__html:a.description?.substring(0,80)||""}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:861,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:859,columnNumber:21},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:840,columnNumber:19},this)}):0===i.length?e.jsxDEV("p",{className:"text-xs text-gray-500 py-3 text-center",children:"No courses available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:873,columnNumber:13},this):i.map(a=>{const r=t.includes(a.id);return e.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer p-2 hover:bg-gray-50 rounded text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:r,onChange:e=>{e.target.checked?s("home_gurukuls_selected_ids",[...t,a.id]):s("home_gurukuls_selected_ids",t.filter(e=>e!==a.id))},className:"w-4 h-4 rounded border-gray-300 cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:882,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-xs",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:898,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-500 line-clamp-2",dangerouslySetInnerHTML:{__html:a.description?.substring(0,80)||""}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:899,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:897,columnNumber:19},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:878,columnNumber:17},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:832,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:831,columnNumber:7},this),e.jsxDEV("div",{className:"mt-4 pt-3 border-t",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:["gurukuls"===o?"Selected Centers":"Selected Courses"," (",t.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:914,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:"gurukuls"===o?r.filter(e=>t.includes(e.id)).map(a=>e.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-2 bg-gray-50",children:[e.jsxDEV("h4",{className:"font-medium text-xs text-gray-900",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:924,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-600 line-clamp-2 mt-0.5",dangerouslySetInnerHTML:{__html:a.description||""}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:925,columnNumber:21},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:923,columnNumber:19},this)):i.filter(e=>t.includes(e.id)).map(a=>e.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-2 bg-blue-50",children:[e.jsxDEV("h4",{className:"font-medium text-xs text-gray-900",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:935,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-600 line-clamp-2 mt-0.5",dangerouslySetInnerHTML:{__html:a.description||""}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:936,columnNumber:21},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:934,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:918,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:913,columnNumber:7},this),e.jsxDEV(Ji,{label:"Background Color",children:e.jsxDEV("div",{className:"flex gap-2 items-center",children:[e.jsxDEV("input",{type:"color",value:a.home_gurukuls_background_color||"#ffffff",onChange:e=>s("home_gurukuls_background_color",e.target.value),className:"w-12 h-8 border border-gray-300 rounded-lg cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:947,columnNumber:11},this),e.jsxDEV("span",{className:"text-xs text-gray-600",children:a.home_gurukuls_background_color},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:953,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:946,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:945,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:774,columnNumber:5},this)}function st({settings:s,updateSetting:r}){const[i,t]=a.useState(null),o=s.home_testimonials||[],n=(e,a,s)=>{const i=[...o];i[e]={...i[e],[a]:s},r("home_testimonials",i)};return e.jsxDEV(Qi,{title:"Testimonials Section",children:[e.jsxDEV(Ji,{label:"Visible",description:"Toggle section visibility",children:e.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:s.home_testimonials_visible||!1,onChange:e=>r("home_testimonials_visible",e.target.checked),className:"w-5 h-5 rounded border-gray-300 cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1001,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Show testimonials section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1007,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1e3,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:999,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV(Ji,{label:"Section Title",children:e.jsxDEV("input",{type:"text",value:s.home_testimonials_title||"",onChange:e=>r("home_testimonials_title",e.target.value),placeholder:"e.g., What Our Students Say",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1013,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1012,columnNumber:9},this),e.jsxDEV(Ji,{label:"Section Description",description:"HTML supported",children:[e.jsxDEV("textarea",{value:s.home_testimonials_subtitle||"",onChange:e=>r("home_testimonials_subtitle",e.target.value),placeholder:"Enter testimonials section description... (HTML tags supported)",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1023,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-gray-500 italic mt-1",children:"ðŸ’¡ HTML content is supported (e.g., <b>, <i>, <br>, <a>)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1030,columnNumber:11},this),s.home_testimonials_subtitle&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",dangerouslySetInnerHTML:{__html:s.home_testimonials_subtitle}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1034,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1022,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1011,columnNumber:7},this),e.jsxDEV(Ji,{label:"Background Color",children:e.jsxDEV("div",{className:"flex gap-2 items-center",children:[e.jsxDEV("input",{type:"color",value:s.home_testimonials_background_color||"#ffffff",onChange:e=>r("home_testimonials_background_color",e.target.value),className:"w-16 h-10 border border-gray-300 rounded-lg cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1044,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:s.home_testimonials_background_color},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1050,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1043,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1042,columnNumber:7},this),e.jsxDEV("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:["Testimonials (",o.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1058,columnNumber:11},this),e.jsxDEV(re,{onClick:()=>{r("home_testimonials",[...o,{name:"",role:"",content:"",rating:5}])},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm",children:"+ Add Testimonial"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1059,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1057,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:0===o.length?e.jsxDEV("p",{className:"text-sm text-gray-500 py-8 text-center",children:"No testimonials yet. Add one to get started!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1069,columnNumber:13},this):o.map((a,s)=>e.jsxDEV("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("span",{className:"text-sm font-semibold text-gray-700",children:["Testimonial #",s+1]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1079,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>(e=>{r("home_testimonials",o.filter((a,s)=>s!==e))})(s),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Delete"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1082,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1078,columnNumber:17},this),i===s?e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("input",{type:"text",placeholder:"Name",value:a.name,onChange:e=>n(s,"name",e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1092,columnNumber:21},this),e.jsxDEV("input",{type:"text",placeholder:"Role/Title",value:a.role,onChange:e=>n(s,"role",e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1099,columnNumber:21},this),e.jsxDEV("textarea",{placeholder:"Testimonial content",value:a.content,onChange:e=>n(s,"content",e.target.value),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1106,columnNumber:21},this),e.jsxDEV("input",{type:"number",min:"1",max:"5",placeholder:"Rating (1-5)",value:a.rating,onChange:e=>n(s,"rating",parseInt(e.target.value)),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1113,columnNumber:21},this),e.jsxDEV("input",{type:"text",placeholder:"Image URL (optional)",value:a.image||"",onChange:e=>n(s,"image",e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1122,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>t(null),className:"w-full px-3 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Done Editing"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1129,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1091,columnNumber:19},this):e.jsxDEV("div",{onClick:()=>t(s),className:"cursor-pointer",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:a.name||"(No name)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1138,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-600",children:a.role||"(No role)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1141,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-700 mt-2",children:a.content||"(No content)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1142,columnNumber:21},this),e.jsxDEV("div",{className:"flex gap-1 mt-2",children:Array.from({length:a.rating}).map((a,s)=>e.jsxDEV("span",{children:"â­"},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1147,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1145,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-blue-600 mt-2",children:"Click to edit"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1150,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1137,columnNumber:19},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1074,columnNumber:15},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1067,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1056,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:998,columnNumber:5},this)}function rt({settings:s,updateSetting:r}){const[i,t]=a.useState(!1);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Qi,{title:"Call-To-Action Section",children:[e.jsxDEV(Ji,{label:"Visible",description:"Toggle section visibility",children:e.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:s.home_cta_visible||!1,onChange:e=>r("home_cta_visible",e.target.checked),className:"w-5 h-5 rounded border-gray-300 cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1176,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Show CTA section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1182,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1175,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1174,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxDEV(Ji,{label:"Title",description:"CTA section heading",children:e.jsxDEV("input",{type:"text",value:s.home_cta_title||"",onChange:e=>r("home_cta_title",e.target.value),placeholder:"e.g., Ready to Begin?",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1188,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1187,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1186,columnNumber:9},this),e.jsxDEV(Ji,{label:"Description",description:"CTA section subtitle - HTML supported",children:[e.jsxDEV("textarea",{value:s.home_cta_description||"",onChange:e=>r("home_cta_description",e.target.value),placeholder:"Enter the CTA section description... (HTML tags supported)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1199,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-gray-500 italic mt-1",children:"ðŸ’¡ HTML content is supported (e.g., <b>, <i>, <br>, <a>)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1206,columnNumber:11},this),s.home_cta_description&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",dangerouslySetInnerHTML:{__html:s.home_cta_description}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1210,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1198,columnNumber:9},this),e.jsxDEV("div",{className:"border-t pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1218,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Ji,{label:"Background Type",children:e.jsxDEV("select",{value:s.home_cta_background_type||"gradient",onChange:e=>r("home_cta_background_type",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"gradient",children:"Color"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1228,columnNumber:17},this),e.jsxDEV("option",{value:"image",children:"Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1229,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1221,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1220,columnNumber:13},this),"gradient"===s.home_cta_background_type&&e.jsxDEV(Ji,{label:"Background Color",children:e.jsxDEV("div",{className:"flex gap-2 items-center",children:[e.jsxDEV("input",{type:"color",value:s.home_cta_background_color||"#fb7e3f",onChange:e=>r("home_cta_background_color",e.target.value),className:"w-16 h-10 border border-gray-300 rounded-lg cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1236,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:s.home_cta_background_color},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1242,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1235,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1234,columnNumber:15},this),"image"===s.home_cta_background_type&&e.jsxDEV("div",{className:"flex gap-2 items-end",children:[e.jsxDEV(re,{onClick:()=>t(!0),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm py-2",children:[s.home_cta_background_image_url?"Change":"Select"," Image"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1251,columnNumber:17},this),s.home_cta_background_image_url&&e.jsxDEV(re,{onClick:()=>r("home_cta_background_image_url",""),className:"bg-red-600 hover:bg-red-700 text-white text-sm py-2 px-4",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1258,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1250,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1219,columnNumber:11},this),"image"===s.home_cta_background_type&&s.home_cta_background_image_url&&e.jsxDEV("div",{className:"mt-4",children:e.jsxDEV("div",{className:"relative h-32 bg-gray-100 rounded-lg overflow-hidden",children:e.jsxDEV("img",{src:s.home_cta_background_image_url,alt:"CTA background preview",className:"w-full h-full object-cover"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1273,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1272,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1271,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1217,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-4 border-t border-gray-200",children:[e.jsxDEV("div",{className:"md:col-span-2",children:e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Button 1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1285,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1284,columnNumber:11},this),e.jsxDEV(Ji,{label:"Button 1 Text",children:e.jsxDEV("input",{type:"text",value:s.home_cta_button_1_text||"",onChange:e=>r("home_cta_button_1_text",e.target.value),placeholder:"e.g., Enroll Now",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1288,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1287,columnNumber:11},this),e.jsxDEV(Ji,{label:"Button 1 Link",children:e.jsxDEV("input",{type:"text",value:s.home_cta_button_1_link||"",onChange:e=>r("home_cta_button_1_link",e.target.value),placeholder:"e.g., /enroll",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1298,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1297,columnNumber:11},this),e.jsxDEV("div",{className:"md:col-span-2",children:e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Button 2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1308,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1307,columnNumber:11},this),e.jsxDEV(Ji,{label:"Button 2 Text",children:e.jsxDEV("input",{type:"text",value:s.home_cta_button_2_text||"",onChange:e=>r("home_cta_button_2_text",e.target.value),placeholder:"e.g., Learn More",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1311,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1310,columnNumber:11},this),e.jsxDEV(Ji,{label:"Button 2 Link",children:e.jsxDEV("input",{type:"text",value:s.home_cta_button_2_link||"",onChange:e=>r("home_cta_button_2_link",e.target.value),placeholder:"e.g., /about",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1321,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1320,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1283,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1173,columnNumber:7},this),e.jsxDEV(Ki,{isOpen:i,onClose:()=>t(!1),onSelect:e=>{e.length>0&&r("home_cta_background_image_url",e[0].file_url),t(!1)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1332,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HomePageCMSEditor.tsx",lineNumber:1172,columnNumber:5},this)}function it({bgType:s,bgColor:r,bgImageUrl:i,onBgTypeChange:t,onBgColorChange:o,onBgImageChange:n,label:l="Background",previewClassName:c}){const[d,u]=a.useState(!1);return m.useEffect(()=>{},[i]),e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Background Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:44,columnNumber:13},this),e.jsxDEV("select",{value:s,onChange:e=>t(e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsxDEV("option",{value:"color",children:"Color"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:52,columnNumber:15},this),e.jsxDEV("option",{value:"image",children:"Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:53,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:47,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:43,columnNumber:11},this),"color"===s&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Background Color"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:60,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"color",value:r,onChange:e=>o(e.target.value),className:"w-12 h-8 rounded border border-gray-300 cursor-pointer"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:64,columnNumber:17},this),e.jsxDEV("span",{className:"text-xs text-gray-600 flex-1",children:r},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:70,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:63,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:59,columnNumber:13},this),"image"===s&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Background Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:78,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(re,{onClick:()=>u(!0),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm py-1",children:i&&String(i).trim()?"Change":"Select"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:82,columnNumber:17},this),i&&String(i).trim()&&e.jsxDEV(re,{onClick:()=>n(void 0),className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-sm py-1",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:89,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:81,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:41,columnNumber:9},this),"image"===s&&i&&String(i).trim()&&e.jsxDEV("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:e.jsxDEV("div",{className:"relative bg-gray-100",style:{maxHeight:"200px"},children:e.jsxDEV("img",{src:String(i),alt:"Background preview",className:"w-full h-auto object-cover"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:105,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:104,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:103,columnNumber:11},this),c&&e.jsxDEV("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:e.jsxDEV("div",{className:`h-32 flex items-center justify-center text-white text-sm font-medium ${c}`,children:"Section Preview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:117,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:116,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:40,columnNumber:7},this),d&&e.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-2xl border border-gray-300",children:[e.jsxDEV("div",{className:"px-6 py-3 border-b border-gray-200 flex justify-between items-center bg-gradient-to-r from-blue-500 to-purple-600",children:[e.jsxDEV("h3",{className:"font-semibold text-white",children:"Select Background Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:131,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>u(!1),className:"text-white/80 hover:text-white font-bold text-xl",children:"Ã—"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:132,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:130,columnNumber:13},this),e.jsxDEV("div",{className:"px-4 py-3 overflow-y-auto flex-1",children:e.jsxDEV(ge,{accept:["image/*"],compact:!0,showUpload:!1,onSelect:e=>{if(e.length>0){const a=e[0].file_url||e[0].watermark_url||"";n(a),u(!1)}}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:139,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:129,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:128,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BackgroundStylingField.tsx",lineNumber:39,columnNumber:5},this)}const tt={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link"],["clean"]]},ot=["header","bold","italic","underline","strike","blockquote","code-block","list","bullet","indent","link"];function nt({value:a,onChange:s,placeholder:r="Enter text..."}){return e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(h,{theme:"snow",value:a,onChange:s,modules:tt,formats:ot,placeholder:r,className:"bg-white",style:{border:"1px solid rgb(209, 213, 219)",borderRadius:"0.5rem"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/RichTextEditor.tsx",lineNumber:45,columnNumber:7},this),a&&e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Preview:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/RichTextEditor.tsx",lineNumber:60,columnNumber:11},this),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700 ql-editor ql-blank=false",dangerouslySetInnerHTML:{__html:a}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/RichTextEditor.tsx",lineNumber:61,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/RichTextEditor.tsx",lineNumber:59,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/RichTextEditor.tsx",lineNumber:44,columnNumber:5},this)}function lt({label:a,description:s,children:r}){return e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV("label",{className:"text-sm font-semibold text-gray-900",children:[a,s&&e.jsxDEV("i",{className:"font-normal text-xs text-gray-500 ml-2",children:s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:33,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:31,columnNumber:7},this),r]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:30,columnNumber:5},this)}function ct({title:a,children:s}){return e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 space-y-4",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:a},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:43,columnNumber:7},this),s]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:42,columnNumber:5},this)}const mt=({slug:s="about"})=>{const[r,i]=a.useState(null),[t,o]=a.useState(!0),[n,l]=a.useState(!1),[c,m]=a.useState("hero"),[d,u]=a.useState(null),[h,b]=a.useState(null);a.useEffect(()=>{(async()=>{try{const e=await async function(e="about"){const a=$("about-page-cms",e);return Y.get(a,async()=>{try{const{data:a,error:s}=await O.from("about_page_cms").select("*").eq("page_slug",e);return s?(console.error("Failed to fetch about page CMS:",s),null):a&&0!==a.length?a[0]:null}catch(a){return console.error("Error in getAboutPageCMS:",a),null}},K.COURSES)}(s);e?(i(e),u(null)):u("About page settings not found")}catch(e){u(`Failed to load settings: ${e instanceof Error?e.message:"Unknown error"}`)}finally{o(!1)}})()},[s]);const g=(e,a)=>{i(s=>s?{...s,[e]:a}:null)};if(t)return e.jsxDEV("div",{className:"flex items-center justify-center p-12",children:e.jsxDEV("div",{className:"text-gray-600 text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:109,columnNumber:11},void 0),"Loading settings..."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:108,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:107,columnNumber:7},void 0);if(!r)return e.jsxDEV("div",{className:"p-6 bg-red-50 border-l-4 border-red-500 rounded",children:[e.jsxDEV("p",{className:"text-red-800 font-semibold",children:"Error"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:119,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-red-600 text-sm",children:"About page settings not found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:120,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:118,columnNumber:7},void 0);return e.jsxDEV("div",{className:"w-full max-w-5xl mx-auto",children:[e.jsxDEV("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[e.jsxDEV("div",{className:"px-4 py-3 flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"About Page Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:141,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600 text-xs mt-0.5",children:"Manage all about page sections and content"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:140,columnNumber:11},void 0),e.jsxDEV(re,{onClick:async()=>{if(r)try{l(!0),await async function(e,a="about"){try{const{data:s,error:r}=await O.from("about_page_cms").select("*").eq("page_slug",a);if(r||!s||0===s.length)throw new Error(`About page CMS record not found for slug: ${a}`);const i={},t=["id","page_slug","page_type","created_at","created_by"],o=["mission_description_1","mission_description_2","mission_highlight_title","mission_highlight_description"];for(const[a,c]of Object.entries(e))t.includes(a)||o.includes(a)||void 0===c||(i[a]=c);i.updated_at=(new Date).toISOString();const{data:n,error:l}=await O.from("about_page_cms").update(i).eq("page_slug",a).select();if(l)throw console.error("Supabase update error:",{error:l,updatePayload:i,slug:a}),new Error(`Failed to update about page CMS: ${l.message}`);if(!n||0===n.length)throw new Error("No about page CMS record found to update");return Y.invalidatePattern(`about-page-cms:${a}`),n[0]}catch(d){throw console.error("Error updating about page CMS:",d),d}}(r,s),b("Settings saved successfully!"),setTimeout(()=>b(null),3e3)}catch(e){u(`Failed to save: ${e instanceof Error?e.message:"Unknown error"}`)}finally{l(!1)}},disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-1.5 rounded-lg text-sm font-semibold transition-colors",children:n?"Saving...":"ðŸ’¾ Save"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:146,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:139,columnNumber:9},void 0),d&&e.jsxDEV("div",{className:"px-4 pb-3 pt-0",children:e.jsxDEV("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 rounded text-sm",children:[e.jsxDEV("p",{className:"text-red-800 font-semibold",children:"Error"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-red-600 text-xs mt-0.5",children:d},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:160,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:158,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:157,columnNumber:11},void 0),h&&e.jsxDEV("div",{className:"px-4 pb-3 pt-0",children:e.jsxDEV("div",{className:"p-3 bg-green-50 border-l-4 border-green-500 rounded text-sm",children:[e.jsxDEV("p",{className:"text-green-800 font-semibold",children:"Success"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:167,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-green-600 text-xs mt-0.5",children:h},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:168,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:166,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:165,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:138,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white border-b border-gray-200",children:e.jsxDEV("div",{className:"flex gap-2 px-4 overflow-x-auto",children:[{id:"hero",label:"Hero",icon:"ðŸŽ¯"},{id:"mission",label:"Mission",icon:"ðŸ“–"},{id:"stats",label:"Stats",icon:"ðŸ“Š"},{id:"values",label:"Values",icon:"ðŸ’Ž"},{id:"team",label:"Team",icon:"ðŸ‘¥"},{id:"vision",label:"Vision",icon:"ðŸ”®"},{id:"cta",label:"CTA",icon:"ðŸš€"}].map(a=>e.jsxDEV("button",{onClick:()=>m(a.id),className:"px-3 py-2.5 text-sm font-semibold border-b-2 whitespace-nowrap transition-all "+(c===a.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[e.jsxDEV("span",{className:"mr-1",children:a.icon},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:187,columnNumber:15},void 0),a.label]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:178,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:176,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:175,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-gray-50 min-h-screen p-4",children:["hero"===c&&e.jsxDEV(dt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:196,columnNumber:34},void 0),"mission"===c&&e.jsxDEV(ut,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:198,columnNumber:11},void 0),"stats"===c&&e.jsxDEV(ht,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:201,columnNumber:11},void 0),"values"===c&&e.jsxDEV(bt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:204,columnNumber:11},void 0),"team"===c&&e.jsxDEV(gt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:206,columnNumber:34},void 0),"vision"===c&&e.jsxDEV(Nt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:208,columnNumber:11},void 0),"cta"===c&&e.jsxDEV(xt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:210,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:195,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:136,columnNumber:5},void 0)};function dt({settings:a,updateSetting:s}){return e.jsxDEV(e.Fragment,{children:e.jsxDEV(ct,{title:"Hero Section",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(lt,{label:"Title",children:e.jsxDEV("input",{type:"text",value:a.hero_title||"",onChange:e=>s("hero_title",e.target.value),placeholder:"Enter hero title",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:231,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:230,columnNumber:11},this),e.jsxDEV(lt,{label:"Title Highlight",children:e.jsxDEV("input",{type:"text",value:a.hero_title_highlight||"",onChange:e=>s("hero_title_highlight",e.target.value),placeholder:"Highlighted part of title",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:241,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:240,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:229,columnNumber:9},this),e.jsxDEV(lt,{label:"Description",description:"HTML supported",children:[e.jsxDEV("textarea",{value:a.hero_description||"",onChange:e=>s("hero_description",e.target.value),placeholder:"Enter hero description... (HTML tags supported)",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:252,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-gray-500 italic mt-1",children:"ðŸ’¡ HTML content is supported (e.g., <b>, <i>, <br>, <a>)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:259,columnNumber:11},this),a.hero_description&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",dangerouslySetInnerHTML:{__html:a.hero_description}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:263,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:251,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Buttons"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:271,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV(lt,{label:"Button 1 Text",children:e.jsxDEV("input",{type:"text",value:a.hero_button_1_text||"",onChange:e=>s("hero_button_1_text",e.target.value),placeholder:"e.g., Get Started",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:274,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:273,columnNumber:13},this),e.jsxDEV(lt,{label:"Button 1 Link",children:e.jsxDEV("input",{type:"text",value:a.hero_button_1_link||"",onChange:e=>s("hero_button_1_link",e.target.value),placeholder:"/courses",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:284,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:283,columnNumber:13},this),e.jsxDEV(lt,{label:"Button 2 Text",children:e.jsxDEV("input",{type:"text",value:a.hero_button_2_text||"",onChange:e=>s("hero_button_2_text",e.target.value),placeholder:"e.g., Learn More",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:294,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:293,columnNumber:13},this),e.jsxDEV(lt,{label:"Button 2 Link",children:e.jsxDEV("input",{type:"text",value:a.hero_button_2_link||"",onChange:e=>s("hero_button_2_link",e.target.value),placeholder:"/about",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:304,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:303,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:270,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:316,columnNumber:11},this),e.jsxDEV(it,{bgType:a.hero_bg_type||"color",bgColor:a.hero_bg_color||"#fffbfa",bgImageUrl:a.hero_bg_image_url,onBgTypeChange:e=>s("hero_bg_type",e),onBgColorChange:e=>s("hero_bg_color",e),onBgImageChange:e=>s("hero_bg_image_url",e),label:"Hero Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:317,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:315,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:228,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:227,columnNumber:5},this)}function ut({settings:s,updateSetting:r}){const[i,t]=a.useState(!1);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ct,{title:"Mission Section",children:[e.jsxDEV(lt,{label:"Title",children:e.jsxDEV("input",{type:"text",value:s.mission_title||"",onChange:e=>r("mission_title",e.target.value),placeholder:"Mission title",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:346,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:345,columnNumber:9},this),e.jsxDEV(lt,{label:"Description",children:e.jsxDEV(nt,{value:s.mission_description||"",onChange:e=>r("mission_description",e),placeholder:"Enter mission description..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:356,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:355,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Image & Caption"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:364,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(lt,{label:"Image",children:[s.mission_image_url&&e.jsxDEV("div",{className:"relative mb-2 h-32 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center",children:e.jsxDEV("img",{src:s.mission_image_url,alt:"Mission",className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none";const a=e.currentTarget.parentElement;a&&(a.innerHTML='<div class="text-gray-400 text-center"><div class="text-4xl">ðŸ“·</div></div>')}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:369,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:368,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>t(!0),className:"w-full px-3 py-1.5 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:s.mission_image_url?"Change Image":"Select Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:383,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:366,columnNumber:13},this),e.jsxDEV(lt,{label:"Caption Title",children:e.jsxDEV("input",{type:"text",value:s.mission_image_caption_title||"",onChange:e=>r("mission_image_caption_title",e.target.value),placeholder:"Caption title",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:392,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:391,columnNumber:13},this),e.jsxDEV(lt,{label:"Caption Description",children:e.jsxDEV("textarea",{value:s.mission_image_caption_description||"",onChange:e=>r("mission_image_caption_description",e.target.value),placeholder:"Caption description",rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:402,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:401,columnNumber:13},this),e.jsxDEV(lt,{label:"Caption Icon",children:e.jsxDEV("select",{value:s.mission_image_caption_icon||"StarIcon",onChange:e=>r("mission_image_caption_icon",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"StarIcon",children:"Star"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:417,columnNumber:17},this),e.jsxDEV("option",{value:"AcademicCapIcon",children:"Academic Cap"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:418,columnNumber:17},this),e.jsxDEV("option",{value:"BookOpenIcon",children:"Book Open"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:419,columnNumber:17},this),e.jsxDEV("option",{value:"UserGroupIcon",children:"User Group"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:420,columnNumber:17},this),e.jsxDEV("option",{value:"LightBulbIcon",children:"Light Bulb"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:421,columnNumber:17},this),e.jsxDEV("option",{value:"SparklesIcon",children:"Sparkles"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:422,columnNumber:17},this),e.jsxDEV("option",{value:"GlobeAltIcon",children:"Globe"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:423,columnNumber:17},this),e.jsxDEV("option",{value:"HeartIcon",children:"Heart"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:424,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:412,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:411,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:365,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:363,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:431,columnNumber:11},this),e.jsxDEV(it,{bgType:s.mission_bg_type||"color",bgColor:s.mission_bg_color||"#ffffff",bgImageUrl:s.mission_bg_image_url,onBgTypeChange:e=>r("mission_bg_type",e),onBgColorChange:e=>r("mission_bg_color",e),onBgImageChange:e=>r("mission_bg_image_url",e),label:"Mission Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:432,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:430,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:344,columnNumber:7},this),i&&e.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[80vh] flex flex-col shadow-2xl border border-gray-300",children:[e.jsxDEV("div",{className:"px-6 py-3 border-b border-gray-200 flex justify-between items-center bg-gradient-to-r from-blue-500 to-purple-600",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:"Select Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:449,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>t(!1),className:"text-white/80 hover:text-white text-2xl leading-none",children:"Ã—"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:450,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:448,columnNumber:13},this),e.jsxDEV("div",{className:"px-4 py-3 overflow-y-auto flex-1",children:e.jsxDEV(ge,{accept:["image/*"],compact:!0,showUpload:!1,onSelect:e=>{e.length>0&&r("mission_image_url",e[0].file_url),t(!1)},onClose:()=>t(!1)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:458,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:457,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:447,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:446,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:343,columnNumber:5},this)}function ht({settings:a,updateSetting:s}){const r=a.stats_items||[],i=(e,a,i)=>{const t=[...r];t[e]={...t[e],[a]:i},s("stats_items",t)};return e.jsxDEV(e.Fragment,{children:e.jsxDEV(ct,{title:"Stats Section",children:[e.jsxDEV(lt,{label:"Visible",children:e.jsxDEV("label",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:a.stats_visible||!1,onChange:e=>s("stats_visible",e.target.checked),className:"rounded border-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:495,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Show this section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:501,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:494,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:493,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(lt,{label:"Title",children:e.jsxDEV("input",{type:"text",value:a.stats_title||"",onChange:e=>s("stats_title",e.target.value),placeholder:"Enter stats title",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:507,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:506,columnNumber:11},this),e.jsxDEV(lt,{label:"Subtitle",children:e.jsxDEV("input",{type:"text",value:a.stats_subtitle||"",onChange:e=>s("stats_subtitle",e.target.value),placeholder:"Enter stats subtitle",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:517,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:516,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:505,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900",children:"Stats Items"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:529,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>{s("stats_items",[...r,{number:"",label:""}])},className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"+ Add Stat"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:530,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:528,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:r.map((a,t)=>e.jsxDEV("div",{className:"p-2 border border-gray-200 rounded-lg flex gap-2",children:[e.jsxDEV("input",{type:"text",value:a.number||"",onChange:e=>i(t,"number",e.target.value),placeholder:"Number",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:541,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:a.label||"",onChange:e=>i(t,"label",e.target.value),placeholder:"Label",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:548,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>(e=>{s("stats_items",r.filter((a,s)=>s!==e))})(t),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:555,columnNumber:17},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:540,columnNumber:15},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:538,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:527,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:567,columnNumber:11},this),e.jsxDEV(it,{bgType:a.stats_bg_type||"color",bgColor:a.stats_bg_color||"#dc2626",bgImageUrl:a.stats_bg_image_url,onBgTypeChange:e=>s("stats_bg_type",e),onBgColorChange:e=>s("stats_bg_color",e),onBgImageChange:e=>s("stats_bg_image_url",e),label:"Stats Section",previewClassName:"gradient-bg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:568,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:566,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:492,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:491,columnNumber:5},this)}function bt({settings:a,updateSetting:s}){const r=a.values_items||[],i=(e,a,i)=>{const t=[...r];t[e]={...t[e],[a]:i},s("values_items",t)};return e.jsxDEV(ct,{title:"Values Section",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:a.values_visible||!1,onChange:e=>s("values_visible",e.target.checked),className:"rounded border-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:611,columnNumber:9},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Visible"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:617,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:610,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(lt,{label:"Title",children:e.jsxDEV("input",{type:"text",value:a.values_title||"",onChange:e=>s("values_title",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter values title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:622,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:621,columnNumber:9},this),e.jsxDEV(lt,{label:"Subtitle",children:e.jsxDEV("input",{type:"text",value:a.values_subtitle||"",onChange:e=>s("values_subtitle",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter values subtitle"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:632,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:631,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:620,columnNumber:7},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900",children:"Values Items"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:644,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>{s("values_items",[...r,{title:"",description:"",icon:"StarIcon"}])},className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700",children:"+ Add Value"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:645,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:643,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:r.map((a,t)=>e.jsxDEV("div",{className:"p-3 border border-gray-200 rounded-lg space-y-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:a.title||"",onChange:e=>i(t,"title",e.target.value),placeholder:"Value Title",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:658,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>(e=>{s("values_items",r.filter((a,s)=>s!==e))})(t),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:665,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:657,columnNumber:17},this),e.jsxDEV("textarea",{value:a.description||"",onChange:e=>i(t,"description",e.target.value),placeholder:"Value Description",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:672,columnNumber:17},this),e.jsxDEV("select",{value:a.icon||"StarIcon",onChange:e=>i(t,"icon",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"StarIcon",children:"Star"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:684,columnNumber:19},this),e.jsxDEV("option",{value:"AcademicCapIcon",children:"Academic Cap"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:685,columnNumber:19},this),e.jsxDEV("option",{value:"BookOpenIcon",children:"Book Open"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:686,columnNumber:19},this),e.jsxDEV("option",{value:"UserGroupIcon",children:"User Group"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:687,columnNumber:19},this),e.jsxDEV("option",{value:"LightBulbIcon",children:"Light Bulb"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:688,columnNumber:19},this),e.jsxDEV("option",{value:"SparklesIcon",children:"Sparkles"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:689,columnNumber:19},this),e.jsxDEV("option",{value:"GlobeAltIcon",children:"Globe"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:690,columnNumber:19},this),e.jsxDEV("option",{value:"HeartIcon",children:"Heart"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:691,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:679,columnNumber:17},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:656,columnNumber:15},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:653,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:642,columnNumber:7},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:700,columnNumber:9},this),e.jsxDEV(it,{bgType:a.values_bg_type||"color",bgColor:a.values_bg_color||"#ffffff",bgImageUrl:a.values_bg_image_url,onBgTypeChange:e=>s("values_bg_type",e),onBgColorChange:e=>s("values_bg_color",e),onBgImageChange:e=>s("values_bg_image_url",e),label:"Values Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:701,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:699,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:609,columnNumber:5},this)}function gt({settings:s,updateSetting:r}){const i=s.team_members||[],[t,o]=a.useState(!1),[n,l]=a.useState(null),c=(e,a,s)=>{const t=[...i];t[e]={...t[e],[a]:s},r("team_members",t)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ct,{title:"Team Section",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:s.team_visible||!1,onChange:e=>r("team_visible",e.target.checked),className:"rounded border-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:759,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Visible"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:765,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:758,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(lt,{label:"Title",children:e.jsxDEV("input",{type:"text",value:s.team_title||"",onChange:e=>r("team_title",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter team title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:770,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:769,columnNumber:11},this),e.jsxDEV(lt,{label:"Subtitle",children:e.jsxDEV("input",{type:"text",value:s.team_subtitle||"",onChange:e=>r("team_subtitle",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter team subtitle"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:780,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:779,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:768,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900",children:"Team Members"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:792,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>{r("team_members",[...i,{name:"",role:"",bio:"",image_url:""}])},className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700",children:"+ Add Member"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:793,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:791,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:i.map((a,s)=>e.jsxDEV("div",{className:"p-3 border border-gray-200 rounded-lg space-y-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:a.name||"",onChange:e=>c(s,"name",e.target.value),placeholder:"Name",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:809,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:a.role||"",onChange:e=>c(s,"role",e.target.value),placeholder:"Role",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:816,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:808,columnNumber:19},this),e.jsxDEV("textarea",{value:a.bio||"",onChange:e=>c(s,"bio",e.target.value),placeholder:"Bio",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:824,columnNumber:19},this),a.image_url&&e.jsxDEV("div",{className:"relative w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center",children:e.jsxDEV("img",{src:a.image_url,alt:a.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none";const a=e.currentTarget.parentElement;a&&(a.innerHTML='<div class="text-gray-400 text-center"><div class="text-2xl">ðŸ“·</div></div>')}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:833,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:832,columnNumber:21},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>(e=>{l(e),o(!0)})(s),className:"flex-1 px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:a.image_url?"Change Image":"Select Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:848,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>(e=>{r("team_members",i.filter((a,s)=>s!==e))})(s),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:854,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:847,columnNumber:19},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:807,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:801,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:790,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:868,columnNumber:11},this),e.jsxDEV(it,{bgType:s.team_bg_type||"color",bgColor:s.team_bg_color||"#f3f4f6",bgImageUrl:s.team_bg_image_url,onBgTypeChange:e=>r("team_bg_type",e),onBgColorChange:e=>r("team_bg_color",e),onBgImageChange:e=>r("team_bg_image_url",e),label:"Team Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:869,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:867,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:757,columnNumber:7},this),t&&e.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[80vh] flex flex-col shadow-2xl border border-gray-300",children:[e.jsxDEV("div",{className:"px-6 py-3 border-b border-gray-200 flex justify-between items-center bg-gradient-to-r from-blue-500 to-purple-600",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-white",children:"Select Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:886,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>{o(!1),l(null)},className:"text-white/80 hover:text-white text-2xl leading-none",children:"Ã—"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:887,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:885,columnNumber:13},this),e.jsxDEV("div",{className:"px-4 py-3 overflow-y-auto flex-1",children:e.jsxDEV(ge,{accept:["image/*"],compact:!0,showUpload:!1,onSelect:e=>{e.length>0&&null!==n&&c(n,"image_url",e[0].file_url),o(!1),l(null)},onClose:()=>{o(!1),l(null)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:898,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:897,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:884,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:883,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:756,columnNumber:5},this)}function Nt({settings:a,updateSetting:s}){const r=a.vision_items||[],i=(e,a,i)=>{const t=[...r];t[e]={...t[e],[a]:i},s("vision_items",t)};return e.jsxDEV(ct,{title:"Vision Section",children:[e.jsxDEV(lt,{label:"Title",children:e.jsxDEV("input",{type:"text",value:a.vision_title||"",onChange:e=>s("vision_title",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter vision title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:943,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:942,columnNumber:7},this),e.jsxDEV(lt,{label:"Description",description:"HTML supported",children:[e.jsxDEV("textarea",{value:a.vision_description||"",onChange:e=>s("vision_description",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Enter vision description... (HTML tags supported)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:953,columnNumber:9},this),e.jsxDEV("p",{className:"text-xs text-gray-500 italic mt-1",children:"ðŸ’¡ HTML content is supported (e.g., <b>, <i>, <br>, <a>)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:960,columnNumber:9},this),a.vision_description&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded text-sm text-gray-700",dangerouslySetInnerHTML:{__html:a.vision_description}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:964,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:952,columnNumber:7},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900",children:"Vision Items"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:973,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>{s("vision_items",[...r,{title:"",description:"",icon:"StarIcon"}])},className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700",children:"+ Add Item"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:974,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:972,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:r.map((a,t)=>e.jsxDEV("div",{className:"p-3 border border-gray-200 rounded-lg space-y-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:a.title||"",onChange:e=>i(t,"title",e.target.value),placeholder:"Item Title",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:987,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>(e=>{s("vision_items",r.filter((a,s)=>s!==e))})(t),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:994,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:986,columnNumber:17},this),e.jsxDEV("textarea",{value:a.description||"",onChange:e=>i(t,"description",e.target.value),placeholder:"Item Description",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1001,columnNumber:17},this),e.jsxDEV("select",{value:a.icon||"StarIcon",onChange:e=>i(t,"icon",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"StarIcon",children:"Star"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1013,columnNumber:19},this),e.jsxDEV("option",{value:"AcademicCapIcon",children:"Academic Cap"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1014,columnNumber:19},this),e.jsxDEV("option",{value:"BookOpenIcon",children:"Book Open"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1015,columnNumber:19},this),e.jsxDEV("option",{value:"UserGroupIcon",children:"User Group"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1016,columnNumber:19},this),e.jsxDEV("option",{value:"LightBulbIcon",children:"Light Bulb"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1017,columnNumber:19},this),e.jsxDEV("option",{value:"SparklesIcon",children:"Sparkles"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1018,columnNumber:19},this),e.jsxDEV("option",{value:"GlobeAltIcon",children:"Globe"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1019,columnNumber:19},this),e.jsxDEV("option",{value:"HeartIcon",children:"Heart"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1020,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1008,columnNumber:17},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:985,columnNumber:15},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:982,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:971,columnNumber:7},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1029,columnNumber:9},this),e.jsxDEV(it,{bgType:a.vision_bg_type||"color",bgColor:a.vision_bg_color||"#ffffff",bgImageUrl:a.vision_bg_image_url,onBgTypeChange:e=>s("vision_bg_type",e),onBgColorChange:e=>s("vision_bg_color",e),onBgImageChange:e=>s("vision_bg_image_url",e),label:"Vision Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1030,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1028,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:941,columnNumber:5},this)}function xt({settings:a,updateSetting:s}){return e.jsxDEV(ct,{title:"Call-to-Action Section",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:a.cta_visible||!1,onChange:e=>s("cta_visible",e.target.checked),className:"rounded border-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1048,columnNumber:9},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Visible"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1054,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1047,columnNumber:7},this),e.jsxDEV(lt,{label:"Title",children:e.jsxDEV("input",{type:"text",value:a.cta_title||"",onChange:e=>s("cta_title",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter CTA title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1058,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1057,columnNumber:7},this),e.jsxDEV(lt,{label:"Description",children:e.jsxDEV("textarea",{value:a.cta_description||"",onChange:e=>s("cta_description",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Enter CTA description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1068,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1067,columnNumber:7},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Button 1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1078,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV(lt,{label:"Button 1 Text",children:e.jsxDEV("input",{type:"text",value:a.cta_button_1_text||"",onChange:e=>s("cta_button_1_text",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Button text"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1081,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1080,columnNumber:11},this),e.jsxDEV(lt,{label:"Button 1 Link",children:e.jsxDEV("input",{type:"text",value:a.cta_button_1_link||"",onChange:e=>s("cta_button_1_link",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"/link"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1090,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1089,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1079,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1077,columnNumber:7},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Button 2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1102,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV(lt,{label:"Button 2 Text",children:e.jsxDEV("input",{type:"text",value:a.cta_button_2_text||"",onChange:e=>s("cta_button_2_text",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Button text"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1105,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1104,columnNumber:11},this),e.jsxDEV(lt,{label:"Button 2 Link",children:e.jsxDEV("input",{type:"text",value:a.cta_button_2_link||"",onChange:e=>s("cta_button_2_link",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"/link"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1114,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1113,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1103,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1101,columnNumber:7},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1126,columnNumber:9},this),e.jsxDEV(it,{bgType:a.cta_bg_type||"color",bgColor:a.cta_bg_color||"#dc2626",bgImageUrl:a.cta_bg_image_url,onBgTypeChange:e=>s("cta_bg_type",e),onBgColorChange:e=>s("cta_bg_color",e),onBgImageChange:e=>s("cta_bg_image_url",e),label:"CTA Section",previewClassName:"gradient-bg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1127,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1125,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AboutPageCMSEditor.tsx",lineNumber:1046,columnNumber:5},this)}const pt=["EnvelopeIcon","PhoneIcon","MapPinIcon","ClockIcon","ChatBubbleLeftRightIcon","QuestionMarkCircleIcon","UserGroupIcon","GlobeAltIcon"];function Dt({label:a,description:s,children:r}){return e.jsxDEV("div",{className:"flex flex-col gap-1.5",children:[e.jsxDEV("label",{className:"text-sm font-semibold text-gray-900",children:[a,s&&e.jsxDEV("i",{className:"font-normal text-xs text-gray-500 ml-2",children:s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:46,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:44,columnNumber:7},this),r]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:43,columnNumber:5},this)}function ft({title:a,children:s}){return e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 space-y-4",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:a},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:56,columnNumber:7},this),s]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:55,columnNumber:5},this)}const St=({slug:s="contact"})=>{const[r,i]=a.useState(null),[t,o]=a.useState(!0),[n,l]=a.useState(!1),[c,m]=a.useState("hero"),[d,u]=a.useState(null),[h,b]=a.useState(null);a.useEffect(()=>{(async()=>{try{const e=await Os(s);e?(i(e),u(null)):u("Contact page settings not found")}catch(e){u(`Failed to load settings: ${e instanceof Error?e.message:"Unknown error"}`)}finally{o(!1)}})()},[s]);const g=(e,a)=>{i(s=>s?{...s,[e]:a}:null)};if(t)return e.jsxDEV("div",{className:"flex items-center justify-center p-12",children:e.jsxDEV("div",{className:"text-gray-600 text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:126,columnNumber:11},void 0),"Loading settings..."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:125,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:124,columnNumber:7},void 0);if(!r)return e.jsxDEV("div",{className:"p-6 bg-red-50 border-l-4 border-red-500 rounded",children:[e.jsxDEV("p",{className:"text-red-800 font-semibold",children:"Error"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:136,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-red-600 text-sm",children:"Contact page settings not found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:137,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:135,columnNumber:7},void 0);return e.jsxDEV("div",{className:"w-full max-w-5xl mx-auto",children:[e.jsxDEV("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[e.jsxDEV("div",{className:"px-4 py-3 flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"Contact Page Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:156,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600 text-xs mt-0.5",children:"Manage contact page content and sections"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:157,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:155,columnNumber:11},void 0),e.jsxDEV(re,{onClick:async()=>{if(r)try{l(!0);const e=await async function(e,a="contact"){try{const{error:s}=await O.from("contact_page_cms").update({...e,updated_at:(new Date).toISOString()}).eq("page_slug",a);return s?(console.error("Error updating contact page CMS:",s),{success:!1,error:s.message}):{success:!0}}catch(d){return console.error("Error in updateContactPageCMS:",d),{success:!1,error:d instanceof Error?d.message:"Unknown error"}}}(r,s);e.success?(b("Settings saved successfully!"),setTimeout(()=>b(null),3e3)):u(e.error||"Failed to save settings")}catch(e){u(`Failed to save: ${e instanceof Error?e.message:"Unknown error"}`)}finally{l(!1)}},disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-1.5 rounded-lg text-sm font-semibold transition-colors",children:n?"Saving...":"ðŸ’¾ Save"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:159,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:154,columnNumber:9},void 0),d&&e.jsxDEV("div",{className:"px-4 pb-3 pt-0",children:e.jsxDEV("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 rounded text-sm",children:[e.jsxDEV("p",{className:"text-red-800 font-semibold",children:"Error"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:172,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-red-600 text-xs mt-0.5",children:d},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:173,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:171,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:170,columnNumber:11},void 0),h&&e.jsxDEV("div",{className:"px-4 pb-3 pt-0",children:e.jsxDEV("div",{className:"p-3 bg-green-50 border-l-4 border-green-500 rounded text-sm",children:[e.jsxDEV("p",{className:"text-green-800 font-semibold",children:"Success"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:180,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-green-600 text-xs mt-0.5",children:h},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:181,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:179,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:178,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:153,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white border-b border-gray-200",children:e.jsxDEV("div",{className:"flex gap-2 px-4 overflow-x-auto",children:[{id:"hero",label:"Hero",icon:"ðŸŽ¯"},{id:"contact-info",label:"Contact Info",icon:"ðŸ“ž"},{id:"form",label:"Form",icon:"ðŸ“"},{id:"faq",label:"FAQ",icon:"â“"},{id:"cta",label:"CTA",icon:"ðŸš€"}].map(a=>e.jsxDEV("button",{onClick:()=>m(a.id),className:"px-3 py-2.5 text-sm font-semibold border-b-2 whitespace-nowrap transition-all "+(c===a.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[e.jsxDEV("span",{className:"mr-1",children:a.icon},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:200,columnNumber:15},void 0),a.label]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:191,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:189,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:188,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-gray-50 min-h-screen p-4",children:["hero"===c&&e.jsxDEV(yt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:209,columnNumber:34},void 0),"contact-info"===c&&e.jsxDEV(vt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:211,columnNumber:11},void 0),"form"===c&&e.jsxDEV(jt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:213,columnNumber:34},void 0),"faq"===c&&e.jsxDEV(Tt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:214,columnNumber:33},void 0),"cta"===c&&e.jsxDEV(Pt,{settings:r,updateSetting:g},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:215,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:208,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:151,columnNumber:5},void 0)};function yt({settings:a,updateSetting:s}){return e.jsxDEV(e.Fragment,{children:e.jsxDEV(ft,{title:"Hero Section",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Dt,{label:"Title",description:"Main heading",children:e.jsxDEV("input",{type:"text",value:a.hero_title||"",onChange:e=>s("hero_title",e.target.value),placeholder:"e.g., Get in Touch",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:236,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:235,columnNumber:11},this),e.jsxDEV(Dt,{label:"Title Highlight",children:e.jsxDEV("input",{type:"text",value:a.hero_title_highlight||"",onChange:e=>s("hero_title_highlight",e.target.value),placeholder:"Highlighted part of title",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:246,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:245,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:234,columnNumber:9},this),e.jsxDEV(Dt,{label:"Description",description:"Hero section subtitle",children:e.jsxDEV("textarea",{value:a.hero_description||"",onChange:e=>s("hero_description",e.target.value),placeholder:"Enter hero description...",rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:257,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:256,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:267,columnNumber:11},this),e.jsxDEV(it,{bgType:a.hero_bg_type||"color",bgColor:a.hero_bg_color||"#fffbfa",bgImageUrl:a.hero_bg_image_url,onBgTypeChange:e=>s("hero_bg_type",e),onBgColorChange:e=>s("hero_bg_color",e),onBgImageChange:e=>s("hero_bg_image_url",e),label:"Hero Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:268,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:266,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:233,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:232,columnNumber:5},this)}function vt({settings:a,updateSetting:s}){const r=a.contact_info_items||[],i=(e,a,i)=>{const t=[...r];t[e]={...t[e],[a]:i},s("contact_info_items",t)};return e.jsxDEV(e.Fragment,{children:e.jsxDEV(ft,{title:"Contact Info Cards",children:[e.jsxDEV("div",{className:"space-y-6",children:[r.map((a,t)=>e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:["Contact Card ",t+1]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:327,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>(e=>{s("contact_info_items",r.filter((a,s)=>s!==e))})(t),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:328,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:326,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Dt,{label:"Icon",children:e.jsxDEV("select",{value:a.icon,onChange:e=>i(t,"icon",e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:pt.map(a=>e.jsxDEV("option",{value:a,children:a},a,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:344,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:338,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:337,columnNumber:17},this),e.jsxDEV(Dt,{label:"Title",children:e.jsxDEV("input",{type:"text",value:a.title,onChange:e=>i(t,"title",e.target.value),placeholder:"e.g., Email Us",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:352,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:351,columnNumber:17},this),e.jsxDEV(Dt,{label:"Details",children:e.jsxDEV("input",{type:"text",value:a.details,onChange:e=>i(t,"details",e.target.value),placeholder:"e.g., info@example.com",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:362,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:361,columnNumber:17},this),e.jsxDEV(Dt,{label:"Description",children:e.jsxDEV("input",{type:"text",value:a.description,onChange:e=>i(t,"description",e.target.value),placeholder:"e.g., Send us an email anytime",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:372,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:371,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:336,columnNumber:15},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:325,columnNumber:13},this)),e.jsxDEV(re,{onClick:()=>{s("contact_info_items",[...r,{icon:"EnvelopeIcon",title:"New Contact",details:"Details",description:"Description"}])},variant:"outline",className:"w-full",children:"+ Add Contact Card"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:384,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:323,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:390,columnNumber:11},this),e.jsxDEV(it,{bgType:a.contact_info_bg_type||"color",bgColor:a.contact_info_bg_color||"#ffffff",bgImageUrl:a.contact_info_bg_image_url,onBgTypeChange:e=>s("contact_info_bg_type",e),onBgColorChange:e=>s("contact_info_bg_color",e),onBgImageChange:e=>s("contact_info_bg_image_url",e),label:"Contact Info Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:391,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:389,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:322,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:321,columnNumber:5},this)}function jt({settings:a,updateSetting:s}){return e.jsxDEV(e.Fragment,{children:e.jsxDEV(ft,{title:"Contact Form Section",children:[e.jsxDEV(Dt,{label:"Visible",children:e.jsxDEV("label",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:a.form_visible||!1,onChange:e=>s("form_visible",e.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:421,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm text-gray-700",children:"Show contact form section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:427,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:420,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:419,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Dt,{label:"Form Title",children:e.jsxDEV("input",{type:"text",value:a.form_title||"",onChange:e=>s("form_title",e.target.value),placeholder:"e.g., Send us a Message",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:433,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:432,columnNumber:11},this),e.jsxDEV(Dt,{label:"Form Description",children:e.jsxDEV("input",{type:"text",value:a.form_description||"",onChange:e=>s("form_description",e.target.value),placeholder:"e.g., Fill out the form below...",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:443,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:442,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:431,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:454,columnNumber:11},this),e.jsxDEV(it,{bgType:a.form_bg_type||"color",bgColor:a.form_bg_color||"#ffffff",bgImageUrl:a.form_bg_image_url,onBgTypeChange:e=>s("form_bg_type",e),onBgColorChange:e=>s("form_bg_color",e),onBgImageChange:e=>s("form_bg_image_url",e),label:"Form Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:455,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:453,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:418,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:417,columnNumber:5},this)}function Tt({settings:a,updateSetting:s}){const r=a.faq_items||[],i=(e,a,i)=>{const t=[...r];t[e]={...t[e],[a]:i},s("faq_items",t)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ft,{title:"FAQ Section",children:[e.jsxDEV(Dt,{label:"Visible",children:e.jsxDEV("label",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:a.faq_visible||!1,onChange:e=>s("faq_visible",e.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:510,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm text-gray-700",children:"Show FAQ section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:516,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:509,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:508,columnNumber:9},this),e.jsxDEV(Dt,{label:"FAQ Title",children:e.jsxDEV("input",{type:"text",value:a.faq_title||"",onChange:e=>s("faq_title",e.target.value),placeholder:"e.g., Frequently Asked Questions",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:521,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:520,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:[r.map((a,t)=>e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:["FAQ ",t+1]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:534,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>(e=>{s("faq_items",r.filter((a,s)=>s!==e))})(t),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:535,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:533,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(Dt,{label:"Question",children:e.jsxDEV("input",{type:"text",value:a.question,onChange:e=>i(t,"question",e.target.value),placeholder:"e.g., How do I enroll?",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:545,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:544,columnNumber:17},this),e.jsxDEV(Dt,{label:"Answer",children:e.jsxDEV("textarea",{value:a.answer,onChange:e=>i(t,"answer",e.target.value),placeholder:"Enter the answer...",rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:555,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:554,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:543,columnNumber:15},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:532,columnNumber:13},this)),e.jsxDEV(re,{onClick:()=>{s("faq_items",[...r,{question:"New Question",answer:"Answer"}])},variant:"outline",className:"w-full",children:"+ Add FAQ Item"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:567,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:530,columnNumber:9},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:573,columnNumber:11},this),e.jsxDEV(it,{bgType:a.faq_bg_type||"color",bgColor:a.faq_bg_color||"#ffffff",bgImageUrl:a.faq_bg_image_url,onBgTypeChange:e=>s("faq_bg_type",e),onBgColorChange:e=>s("faq_bg_color",e),onBgImageChange:e=>s("faq_bg_image_url",e),label:"FAQ Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:574,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:572,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:507,columnNumber:7},this),e.jsxDEV(ft,{title:"Help Card",children:[e.jsxDEV(Dt,{label:"Visible",children:e.jsxDEV("label",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:a.help_card_visible||!1,onChange:e=>s("help_card_visible",e.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:589,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm text-gray-700",children:"Show help card"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:595,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:588,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:587,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Dt,{label:"Title",children:e.jsxDEV("input",{type:"text",value:a.help_card_title||"",onChange:e=>s("help_card_title",e.target.value),placeholder:"e.g., Need Immediate Help?",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:601,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:600,columnNumber:11},this),e.jsxDEV(Dt,{label:"Description",children:e.jsxDEV("input",{type:"text",value:a.help_card_description||"",onChange:e=>s("help_card_description",e.target.value),placeholder:"Help card description",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:611,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:610,columnNumber:11},this),e.jsxDEV(Dt,{label:"Button Text",children:e.jsxDEV("input",{type:"text",value:a.help_card_button_text||"",onChange:e=>s("help_card_button_text",e.target.value),placeholder:"e.g., Chat with AI Assistant",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:621,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:620,columnNumber:11},this),e.jsxDEV(Dt,{label:"Button Link",children:e.jsxDEV("input",{type:"text",value:a.help_card_button_link||"",onChange:e=>s("help_card_button_link",e.target.value),placeholder:"e.g., /chat",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:631,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:630,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:599,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:586,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:506,columnNumber:5},this)}function Pt({settings:a,updateSetting:s}){return e.jsxDEV(ft,{title:"CTA Section",children:[e.jsxDEV(Dt,{label:"Visible",children:e.jsxDEV("label",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"checkbox",checked:a.cta_visible||!1,onChange:e=>s("cta_visible",e.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:659,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm text-gray-700",children:"Show CTA section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:665,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:658,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:657,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Dt,{label:"CTA Title",children:e.jsxDEV("input",{type:"text",value:a.cta_title||"",onChange:e=>s("cta_title",e.target.value),placeholder:"e.g., Ready to Start Learning?",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:671,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:670,columnNumber:9},this),e.jsxDEV(Dt,{label:"CTA Description",children:e.jsxDEV("input",{type:"text",value:a.cta_description||"",onChange:e=>s("cta_description",e.target.value),placeholder:"CTA description",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:681,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:680,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:669,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(Dt,{label:"Button 1 Text",children:e.jsxDEV("input",{type:"text",value:a.cta_button_1_text||"",onChange:e=>s("cta_button_1_text",e.target.value),placeholder:"e.g., Browse Courses",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:693,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:692,columnNumber:9},this),e.jsxDEV(Dt,{label:"Button 1 Link",children:e.jsxDEV("input",{type:"text",value:a.cta_button_1_link||"",onChange:e=>s("cta_button_1_link",e.target.value),placeholder:"e.g., /courses",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:703,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:702,columnNumber:9},this),e.jsxDEV(Dt,{label:"Button 2 Text",children:e.jsxDEV("input",{type:"text",value:a.cta_button_2_text||"",onChange:e=>s("cta_button_2_text",e.target.value),placeholder:"e.g., Create Account",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:713,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:712,columnNumber:9},this),e.jsxDEV(Dt,{label:"Button 2 Link",children:e.jsxDEV("input",{type:"text",value:a.cta_button_2_link||"",onChange:e=>s("cta_button_2_link",e.target.value),placeholder:"e.g., /register",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:723,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:722,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:691,columnNumber:7},this),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-gray-900 mb-3",children:"Background Settings"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:734,columnNumber:9},this),e.jsxDEV(it,{bgType:a.cta_bg_type||"color",bgColor:a.cta_bg_color||"#dc2626",bgImageUrl:a.cta_bg_image_url,onBgTypeChange:e=>s("cta_bg_type",e),onBgColorChange:e=>s("cta_bg_color",e),onBgImageChange:e=>s("cta_bg_image_url",e),label:"CTA Section",previewClassName:"gradient-bg"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:735,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:733,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ContactPageCMSEditor.tsx",lineNumber:656,columnNumber:5},this)}const Et=[{name:"None",value:""},{name:"Home",value:"Home"},{name:"GraduationCap",value:"GraduationCap"},{name:"BookOpen",value:"BookOpen"},{name:"Users",value:"Users"},{name:"User",value:"User"},{name:"Mail",value:"Mail"},{name:"Phone",value:"Phone"},{name:"MapPin",value:"MapPin"},{name:"Calendar",value:"Calendar"},{name:"Clock",value:"Clock"},{name:"FileText",value:"FileText"},{name:"Image",value:"Image"},{name:"Video",value:"Video"},{name:"Music",value:"Music"},{name:"Download",value:"Download"},{name:"Upload",value:"Upload"},{name:"Settings",value:"Settings"},{name:"HelpCircle",value:"HelpCircle"},{name:"Info",value:"Info"},{name:"AlertCircle",value:"AlertCircle"},{name:"CheckCircle",value:"CheckCircle"},{name:"XCircle",value:"XCircle"},{name:"Star",value:"Star"},{name:"Heart",value:"Heart"},{name:"Award",value:"Award"},{name:"Trophy",value:"Trophy"},{name:"Target",value:"Target"},{name:"Zap",value:"Zap"},{name:"TrendingUp",value:"TrendingUp"},{name:"BarChart",value:"BarChart"},{name:"PieChart",value:"PieChart"},{name:"Activity",value:"Activity"},{name:"Globe",value:"Globe"},{name:"Compass",value:"Compass"},{name:"Navigation",value:"Navigation"},{name:"Send",value:"Send"},{name:"MessageCircle",value:"MessageCircle"},{name:"MessageSquare",value:"MessageSquare"},{name:"Briefcase",value:"Briefcase"},{name:"Package",value:"Package"},{name:"ShoppingCart",value:"ShoppingCart"},{name:"CreditCard",value:"CreditCard"},{name:"DollarSign",value:"DollarSign"},{name:"Gift",value:"Gift"},{name:"Tag",value:"Tag"},{name:"Bookmark",value:"Bookmark"},{name:"Archive",value:"Archive"},{name:"Folder",value:"Folder"},{name:"FolderOpen",value:"FolderOpen"},{name:"Shield",value:"Shield"},{name:"Lock",value:"Lock"},{name:"Unlock",value:"Unlock"},{name:"Key",value:"Key"},{name:"Eye",value:"Eye"},{name:"EyeOff",value:"EyeOff"}];function It(){const[s,r]=a.useState([]),[i,t]=a.useState(!0),[o,n]=a.useState(!1),[l,c]=a.useState(null),[m,d]=a.useState({totalItems:0,activeItems:0,parentItems:0}),[u,h]=a.useState({type:"custom",isActive:!0,sortOrder:0}),[g,N]=a.useState(null),[x,p]=a.useState(null),[D,f]=a.useState(null),[S,y]=a.useState({isOpen:!1,itemId:null,itemTitle:"",isDeleting:!1});a.useEffect(()=>{v()},[]);const v=async()=>{t(!0);try{const e=await Is("header"),a=await Is("header-child"),s=[...e,...a],i=s.filter(e=>e.metadata?.parentMenuId&&"header"===e.menu);if(i.length>0){for(const r of i)await Vs(r.id,{metadata:{...r.metadata,menu:"header-child"}});const e=await Is("header"),a=await Is("header-child"),s=[...e,...a];return r(s),await j(s),void b.success(`Fixed ${i.length} items with incorrect menu type`)}r(s),await j(s)}catch(e){console.error("[HeaderMenu] Failed to load menu items:",e),b.error("Failed to load header menu items")}finally{t(!1)}},j=async e=>{try{const a=e.filter(e=>e.isActive).length,s=e.filter(e=>!e.metadata?.parentMenuId).length;d({totalItems:e.length,activeItems:a,parentItems:s})}catch(a){console.error("Error updating stats:",a)}},T=()=>{f(null)},P=s.filter(e=>"header"===e.menu||!e.metadata?.parentMenuId),E=s.filter(e=>"header-child"===e.menu&&e.metadata?.parentMenuId),I=[],H=new Set(P.map(e=>e.id));P.sort((e,a)=>e.sortOrder-a.sortOrder).forEach(e=>{I.push(e);const a=E.filter(a=>a.metadata?.parentMenuId===e.id).sort((e,a)=>e.sortOrder-a.sortOrder);I.push(...a)});const V=E.filter(e=>!H.has(e.metadata?.parentMenuId));return V.length>0&&I.push(...V.sort((e,a)=>e.sortOrder-a.sortOrder)),i?e.jsxDEV("div",{className:"flex items-center justify-center py-12",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-orange-100 rounded-full mb-4",children:e.jsxDEV("div",{className:"w-8 h-8 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:497,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:496,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600",children:"Loading header menu items..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:499,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:495,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:494,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxDEV("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 p-3",children:[e.jsxDEV("div",{className:"text-xs font-medium text-blue-700",children:"Total Items"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:510,columnNumber:11},this),e.jsxDEV("div",{className:"mt-1 text-lg font-bold text-blue-900",children:m.totalItems},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:511,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:509,columnNumber:9},this),e.jsxDEV("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 p-3",children:[e.jsxDEV("div",{className:"text-xs font-medium text-blue-700",children:"Active Items"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:514,columnNumber:11},this),e.jsxDEV("div",{className:"mt-1 text-lg font-bold text-blue-900",children:m.activeItems},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:515,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:513,columnNumber:9},this),e.jsxDEV("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 p-3",children:[e.jsxDEV("div",{className:"text-xs font-medium text-blue-700",children:"Parent Items"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:518,columnNumber:11},this),e.jsxDEV("div",{className:"mt-1 text-lg font-bold text-blue-900",children:m.parentItems},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:519,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:517,columnNumber:9},this),e.jsxDEV(re,{onClick:()=>{c(null),h({type:"custom",isActive:!0,sortOrder:0,metadata:{}}),N(null),n(!0)},className:"flex items-center justify-center space-x-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium cursor-pointer col-span-1",children:[e.jsxDEV(Da,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:525,columnNumber:11},this),e.jsxDEV("span",{children:"Add"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:526,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:521,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:508,columnNumber:7},this),o&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"border-b border-gray-200 px-6 py-4 sticky top-0 bg-white",children:e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:l?"Edit Header Menu Item":"Add Header Menu Item"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:535,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:534,columnNumber:13},this),e.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),u.title)try{const e=!!g?"header-child":"header",a={...u.metadata||{},...g&&{parentMenuId:g},menu:e},s=b.loading(l?"Updating menu item...":"Creating menu item...");if(l){const e=await Vs(l.id,{...u,metadata:a});b.dismiss(s),e?(await v(),b.success(`"${u.title}" updated successfully`)):b.error("Failed to update menu item")}else{const r=await Hs({title:u.title||"",type:u.type||"custom",url:u.url||u.href||"",href:u.url||u.href||"",label:u.label||u.title||"",icon:u.icon||"",badge:u.badge||"",sortOrder:u.sortOrder||0,isActive:u.isActive??!0,openInNewTab:u.openInNewTab||!1,description:u.description||"",metadata:{...a,menuType:e}});b.dismiss(s),r?(await v(),b.success(`"${u.title}" created successfully`)):b.error("Failed to create menu item")}n(!1),c(null)}catch(a){console.error("Error saving menu item:",a),b.error("Failed to save menu item")}else b.error("Please enter a title")},className:"p-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:546,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:u.title||"",onChange:e=>h({...u,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Menu item title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:547,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:545,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:558,columnNumber:21},this),e.jsxDEV("select",{value:u.type||"custom",onChange:e=>h({...u,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsxDEV("option",{value:"custom",children:"Custom URL"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:571,columnNumber:23},this),e.jsxDEV("option",{value:"external",children:"External Link"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:572,columnNumber:23},this),e.jsxDEV("option",{value:"page",children:"Page Link"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:573,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:561,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:557,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:579,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:u.url||"",onChange:e=>h({...u,url:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"/about or https://example.com"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:580,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:578,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:591,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:u.label||"",onChange:e=>h({...u,label:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Display label"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:592,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:590,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:603,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("select",{value:u.icon||"",onChange:e=>h({...u,icon:e.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:Et.map(a=>e.jsxDEV("option",{value:a.value,children:a.name},a.value,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:611,columnNumber:27},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:605,columnNumber:23},this),u.icon&&(()=>{const a=Za[u.icon];return a?e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 border border-gray-300 rounded-lg bg-gray-50",children:e.jsxDEV(a,{className:"w-5 h-5 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:623,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:622,columnNumber:29},this):null})()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:604,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Select an icon from the dropdown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:628,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:602,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:543,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Menu (Make this a child item)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:636,columnNumber:21},this),e.jsxDEV("select",{value:g||"",onChange:e=>N(e.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsxDEV("option",{value:"",children:"None - Top Level Item"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:644,columnNumber:23},this),s.filter(e=>e.id!==l?.id&&("header"===e.menu||!e.metadata?.parentMenuId)).map(a=>e.jsxDEV("option",{value:a.id,children:a.title},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:652,columnNumber:27},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:639,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Or use Shift+Drag to nest items in the table"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:657,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:635,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Badge"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:664,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:u.badge||"",onChange:e=>h({...u,badge:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"e.g., New, Beta"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:665,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:663,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:676,columnNumber:21},this),e.jsxDEV("input",{type:"number",value:u.sortOrder||0,onChange:e=>h({...u,sortOrder:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:679,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:675,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",checked:u.openInNewTab||!1,onChange:e=>h({...u,openInNewTab:e.target.checked}),className:"rounded border-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:692,columnNumber:23},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Open in new tab"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:700,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:691,columnNumber:21},this),e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",checked:!1!==u.isActive,onChange:e=>h({...u,isActive:e.target.checked}),className:"rounded border-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:703,columnNumber:23},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:709,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:702,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:690,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:715,columnNumber:21},this),e.jsxDEV("textarea",{value:u.description||"",onChange:e=>h({...u,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Optional tooltip or description",rows:2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:718,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:714,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:633,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:541,columnNumber:15},this),e.jsxDEV("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[e.jsxDEV(re,{type:"button",onClick:()=>{n(!1),c(null)},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium cursor-pointer",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:731,columnNumber:17},this),e.jsxDEV(re,{type:"submit",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium cursor-pointer",children:[l?"Update":"Create"," Item"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:741,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:730,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:540,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:533,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:532,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:0===I.length?e.jsxDEV("div",{className:"text-center py-12",children:e.jsxDEV("p",{className:"text-gray-600",children:"No header menu items yet. Add your first item!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:757,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:756,columnNumber:11},this):e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"bg-blue-50 border-b border-blue-200 px-6 py-3",children:e.jsxDEV("p",{className:"text-sm text-blue-800",children:[e.jsxDEV("strong",{children:"ðŸ’¡ Tip:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:764,columnNumber:17},this)," Drag items to reorder. Hold"," ",e.jsxDEV("kbd",{className:"px-2 py-0.5 bg-white border border-blue-300 rounded text-xs font-mono",children:"Shift"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:765,columnNumber:17},this)," ","while dropping to make an item a child of another."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:763,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:762,columnNumber:13},this),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"border-b border-gray-200 bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-900 w-10"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:775,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:776,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:779,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"URL"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:782,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Order"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:783,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-center text-sm font-semibold text-gray-900",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:786,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-900",children:"Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:789,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:774,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:773,columnNumber:17},this),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:I.map(a=>{const i="header-child"===a.menu&&a.metadata?.parentMenuId,t=s.filter(e=>e.metadata?.parentMenuId===a.id).length;return e.jsxDEV("tr",{draggable:!0,onDragStart:e=>((e,a)=>{p(a),e.dataTransfer.effectAllowed="move"})(e,a.id),onDragOver:e=>((e,a)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",f(a)})(e,a.id),onDragLeave:T,onDrop:e=>(async(e,a)=>{if(e.preventDefault(),f(null),x&&x!==a)try{const i=s.find(e=>e.id===x),t=s.find(e=>e.id===a);if(!i||!t)return;if("header"!==t.menu&&t.metadata?.parentMenuId||!e.shiftKey){const e=s.filter(e=>"header"===e.menu||!e.metadata?.parentMenuId),i=s.filter(e=>"header-child"===e.menu&&e.metadata?.parentMenuId),t=[],o=new Set(e.map(e=>e.id));e.sort((e,a)=>e.sortOrder-a.sortOrder).forEach(e=>{t.push(e);const a=i.filter(a=>a.metadata?.parentMenuId===e.id).sort((e,a)=>e.sortOrder-a.sortOrder);t.push(...a)});const n=i.filter(e=>!o.has(e.metadata?.parentMenuId));n.length>0&&t.push(...n.sort((e,a)=>e.sortOrder-a.sortOrder));const l=t.findIndex(e=>e.id===x),c=t.findIndex(e=>e.id===a);if(-1===l||-1===c)return;const m=[...t],[d]=m.splice(l,1);m.splice(c,0,d);const u=m.map((e,a)=>({...e,sortOrder:a}));r(s.map(e=>u.find(a=>a.id===e.id)||e));for(const a of u)await Vs(a.id,{sortOrder:a.sortOrder});b.success("Menu items reordered successfully")}else await Vs(x,{metadata:{...i.metadata,parentMenuId:a,menu:"header-child"}})?(b.success(`"${i.title}" moved under "${t.title}"`),await v()):b.error("Failed to update menu item")}catch(i){console.error("Error handling drop:",i),b.error("Failed to update menu items"),v()}finally{p(null)}else p(null)})(e,a.id),className:`transition-colors cursor-move ${i?"bg-gray-50":""} ${x===a.id?"opacity-50 bg-blue-50":""} ${D===a.id&&x!==a.id?"border-t-2 border-blue-400 bg-blue-50":"hover:bg-gray-100"}`,children:[e.jsxDEV("td",{className:"px-4 py-4 text-center",children:e.jsxDEV(Xa,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:817,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:816,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4 "+(i?"pl-12":""),children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[i&&e.jsxDEV("span",{className:"text-gray-400",children:"â†³"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:821,columnNumber:41},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:823,columnNumber:31},this),a.label&&a.label!==a.title&&e.jsxDEV("div",{className:"text-xs text-gray-600",children:a.label},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:825,columnNumber:33},this),!i&&t>0&&e.jsxDEV("div",{className:"text-xs text-blue-600",children:[t," submenu(s)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:828,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:822,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:820,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:819,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:a.type.charAt(0).toUpperCase()+a.type.slice(1).toLowerCase()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:836,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:835,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:a.url},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:841,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:840,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.sortOrder},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:843,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4 text-center",children:e.jsxDEV("button",{onClick:()=>(async e=>{const a=s.find(a=>a.id===e);if(!a)return;const i=b.loading(a.isActive?"Deactivating menu item...":"Activating menu item...");try{const t=await Vs(e,{isActive:!a.isActive});if(b.dismiss(i),t){const i=s.map(a=>a.id===e?{...a,isActive:!a.isActive}:a);r(i),b.success(`"${a.title}" ${a.isActive?"deactivated":"activated"} successfully`),await j(i)}else b.error("Failed to update menu item")}catch(t){b.dismiss(i),console.error("Error updating menu item:",t),b.error("Failed to update menu item")}})(a.id),className:"inline-flex items-center space-x-1 px-2.5 py-0.5 rounded text-xs font-medium transition-colors cursor-pointer "+(a.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:a.isActive?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ze,{className:"w-3 h-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:855,columnNumber:33},this),e.jsxDEV("span",{children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:856,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:854,columnNumber:31},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(es,{className:"w-3 h-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:860,columnNumber:33},this),e.jsxDEV("span",{children:"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:861,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:859,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:845,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:844,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex justify-end space-x-3",children:[e.jsxDEV("button",{onClick:()=>(e=>{c(e),h(e),N(e.metadata?.parentMenuId||null),n(!0)})(a),className:"text-blue-600 hover:text-blue-700 transition-colors cursor-pointer",title:"Edit",children:e.jsxDEV(Ta,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:873,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:868,columnNumber:29},this),e.jsxDEV("button",{onClick:()=>(e=>{const a=s.find(a=>a.id===e);y({isOpen:!0,itemId:e,itemTitle:a?.title||"this item",isDeleting:!1})})(a.id),className:"text-red-600 hover:text-red-700 transition-colors cursor-pointer",title:"Delete",children:e.jsxDEV(Xe,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:880,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:875,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:867,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:866,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:801,columnNumber:23},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:794,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:772,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:771,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:760,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:754,columnNumber:7},this),e.jsxDEV(De,{isOpen:S.isOpen,title:"Delete Menu Item",message:`Are you sure you want to delete "${S.itemTitle}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",onConfirm:async()=>{if(S.itemId){y(e=>({...e,isDeleting:!0}));try{if(await Ws(S.itemId)){const e=s.filter(e=>e.id!==S.itemId);r(e),b.success(`"${S.itemTitle}" deleted successfully`),await j(e)}else b.error("Failed to delete menu item")}catch(e){console.error("Error deleting menu item:",e),b.error("Failed to delete menu item")}finally{y({isOpen:!1,itemId:null,itemTitle:"",isDeleting:!1})}}},onCancel:()=>y({isOpen:!1,itemId:null,itemTitle:"",isDeleting:!1}),variant:"danger",loading:S.isDeleting},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:895,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/HeaderMenuManagement.tsx",lineNumber:506,columnNumber:5},this)}const Ht=[{name:"None",value:""},{name:"Home",value:"Home"},{name:"GraduationCap",value:"GraduationCap"},{name:"BookOpen",value:"BookOpen"},{name:"Users",value:"Users"},{name:"User",value:"User"},{name:"Mail",value:"Mail"},{name:"Phone",value:"Phone"},{name:"MapPin",value:"MapPin"},{name:"Calendar",value:"Calendar"},{name:"Clock",value:"Clock"},{name:"FileText",value:"FileText"},{name:"Image",value:"Image"},{name:"Video",value:"Video"},{name:"Music",value:"Music"},{name:"Download",value:"Download"},{name:"Upload",value:"Upload"},{name:"Settings",value:"Settings"},{name:"HelpCircle",value:"HelpCircle"},{name:"Info",value:"Info"},{name:"AlertCircle",value:"AlertCircle"},{name:"CheckCircle",value:"CheckCircle"},{name:"XCircle",value:"XCircle"},{name:"Star",value:"Star"},{name:"Heart",value:"Heart"},{name:"Award",value:"Award"},{name:"Trophy",value:"Trophy"},{name:"Target",value:"Target"},{name:"Zap",value:"Zap"},{name:"TrendingUp",value:"TrendingUp"},{name:"BarChart",value:"BarChart"},{name:"PieChart",value:"PieChart"},{name:"Activity",value:"Activity"},{name:"Globe",value:"Globe"},{name:"Compass",value:"Compass"},{name:"Navigation",value:"Navigation"},{name:"Send",value:"Send"},{name:"MessageCircle",value:"MessageCircle"},{name:"MessageSquare",value:"MessageSquare"},{name:"Briefcase",value:"Briefcase"},{name:"Package",value:"Package"},{name:"ShoppingCart",value:"ShoppingCart"},{name:"CreditCard",value:"CreditCard"},{name:"DollarSign",value:"DollarSign"},{name:"Gift",value:"Gift"},{name:"Tag",value:"Tag"},{name:"Bookmark",value:"Bookmark"},{name:"Archive",value:"Archive"},{name:"Folder",value:"Folder"},{name:"FolderOpen",value:"FolderOpen"},{name:"Shield",value:"Shield"},{name:"Lock",value:"Lock"},{name:"Unlock",value:"Unlock"},{name:"Key",value:"Key"},{name:"Eye",value:"Eye"},{name:"EyeOff",value:"EyeOff"}];function Vt(){const[s,r]=a.useState([]),[i,t]=a.useState(!0),[o,n]=a.useState(!1),[l,c]=a.useState(null),[m,d]=a.useState({totalItems:0,activeItems:0,sections:0}),[u,h]=a.useState({type:"custom",isActive:!0,sortOrder:0}),[g,N]=a.useState(null),[x,p]=a.useState(""),[D,f]=a.useState(null),[S,y]=a.useState(null),[v,j]=a.useState({isOpen:!1,itemId:null,itemTitle:"",isDeleting:!1});a.useEffect(()=>{T()},[]);const T=async()=>{t(!0);try{const e=await Is("footer"),a=await Is("footer-child"),s=[...e,...a],i=s.filter(e=>e.metadata?.parentMenuId&&"footer"===e.menu);if(i.length>0){for(const r of i)await Vs(r.id,{metadata:{...r.metadata,menu:"footer-child"}});const e=await Is("footer"),a=await Is("footer-child"),s=[...e,...a];return r(s),await P(s),void b.success(`Fixed ${i.length} items with incorrect menu type`)}r(s),await P(s)}catch(e){console.error("[FooterMenu] Failed to load menu items:",e),b.error("Failed to load footer menu items")}finally{t(!1)}},P=async e=>{try{const a=e.filter(e=>e.isActive).length,s=new Set;e.forEach(e=>{if(!e.metadata?.parentMenuId){const a=e.metadata?.section;a&&s.add(a)}}),d({totalItems:e.length,activeItems:a,sections:s.size})}catch(a){console.error("Error updating stats:",a)}},E=()=>{y(null)},I=s.filter(e=>"footer"===e.menu||!e.metadata?.parentMenuId),H=s.filter(e=>"footer-child"===e.menu&&e.metadata?.parentMenuId),V=[],W=new Set(I.map(e=>e.id));I.sort((e,a)=>e.sortOrder-a.sortOrder).forEach(e=>{V.push(e);const a=H.filter(a=>a.metadata?.parentMenuId===e.id).sort((e,a)=>e.sortOrder-a.sortOrder);V.push(...a)});const w=H.filter(e=>!W.has(e.metadata?.parentMenuId));w.length>0&&V.push(...w.sort((e,a)=>e.sortOrder-a.sortOrder));const _=new Set;return s.forEach(e=>{e.metadata?.section&&_.add(e.metadata.section)}),i?e.jsxDEV("div",{className:"flex items-center justify-center py-12",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full mb-4",children:e.jsxDEV("div",{className:"w-8 h-8 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:519,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:518,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600",children:"Loading footer menu items..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:521,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:517,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:516,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxDEV("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 p-3",children:[e.jsxDEV("div",{className:"text-xs font-medium text-purple-700",children:"Total Items"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:532,columnNumber:11},this),e.jsxDEV("div",{className:"mt-1 text-lg font-bold text-purple-900",children:m.totalItems},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:533,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:531,columnNumber:9},this),e.jsxDEV("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 p-3",children:[e.jsxDEV("div",{className:"text-xs font-medium text-purple-700",children:"Active Items"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:536,columnNumber:11},this),e.jsxDEV("div",{className:"mt-1 text-lg font-bold text-purple-900",children:m.activeItems},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:537,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:535,columnNumber:9},this),e.jsxDEV("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 p-3",children:[e.jsxDEV("div",{className:"text-xs font-medium text-purple-700",children:"Sections"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:540,columnNumber:11},this),e.jsxDEV("div",{className:"mt-1 text-lg font-bold text-purple-900",children:m.sections},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:541,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:539,columnNumber:9},this),e.jsxDEV(re,{onClick:()=>{c(null),h({type:"custom",isActive:!0,sortOrder:0,metadata:{}}),N(null),p(""),n(!0)},className:"flex items-center justify-center space-x-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-medium cursor-pointer col-span-1",children:[e.jsxDEV(Da,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:547,columnNumber:11},this),e.jsxDEV("span",{children:"Add"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:548,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:543,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:530,columnNumber:7},this),o&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"border-b border-gray-200 px-6 py-4 sticky top-0 bg-white",children:e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:l?"Edit Footer Menu Item":"Add Footer Menu Item"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:557,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:556,columnNumber:13},this),e.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),u.title)try{const e=!!g?"footer-child":"footer",a={...u.metadata||{},...g&&{parentMenuId:g},...x&&{section:x},menu:e},s=b.loading(l?"Updating menu item...":"Creating menu item...");if(l){const e=await Vs(l.id,{...u,metadata:a});b.dismiss(s),e?(await T(),b.success(`"${u.title}" updated successfully`)):b.error("Failed to update menu item")}else{const r=await Hs({title:u.title||"",type:u.type||"custom",url:u.url||u.href||"",href:u.url||u.href||"",label:u.label||u.title||"",icon:u.icon||"",badge:u.badge||"",sortOrder:u.sortOrder||0,isActive:u.isActive??!0,openInNewTab:u.openInNewTab||!1,description:u.description||"",metadata:{...a,menuType:e}});b.dismiss(s),r?(await T(),b.success(`"${u.title}" created successfully`)):b.error("Failed to create menu item")}n(!1),c(null)}catch(a){console.error("Error saving menu item:",a),b.error("Failed to save menu item")}else b.error("Please enter a title")},className:"p-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:568,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:u.title||"",onChange:e=>h({...u,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"Menu item title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:569,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:567,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:580,columnNumber:21},this),e.jsxDEV("select",{value:u.type||"custom",onChange:e=>h({...u,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:[e.jsxDEV("option",{value:"custom",children:"Custom URL"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:593,columnNumber:23},this),e.jsxDEV("option",{value:"external",children:"External Link"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:594,columnNumber:23},this),e.jsxDEV("option",{value:"page",children:"Page Link"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:595,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:583,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:579,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:601,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:u.url||"",onChange:e=>h({...u,url:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"/about or https://example.com"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:602,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:600,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:613,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:u.label||"",onChange:e=>h({...u,label:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"Display label"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:614,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:612,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:625,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("select",{value:u.icon||"",onChange:e=>h({...u,icon:e.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:Ht.map(a=>e.jsxDEV("option",{value:a.value,children:a.name},a.value,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:633,columnNumber:27},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:627,columnNumber:23},this),u.icon&&(()=>{const a=Za[u.icon];return a?e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 border border-gray-300 rounded-lg bg-gray-50",children:e.jsxDEV(a,{className:"w-5 h-5 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:645,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:644,columnNumber:29},this):null})()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:626,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Select an icon from the dropdown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:650,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:624,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:565,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section (Optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:658,columnNumber:21},this),e.jsxDEV("select",{value:x,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:[e.jsxDEV("option",{value:"",children:"-- Default Section --"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:666,columnNumber:23},this),Array.from(_).map(a=>e.jsxDEV("option",{value:a,children:a},a,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:668,columnNumber:25},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:661,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:657,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Menu (Make this a child item)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:677,columnNumber:21},this),e.jsxDEV("select",{value:g||"",onChange:e=>N(e.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:[e.jsxDEV("option",{value:"",children:"None - Top Level Item"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:685,columnNumber:23},this),s.filter(e=>e.id!==l?.id&&("footer"===e.menu||!e.metadata?.parentMenuId)).map(a=>e.jsxDEV("option",{value:a.id,children:a.title},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:693,columnNumber:27},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:680,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Or use Shift+Drag to nest items in the table"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:698,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:676,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Badge"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:705,columnNumber:21},this),e.jsxDEV("input",{type:"text",value:u.badge||"",onChange:e=>h({...u,badge:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"e.g., New, Beta"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:706,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:704,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:717,columnNumber:21},this),e.jsxDEV("input",{type:"number",value:u.sortOrder||0,onChange:e=>h({...u,sortOrder:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:720,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:716,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",checked:u.openInNewTab||!1,onChange:e=>h({...u,openInNewTab:e.target.checked}),className:"rounded border-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:733,columnNumber:23},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Open in new tab"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:741,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:732,columnNumber:21},this),e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",checked:!1!==u.isActive,onChange:e=>h({...u,isActive:e.target.checked}),className:"rounded border-gray-300"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:744,columnNumber:23},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-700",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:750,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:743,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:731,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:756,columnNumber:21},this),e.jsxDEV("textarea",{value:u.description||"",onChange:e=>h({...u,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:"Optional tooltip or description",rows:2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:759,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:755,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:655,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:563,columnNumber:15},this),e.jsxDEV("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[e.jsxDEV(re,{type:"button",onClick:()=>{n(!1),c(null)},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium cursor-pointer",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:772,columnNumber:17},this),e.jsxDEV(re,{type:"submit",className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-medium cursor-pointer",children:[l?"Update":"Create"," Item"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:782,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:771,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:562,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:555,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:554,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:0===V.length?e.jsxDEV("div",{className:"text-center py-12",children:e.jsxDEV("p",{className:"text-gray-600",children:"No footer menu items yet. Add your first item!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:798,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:797,columnNumber:11},this):e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"bg-blue-50 border-b border-blue-200 px-6 py-3",children:e.jsxDEV("p",{className:"text-sm text-blue-800",children:[e.jsxDEV("strong",{children:"ðŸ’¡ Tip:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:805,columnNumber:17},this)," Drag items to reorder. Hold"," ",e.jsxDEV("kbd",{className:"px-2 py-0.5 bg-white border border-blue-300 rounded text-xs font-mono",children:"Shift"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:806,columnNumber:17},this)," ","while dropping to make an item a child of another."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:804,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:803,columnNumber:13},this),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"border-b border-gray-200 bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-900 w-10"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:816,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:817,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Section"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:820,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:823,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"URL"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:826,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Order"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:827,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-center text-sm font-semibold text-gray-900",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:830,columnNumber:21},this),e.jsxDEV("th",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-900",children:"Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:833,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:815,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:814,columnNumber:17},this),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:V.map(a=>{const i="footer-child"===a.menu&&a.metadata?.parentMenuId;return e.jsxDEV("tr",{draggable:!0,onDragStart:e=>((e,a)=>{f(a),e.dataTransfer.effectAllowed="move"})(e,a.id),onDragOver:e=>((e,a)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",y(a)})(e,a.id),onDragLeave:E,onDrop:e=>(async(e,a)=>{if(e.preventDefault(),y(null),D&&D!==a)try{const i=s.find(e=>e.id===D),t=s.find(e=>e.id===a);if(!i||!t)return;if("footer"!==t.menu&&t.metadata?.parentMenuId||!e.shiftKey){const e=s.filter(e=>"footer"===e.menu||!e.metadata?.parentMenuId),i=s.filter(e=>"footer-child"===e.menu&&e.metadata?.parentMenuId),t=[],o=new Set(e.map(e=>e.id));e.sort((e,a)=>e.sortOrder-a.sortOrder).forEach(e=>{t.push(e);const a=i.filter(a=>a.metadata?.parentMenuId===e.id).sort((e,a)=>e.sortOrder-a.sortOrder);t.push(...a)});const n=i.filter(e=>!o.has(e.metadata?.parentMenuId));n.length>0&&t.push(...n.sort((e,a)=>e.sortOrder-a.sortOrder));const l=t.findIndex(e=>e.id===D),c=t.findIndex(e=>e.id===a);if(-1===l||-1===c)return;const m=[...t],[d]=m.splice(l,1);m.splice(c,0,d);const u=m.map((e,a)=>({...e,sortOrder:a}));r(s.map(e=>u.find(a=>a.id===e.id)||e));for(const a of u)await Vs(a.id,{sortOrder:a.sortOrder});b.success("Menu items reordered successfully")}else await Vs(D,{metadata:{...i.metadata,parentMenuId:a,menu:"footer-child"}})?(b.success(`"${i.title}" moved under "${t.title}"`),await T()):b.error("Failed to update menu item")}catch(i){console.error("Error handling drop:",i),b.error("Failed to update menu items"),T()}finally{f(null)}else f(null)})(e,a.id),className:`transition-colors cursor-move ${i?"bg-gray-50":""} ${D===a.id?"opacity-50 bg-purple-50":""} ${S===a.id&&D!==a.id?"border-t-2 border-purple-400 bg-purple-50":"hover:bg-gray-100"}`,children:[e.jsxDEV("td",{className:"px-4 py-4 text-center",children:e.jsxDEV(Xa,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:858,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:857,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4 "+(i?"pl-12":""),children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[i&&e.jsxDEV("span",{className:"text-gray-400",children:"â†³"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:862,columnNumber:41},this),e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:a.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:863,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:861,columnNumber:27},this),a.label&&a.label!==a.title&&e.jsxDEV("div",{className:"text-xs text-gray-600",children:a.label},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:866,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:860,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:a.metadata?.section||"Default"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:870,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:869,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:a.type.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:875,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:874,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:a.url},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:886,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:885,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.sortOrder},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:888,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4 text-center",children:e.jsxDEV("button",{onClick:()=>(async e=>{const a=s.find(a=>a.id===e);if(!a)return;const i=b.loading(a.isActive?"Deactivating menu item...":"Activating menu item...");try{const t=await Vs(e,{isActive:!a.isActive});if(b.dismiss(i),t){const i=s.map(a=>a.id===e?{...a,isActive:!a.isActive}:a);r(i),b.success(`"${a.title}" ${a.isActive?"deactivated":"activated"} successfully`),await P(i)}else b.error("Failed to update menu item")}catch(t){b.dismiss(i),console.error("Error updating menu item:",t),b.error("Failed to update menu item")}})(a.id),className:"inline-flex items-center space-x-1 px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors cursor-pointer "+(a.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:a.isActive?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ze,{className:"w-3 h-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:900,columnNumber:33},this),e.jsxDEV("span",{children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:901,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:899,columnNumber:31},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(es,{className:"w-3 h-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:905,columnNumber:33},this),e.jsxDEV("span",{children:"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:906,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:904,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:890,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:889,columnNumber:25},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex justify-end space-x-3",children:[e.jsxDEV("button",{onClick:()=>(e=>{c(e),h(e),N(e.metadata?.parentMenuId||null),p(e.metadata?.section||""),n(!0)})(a),className:"text-blue-600 hover:text-blue-700 transition-colors cursor-pointer",title:"Edit",children:e.jsxDEV(Ta,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:918,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:913,columnNumber:29},this),e.jsxDEV("button",{onClick:()=>(e=>{const a=s.find(a=>a.id===e);j({isOpen:!0,itemId:e,itemTitle:a?.title||"this item",isDeleting:!1})})(a.id),className:"text-red-600 hover:text-red-700 transition-colors cursor-pointer",title:"Delete",children:e.jsxDEV(Xe,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:925,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:920,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:912,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:911,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:842,columnNumber:23},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:838,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:813,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:812,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:801,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:795,columnNumber:7},this),e.jsxDEV(De,{isOpen:v.isOpen,title:"Delete Menu Item",message:`Are you sure you want to delete "${v.itemTitle}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",onConfirm:async()=>{if(v.itemId){j(e=>({...e,isDeleting:!0}));try{if(await Ws(v.itemId)){const e=s.filter(e=>e.id!==v.itemId);r(e),b.success(`"${v.itemTitle}" deleted successfully`),await P(e)}else b.error("Failed to delete menu item")}catch(e){console.error("Error deleting menu item:",e),b.error("Failed to delete menu item")}finally{j({isOpen:!1,itemId:null,itemTitle:"",isDeleting:!1})}}},onCancel:()=>j({isOpen:!1,itemId:null,itemTitle:"",isDeleting:!1}),variant:"danger",loading:v.isDeleting},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:940,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/FooterMenuManagement.tsx",lineNumber:528,columnNumber:5},this)}function Wt(e){return["image/jpeg","image/jpg","image/png","image/webp","image/tiff","image/bmp"].includes(e.toLowerCase())}const wt={subtle:{opacity:.2,position:"bottom-right",margin:15,maxSize:12},standard:{opacity:.3,position:"bottom-right",margin:20,maxSize:15},prominent:{opacity:.5,position:"bottom-right",margin:25,maxSize:20},center:{opacity:.2,position:"center",margin:0,maxSize:25}};function _t({mediaFiles:s,onClose:r,onComplete:i}){const{watermarkFiles:t,previewWatermark:o,loading:n}=function(){const[e,s]=a.useState(!1),[r,i]=a.useState(null);return{watermarkFiles:a.useCallback(async(e,a={})=>{s(!0),i(null);try{const{watermarkMediaFiles:s}=await le(async()=>{const{watermarkMediaFiles:e}=await import("./admin-analytics-BUJUGyzI.js").then(e=>e.a2);return{watermarkMediaFiles:e}},__vite__mapDeps([4,1,2,3,5,6])),r=await s(e,a),i=r.filter(e=>e.success).length,t=r.length-i;return i>0&&b.success(`Successfully watermarked ${i} file(s)`),t>0&&b.error(`Failed to watermark ${t} file(s)`),r}catch(r){const e=r instanceof Error?r.message:"Unknown error occurred";return i(e),b.error(e),[]}finally{s(!1)}},[]),previewWatermark:a.useCallback(async(e,a={})=>{s(!0),i(null);try{const s=await e.arrayBuffer(),r="/api/watermark/preview",i=await fetch(r,{method:"POST",headers:{"Content-Type":e.type,"X-Watermark-Options":JSON.stringify(a)},body:s});if(!i.ok){const e=await i.json();throw new Error(e.error||"Failed to generate preview")}const t=await i.blob();return URL.createObjectURL(t)}catch(r){const e=r instanceof Error?r.message:"Unknown error occurred";return i(e),b.error(e),null}finally{s(!1)}},[]),loading:e,error:r}}(),[l,c]=a.useState("configure"),[m,d]=a.useState(wt.standard),[u,h]=a.useState(null),[g,N]=a.useState("standard"),[x,p]=a.useState([]),D=s.filter(e=>Wt(e.mime_type)&&"image"===e.file_category),f=s.filter(e=>!Wt(e.mime_type)||"image"!==e.file_category);a.useEffect(()=>()=>{u&&URL.revokeObjectURL(u)},[u]);const S=(e,a)=>{N("custom"),d(s=>({...s,[e]:a})),u&&(URL.revokeObjectURL(u),h(null))};return e.jsxDEV("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-hidden",children:e.jsxDEV(ae,{className:"modal-card w-full max-w-4xl max-h-[90vh] overflow-y-auto overflow-x-hidden bg-white text-gray-900 shadow-xl",children:[e.jsxDEV(se,{className:"bg-white border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(as,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:133,columnNumber:15},this),e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Add Watermarks"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:134,columnNumber:15},this),e.jsxDEV(oe,{variant:"secondary",children:[s.length," files selected"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:135,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:132,columnNumber:13},this),e.jsxDEV(re,{variant:"ghost",size:"sm",onClick:r,children:e.jsxDEV(Ma,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:138,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:131,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:130,columnNumber:9},this),e.jsxDEV(ie,{className:"space-y-6 bg-white text-gray-900",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(ae,{className:"border-green-200 bg-green-50",children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(ss,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:149,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium text-green-900",children:[D.length," files can be watermarked"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:151,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-green-700",children:"Images (JPEG, PNG, WebP, TIFF, BMP)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:154,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:150,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:148,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:147,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:146,columnNumber:13},this),f.length>0&&e.jsxDEV(ae,{className:"border-yellow-200 bg-yellow-50",children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(ka,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:166,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium text-yellow-900",children:[f.length," files will be skipped"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:168,columnNumber:23},this),e.jsxDEV("div",{className:"text-sm text-yellow-700",children:"Videos, documents, and unsupported formats"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:171,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:167,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:165,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:164,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:145,columnNumber:11},this),"configure"===l&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium mb-3",children:"Watermark Style"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:185,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:Object.entries(wt).map(([a,s])=>e.jsxDEV(re,{variant:g===a?"primary":"outline",size:"sm",onClick:()=>{return N(e=a),d(wt[e]),void(u&&(URL.revokeObjectURL(u),h(null)));var e},className:"h-auto p-3 flex-col space-y-1",children:[e.jsxDEV("div",{className:"font-medium capitalize",children:a},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:195,columnNumber:23},this),e.jsxDEV("div",{className:"text-xs opacity-80",children:[100*s.opacity,"% â€¢ ",s.maxSize,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:196,columnNumber:23},this)]},a,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:188,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:186,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:184,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Opacity (",Math.round(100*(m.opacity||.3)),"%)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:207,columnNumber:19},this),e.jsxDEV(ce,{type:"range",min:"0.1",max:"0.8",step:"0.1",value:m.opacity||.3,onChange:e=>S("opacity",parseFloat(e.target.value))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:210,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:206,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:223,columnNumber:19},this),e.jsxDEV("select",{value:m.position||"bottom-right",onChange:e=>S("position",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[e.jsxDEV("option",{value:"bottom-right",children:"Bottom Right"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:229,columnNumber:21},this),e.jsxDEV("option",{value:"bottom-left",children:"Bottom Left"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:230,columnNumber:21},this),e.jsxDEV("option",{value:"top-right",children:"Top Right"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:231,columnNumber:21},this),e.jsxDEV("option",{value:"top-left",children:"Top Left"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:232,columnNumber:21},this),e.jsxDEV("option",{value:"center",children:"Center"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:233,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:224,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:222,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Margin (",m.margin||20,"px)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:238,columnNumber:19},this),e.jsxDEV(ce,{type:"range",min:"5",max:"50",step:"5",value:m.margin||20,onChange:e=>S("margin",parseInt(e.target.value))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:241,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:237,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Size (",m.maxSize||15,"%)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:254,columnNumber:19},this),e.jsxDEV(ce,{type:"range",min:"5",max:"30",step:"1",value:m.maxSize||15,onChange:e=>S("maxSize",parseInt(e.target.value))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:257,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:253,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:205,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-lg font-medium",children:"Preview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:273,columnNumber:19},this),e.jsxDEV(re,{variant:"outline",size:"sm",onClick:async()=>{if(0!==D.length)try{const e=D[0],a=await fetch(e.file_url),s=await a.blob(),r=new File([s],e.original_name,{type:e.mime_type}),i=await o(r,m);i&&(u&&URL.revokeObjectURL(u),h(i))}catch(e){console.error("Error generating preview:",e),b.error("Failed to generate preview")}},disabled:n||0===D.length,children:[n?e.jsxDEV(qa,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:281,columnNumber:23},this):e.jsxDEV(rs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:283,columnNumber:23},this),"Generate Preview"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:274,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:272,columnNumber:17},this),u?e.jsxDEV("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxDEV("img",{src:u,alt:"Watermark preview",className:"max-w-full max-h-64 mx-auto rounded border"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:291,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-600 text-center mt-2",children:["Preview of ",D[0]?.original_name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:296,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:290,columnNumber:19},this):e.jsxDEV("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center text-gray-500",children:'Click "Generate Preview" to see how the watermark will look'},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:271,columnNumber:15},this),e.jsxDEV("div",{className:"flex justify-end space-x-3",children:[e.jsxDEV(re,{variant:"outline",onClick:r,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:309,columnNumber:17},this),e.jsxDEV(re,{onClick:async()=>{c("processing");try{const e=D.map(e=>e.id),a=await t(e,m);p(a),c("complete")}catch(e){console.error("Error processing watermarks:",e),b.error("Failed to process watermarks"),c("configure")}},disabled:0===D.length||n,children:[n?e.jsxDEV(qa,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:317,columnNumber:21},this):e.jsxDEV(as,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:319,columnNumber:21},this),"Add Watermarks (",D.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:312,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:308,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:182,columnNumber:13},this),"processing"===l&&e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(qa,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:329,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium mb-2",children:"Adding Watermarks..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:330,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:["Processing ",D.length," file(s). This may take a moment."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:331,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:328,columnNumber:13},this),"complete"===l&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(ss,{className:"h-12 w-12 text-green-600 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:340,columnNumber:17},this),e.jsxDEV("h3",{className:"text-lg font-medium mb-2",children:"Watermarking Complete!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:341,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[e.jsxDEV(ae,{className:"border-green-200 bg-green-50",children:e.jsxDEV(ie,{className:"p-4 text-center",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:x.filter(e=>e.success).length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:346,columnNumber:23},this),e.jsxDEV("div",{className:"text-sm text-green-700",children:"Successfully watermarked"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:349,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:345,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:344,columnNumber:19},this),x.filter(e=>!e.success).length>0&&e.jsxDEV(ae,{className:"border-red-200 bg-red-50",children:e.jsxDEV(ie,{className:"p-4 text-center",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:x.filter(e=>!e.success).length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:356,columnNumber:25},this),e.jsxDEV("div",{className:"text-sm text-red-700",children:"Failed to watermark"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:359,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:355,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:354,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:343,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:339,columnNumber:15},this),e.jsxDEV("div",{className:"flex justify-center space-x-3",children:[e.jsxDEV(re,{variant:"outline",onClick:r,children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:367,columnNumber:17},this),e.jsxDEV(re,{onClick:()=>{i(),r()},children:[e.jsxDEV(ss,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:371,columnNumber:19},this),"Done"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:370,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:366,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:338,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:143,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:129,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/WatermarkDialog.tsx",lineNumber:128,columnNumber:5},this)}const Ct=({batch:s,gurukuls:r,onClose:i,onSuccess:t})=>{const[o,n]=a.useState({name:"",description:"",gurukul_id:"",teacher_id:"",start_date:"",end_date:"",max_students:"",status:"not_started"}),[l,c]=a.useState("gurukul"),[m,d]=a.useState(""),[u,h]=a.useState([]),[b,g]=a.useState([]),[x,p]=a.useState(!1),[D,f]=a.useState({}),{profile:S}=N();a.useEffect(()=>{y(),v(),s?n({name:s.name,description:s.description||"",gurukul_id:s.gurukul_id,teacher_id:s.teacher_id||"",start_date:s.start_date?s.start_date.split("T")[0]:"",end_date:s.end_date?s.end_date.split("T")[0]:"",max_students:s.max_students?.toString()||"",status:s.status||"not_started"}):"teacher"===S?.role&&S?.id&&n(e=>({...e,teacher_id:S.id}))},[s,S]);const y=async()=>{try{const e=(await q()).filter(e=>"teacher"===e.role);h(e)}catch(e){console.error("Error fetching teachers:",e)}},v=async()=>{try{if("teacher"===S?.role&&S?.id){const e=await ue(S.id);g(e)}else{const e=await X();g(e)}}catch(e){console.error("Error fetching courses:",e)}},j=e=>{const{name:a,value:s}=e.target;n(e=>({...e,[a]:s})),D[a]&&f(e=>({...e,[a]:""}))};return e.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-300",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-500 to-purple-600",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-white",children:s?"Edit Batch":"Create New Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:186,columnNumber:11},void 0),e.jsxDEV("button",{onClick:i,className:"text-white/80 hover:text-white",children:e.jsxDEV(Me,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:190,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:185,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};if(o.name.trim()||(e.name="Batch name is required"),"gurukul"!==l||o.gurukul_id||(e.gurukul_id="Gurukul is required"),"course"!==l||m||(e.course_id="Course is required"),o.start_date&&o.end_date){const a=new Date(o.start_date);new Date(o.end_date)<=a&&(e.end_date="End date must be after start date")}return o.max_students&&parseInt(o.max_students)<=0&&(e.max_students="Max students must be greater than 0"),f(e),0===Object.keys(e).length})()&&S){p(!0);try{let e=o.gurukul_id;if("course"===l&&m){const a=b.find(e=>e.id===m);e=a?.gurukul_id||""}const a={name:o.name.trim(),description:o.description.trim()||null,gurukul_id:e,teacher_id:o.teacher_id||null,start_date:o.start_date||null,end_date:o.end_date||null,max_students:o.max_students?parseInt(o.max_students):null,status:o.status,created_by:S.id,is_active:!0};let r;r=s?await W(s.id,a):await k(a),"course"===l&&m&&r&&await A(r.id,m,S.id),t()}catch(a){console.error("Error saving batch:",a),alert("Failed to save batch. Please try again.")}finally{p(!1)}}},className:"p-6 space-y-6",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Batch Assignment Type *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:197,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-6",children:[e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"radio",value:"gurukul",checked:"gurukul"===l,onChange:e=>c(e.target.value),className:"mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:202,columnNumber:17},void 0),e.jsxDEV("span",{children:"Gurukul-based (Traditional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:209,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:201,columnNumber:15},void 0),e.jsxDEV("label",{className:"flex items-center",children:[e.jsxDEV("input",{type:"radio",value:"course",checked:"course"===l,onChange:e=>c(e.target.value),className:"mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:212,columnNumber:17},void 0),e.jsxDEV("span",{children:"Course-based (Specific Course)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:219,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:211,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:200,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:196,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch Name *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:226,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",name:"name",value:o.name,onChange:j,className:"w-full px-2.5 py-1.5 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 "+(D.name?"border-red-500":"border-gray-300"),placeholder:"Enter batch name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:227,columnNumber:15},void 0),D.name&&e.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:D.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:237,columnNumber:31},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:225,columnNumber:13},void 0),"gurukul"===l?e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gurukul *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:242,columnNumber:17},void 0),e.jsxDEV("select",{name:"gurukul_id",value:o.gurukul_id,onChange:j,className:"w-full px-2.5 py-1.5 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 "+(D.gurukul_id?"border-red-500":"border-gray-300"),children:[e.jsxDEV("option",{value:"",children:"Select a gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:251,columnNumber:19},void 0),r.map(a=>e.jsxDEV("option",{value:a.id,children:a.name},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:253,columnNumber:21},void 0))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:243,columnNumber:17},void 0),D.gurukul_id&&e.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:D.gurukul_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:259,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:241,columnNumber:15},void 0):e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:264,columnNumber:17},void 0),e.jsxDEV("select",{value:m,onChange:e=>d(e.target.value),className:"w-full px-2.5 py-1.5 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 "+(D.course_id?"border-red-500":"border-gray-300"),children:[e.jsxDEV("option",{value:"",children:"Select a course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:272,columnNumber:19},void 0),b.map(a=>e.jsxDEV("option",{value:a.id,children:[a.title," (",a.gurukul?.name,")"]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:274,columnNumber:21},void 0))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:265,columnNumber:17},void 0),D.course_id&&e.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:D.course_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:280,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:263,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:286,columnNumber:15},void 0),e.jsxDEV("select",{name:"teacher_id",value:o.teacher_id,onChange:j,disabled:"teacher"===S?.role,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 "+("teacher"===S?.role?"bg-gray-100 cursor-not-allowed":""),children:[e.jsxDEV("option",{value:"",children:"Select a teacher (optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:296,columnNumber:17},void 0),u.map(a=>e.jsxDEV("option",{value:a.id,children:[a.full_name," (",a.email,")"]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:298,columnNumber:19},void 0))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:287,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:285,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:306,columnNumber:15},void 0),e.jsxDEV("select",{name:"status",value:o.status,onChange:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsxDEV("option",{value:"active",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:313,columnNumber:17},void 0),e.jsxDEV("option",{value:"inactive",children:"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:314,columnNumber:17},void 0),e.jsxDEV("option",{value:"completed",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:315,columnNumber:17},void 0),e.jsxDEV("option",{value:"archived",children:"Archived"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:316,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:307,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:305,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:321,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",name:"start_date",value:o.start_date,onChange:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:322,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:320,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:332,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",name:"end_date",value:o.end_date,onChange:j,className:"w-full px-2.5 py-1.5 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 "+(D.end_date?"border-red-500":"border-gray-300")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:333,columnNumber:15},void 0),D.end_date&&e.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:D.end_date},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:342,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:331,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:346,columnNumber:15},void 0),e.jsxDEV("input",{type:"number",name:"max_students",value:o.max_students,onChange:j,className:"w-full px-2.5 py-1.5 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 "+(D.max_students?"border-red-500":"border-gray-300"),placeholder:"Enter maximum number of students",min:"1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:347,columnNumber:15},void 0),D.max_students&&e.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:D.max_students},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:359,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:345,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:224,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:365,columnNumber:13},void 0),e.jsxDEV("textarea",{name:"description",value:o.description,onChange:j,rows:3,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter batch description (optional)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:366,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:364,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[e.jsxDEV(re,{type:"button",variant:"outline",onClick:i,disabled:x,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:377,columnNumber:13},void 0),e.jsxDEV(re,{type:"submit",disabled:x,className:"min-w-[100px]",children:x?"Saving...":s?"Update":"Create"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:380,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:376,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:194,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:184,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/BatchModal.tsx",lineNumber:183,columnNumber:5},void 0)},Mt=({batch:s,onClose:r,onSuccess:i})=>{const[t,o]=a.useState([]),[n,l]=a.useState([]),[c,m]=a.useState([]),[d,u]=a.useState(""),[h,b]=a.useState(!0),[g,x]=a.useState(!1),{profile:p}=N(),D=a.useCallback(async()=>{b(!0);try{const[e,a]=await Promise.all([V(s.id),q()]);o(e);let r=null;if(s.teacher_id){const e=await Te(s.teacher_id);r=new Set(e.map(e=>e.student_id))}const i=new Set(e.map(e=>e.student_id)),t=a.filter(e=>"student"===e.role&&(!i.has(e.id)&&!(r&&!r.has(e.id))));l(t)}catch(e){console.error("Error fetching data:",e)}finally{b(!1)}},[s.id,s.teacher_id]);a.useEffect(()=>{D()},[D]);const f=e=>{m(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},S=n.filter(e=>e.full_name?.toLowerCase().includes(d.toLowerCase())||e.email.toLowerCase().includes(d.toLowerCase())||e.student_id?.toLowerCase().includes(d.toLowerCase()));return h?e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:e.jsxDEV("div",{className:"animate-pulse space-y-4",children:[e.jsxDEV("div",{className:"h-6 bg-gray-200 rounded w-1/3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:129,columnNumber:15},void 0),e.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-1/2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:130,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[...Array(5)].map((a,s)=>e.jsxDEV("div",{className:"h-12 bg-gray-200 rounded"},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:133,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:128,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:127,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:125,columnNumber:7},void 0):e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:"Manage Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600",children:["Batch: ",s.name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:147,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(Me,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:152,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:151,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:146,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium mb-4",children:["Assigned Students (",t.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:160,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===t.length?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:"No students assigned to this batch yet."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:165,columnNumber:19},void 0):t.map(a=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"font-medium",children:a.student?.full_name||"Unknown Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:175,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-sm text-gray-600",children:a.student?.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:178,columnNumber:25},void 0),a.student?.student_id&&e.jsxDEV("div",{className:"text-sm text-gray-500",children:["ID: ",a.student.student_id]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:180,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:["Assigned: ",new Date(a.assigned_at).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:184,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:174,columnNumber:23},void 0),e.jsxDEV(re,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(p&&window.confirm("Are you sure you want to remove this student from the batch?"))try{await M(s.id,e),await D(),i()}catch(a){console.error("Error removing student:",a),alert("Failed to remove student. Please try again.")}})(a.student_id),className:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300",children:e.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:194,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:188,columnNumber:23},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:170,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:163,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:159,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-medium",children:["Available Students (",S.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:205,columnNumber:17},void 0),c.length>0&&e.jsxDEV(re,{onClick:async()=>{if(p&&0!==c.length){x(!0);try{await Promise.all(c.map(e=>C(s.id,e,p.id))),await D(),m([]),i()}catch(e){console.error("Error assigning students:",e),alert("Failed to assign students. Please try again.")}finally{x(!1)}}},disabled:g,className:"flex items-center space-x-2",children:[e.jsxDEV(Da,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:214,columnNumber:21},void 0),e.jsxDEV("span",{children:g?"Assigning...":`Assign ${c.length}`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:215,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:209,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:204,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative mb-4",children:[e.jsxDEV(Ga,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:222,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:223,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:221,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===S.length?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:d?"No students found matching your search.":"No available students to assign."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:234,columnNumber:19},void 0):S.map(a=>e.jsxDEV("div",{className:"flex items-center p-3 border rounded-lg cursor-pointer transition-colors "+(c.includes(a.id)?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),onClick:()=>f(a.id),children:[e.jsxDEV("input",{type:"checkbox",checked:c.includes(a.id),onChange:()=>f(a.id),className:"mr-3 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:250,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"font-medium",children:a.full_name||"Unnamed Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:257,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-sm text-gray-600",children:a.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:258,columnNumber:25},void 0),a.student_id&&e.jsxDEV("div",{className:"text-sm text-gray-500 mt-1",children:["ID: ",a.student_id]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:260,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:256,columnNumber:23},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:241,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:232,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:203,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:157,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:e.jsxDEV(re,{variant:"outline",onClick:r,children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:271,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:270,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:156,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:145,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentAssignmentModal.tsx",lineNumber:144,columnNumber:5},void 0)},kt=({student:s,onClose:r,onSuccess:i})=>{const[t,o]=a.useState([]),[n,l]=a.useState([]),[c,m]=a.useState([]),[d,u]=a.useState(""),[h,b]=a.useState(!0),[g,x]=a.useState(!1),{profile:p}=N(),D=a.useCallback(async()=>{b(!0);try{const[e,a]=await Promise.all([v(s.id),T({is_active:!0})]);o(e);const r=new Set(e.map(e=>e.batch_id)),i=a.filter(e=>"active"===e.status&&!r.has(e.id));l(i)}catch(e){console.error("Error fetching data:",e)}finally{b(!1)}},[s.id]);a.useEffect(()=>{D()},[D]);const f=e=>{m(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},S=n.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.description&&e.description.toLowerCase().includes(d.toLowerCase())||e.gurukul?.name.toLowerCase().includes(d.toLowerCase())),y=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"completed":return"bg-blue-100 text-blue-800";case"archived":return"bg-yellow-100 text-yellow-800"}};return h?e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:e.jsxDEV("div",{className:"animate-pulse space-y-4",children:[e.jsxDEV("div",{className:"h-6 bg-gray-200 rounded w-1/3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:133,columnNumber:15},void 0),e.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-1/2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:134,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[...Array(5)].map((a,s)=>e.jsxDEV("div",{className:"h-12 bg-gray-200 rounded"},s,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:137,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:135,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:132,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:131,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:130,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:129,columnNumber:7},void 0):e.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-300",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-500 to-purple-600",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-white",children:"Manage Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:152,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-white/90",children:["Student: ",s.full_name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:153,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:151,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"text-white/80 hover:text-white",children:e.jsxDEV(Me,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:156,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:155,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:150,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium mb-4",children:["Assigned Batches (",t.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:164,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===t.length?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:"No batches assigned to this student yet."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:169,columnNumber:19},void 0):t.map(a=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"font-medium",children:a.batch?.name||"Unknown Batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:179,columnNumber:25},void 0),a.batch?.description&&e.jsxDEV("div",{className:"text-sm text-gray-600",dangerouslySetInnerHTML:{__html:te(a.batch.description)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:183,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxDEV(oe,{className:y(a.batch?.status||""),children:a.batch?.status},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:191,columnNumber:27},void 0),a.batch?.gurukul&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:a.batch.gurukul.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:195,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:190,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:["Assigned: ",new Date(a.assigned_at).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:200,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:178,columnNumber:23},void 0),e.jsxDEV(re,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(p&&window.confirm("Are you sure you want to remove this student from the batch?"))try{await M(e,s.id),await D(),i()}catch(a){console.error("Error removing batch:",a),alert("Failed to remove batch. Please try again.")}})(a.batch_id),className:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300",children:e.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:210,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:204,columnNumber:23},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:174,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:167,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:163,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-medium",children:["Available Batches (",S.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:221,columnNumber:17},void 0),c.length>0&&e.jsxDEV(re,{onClick:async()=>{if(p&&0!==c.length){x(!0);try{await Promise.all(c.map(e=>C(e,s.id,p.id))),await D(),m([]),i()}catch(e){console.error("Error assigning batches:",e),alert("Failed to assign batches. Please try again.")}finally{x(!1)}}},disabled:g,className:"flex items-center space-x-2",children:[e.jsxDEV(Da,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:230,columnNumber:21},void 0),e.jsxDEV("span",{children:g?"Assigning...":`Assign ${c.length}`},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:231,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:225,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:220,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative mb-4",children:[e.jsxDEV(Ga,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:238,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Search batches...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:237,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===S.length?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:d?"No batches found matching your search.":"No available batches to assign."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:250,columnNumber:19},void 0):S.map(a=>e.jsxDEV("div",{className:"flex items-center p-3 border rounded-lg cursor-pointer transition-colors "+(c.includes(a.id)?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),onClick:()=>f(a.id),children:[e.jsxDEV("input",{type:"checkbox",checked:c.includes(a.id),onChange:e=>{e.stopPropagation(),f(a.id)},onClick:e=>e.stopPropagation(),className:"mr-3 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:266,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"font-medium",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:277,columnNumber:25},void 0),a.description&&e.jsxDEV("div",{className:"text-sm text-gray-600 line-clamp-2",dangerouslySetInnerHTML:{__html:te(a.description)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:279,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxDEV(oe,{className:y(a.status),children:a.status},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:285,columnNumber:27},void 0),a.gurukul&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:a.gurukul.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:287,columnNumber:29},void 0),a.start_date&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:["Starts: ",new Date(a.start_date).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:290,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:284,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:["Max students: ",a.max_students||"Unlimited"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:295,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:276,columnNumber:23},void 0)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:257,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:248,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:219,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:161,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:e.jsxDEV(re,{variant:"outline",onClick:r,children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:307,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:306,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:160,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:149,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentBatchAssignmentModal.tsx",lineNumber:148,columnNumber:5},void 0)},At=({title:a,description:s="This feature is currently under development and will be available soon.",icon:r=is})=>e.jsxDEV("div",{className:"p-6",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto",children:e.jsxDEV(ae,{className:"shadow-lg",children:e.jsxDEV(ie,{className:"p-12",children:e.jsxDEV("div",{className:"flex flex-col items-center justify-center text-center space-y-6",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-full blur-xl"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:24,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative bg-gradient-to-br from-orange-50 to-red-50 p-6 rounded-full",children:e.jsxDEV(r,{className:"h-16 w-16 text-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:26,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:25,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:23,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 rounded-full",children:[e.jsxDEV(Ye,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:32,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-blue-700",children:"Coming Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:33,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:31,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:38,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-lg text-gray-600 max-w-2xl",children:s},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:39,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:37,columnNumber:15},void 0),e.jsxDEV("div",{className:"pt-6 border-t border-gray-200 w-full",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-orange-500",children:"âš™ï¸"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:46,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"In Development"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:47,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:45,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-orange-500",children:"ðŸš€"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:50,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Launching Soon"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:51,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:49,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-orange-500",children:"âœ¨"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:54,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Stay Tuned"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:55,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:53,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:44,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:43,columnNumber:15},void 0),e.jsxDEV("div",{className:"pt-4",children:e.jsxDEV("p",{className:"text-sm text-gray-500",children:"We're working hard to bring you this feature. Check back soon!"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:62,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:61,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:21,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:20,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:19,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:18,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/ComingSoon.tsx",lineNumber:17,columnNumber:5},void 0);const Rt=Object.freeze(Object.defineProperty({__proto__:null,default:function({adminId:i,className:t=""}){const[o,n]=a.useState("pending"),[l,c]=a.useState(!0),[m,d]=a.useState([]),[u,h]=a.useState(null),[b,g]=a.useState(null),[N,x]=a.useState([]),[p,D]=a.useState(!1),[f,S]=a.useState(""),[y,v]=a.useState(""),[j,T]=a.useState(!1),[P,E]=a.useState(null),[I,H]=a.useState(""),[V,W]=a.useState(!1),w=a.useCallback(async()=>{c(!0);try{const e="all"===o?void 0:o,[a,s]=await Promise.all([Qr({status:e}),ei()]);d(a.data),h(s)}catch(e){console.error("Error loading deletion data:",e),s.error("Failed to load deletion requests")}finally{c(!1)}},[o]);a.useEffect(()=>{w()},[w]);const _=async e=>{b&&("reject"!==e||f.trim()?(E(e),T(!0)):s.error("Please provide a reason for rejection"))},C=async()=>{if(b&&P&&"execute"!==P){T(!1),c(!0);try{await async function(e,a,s,r){try{const i={status:"approve"===s?"approved":"rejected",reviewed_by:a,reviewed_at:(new Date).toISOString()};"reject"===s&&r&&(i.rejection_reason=r);const{data:t,error:o}=await O.from("deletion_requests").update(i).eq("id",e).select("\n        *,\n        requester:profiles!deletion_requests_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        ),\n        target_user:profiles!deletion_requests_target_user_id_fkey (\n          id,\n          full_name,\n          email,\n          role\n        ),\n        reviewer:profiles!deletion_requests_reviewed_by_fkey (\n          id,\n          full_name,\n          email\n        )\n      ").single();return o?(console.error("Error reviewing deletion request:",o),null):("approve"===s&&console.log("Deletion request approved. Admin must execute deletion separately."),Y.invalidatePattern("deletion:.*"),{...t,requester:t.requester?Q(t.requester):null,target_user:t.target_user?Q(t.target_user):null,reviewer:t.reviewer?Q(t.reviewer):null})}catch(i){return console.error("Error in reviewDeletionRequest:",i),null}}(b.id,i,P,"reject"===P?f:void 0)?(s.success(`Deletion request ${"approve"===P?"approved":"rejected"} successfully`),D(!1),S(""),E(null),w()):s.error("Failed to review deletion request")}catch(e){console.error("Error reviewing deletion request:",e),s.error("An error occurred while reviewing the request")}finally{c(!1)}}},M=async()=>{b&&(E("execute"),T(!0))},k=async()=>{if(b&&"DELETE"===I){W(!0),c(!0);try{const e=await async function(e,a){try{const i=await Kr(e);if(!i)return{success:!1,error:"Deletion request not found"};if("approved"!==i.status)return{success:!1,error:"Deletion request must be approved before execution"};await O.from("deletion_requests").update({status:"processing"}).eq("id",e);const t=i.target_user_id;let o=!1,n="";if("full_account"===i.request_type)try{const{data:s}=await O.from("profiles").select("id, full_name").eq("parent_id",t).eq("role","student");if(s&&s.length>0){for(const e of s){const{data:a}=await O.from("compliance_submissions").select("id").eq("user_id",e.id);a&&a.length>0&&await O.from("compliance_files").delete().in("submission_id",a.map(e=>e.id)),await O.from("compliance_submissions").delete().eq("user_id",e.id),await O.from("attendance_records").delete().eq("student_id",e.id),await O.from("batch_students").delete().eq("student_id",e.id),await O.from("certificates").delete().eq("student_id",e.id),await O.from("enrollments").delete().eq("student_id",e.id),await O.from("student_consent").delete().eq("student_id",e.id),await O.from("profiles").delete().eq("id",e.id);const s=new BroadcastChannel("gdpr-deletion-channel");s.postMessage({type:"user-deleted",userId:e.id,timestamp:Date.now()}),s.close()}await Zr(e,a,"delete","child_accounts",s.length,!0,void 0,{note:"Cascading deletion of parent account triggered deletion of all children",children:s.map(e=>({id:e.id,name:e.full_name}))})}}catch(s){console.error("Error deleting children accounts:",s),o=!0,n+="Failed to delete children accounts. "}try{const{data:s}=await O.from("compliance_submissions").select("id").eq("user_id",t),r=s?.map(e=>e.id)||[],{count:i,error:o}=await O.from("compliance_files").delete({count:"exact"}).in("submission_id",r);await Zr(e,a,"delete","compliance_files",i||0,!o,o?.message)}catch(s){console.error("Error deleting compliance files:",s),o=!0,n+="Failed to delete compliance files. "}try{const{count:s,error:r}=await O.from("compliance_submissions").delete({count:"exact"}).eq("user_id",t);await Zr(e,a,"delete","compliance_submissions",s||0,!r,r?.message)}catch(s){console.error("Error deleting compliance submissions:",s),o=!0,n+="Failed to delete compliance submissions. "}try{const{count:s,error:r}=await O.from("attendance_records").delete({count:"exact"}).eq("student_id",t);await Zr(e,a,"delete","attendance_records",s||0,!r,r?.message)}catch(s){console.error("Error deleting attendance records:",s),o=!0,n+="Failed to delete attendance records. "}try{const{count:s,error:r}=await O.from("batch_students").delete({count:"exact"}).eq("student_id",t);await Zr(e,a,"delete","batch_students",s||0,!r,r?.message)}catch(s){console.error("Error deleting batch students:",s),o=!0,n+="Failed to delete batch students. "}try{const{error:s}=await O.from("certificates").update({certificate_data:{anonymized:!0,reason:"GDPR deletion request"}}).eq("student_id",t),{count:r}=await O.from("certificates").select("*",{count:"exact",head:!0}).eq("student_id",t);await Zr(e,a,"anonymize","certificates",r||0,!s,s?.message,{note:"Certificates anonymized for legal compliance"})}catch(s){console.error("Error anonymizing certificates:",s),o=!0,n+="Failed to anonymize certificates. "}try{const{count:s,error:r}=await O.from("enrollments").delete({count:"exact"}).eq("student_id",t);await Zr(e,a,"delete","enrollments",s||0,!r,r?.message)}catch(s){console.error("Error deleting enrollments:",s),o=!0,n+="Failed to delete enrollments. "}try{const{count:s,error:r}=await O.from("student_consent").delete({count:"exact"}).eq("student_id",t);await Zr(e,a,"delete","student_consent",s||0,!r,r?.message)}catch(s){console.error("Error deleting consent records:",s),o=!0,n+="Failed to delete consent records. "}try{if("full_account"===i.request_type){const{count:s,error:i}=await O.from("profiles").delete({count:"exact"}).eq("id",t);await Zr(e,a,"delete","profiles",s||0,!i,i?.message);try{const e="eyogi-ssh-local-session",a=localStorage.getItem(e);if(a){const s=JSON.parse(a);s.user?.id===t&&(localStorage.removeItem(e),localStorage.removeItem("website-user-id"))}const s=new BroadcastChannel("gdpr-deletion-channel");s.postMessage({type:"user-deleted",userId:t,timestamp:Date.now()}),s.close()}catch(r){console.warn("Could not clear user session:",r)}}else{const{error:s}=await O.from("profiles").update({full_name:"Deleted User",email:`deleted_${t}@anonymized.local`,phone:null,address_line_1:null,address_line_2:null,city:null,state:null,zip_code:null,country:null,parent_guardian_name:null,parent_guardian_email:null,parent_guardian_phone:null}).eq("id",t);await Zr(e,a,"anonymize","profiles",1,!s,s?.message)}}catch(s){console.error("Error deleting/anonymizing profile:",s),o=!0,n+="Failed to delete/anonymize profile. "}const l=o?"failed":"completed";return await O.from("deletion_requests").update({status:l,completed_at:(new Date).toISOString()}).eq("id",e),Y.invalidatePattern(".*"),o?{success:!1,error:n}:{success:!0}}catch(s){const a=s instanceof Error?s.message:"Unknown error";return console.error("Error in executeDeletion:",s),await O.from("deletion_requests").update({status:"failed"}).eq("id",e),{success:!1,error:a}}}(b.id,i);if(e.success){const e="full_account"===b.request_type;s.success(e?"Full account deleted successfully. User has been logged out and redirected to home page.":"Data deletion executed successfully",{duration:5e3}),T(!1),D(!1),E(null),H(""),w()}else s.error(`Deletion failed: ${e.error}`)}catch(e){console.error("Error executing deletion:",e),s.error("An error occurred during deletion")}finally{W(!1),c(!1)}}else s.error("Please type DELETE to confirm")},A=a=>{const s={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Ye},approved:{bg:"bg-green-100",text:"text-green-800",icon:Je},rejected:{bg:"bg-red-100",text:"text-red-800",icon:Ke},processing:{bg:"bg-blue-100",text:"text-blue-800",icon:Ye},completed:{bg:"bg-gray-100",text:"text-gray-800",icon:Je},failed:{bg:"bg-red-100",text:"text-red-800",icon:Ge}},r=s[a]||s.pending,i=r.icon;return e.jsxDEV(oe,{className:`${r.bg} ${r.text} flex items-center gap-1`,children:[e.jsxDEV(i,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:233,columnNumber:9},this),a.charAt(0).toUpperCase()+a.slice(1)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:232,columnNumber:7},this)},R=m.filter(e=>e.target_user?.full_name?.toLowerCase().includes(y.toLowerCase())||e.target_user?.email?.toLowerCase().includes(y.toLowerCase())||e.requester?.full_name?.toLowerCase().includes(y.toLowerCase()));return p&&b?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{className:`${t}`,children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(ta,{className:"h-8 w-8 text-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:253,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-xl font-bold text-gray-900",children:"Deletion Request Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:255,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:["Request ID: ",b.id.slice(0,8)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:256,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:254,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:252,columnNumber:15},this),e.jsxDEV(re,{variant:"outline",onClick:()=>D(!1),children:"Back to List"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:261,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:251,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:250,columnNumber:11},this),e.jsxDEV(ie,{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Target User"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:271,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-900 mt-1",children:b.target_user?.full_name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:272,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:b.target_user?.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:275,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:270,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Requested By"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:278,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-900 mt-1",children:b.requester?.full_name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:279,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:b.requester?.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:282,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:277,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Request Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:285,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-900 mt-1",children:b.request_type.replace("_"," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:286,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:284,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:295,columnNumber:17},this),e.jsxDEV("div",{className:"mt-1",children:A(b.status)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:296,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:294,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Requested At"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:299,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-900 mt-1",children:new Date(b.requested_at).toLocaleString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:300,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:298,columnNumber:15},this),b.reviewed_at&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Reviewed At"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:306,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-900 mt-1",children:new Date(b.reviewed_at).toLocaleString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:307,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:305,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:269,columnNumber:13},this),b.reason&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Reason for Deletion"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:317,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-900 mt-2 bg-gray-50 p-3 rounded-md",children:b.reason},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:318,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:316,columnNumber:15},this),b.rejection_reason&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Rejection Reason"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:327,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-red-700 mt-2 bg-red-50 p-3 rounded-md",children:b.rejection_reason},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:328,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:326,columnNumber:15},this),e.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Impact Analysis"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:336,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Profiles:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:339,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:b.impact.profiles},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:340,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:338,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Enrollments:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:345,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:b.impact.enrollments},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:346,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:344,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Certificates:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:351,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:b.impact.certificates},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:352,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:350,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Attendance:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:357,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:b.impact.attendance_records},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:358,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:356,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Batch Assignments:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:363,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:b.impact.batch_students},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:364,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:362,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Compliance:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:369,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:b.impact.compliance_submissions},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:370,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:368,columnNumber:17},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Consent Records:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:375,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-gray-900",children:b.impact.consent_records},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:376,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:374,columnNumber:17},this),b.impact.children_accounts>0&&e.jsxDEV("div",{className:"flex justify-between col-span-2 bg-red-50 -mx-4 px-4 py-2 border-y border-red-200",children:[e.jsxDEV("span",{className:"text-red-800 font-semibold flex items-center gap-2",children:"âš ï¸ Children Accounts (Cascading):"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:382,columnNumber:21},this),e.jsxDEV("span",{className:"font-bold text-red-900",children:b.impact.children_accounts},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:385,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:381,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between col-span-2 pt-2 border-t border-gray-300",children:[e.jsxDEV("span",{className:"font-semibold text-gray-700",children:"Total Records:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:391,columnNumber:19},this),e.jsxDEV("span",{className:"font-bold text-gray-900",children:b.impact.total_records},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:392,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:390,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:337,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:335,columnNumber:13},this),N.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Audit Trail"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:402,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:N.map(a=>e.jsxDEV("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-200",children:[e.jsxDEV("div",{className:"flex justify-between mb-1",children:[e.jsxDEV("span",{className:"font-medium text-gray-900",children:[a.action," - ",a.table_name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:410,columnNumber:25},this),e.jsxDEV("span",{className:"font-semibold "+(a.success?"text-green-600":"text-red-600"),children:a.success?"Success":"Failed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:413,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:409,columnNumber:23},this),e.jsxDEV("div",{className:"text-gray-600",children:["Records affected: ",a.records_affected]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:419,columnNumber:23},this),e.jsxDEV("div",{className:"text-gray-500",children:new Date(a.performed_at).toLocaleString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:420,columnNumber:23},this),a.error_message&&e.jsxDEV("div",{className:"text-red-600 mt-1",children:["Error: ",a.error_message]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:424,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:405,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:403,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:401,columnNumber:15},this),e.jsxDEV("div",{className:"pt-4 border-t border-gray-200",children:["pending"===b.status&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason (if rejecting)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:437,columnNumber:21},this),e.jsxDEV("textarea",{value:f,onChange:e=>S(e.target.value),placeholder:"Provide a reason for rejection...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:440,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:436,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-end gap-3",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>_("reject"),disabled:l,className:"border-red-600 text-red-600 hover:bg-red-50",children:[e.jsxDEV(Ke,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:455,columnNumber:23},this),"Reject Request"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:449,columnNumber:21},this),e.jsxDEV(re,{onClick:()=>_("approve"),disabled:l,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsxDEV(Je,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:463,columnNumber:23},this),"Approve Request"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:458,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:448,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:435,columnNumber:17},this),"approved"===b.status&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(Ge,{className:"h-6 w-6 text-red-600 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:474,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-red-900 mb-1",children:"Critical Action Required"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:476,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-red-800",children:["This deletion request has been approved. You can now execute the deletion. This action is IRREVERSIBLE and will permanently delete"," ",b.impact.total_records," records."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:479,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:475,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:473,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:472,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV(re,{onClick:M,disabled:l,className:"bg-red-700 hover:bg-red-800 text-white",children:[e.jsxDEV(Xe,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:493,columnNumber:23},this),"Execute Deletion"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:488,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:487,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:471,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:433,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:267,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:249,columnNumber:9},this),j&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxDEV(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[e.jsxDEV("div",{className:"flex items-start gap-4 mb-4",children:[e.jsxDEV("div",{className:"p-2 rounded-full "+("execute"===P?"bg-red-100":"approve"===P?"bg-green-100":"bg-yellow-100"),children:"execute"===P?e.jsxDEV(Ge,{className:"h-6 w-6 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:522,columnNumber:21},this):"approve"===P?e.jsxDEV(Je,{className:"h-6 w-6 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:524,columnNumber:21},this):e.jsxDEV(Ke,{className:"h-6 w-6 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:526,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:512,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"execute"===P?"full_account"===b?.request_type?"Execute Account Deletion":"Execute Data Deletion":"approve"===P?"Approve Deletion Request":"Reject Deletion Request"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:530,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"execute"===P?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("strong",{className:"text-red-600",children:"CRITICAL ACTION:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:542,columnNumber:25},this)," You are about to","full_account"===b?.request_type?" permanently delete the entire account":" permanently delete data"," ","for ",e.jsxDEV("strong",{children:b?.target_user?.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:546,columnNumber:29},this),".",e.jsxDEV("br",{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:547,columnNumber:25},this),e.jsxDEV("br",{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:548,columnNumber:25},this),"This will"," ","full_account"===b?.request_type?"remove the user completely from the system, deleting":"delete"," ",e.jsxDEV("strong",{children:[b?.impact.total_records," records"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:553,columnNumber:25},this)," and"," ",e.jsxDEV("strong",{className:"text-red-600",children:"CANNOT BE UNDONE"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:554,columnNumber:25},this),"."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:541,columnNumber:23},this):"approve"===P?e.jsxDEV(e.Fragment,{children:"Are you sure you want to approve this deletion request? The data can be executed for deletion after approval."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:557,columnNumber:23},this):e.jsxDEV(e.Fragment,{children:"Are you sure you want to reject this deletion request?"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:562,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:539,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:529,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:511,columnNumber:15},this),"execute"===P&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",e.jsxDEV("code",{className:"bg-red-100 text-red-600 px-2 py-1 rounded",children:"DELETE"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:571,columnNumber:26},this)," ","to confirm:"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:570,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:I,onChange:e=>H(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Type DELETE"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:574,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:569,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-3 justify-end",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>{T(!1),E(null),H("")},disabled:V,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:585,columnNumber:17},this),e.jsxDEV(re,{onClick:"execute"===P?k:C,className:"execute"===P?"bg-red-600 hover:bg-red-700":"approve"===P?"bg-green-600 hover:bg-green-700":"bg-yellow-600 hover:bg-yellow-700",disabled:"execute"===P&&"DELETE"!==I||V,children:V&&"execute"===P?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:617,columnNumber:25},this),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:625,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:611,columnNumber:23},this),e.jsxDEV("span",{children:"full_account"===b?.request_type?"Deleting Account...":"Deleting Data..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:631,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:610,columnNumber:21},this):e.jsxDEV(e.Fragment,{children:"execute"===P?"full_account"===b?.request_type?"Execute Account Deletion":"Execute Deletion":"approve"===P?"Approve":"Reject"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:638,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:596,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:584,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:506,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:505,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:248,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`flex flex-col gap-6 ${t}`,children:[u&&e.jsxDEV("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Total"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:666,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:u.total_requests},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:667,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:665,columnNumber:17},this),e.jsxDEV(ra,{className:"h-8 w-8 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:669,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:664,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:663,columnNumber:13},this),e.jsxDEV("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-yellow-700",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:675,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold text-yellow-900",children:u.pending_requests},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:676,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:674,columnNumber:17},this),e.jsxDEV(Ye,{className:"h-8 w-8 text-yellow-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:678,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:673,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:672,columnNumber:13},this),e.jsxDEV("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-green-700",children:"Approved"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:684,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold text-green-900",children:u.approved_requests},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:685,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:683,columnNumber:17},this),e.jsxDEV(Je,{className:"h-8 w-8 text-green-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:687,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:682,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:681,columnNumber:13},this),e.jsxDEV("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-red-700",children:"Rejected"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:693,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold text-red-900",children:u.rejected_requests},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:694,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:692,columnNumber:17},this),e.jsxDEV(Ke,{className:"h-8 w-8 text-red-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:696,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:691,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:690,columnNumber:13},this),e.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-blue-700",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:702,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold text-blue-900",children:u.completed_requests},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:703,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:701,columnNumber:17},this),e.jsxDEV(Je,{className:"h-8 w-8 text-blue-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:705,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:700,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:699,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:662,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-2 border-b border-gray-200",children:["pending","approved","completed","all"].map(a=>e.jsxDEV("button",{onClick:()=>n(a),className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors "+(o===a?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"),children:a.charAt(0).toUpperCase()+a.slice(1)},a,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:714,columnNumber:13},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:712,columnNumber:9},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:730,columnNumber:11},this),e.jsxDEV("input",{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:731,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:729,columnNumber:9},this),l?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:743,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-600 mt-2",children:"Loading requests..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:744,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:742,columnNumber:11},this):0===R.length?e.jsxDEV("div",{className:"text-center py-12",children:e.jsxDEV("p",{className:"text-gray-600",children:"No deletion requests found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:748,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:747,columnNumber:11},this):e.jsxDEV("div",{className:"space-y-3",children:R.map(a=>e.jsxDEV(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-gray-200 rounded-lg p-4 hover:border-orange-300 transition-colors",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[A(a.status),e.jsxDEV("span",{className:"text-xs text-gray-500",children:new Date(a.requested_at).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:763,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:761,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm font-medium text-gray-900 mb-1",children:a.target_user?.full_name||"Unknown User"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:767,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-600 mb-1",children:[a.target_user?.email," â€¢"," ",a.request_type.replace("_"," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:770,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:["Requested by: ",a.requester?.full_name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:778,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:760,columnNumber:19},this),e.jsxDEV(re,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{c(!0);const[a,s]=await Promise.all([Jr(e.id),Xr(e.id)]);a&&(g(a),x(s),D(!0))}catch(a){console.error("Error loading request details:",a),s.error("Failed to load request details")}finally{c(!1)}})(a),disabled:l,children:[e.jsxDEV(Ze,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:788,columnNumber:21},this),"View"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:782,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:759,columnNumber:17},this)},a.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:753,columnNumber:15},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:751,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:659,columnNumber:7},this),j&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxDEV(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[e.jsxDEV("div",{className:"flex items-start gap-4 mb-4",children:[e.jsxDEV("div",{className:"p-2 rounded-full "+("execute"===P?"bg-red-100":"approve"===P?"bg-green-100":"bg-yellow-100"),children:"execute"===P?e.jsxDEV(Ge,{className:"h-6 w-6 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:817,columnNumber:19},this):"approve"===P?e.jsxDEV(Je,{className:"h-6 w-6 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:819,columnNumber:19},this):e.jsxDEV(Ke,{className:"h-6 w-6 text-yellow-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:821,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:807,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"execute"===P?"full_account"===b?.request_type?"Execute Account Deletion":"Execute Data Deletion":"approve"===P?"Approve Deletion Request":"Reject Deletion Request"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:825,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"execute"===P?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("strong",{className:"text-red-600",children:"CRITICAL ACTION:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:837,columnNumber:23},this)," You are about to","full_account"===b?.request_type?" permanently delete the entire account":" permanently delete data"," ","for ",e.jsxDEV("strong",{children:b?.target_user?.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:841,columnNumber:27},this),".",e.jsxDEV("br",{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:842,columnNumber:23},this),e.jsxDEV("br",{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:843,columnNumber:23},this),"This will"," ","full_account"===b?.request_type?"remove the user completely from the system, deleting":"delete"," ",e.jsxDEV("strong",{children:[b?.impact.total_records," records"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:848,columnNumber:23},this)," and"," ",e.jsxDEV("strong",{className:"text-red-600",children:"CANNOT BE UNDONE"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:849,columnNumber:23},this),"."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:836,columnNumber:21},this):"approve"===P?e.jsxDEV(e.Fragment,{children:"Are you sure you want to approve this deletion request? The data can be executed for deletion after approval."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:852,columnNumber:21},this):e.jsxDEV(e.Fragment,{children:"Are you sure you want to reject this deletion request?"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:857,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:834,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:824,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:806,columnNumber:13},this),"execute"===P&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type ",e.jsxDEV("code",{className:"bg-red-100 text-red-600 px-2 py-1 rounded",children:"DELETE"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:866,columnNumber:24},this)," to confirm:"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:865,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:I,onChange:e=>H(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Type DELETE"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:869,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:864,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-3 justify-end",children:[e.jsxDEV(re,{variant:"outline",onClick:()=>{T(!1),E(null),H("")},disabled:V,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:880,columnNumber:15},this),e.jsxDEV(re,{onClick:"execute"===P?k:C,className:"execute"===P?"bg-red-600 hover:bg-red-700":"approve"===P?"bg-green-600 hover:bg-green-700":"bg-yellow-600 hover:bg-yellow-700",disabled:"execute"===P&&"DELETE"!==I||V,children:V&&"execute"===P?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:912,columnNumber:23},this),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:920,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:906,columnNumber:21},this),e.jsxDEV("span",{children:"full_account"===b?.request_type?"Deleting Account...":"Deleting Data..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:926,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:905,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:"execute"===P?"full_account"===b?.request_type?"Execute Account Deletion":"Execute Deletion":"approve"===P?"Approve":"Reject"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:933,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:891,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:879,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:801,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:800,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GDPRDeletionManagement.tsx",lineNumber:658,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"}));const Ft=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[r,i]=a.useState([]),[t,o]=a.useState(0),[n,l]=a.useState(!0),[c,m]=a.useState(!1),[d,u]=a.useState(!1),[h,b]=a.useState(null),[g,N]=a.useState(null),[x,p]=a.useState({page:1,limit:20}),D=a.useCallback(async()=>{l(!0);try{const[e,a]=await Promise.all([L(x),G(x.start_date,x.end_date)]);i(e.entries),o(e.total),N(a)}catch(e){console.error("Error loading audit trail:",e),s.error("Failed to load audit trail")}finally{l(!1)}},[x]);a.useEffect(()=>{D()},[D]);const f=e=>{p(a=>({...a,page:e}))},S=(e,a)=>{p(s=>({...s,[e]:a||void 0,page:1}))},y=a=>{switch(a){case"CREATE":return e.jsxDEV(Da,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:149,columnNumber:16},this);case"UPDATE":return e.jsxDEV(Ta,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:151,columnNumber:16},this);case"DELETE":return e.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:153,columnNumber:16},this);default:return e.jsxDEV(ze,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:155,columnNumber:16},this)}},v=e=>{switch(e){case"CREATE":return"bg-green-100 text-green-800";case"UPDATE":return"bg-blue-100 text-blue-800";case"DELETE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=e=>{switch(e){case"admin":case"super_admin":return"bg-purple-100 text-purple-800";case"business_admin":return"bg-orange-100 text-orange-800";case"teacher":return"bg-green-100 text-green-800";case"student":return"bg-blue-100 text-blue-800";case"parent":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},T=e=>e.replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),P=Math.ceil(t/(x.limit||20)),E=x.page||1;return n&&0===r.length?e.jsxDEV("div",{className:"flex items-center justify-center py-12",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:205,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600",children:"Loading audit trail..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:206,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:204,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:203,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-end gap-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(re,{variant:"outline",size:"sm",onClick:()=>u(!d),children:[e.jsxDEV(ts,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:218,columnNumber:13},this),"Filters"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:217,columnNumber:11},this),e.jsxDEV(re,{variant:"outline",size:"sm",onClick:D,disabled:n,children:[e.jsxDEV(Ce,{className:"h-4 w-4 mr-2 "+(n?"animate-spin":"")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:222,columnNumber:13},this),"Refresh"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:221,columnNumber:11},this),e.jsxDEV(re,{variant:"primary",size:"sm",onClick:async()=>{m(!0);try{const e=await z(x),a=["Date/Time","Changed By (Name)","Changed By (Email)","Changed By (Role)","Affected User (Name)","Affected User (Email)","Action","Field","Old Value","New Value"],r=e.map(e=>[new Date(e.changed_at).toLocaleString(),e.changed_by_name,e.changed_by_email,e.changed_by_role,e.affected_user_name||"",e.affected_user_email||"",e.action,e.field_name,e.old_value_decrypted||"",e.new_value_decrypted||""]),i=[a.join(","),...r.map(e=>e.map(e=>`"${String(e).replace(/"/g,'""')}"`).join(","))].join("\n"),t=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(t),n=document.createElement("a");n.setAttribute("href",o),n.setAttribute("download",`audit_trail_${(new Date).toISOString().split("T")[0]}.csv`),document.body.appendChild(n),n.click(),document.body.removeChild(n),s.success("Audit trail exported successfully")}catch(e){console.error("Error exporting audit trail:",e),s.error("Failed to export audit trail")}finally{m(!1)}},disabled:c||0===r.length,children:[e.jsxDEV(Ja,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:231,columnNumber:13},this),c?"Exporting...":"Export CSV"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:225,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:216,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:215,columnNumber:7},this),g&&e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Total Changes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:244,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:g.totalChanges},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:245,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:243,columnNumber:17},this),e.jsxDEV("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsxDEV(ze,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:248,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:247,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:242,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:241,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:240,columnNumber:11},this),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Updates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:257,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold text-blue-600",children:g.changesByAction.UPDATE||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:258,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:256,columnNumber:17},this),e.jsxDEV("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsxDEV(Ta,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:263,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:255,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:254,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:253,columnNumber:11},this),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Creates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:272,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold text-green-600",children:g.changesByAction.CREATE||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:273,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:271,columnNumber:17},this),e.jsxDEV("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsxDEV(Da,{className:"h-6 w-6 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:278,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:277,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:270,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:269,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:268,columnNumber:11},this),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Deletes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:287,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold text-red-600",children:g.changesByAction.DELETE||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:288,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:286,columnNumber:17},this),e.jsxDEV("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsxDEV(Xe,{className:"h-6 w-6 text-red-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:293,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:285,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:284,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:283,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:239,columnNumber:9},this),d&&e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Filters"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:306,columnNumber:15},this),e.jsxDEV(re,{variant:"ghost",size:"sm",onClick:()=>{p({page:1,limit:20})},children:"Clear All"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:307,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:305,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:304,columnNumber:11},this),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:315,columnNumber:17},this),e.jsxDEV("select",{value:x.action||"",onChange:e=>S("action",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[e.jsxDEV("option",{value:"",children:"All Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:321,columnNumber:19},this),e.jsxDEV("option",{value:"CREATE",children:"Create"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:322,columnNumber:19},this),e.jsxDEV("option",{value:"UPDATE",children:"Update"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:323,columnNumber:19},this),e.jsxDEV("option",{value:"DELETE",children:"Delete"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:324,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:316,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:314,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:328,columnNumber:17},this),e.jsxDEV("select",{value:x.field_name||"",onChange:e=>S("field_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[e.jsxDEV("option",{value:"",children:"All Fields"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:334,columnNumber:19},this),U.map(a=>e.jsxDEV("option",{value:a,children:T(a)},a,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:336,columnNumber:21},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:329,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:327,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Changed By Role"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:343,columnNumber:17},this),e.jsxDEV("select",{value:x.changed_by_role||"",onChange:e=>S("changed_by_role",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[e.jsxDEV("option",{value:"",children:"All Roles"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:351,columnNumber:19},this),e.jsxDEV("option",{value:"admin",children:"Admin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:352,columnNumber:19},this),e.jsxDEV("option",{value:"super_admin",children:"Super Admin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:353,columnNumber:19},this),e.jsxDEV("option",{value:"business_admin",children:"Business Admin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:354,columnNumber:19},this),e.jsxDEV("option",{value:"teacher",children:"Teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:355,columnNumber:19},this),e.jsxDEV("option",{value:"student",children:"Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:356,columnNumber:19},this),e.jsxDEV("option",{value:"parent",children:"Parent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:357,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:346,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:342,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Changed By Email"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:361,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:x.changed_by_email||"",onChange:e=>S("changed_by_email",e.target.value),placeholder:"Search by email...",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:364,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:360,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:373,columnNumber:17},this),e.jsxDEV("input",{type:"date",value:x.start_date?.split("T")[0]||"",onChange:e=>S("start_date",e.target.value?new Date(e.target.value).toISOString():""),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:374,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:372,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:387,columnNumber:17},this),e.jsxDEV("input",{type:"date",value:x.end_date?.split("T")[0]||"",onChange:e=>S("end_date",e.target.value?new Date(e.target.value).toISOString():""),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:388,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:386,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Record ID"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:401,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:x.record_id||"",onChange:e=>S("record_id",e.target.value),placeholder:"Filter by record UUID...",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:402,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:400,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:313,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:312,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:303,columnNumber:9},this),e.jsxDEV(ae,{children:e.jsxDEV(ie,{className:"pt-4",children:0===r.length?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(ze,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:420,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No audit trail entries"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:421,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:"Changes to encrypted fields will appear here once they are tracked."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:422,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:419,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date/Time"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:433,columnNumber:23},this),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Changed By"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:436,columnNumber:23},this),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:439,columnNumber:23},this),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:442,columnNumber:23},this),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:445,columnNumber:23},this),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:448,columnNumber:23},this),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:451,columnNumber:23},this),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:454,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:432,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:431,columnNumber:19},this),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(a=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:[new Date(a.changed_at).toLocaleDateString()," ",new Date(a.changed_at).toLocaleTimeString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:463,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:462,columnNumber:25},this),e.jsxDEV("td",{className:"px-4 py-3",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:a.changed_by_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:470,columnNumber:29},this),e.jsxDEV("div",{className:"text-xs text-gray-500 italic",children:a.changed_by_email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:473,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:469,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:468,columnNumber:25},this),e.jsxDEV("td",{className:"px-4 py-3",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:a.affected_user_name||e.jsxDEV("span",{className:"text-gray-400",children:"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:482,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:480,columnNumber:29},this),a.affected_user_email&&e.jsxDEV("div",{className:"text-xs text-gray-500 italic",children:a.affected_user_email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:486,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:479,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:478,columnNumber:25},this),e.jsxDEV("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxDEV(oe,{className:`${v(a.action)} flex items-center gap-1 w-fit`,children:[y(a.action),a.action]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:493,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:492,columnNumber:25},this),e.jsxDEV("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:T(a.field_name)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:501,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:500,columnNumber:25},this),e.jsxDEV("td",{className:"px-4 py-3",children:e.jsxDEV("div",{className:"max-w-xs truncate text-sm text-gray-600",children:a.old_value_decrypted||e.jsxDEV("span",{className:"text-gray-400 italic",children:"Empty"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:508,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:506,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:505,columnNumber:25},this),e.jsxDEV("td",{className:"px-4 py-3",children:e.jsxDEV("div",{className:"max-w-xs truncate text-sm text-gray-600",children:a.new_value_decrypted||e.jsxDEV("span",{className:"text-gray-400 italic",children:"Empty"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:515,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:513,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:512,columnNumber:25},this),e.jsxDEV("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxDEV(re,{variant:"ghost",size:"sm",onClick:()=>b(a),children:e.jsxDEV(Ze,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:521,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:520,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:519,columnNumber:25},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:461,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:459,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:430,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:429,columnNumber:15},this),e.jsxDEV("div",{className:"lg:hidden space-y-4",children:r.map(a=>e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(oe,{className:`${v(a.action)} flex items-center gap-1`,children:[y(a.action),a.action]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:540,columnNumber:27},this),e.jsxDEV(oe,{className:j(a.changed_by_role),children:a.changed_by_role},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:546,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:539,columnNumber:25},this),e.jsxDEV("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsxDEV(Ye,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:551,columnNumber:27},this),new Date(a.changed_at).toLocaleDateString()," ",new Date(a.changed_at).toLocaleTimeString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:550,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:538,columnNumber:23},this),e.jsxDEV(re,{variant:"ghost",size:"sm",onClick:()=>b(a),className:"ml-2",children:e.jsxDEV(Ze,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:562,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:556,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:537,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"border-t pt-2",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:"Changed By"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:568,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:a.changed_by_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:569,columnNumber:25},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:a.changed_by_email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:570,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:567,columnNumber:23},this),a.affected_user_name&&e.jsxDEV("div",{className:"border-t pt-2",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:"Affected User"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:575,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:a.affected_user_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:576,columnNumber:27},this),a.affected_user_email&&e.jsxDEV("p",{className:"text-xs text-gray-500",children:a.affected_user_email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:580,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:574,columnNumber:25},this),e.jsxDEV("div",{className:"border-t pt-2",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:"Field Changed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:586,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:T(a.field_name)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:587,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:585,columnNumber:23},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 border-t pt-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:"Old Value"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:594,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm text-gray-600 truncate",children:a.old_value_decrypted||e.jsxDEV("span",{className:"text-gray-400 italic",children:"Empty"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:597,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:595,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:593,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:"New Value"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:602,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm text-gray-600 truncate",children:a.new_value_decrypted||e.jsxDEV("span",{className:"text-gray-400 italic",children:"Empty"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:605,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:603,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:601,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:592,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:566,columnNumber:21},this)]},a.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:533,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:531,columnNumber:15},this),P>1&&e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 mt-4 pt-4 border-t",children:[e.jsxDEV("div",{className:"text-sm text-gray-600",children:[e.jsxDEV("span",{className:"hidden sm:inline",children:["Page ",E," of ",P]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:619,columnNumber:21},this),e.jsxDEV("span",{className:"sm:hidden",children:["Page ",E,"/",P]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:622,columnNumber:21},this),e.jsxDEV("span",{className:"ml-2",children:["(",t," total records)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:625,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:618,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(re,{variant:"outline",size:"sm",onClick:()=>f(E-1),disabled:E<=1,children:[e.jsxDEV(Wa,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:634,columnNumber:23},this),e.jsxDEV("span",{className:"hidden sm:inline ml-1",children:"Previous"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:635,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:628,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm text-gray-600 px-2",children:E},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:637,columnNumber:21},this),e.jsxDEV(re,{variant:"outline",size:"sm",onClick:()=>f(E+1),disabled:E>=P,children:[e.jsxDEV("span",{className:"hidden sm:inline mr-1",children:"Next"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:644,columnNumber:23},this),e.jsxDEV(wa,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:645,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:638,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:627,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:617,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:427,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:417,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:416,columnNumber:7},this),h&&e.jsxDEV("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-40 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[e.jsxDEV("h3",{className:"text-base font-semibold text-gray-900",children:"Change Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:660,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(Me,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:665,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:661,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:659,columnNumber:13},this),e.jsxDEV("div",{className:"px-4 py-3 space-y-3",children:[e.jsxDEV("div",{className:"bg-orange-50 border border-orange-200 rounded p-2 mb-2",children:[e.jsxDEV("p",{className:"text-xs font-medium text-orange-700",children:"Affected User"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:670,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm font-semibold text-orange-900",children:h.affected_user_name||"Unknown User"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:671,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:669,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-gray-500",children:"Date/Time:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:677,columnNumber:19},this)," ",e.jsxDEV("span",{className:"text-gray-900",children:new Date(h.changed_at).toLocaleString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:678,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:676,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-gray-500",children:"Changed By:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:683,columnNumber:19},this)," ",e.jsxDEV("span",{className:"text-gray-900",children:h.changed_by_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:684,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:682,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-gray-500",children:"Action:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:687,columnNumber:19},this)," ",e.jsxDEV(oe,{className:v(h.action),children:h.action},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:688,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:686,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-gray-500",children:"Field:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:693,columnNumber:19},this)," ",e.jsxDEV("span",{className:"text-gray-900",children:T(h.field_name)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:694,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:692,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:675,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded p-2",children:[e.jsxDEV("p",{className:"text-xs font-medium text-red-700 mb-1",children:"Old Value"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:699,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-red-900 break-words",children:h.old_value_decrypted||e.jsxDEV("span",{className:"text-red-400 italic",children:"Empty"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:702,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:700,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:698,columnNumber:17},this),e.jsxDEV("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:[e.jsxDEV("p",{className:"text-xs font-medium text-green-700 mb-1",children:"New Value"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:707,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-green-900 break-words",children:h.new_value_decrypted||e.jsxDEV("span",{className:"text-green-400 italic",children:"Empty"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:710,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:708,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:706,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:697,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:668,columnNumber:13},this),e.jsxDEV("div",{className:"px-4 py-3 border-t bg-gray-50 rounded-b-lg",children:e.jsxDEV("button",{onClick:()=>b(null),className:"w-full px-3 py-1.5 text-sm bg-gray-200 hover:bg-gray-300 rounded text-gray-700",children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:717,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:716,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:658,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:657,columnNumber:9},this),g&&g.recentChangers.length>0&&e.jsxDEV(ae,{children:[e.jsxDEV(se,{children:e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Most Active Users"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:732,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:731,columnNumber:11},this),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"space-y-3",children:g.recentChangers.map((a,s)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"p-2 bg-white rounded-full",children:e.jsxDEV(ke,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:743,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:742,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-gray-900",children:a.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:746,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:a.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:747,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:745,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:741,columnNumber:19},this),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-lg font-bold text-gray-900",children:a.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:751,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-600",children:"changes"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:752,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:750,columnNumber:19},this)]},s,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:737,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:735,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:734,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:730,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AuditTrailManagement.tsx",lineNumber:213,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"}));export{Ft as $,mt as A,Ct as B,zi as C,ti as D,Gi as E,Vt as F,Wt as G,Yi as H,Qs as I,Zs as J,Is as K,Ms as L,Fs as M,Bs as N,zs as O,Us as P,Os as Q,or as R,Ui as S,$i as T,Ri as U,si as V,_t as W,ji as X,Ti as Y,_i as Z,Rt as _,Oi as a,Mt as b,St as c,It as d,Bi as e,Li as f,At as g,br as h,Cr as i,Rr as j,Br as k,Ar as l,kt as m,Fi as n,xi as o,mi as p,mr as q,cr as r,Ls as s,ci as t,di as u,ri as v,Dr as w,xr as x,ui as y,hi as z};
