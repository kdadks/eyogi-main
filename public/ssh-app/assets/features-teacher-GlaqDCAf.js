import{r as e,z as t,j as a,m as n,l as s}from"./vendor-react-DCALsXS8.js";import{J as r,s as c,b as i,f as m,B as o,n as l,g as u}from"./admin-analytics-BUJUGyzI.js";import{i as d,B as h,g as N}from"./admin-assignments-Cx7DOfUV.js";import{b as g,u as S}from"./admin-batch-BFzGO27E.js";import{U as x,n as b}from"./admin-misc-9vir4T6x.js";import{aK as p,m as j,t as D,w as T,o as f,e as v,A as y,h as E,i as P,g as M}from"./vendor-ui-Bmdc4IWn.js";import"./vendor-misc-Dxs4t1yE.js";import"./vendor-supabase-EmK__MhW.js";import"./admin-content-LS_eLhwS.js";import"./admin-resources-DlJorqJM.js";import"./vendor-jspdf-DcFMtNGo.js";import"./vendor-pdfjs-D7jtXKOJ.js";import"./vendor-forms-B0kmz9hl.js";import"./admin-finance-3P7fiBd4.js";function I(){const{user:I}=d(),[V,H]=e.useState(!0),[W,w]=e.useState([]),[C,_]=e.useState([]),[k,A]=e.useState([]),[z,B]=e.useState([]),[L,F]=e.useState(""),[R,J]=e.useState("all"),[K,O]=e.useState("all"),[U,Y]=e.useState("all"),[q,G]=e.useState("list"),[Q,X]=e.useState(new Set),[Z,$]=e.useState(null),[ee,te]=e.useState(null),[ae,ne]=e.useState(!1),[se,re]=e.useState("view"),[ce,ie]=e.useState(!1),me=e.useCallback(async()=>{if(I){H(!0);try{const[e,t,a,n]=await Promise.all([r(I.id),g(I.id),h(),N({teacher_id:I.id})]);A(e),B(n);let s=t;if(0===t.length&&e.length>0){const t=e.map(e=>e.id),{data:a}=await c.from("enrollments").select("\n            *,\n            courses (*),\n            profiles!enrollments_student_id_fkey (*)\n          ").in("course_id",t).order("enrolled_at",{ascending:!1});s=a?.map(e=>({...e,profiles:e.profiles?decryptProfileFields(e.profiles):null}))||[]}const i=new Set(s.map(e=>e.student_id)),m=a.filter(e=>"student"===e.role&&i.has(e.id)).map(e=>{const t=s.filter(t=>t.student_id===e.id);return{...e,enrollments:t,batches:[]}});w(m),m.length>0&&oe(m,n)}catch(e){console.error("Error loading data:",e),t.error("Failed to load student data")}finally{H(!1)}}},[I]),oe=async(e,t)=>{try{const a=t.map(e=>e.id);if(0===a.length)return;const{data:n,error:s}=await c.from("batch_students").select("*").in("batch_id",a);if(s)return void console.error("Error loading batch students:",s);const r=e.map(e=>{const t=(n||[]).filter(t=>t.student_id===e.id);return{...e,batches:t}});w(r)}catch(a){console.error("Error loading student batches:",a)}},le=e.useCallback(()=>{let e=W;L&&(e=e.filter(e=>e.full_name?.toLowerCase().includes(L.toLowerCase())||e.email?.toLowerCase().includes(L.toLowerCase())||e.student_id?.toLowerCase().includes(L.toLowerCase()))),"all"!==R&&(e=e.filter(e=>e.enrollments.some(e=>e.course_id===R))),"all"!==K&&(e=e.filter(e=>e.batches.some(e=>e.batch_id===K))),"all"!==U&&(e=e.filter(e=>e.enrollments.some(e=>e.status===U))),"pending"===q&&(e=e.filter(e=>e.enrollments.some(e=>"pending"===e.status))),_(e)},[W,L,R,K,U,q]);e.useEffect(()=>{me()},[I,me]),e.useEffect(()=>{le()},[W,L,R,K,U,q,le]);const ue=e=>{$(e),re("view"),ne(!0)},de=e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},he={totalStudents:W.length,approvedStudents:W.filter(e=>e.enrollments.some(e=>"approved"===e.status)).length,pendingApprovals:W.filter(e=>e.enrollments.some(e=>"pending"===e.status)).length,totalBatches:z.length};return V?a.jsxDEV("div",{className:"flex items-center justify-center py-12",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"spinner w-8 h-8 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:308,columnNumber:11},this),a.jsxDEV("p",{className:"text-gray-600",children:"Loading students..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:309,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:307,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:306,columnNumber:7},this):a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 pt-6 lg:pt-8",children:[a.jsxDEV(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/80 backdrop-blur-xl border-b border-white/20 sticky top-6 lg:top-8 z-40 shadow-lg",children:a.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:a.jsxDEV("div",{className:"flex items-center gap-8",children:[a.jsxDEV(s,{to:"/dashboard/teacher",className:"flex items-center gap-3 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsxDEV(p,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:331,columnNumber:17},this),a.jsxDEV("span",{className:"font-medium",children:"Back to Dashboard"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:332,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:327,columnNumber:15},this),a.jsxDEV(n.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"h-16 w-16 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-xl",children:a.jsxDEV(j,{className:"h-8 w-8 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:340,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:334,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV(n.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent",children:"Student Management"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:343,columnNumber:17},this),a.jsxDEV(n.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-gray-600 mt-1",children:"Manage student enrollments and track progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:351,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:342,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:326,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:325,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:324,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:318,columnNumber:7},this),a.jsxDEV(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxDEV("div",{className:"space-y-8",children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxDEV(i,{children:a.jsxDEV(m,{className:"p-4 text-center",children:[a.jsxDEV(j,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:377,columnNumber:17},this),a.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:he.totalStudents},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:378,columnNumber:17},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Total Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:379,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:376,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:375,columnNumber:13},this),a.jsxDEV(i,{children:a.jsxDEV(m,{className:"p-4 text-center",children:[a.jsxDEV(D,{className:"h-6 w-6 text-green-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:384,columnNumber:17},this),a.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:he.approvedStudents},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:385,columnNumber:17},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Approved"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:386,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:383,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:382,columnNumber:13},this),a.jsxDEV(i,{children:a.jsxDEV(m,{className:"p-4 text-center",children:[a.jsxDEV(T,{className:"h-6 w-6 text-yellow-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:391,columnNumber:17},this),a.jsxDEV("div",{className:"text-2xl font-bold text-yellow-600",children:he.pendingApprovals},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:392,columnNumber:17},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Pending Approvals"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:393,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:390,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:389,columnNumber:13},this),a.jsxDEV(i,{children:a.jsxDEV(m,{className:"p-4 text-center",children:[a.jsxDEV(f,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:398,columnNumber:17},this),a.jsxDEV("div",{className:"text-2xl font-bold text-purple-600",children:he.totalBatches},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:399,columnNumber:17},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Your Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:400,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:397,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:396,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:374,columnNumber:11},this),a.jsxDEV("div",{className:"border-b border-gray-200",children:a.jsxDEV("nav",{className:"-mb-px flex gap-8",children:[{id:"list",name:"All Students",icon:j},{id:"by-batch",name:"By Batch",icon:f},{id:"pending",name:"Pending Approvals",icon:T}].map(e=>a.jsxDEV("button",{onClick:()=>G(e.id),className:"flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm cursor-pointer "+(q===e.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[a.jsxDEV(e.icon,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:422,columnNumber:19},this),e.name]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:413,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:407,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:406,columnNumber:11},this),a.jsxDEV(i,{children:a.jsxDEV(m,{className:"p-4",children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxDEV("div",{className:"lg:col-span-1",children:a.jsxDEV("div",{className:"relative",children:[a.jsxDEV(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:435,columnNumber:21},this),a.jsxDEV("input",{type:"text",placeholder:"Search students...",value:L,onChange:e=>F(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:436,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:434,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:433,columnNumber:17},this),a.jsxDEV("select",{value:R,onChange:e=>J(e.target.value),className:"border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-orange-500",children:[a.jsxDEV("option",{value:"all",children:"All Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:450,columnNumber:19},this),k.map(e=>a.jsxDEV("option",{value:e.id,children:e.title},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:452,columnNumber:21},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:445,columnNumber:17},this),a.jsxDEV("select",{value:K,onChange:e=>O(e.target.value),className:"border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-orange-500",children:[a.jsxDEV("option",{value:"all",children:"All Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:462,columnNumber:19},this),z.map(e=>a.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:464,columnNumber:21},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:457,columnNumber:17},this),a.jsxDEV("select",{value:U,onChange:e=>Y(e.target.value),className:"border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-orange-500",children:[a.jsxDEV("option",{value:"all",children:"All Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:474,columnNumber:19},this),a.jsxDEV("option",{value:"pending",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:475,columnNumber:19},this),a.jsxDEV("option",{value:"approved",children:"Approved"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:476,columnNumber:19},this),a.jsxDEV("option",{value:"rejected",children:"Rejected"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:477,columnNumber:19},this),a.jsxDEV("option",{value:"completed",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:478,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:469,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:432,columnNumber:15},this),a.jsxDEV("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxDEV("p",{className:"text-sm text-gray-600",children:["Showing ",C.length," of ",W.length," students"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:482,columnNumber:17},this),a.jsxDEV(o,{size:"sm",onClick:()=>{F(""),J("all"),O("all"),Y("all")},children:"Clear Filters"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:485,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:481,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:431,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:430,columnNumber:11},this),"list"===q&&a.jsxDEV(i,{children:[a.jsxDEV(l,{children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("h2",{className:"text-xl font-bold",children:"All Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:505,columnNumber:19},this),a.jsxDEV("div",{className:"flex gap-2",children:[Q.size>0&&a.jsxDEV(o,{variant:"outline",onClick:()=>ie(!0),children:[a.jsxDEV(f,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:509,columnNumber:25},this),"Assign to Batches (",Q.size,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:508,columnNumber:23},this),a.jsxDEV(o,{size:"sm",variant:"outline",onClick:()=>{return e=Q.size!==C.length,void X(e?new Set(C.map(e=>e.id)):new Set);var e},children:Q.size===C.length?"Deselect All":"Select All"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:513,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:506,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:504,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:503,columnNumber:15},this),a.jsxDEV(m,{className:"p-6",children:0===C.length?a.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No students found matching your criteria."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:529,columnNumber:19},this):a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(e=>a.jsxDEV(i,{className:"hover:shadow-lg transition-shadow",children:a.jsxDEV(m,{className:"p-4",children:[a.jsxDEV("div",{className:"flex items-start gap-3 mb-3",children:[a.jsxDEV("input",{type:"checkbox",checked:Q.has(e.id),onChange:()=>(e=>{const t=new Set(Q);t.has(e)?t.delete(e):t.add(e),X(t)})(e.id),className:"mt-1 rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:538,columnNumber:29},this),a.jsxDEV("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsxDEV(y,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:545,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:544,columnNumber:29},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h3",{className:"font-medium text-gray-900",children:e.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:548,columnNumber:31},this),a.jsxDEV("p",{className:"text-sm text-gray-600",children:e.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:549,columnNumber:31},this),e.student_id&&a.jsxDEV("p",{className:"text-xs text-gray-500",children:["ID: ",e.student_id]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:551,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:547,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:537,columnNumber:27},this),a.jsxDEV("div",{className:"flex flex-col gap-2 text-sm mb-3",children:[a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-gray-600",children:"Enrollments:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:558,columnNumber:31},this),a.jsxDEV("span",{className:"font-medium",children:e.enrollments.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:559,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:557,columnNumber:29},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{className:"text-gray-600",children:"Batches:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:562,columnNumber:31},this),a.jsxDEV("span",{className:"font-medium",children:e.batches.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:563,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:561,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:556,columnNumber:27},this),a.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[a.jsxDEV(o,{size:"sm",onClick:()=>ue(e),children:[a.jsxDEV(E,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:569,columnNumber:31},this),"View"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:568,columnNumber:29},this),a.jsxDEV(o,{size:"sm",variant:"outline",onClick:()=>(e=>{te(e),re("edit"),ne(!0)})(e),children:[a.jsxDEV(P,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:577,columnNumber:31},this),"Edit"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:572,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:567,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:536,columnNumber:25},this)},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:535,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:533,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:527,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:502,columnNumber:13},this),"by-batch"===q&&a.jsxDEV("div",{className:"flex flex-col gap-6",children:z.map(e=>{const t=C.filter(t=>t.batches.some(t=>t.batch_id===e.id));return 0===t.length?null:a.jsxDEV(i,{children:[a.jsxDEV(l,{children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV(f,{className:"h-6 w-6 text-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:605,columnNumber:27},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-semibold",children:e.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:607,columnNumber:29},this),a.jsxDEV("p",{className:"text-sm text-gray-600",children:[e.gurukul?.name," â€¢ ",t.length," students"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:608,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:606,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:604,columnNumber:25},this),a.jsxDEV(u,{className:de(e.status),children:e.status},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:613,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:603,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:602,columnNumber:21},this),a.jsxDEV(m,{children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>a.jsxDEV("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsxDEV(y,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:625,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:624,columnNumber:31},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"font-medium text-sm",children:e.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:628,columnNumber:33},this),a.jsxDEV("p",{className:"text-xs text-gray-600",children:e.student_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:629,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:627,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:623,columnNumber:29},this),a.jsxDEV(o,{size:"sm",variant:"ghost",onClick:()=>ue(e),children:a.jsxDEV(E,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:637,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:632,columnNumber:29},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:619,columnNumber:27},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:617,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:616,columnNumber:21},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:601,columnNumber:19},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:592,columnNumber:13},this),"pending"===q&&a.jsxDEV(i,{children:a.jsxDEV(m,{className:"p-6",children:0===C.length?a.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No pending enrollment approvals."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:654,columnNumber:19},this):a.jsxDEV("div",{className:"flex flex-col gap-4",children:C.map(e=>e.enrollments.filter(e=>"pending"===e.status).map(n=>{const s=k.find(e=>e.id===n.course_id);return a.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsxDEV(y,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:675,columnNumber:35},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:674,columnNumber:33},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"font-medium",children:e.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:678,columnNumber:35},this),a.jsxDEV("p",{className:"text-sm text-gray-600",children:e.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:679,columnNumber:35},this),a.jsxDEV("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxDEV(M,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:681,columnNumber:37},this),a.jsxDEV("span",{className:"text-sm text-gray-600",children:s?.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:682,columnNumber:37},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:680,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:677,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:673,columnNumber:31},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(o,{size:"sm",onClick:()=>(async e=>{try{await S(e,"approved"),t.success("Enrollment approved successfully"),me()}catch(a){console.error("Error approving enrollment:",a),t.error("Failed to approve enrollment")}})(n.id),children:[a.jsxDEV(D,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:691,columnNumber:35},this),"Approve"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:687,columnNumber:33},this),a.jsxDEV(o,{size:"sm",variant:"danger",onClick:()=>(async e=>{try{await S(e,"rejected"),t.success("Enrollment rejected"),me()}catch(a){console.error("Error rejecting enrollment:",a),t.error("Failed to reject enrollment")}})(n.id),children:[a.jsxDEV(T,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:699,columnNumber:35},this),"Reject"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:694,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:686,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:672,columnNumber:29},this)},n.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:668,columnNumber:27},this)}))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:658,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:652,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:651,columnNumber:13},this),ae&&(Z||ee)&&a.jsxDEV(x,{isOpen:ae,onClose:()=>{ne(!1),$(null),te(null)},onSuccess:()=>{me()},user:Z||ee,mode:se},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:716,columnNumber:13},this),ce&&Q.size>0&&a.jsxDEV(b,{students:C.filter(e=>Q.has(e.id)),onClose:()=>{ie(!1)},onSuccess:()=>{X(new Set),me()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:733,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:372,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:366,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/teacher/TeacherStudentManagement.tsx",lineNumber:316,columnNumber:5},this)}export{I as default};
