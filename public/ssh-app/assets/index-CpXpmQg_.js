const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DN9NSJo9.js","assets/vendor-Dr46sEvn.js"])))=>i.map(i=>d[i]);
import{r as m,a as Mm,b as Je,g as Om,c as Nt}from"./vendor-Dr46sEvn.js";import{u as ua,L as Ee,a as ro,N as yt,b as Dm,O as Im,c as wd,R as Vm,d as Ce,B as $m}from"./router-Ch-vvUjn.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var jd={exports:{}},ha={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=m,Um=Symbol.for("react.element"),Bm=Symbol.for("react.fragment"),Hm=Object.prototype.hasOwnProperty,qm=Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gm={key:!0,ref:!0,__self:!0,__source:!0};function _d(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Hm.call(e,n)&&!Gm.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:Um,type:t,key:i,ref:o,props:a,_owner:qm.current}}ha.Fragment=Bm;ha.jsx=_d;ha.jsxs=_d;jd.exports=ha;var s=jd.exports,ai={},rl=Mm;ai.createRoot=rl.createRoot,ai.hydrateRoot=rl.hydrateRoot;let zm={data:""},Wm=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||zm,Ym=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Km=/\/\*[^]*?\*\/|  +/g,nl=/\n+/g,is=(t,e)=>{let r="",n="",a="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?is(o,i):i+"{"+is(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=is(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=is.p?is.p(i,o):i+":"+o+";")}return r+(e&&a?e+"{"+a+"}":a)+n},qt={},Nd=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Nd(t[r]);return e}return t},Zm=(t,e,r,n,a)=>{let i=Nd(t),o=qt[i]||(qt[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!qt[o]){let c=i!==t?t:(d=>{let u,f,h=[{}];for(;u=Ym.exec(d.replace(Km,""));)u[4]?h.shift():u[3]?(f=u[3].replace(nl," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(nl," ").trim();return h[0]})(t);qt[o]=is(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&qt.g?qt.g:null;return r&&(qt.g=qt[o]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(qt[o],e,n,l),o},Jm=(t,e,r)=>t.reduce((n,a,i)=>{let o=e[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":is(l,""):l===!1?"":l}return n+a+(o??"")},"");function ma(t){let e=this||{},r=t.call?t(e.p):t;return Zm(r.unshift?r.raw?Jm(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,Wm(e.target),e.g,e.o,e.k)}let kd,ii,oi;ma.bind({g:1});let Kt=ma.bind({k:1});function Xm(t,e,r,n){is.p=e,kd=t,ii=r,oi=n}function xs(t,e){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:ii&&ii()},l),r.o=/ *go\d+/.test(c),l.className=ma.apply(r,n)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),oi&&d[0]&&oi(l),kd(d,l)}return a}}var Qm=t=>typeof t=="function",Bn=(t,e)=>Qm(t)?t(e):t,ef=(()=>{let t=0;return()=>(++t).toString()})(),Cd=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),tf=20,no="default",Sd=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return Sd(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Rn=[],Ed={toasts:[],pausedAt:void 0,settings:{toastLimit:tf}},Vt={},Ad=(t,e=no)=>{Vt[e]=Sd(Vt[e]||Ed,t),Rn.forEach(([r,n])=>{r===e&&n(Vt[e])})},Td=t=>Object.keys(Vt).forEach(e=>Ad(t,e)),sf=t=>Object.keys(Vt).find(e=>Vt[e].toasts.some(r=>r.id===t)),fa=(t=no)=>e=>{Ad(e,t)},rf={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nf=(t={},e=no)=>{let[r,n]=m.useState(Vt[e]||Ed),a=m.useRef(Vt[e]);m.useEffect(()=>(a.current!==Vt[e]&&n(Vt[e]),Rn.push([e,n]),()=>{let o=Rn.findIndex(([l])=>l===e);o>-1&&Rn.splice(o,1)}),[e]);let i=r.toasts.map(o=>{var l,c,d;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||rf[o.type],style:{...t.style,...(d=t[o.type])==null?void 0:d.style,...o.style}}});return{...r,toasts:i}},af=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||ef()}),on=t=>(e,r)=>{let n=af(e,t,r);return fa(n.toasterId||sf(n.id))({type:2,toast:n}),n.id},ze=(t,e)=>on("blank")(t,e);ze.error=on("error");ze.success=on("success");ze.loading=on("loading");ze.custom=on("custom");ze.dismiss=(t,e)=>{let r={type:3,toastId:t};e?fa(e)(r):Td(r)};ze.dismissAll=t=>ze.dismiss(void 0,t);ze.remove=(t,e)=>{let r={type:4,toastId:t};e?fa(e)(r):Td(r)};ze.removeAll=t=>ze.remove(void 0,t);ze.promise=(t,e,r)=>{let n=ze.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?Bn(e.success,a):void 0;return i?ze.success(i,{id:n,...r,...r==null?void 0:r.success}):ze.dismiss(n),a}).catch(a=>{let i=e.error?Bn(e.error,a):void 0;i?ze.error(i,{id:n,...r,...r==null?void 0:r.error}):ze.dismiss(n)}),t};var of=1e3,lf=(t,e="default")=>{let{toasts:r,pausedAt:n}=nf(t,e),a=m.useRef(new Map).current,i=m.useCallback((f,h=of)=>{if(a.has(f))return;let g=setTimeout(()=>{a.delete(f),o({type:4,toastId:f})},h);a.set(f,g)},[]);m.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(g=>{if(g.duration===1/0)return;let p=(g.duration||0)+g.pauseDuration-(f-g.createdAt);if(p<0){g.visible&&ze.dismiss(g.id);return}return setTimeout(()=>ze.dismiss(g.id,e),p)});return()=>{h.forEach(g=>g&&clearTimeout(g))}},[r,n,e]);let o=m.useCallback(fa(e),[e]),l=m.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=m.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),d=m.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),u=m.useCallback((f,h)=>{let{reverseOrder:g=!1,gutter:p=8,defaultPosition:y}=h||{},j=r.filter(_=>(_.position||y)===(f.position||y)&&_.height),b=j.findIndex(_=>_.id===f.id),N=j.filter((_,w)=>w<b&&_.visible).length;return j.filter(_=>_.visible).slice(...g?[N+1]:[0,N]).reduce((_,w)=>_+(w.height||0)+p,0)},[r]);return m.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=a.get(f.id);h&&(clearTimeout(h),a.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},cf=Kt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,df=Kt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uf=Kt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hf=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cf} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${df} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uf} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mf=Kt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ff=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${mf} 1s linear infinite;
`,gf=Kt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pf=Kt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xf=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gf} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pf} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yf=xs("div")`
  position: absolute;
`,vf=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bf=Kt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wf=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bf} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jf=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?m.createElement(wf,null,e):e:r==="blank"?null:m.createElement(vf,null,m.createElement(ff,{...n}),r!=="loading"&&m.createElement(yf,null,r==="error"?m.createElement(hf,{...n}):m.createElement(xf,{...n})))},_f=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Nf=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,kf="0%{opacity:0;} 100%{opacity:1;}",Cf="0%{opacity:1;} 100%{opacity:0;}",Sf=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ef=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Af=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=Cd()?[kf,Cf]:[_f(r),Nf(r)];return{animation:e?`${Kt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Kt(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Tf=m.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?Af(t.position||e||"top-center",t.visible):{opacity:0},i=m.createElement(jf,{toast:t}),o=m.createElement(Ef,{...t.ariaProps},Bn(t.message,t));return m.createElement(Sf,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):m.createElement(m.Fragment,null,i,o))});Xm(m.createElement);var Pf=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let i=m.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return m.createElement("div",{ref:i,className:e,style:r},a)},Lf=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Cd()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},Rf=ma`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,jn=16,Mf=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=lf(r,i);return m.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:jn,left:jn,right:jn,bottom:jn,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let f=u.position||e,h=d.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),g=Lf(f,h);return m.createElement(Pf,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?Rf:"",style:g},u.type==="custom"?Bn(u.message,u):a?a(u):m.createElement(Tf,{toast:u,position:f}))}))},D=ze;const ao=m.createContext({});function io(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const oo=typeof window<"u",Pd=oo?m.useLayoutEffect:m.useEffect,ga=m.createContext(null);function lo(t,e){t.indexOf(e)===-1&&t.push(e)}function co(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Zt=(t,e,r)=>r>e?e:r<t?t:r;let uo=()=>{};const Jt={},Ld=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Rd(t){return typeof t=="object"&&t!==null}const Md=t=>/^0[^.\s]+$/u.test(t);function ho(t){let e;return()=>(e===void 0&&(e=t()),e)}const jt=t=>t,Of=(t,e)=>r=>e(t(r)),ln=(...t)=>t.reduce(Of),qr=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class mo{constructor(){this.subscriptions=[]}add(e){return lo(this.subscriptions,e),()=>co(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ft=t=>t*1e3,Ut=t=>t/1e3;function Od(t,e){return e?t*(1e3/e):0}const Dd=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Df=1e-7,If=12;function Vf(t,e,r,n,a){let i,o,l=0;do o=e+(r-e)/2,i=Dd(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>Df&&++l<If);return o}function cn(t,e,r,n){if(t===e&&r===n)return jt;const a=i=>Vf(i,0,1,t,r);return i=>i===0||i===1?i:Dd(a(i),e,n)}const Id=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Vd=t=>e=>1-t(1-e),$d=cn(.33,1.53,.69,.99),fo=Vd($d),Fd=Id(fo),Ud=t=>(t*=2)<1?.5*fo(t):.5*(2-Math.pow(2,-10*(t-1))),go=t=>1-Math.sin(Math.acos(t)),Bd=Vd(go),Hd=Id(go),$f=cn(.42,0,1,1),Ff=cn(0,0,.58,1),qd=cn(.42,0,.58,1),Uf=t=>Array.isArray(t)&&typeof t[0]!="number",Gd=t=>Array.isArray(t)&&typeof t[0]=="number",Bf={linear:jt,easeIn:$f,easeInOut:qd,easeOut:Ff,circIn:go,circInOut:Hd,circOut:Bd,backIn:fo,backInOut:Fd,backOut:$d,anticipate:Ud},Hf=t=>typeof t=="string",al=t=>{if(Gd(t)){uo(t.length===4);const[e,r,n,a]=t;return cn(e,r,n,a)}else if(Hf(t))return Bf[t];return t},_n=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qf(t,e){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,f=!1,h=!1)=>{const p=h&&a?r:n;return f&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const Gf=40;function zd(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=_n.reduce((_,w)=>(_[w]=qf(i),_),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:h,render:g,postRender:p}=o,y=()=>{const _=Jt.useManualTiming?a.timestamp:performance.now();r=!1,Jt.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(_-a.timestamp,Gf),1)),a.timestamp=_,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),f.process(a),h.process(a),g.process(a),p.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(y))},j=()=>{r=!0,n=!0,a.isProcessing||t(y)};return{schedule:_n.reduce((_,w)=>{const v=o[w];return _[w]=(x,A=!1,S=!1)=>(r||j(),v.schedule(x,A,S)),_},{}),cancel:_=>{for(let w=0;w<_n.length;w++)o[_n[w]].cancel(_)},state:a,steps:o}}const{schedule:Le,cancel:ms,state:Qe,steps:Ta}=zd(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0);let Mn;function zf(){Mn=void 0}const ct={now:()=>(Mn===void 0&&ct.set(Qe.isProcessing||Jt.useManualTiming?Qe.timestamp:performance.now()),Mn),set:t=>{Mn=t,queueMicrotask(zf)}},Wd=t=>e=>typeof e=="string"&&e.startsWith(t),po=Wd("--"),Wf=Wd("var(--"),xo=t=>Wf(t)?Yf.test(t.split("/*")[0].trim()):!1,Yf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gr={...pr,transform:t=>Zt(0,1,t)},Nn={...pr,default:1},Lr=t=>Math.round(t*1e5)/1e5,yo=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Kf(t){return t==null}const Zf=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vo=(t,e)=>r=>!!(typeof r=="string"&&Zf.test(r)&&r.startsWith(t)||e&&!Kf(r)&&Object.prototype.hasOwnProperty.call(r,e)),Yd=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(yo);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Jf=t=>Zt(0,255,t),Pa={...pr,transform:t=>Math.round(Jf(t))},As={test:vo("rgb","red"),parse:Yd("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Pa.transform(t)+", "+Pa.transform(e)+", "+Pa.transform(r)+", "+Lr(Gr.transform(n))+")"};function Xf(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const li={test:vo("#"),parse:Xf,transform:As.transform},dn=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rs=dn("deg"),Bt=dn("%"),oe=dn("px"),Qf=dn("vh"),eg=dn("vw"),il={...Bt,parse:t=>Bt.parse(t)/100,transform:t=>Bt.transform(t*100)},Qs={test:vo("hsl","hue"),parse:Yd("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Bt.transform(Lr(e))+", "+Bt.transform(Lr(r))+", "+Lr(Gr.transform(n))+")"},Ue={test:t=>As.test(t)||li.test(t)||Qs.test(t),parse:t=>As.test(t)?As.parse(t):Qs.test(t)?Qs.parse(t):li.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?As.transform(t):Qs.transform(t),getAnimatableNone:t=>{const e=Ue.parse(t);return e.alpha=0,Ue.transform(e)}},tg=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sg(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yo))==null?void 0:e.length)||0)+(((r=t.match(tg))==null?void 0:r.length)||0)>0}const Kd="number",Zd="color",rg="var",ng="var(",ol="${}",ag=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zr(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(ag,c=>(Ue.test(c)?(n.color.push(i),a.push(Zd),r.push(Ue.parse(c))):c.startsWith(ng)?(n.var.push(i),a.push(rg),r.push(c)):(n.number.push(i),a.push(Kd),r.push(parseFloat(c))),++i,ol)).split(ol);return{values:r,split:l,indexes:n,types:a}}function Jd(t){return zr(t).values}function Xd(t){const{split:e,types:r}=zr(t),n=e.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===Kd?i+=Lr(a[o]):l===Zd?i+=Ue.transform(a[o]):i+=a[o]}return i}}const ig=t=>typeof t=="number"?0:Ue.test(t)?Ue.getAnimatableNone(t):t;function og(t){const e=Jd(t);return Xd(t)(e.map(ig))}const fs={test:sg,parse:Jd,createTransformer:Xd,getAnimatableNone:og};function La(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function lg({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=La(c,l,t+1/3),i=La(c,l,t),o=La(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Hn(t,e){return r=>r>0?e:t}const Oe=(t,e,r)=>t+(e-t)*r,Ra=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},cg=[li,As,Qs],dg=t=>cg.find(e=>e.test(t));function ll(t){const e=dg(t);if(!e)return!1;let r=e.parse(t);return e===Qs&&(r=lg(r)),r}const cl=(t,e)=>{const r=ll(t),n=ll(e);if(!r||!n)return Hn(t,e);const a={...r};return i=>(a.red=Ra(r.red,n.red,i),a.green=Ra(r.green,n.green,i),a.blue=Ra(r.blue,n.blue,i),a.alpha=Oe(r.alpha,n.alpha,i),As.transform(a))},ci=new Set(["none","hidden"]);function ug(t,e){return ci.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function hg(t,e){return r=>Oe(t,e,r)}function bo(t){return typeof t=="number"?hg:typeof t=="string"?xo(t)?Hn:Ue.test(t)?cl:gg:Array.isArray(t)?Qd:typeof t=="object"?Ue.test(t)?cl:mg:Hn}function Qd(t,e){const r=[...t],n=r.length,a=t.map((i,o)=>bo(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function mg(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=bo(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function fg(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][n[i]],l=t.values[o]??0;r[a]=l,n[i]++}return r}const gg=(t,e)=>{const r=fs.createTransformer(e),n=zr(t),a=zr(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ci.has(t)&&!a.values.length||ci.has(e)&&!n.values.length?ug(t,e):ln(Qd(fg(n,a),a.values),r):Hn(t,e)};function eu(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Oe(t,e,r):bo(t)(t,e)}const pg=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Le.update(e,r),stop:()=>ms(e),now:()=>Qe.isProcessing?Qe.timestamp:ct.now()}},tu=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},qn=2e4;function wo(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<qn;)e+=r,n=t.next(e);return e>=qn?1/0:e}function xg(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(wo(n),qn);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:Ut(a)}}const yg=5;function su(t,e,r){const n=Math.max(e-yg,0);return Od(r-t(n),e-n)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ma=.001;function vg({duration:t=De.duration,bounce:e=De.bounce,velocity:r=De.velocity,mass:n=De.mass}){let a,i,o=1-e;o=Zt(De.minDamping,De.maxDamping,o),t=Zt(De.minDuration,De.maxDuration,Ut(t)),o<1?(a=d=>{const u=d*o,f=u*t,h=u-r,g=di(d,o),p=Math.exp(-f);return Ma-h/g*p},i=d=>{const f=d*o*t,h=f*r+r,g=Math.pow(o,2)*Math.pow(d,2)*t,p=Math.exp(-f),y=di(Math.pow(d,2),o);return(-a(d)+Ma>0?-1:1)*((h-g)*p)/y}):(a=d=>{const u=Math.exp(-d*t),f=(d-r)*t+1;return-Ma+u*f},i=d=>{const u=Math.exp(-d*t),f=(r-d)*(t*t);return u*f});const l=5/t,c=wg(a,i,l);if(t=Ft(t),isNaN(c))return{stiffness:De.stiffness,damping:De.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const bg=12;function wg(t,e,r){let n=r;for(let a=1;a<bg;a++)n=n-t(n)/e(n);return n}function di(t,e){return t*Math.sqrt(1-e*e)}const jg=["duration","bounce"],_g=["stiffness","damping","mass"];function dl(t,e){return e.some(r=>t[r]!==void 0)}function Ng(t){let e={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...t};if(!dl(t,_g)&&dl(t,jg))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Zt(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:De.mass,stiffness:a,damping:i}}else{const r=vg(t);e={...e,...r,mass:De.mass},e.isResolvedFromDuration=!0}return e}function Gn(t=De.visualDuration,e=De.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:h,isResolvedFromDuration:g}=Ng({...r,velocity:-Ut(r.velocity||0)}),p=h||0,y=d/(2*Math.sqrt(c*u)),j=o-i,b=Ut(Math.sqrt(c/u)),N=Math.abs(j)<5;n||(n=N?De.restSpeed.granular:De.restSpeed.default),a||(a=N?De.restDelta.granular:De.restDelta.default);let _;if(y<1){const v=di(b,y);_=x=>{const A=Math.exp(-y*b*x);return o-A*((p+y*b*j)/v*Math.sin(v*x)+j*Math.cos(v*x))}}else if(y===1)_=v=>o-Math.exp(-b*v)*(j+(p+b*j)*v);else{const v=b*Math.sqrt(y*y-1);_=x=>{const A=Math.exp(-y*b*x),S=Math.min(v*x,300);return o-A*((p+y*b*j)*Math.sinh(S)+v*j*Math.cosh(S))/v}}const w={calculatedDuration:g&&f||null,next:v=>{const x=_(v);if(g)l.done=v>=f;else{let A=v===0?p:0;y<1&&(A=v===0?Ft(p):su(_,v,x));const S=Math.abs(A)<=n,M=Math.abs(o-x)<=a;l.done=S&&M}return l.value=l.done?o:x,l},toString:()=>{const v=Math.min(wo(w),qn),x=tu(A=>w.next(v*A).value,v,30);return v+"ms "+x},toTransition:()=>{}};return w}Gn.applyToOptions=t=>{const e=xg(t,100,Gn);return t.ease=e.ease,t.duration=Ft(e.duration),t.type="keyframes",t};function ui({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},g=S=>l!==void 0&&S<l||c!==void 0&&S>c,p=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let y=r*e;const j=f+y,b=o===void 0?j:o(j);b!==j&&(y=b-f);const N=S=>-y*Math.exp(-S/n),_=S=>b+N(S),w=S=>{const M=N(S),B=_(S);h.done=Math.abs(M)<=d,h.value=h.done?b:B};let v,x;const A=S=>{g(h.value)&&(v=S,x=Gn({keyframes:[h.value,p(h.value)],velocity:su(_,S,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return A(0),{calculatedDuration:null,next:S=>{let M=!1;return!x&&v===void 0&&(M=!0,w(S),A(S)),v!==void 0&&S>=v?x.next(S-v):(!M&&w(S),h)}}}function kg(t,e,r){const n=[],a=r||Jt.mix||eu,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||jt:e;l=ln(c,l)}n.push(l)}return n}function Cg(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(uo(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=kg(e,n,a),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const h=qr(t[f],t[f+1],u);return l[f](h)};return r?u=>d(Zt(t[0],t[i-1],u)):d}function Sg(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=qr(0,e,n);t.push(Oe(r,1,a))}}function Eg(t){const e=[0];return Sg(e,t.length-1),e}function Ag(t,e){return t.map(r=>r*e)}function Tg(t,e){return t.map(()=>e||qd).splice(0,t.length-1)}function Rr({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=Uf(n)?n.map(al):al(n),i={done:!1,value:e[0]},o=Ag(r&&r.length===e.length?r:Eg(e),t),l=Cg(o,e,{ease:Array.isArray(a)?a:Tg(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Pg=t=>t!==null;function jo(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(Pg),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const Lg={decay:ui,inertia:ui,tween:Rr,keyframes:Rr,spring:Gn};function ru(t){typeof t.type=="string"&&(t.type=Lg[t.type])}class _o{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Rg=t=>t/100;class No extends _o{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==ct.now()&&this.tick(ct.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ru(e);const{type:r=Rr,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||Rr;c!==Rr&&typeof l[0]!="number"&&(this.mixKeyframes=ln(Rg,eu(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=wo(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:g,type:p,onUpdate:y,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,w=n;if(f){const S=Math.min(this.currentTime,a)/l;let M=Math.floor(S),B=S%1;!B&&S>=1&&(B=1),B===1&&M--,M=Math.min(M,f+1),!!(M%2)&&(h==="reverse"?(B=1-B,g&&(B-=g/l)):h==="mirror"&&(w=o)),_=Zt(0,1,B)*l}const v=N?{done:!1,value:u[0]}:w.next(_);i&&(v.value=i(v.value));let{done:x}=v;!N&&c!==null&&(x=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&x);return A&&p!==ui&&(v.value=jo(u,this.options,j,this.speed)),y&&y(v.value),A&&this.finish(),v}then(e,r){return this.finished.then(e,r)}get duration(){return Ut(this.calculatedDuration)}get time(){return Ut(this.currentTime)}set time(e){var r;e=Ft(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ct.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ut(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=pg,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ct.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Mg(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ts=t=>t*180/Math.PI,hi=t=>{const e=Ts(Math.atan2(t[1],t[0]));return mi(e)},Og={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hi,rotateZ:hi,skewX:t=>Ts(Math.atan(t[1])),skewY:t=>Ts(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mi=t=>(t=t%360,t<0&&(t+=360),t),ul=hi,hl=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ml=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Dg={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hl,scaleY:ml,scale:t=>(hl(t)+ml(t))/2,rotateX:t=>mi(Ts(Math.atan2(t[6],t[5]))),rotateY:t=>mi(Ts(Math.atan2(-t[2],t[0]))),rotateZ:ul,rotate:ul,skewX:t=>Ts(Math.atan(t[4])),skewY:t=>Ts(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fi(t){return t.includes("scale")?1:0}function gi(t,e){if(!t||t==="none")return fi(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Dg,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Og,a=l}if(!a)return fi(e);const i=n[e],o=a[1].split(",").map(Vg);return typeof i=="function"?i(o):o[i]}const Ig=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return gi(r,e)};function Vg(t){return parseFloat(t.trim())}const xr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yr=new Set(xr),fl=t=>t===pr||t===oe,$g=new Set(["x","y","z"]),Fg=xr.filter(t=>!$g.has(t));function Ug(t){const e=[];return Fg.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Ls={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gi(e,"x"),y:(t,{transform:e})=>gi(e,"y")};Ls.translateX=Ls.x;Ls.translateY=Ls.y;const Rs=new Set;let pi=!1,xi=!1,yi=!1;function nu(){if(xi){const t=Array.from(Rs).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=Ug(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}xi=!1,pi=!1,Rs.forEach(t=>t.complete(yi)),Rs.clear()}function au(){Rs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xi=!0)})}function Bg(){yi=!0,au(),nu(),yi=!1}class ko{constructor(e,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Rs.add(this),pi||(pi=!0,Le.read(au),Le.resolveKeyframes(nu))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Mg(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Rs.delete(this)}cancel(){this.state==="scheduled"&&(Rs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Hg=t=>t.startsWith("--");function qg(t,e,r){Hg(e)?t.style.setProperty(e,r):t.style[e]=r}const Gg=ho(()=>window.ScrollTimeline!==void 0),zg={};function Wg(t,e){const r=ho(t);return()=>zg[e]??r()}const iu=Wg(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ar=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,gl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ar([0,.65,.55,1]),circOut:Ar([.55,0,1,.45]),backIn:Ar([.31,.01,.66,-.59]),backOut:Ar([.33,1.53,.69,.99])};function ou(t,e){if(t)return typeof t=="function"?iu()?tu(t,e):"ease-out":Gd(t)?Ar(t):Array.isArray(t)?t.map(r=>ou(r,e)||gl.easeOut):gl[t]}function Yg(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:r};c&&(u.offset=c);const f=ou(l,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),t.animate(u,h)}function lu(t){return typeof t=="function"&&"applyToOptions"in t}function Kg({type:t,...e}){return lu(t)&&iu()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Zg extends _o{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,uo(typeof e.type!="string");const d=Kg(e);this.animation=Yg(r,n,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=jo(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):qg(r,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ut(Number(e))}get time(){return Ut(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ft(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Gg()?(this.animation.timeline=e,jt):r(this)}}const cu={anticipate:Ud,backInOut:Fd,circInOut:Hd};function Jg(t){return t in cu}function Xg(t){typeof t.ease=="string"&&Jg(t.ease)&&(t.ease=cu[t.ease])}const pl=10;class Qg extends Zg{constructor(e){Xg(e),ru(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new No({...o,autoplay:!1}),c=Ft(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-pl).value,l.sample(c).value,pl),l.stop()}}const xl=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fs.test(t)||t==="0")&&!t.startsWith("url("));function ep(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function tp(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=xl(a,e),l=xl(i,e);return!o||!l?!1:ep(t)||(r==="spring"||lu(r))&&n}function vi(t){t.duration=0,t.type}const sp=new Set(["opacity","clipPath","filter","transform"]),rp=ho(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function np(t){var u;const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return rp()&&r&&sp.has(r)&&(r!=="transform"||!d)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const ap=40;class ip extends _o{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){var p;super(),this.stop=()=>{var y,j;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=ct.now();const h={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...f},g=(u==null?void 0:u.KeyframeResolver)||ko;this.keyframeResolver=new g(l,(y,j,b)=>this.onKeyframesResolved(y,j,h,!b),c,d,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=ct.now(),tp(e,i,o,l)||((Jt.instantAnimations||!c)&&(u==null||u(jo(e,n,r))),e[0]=e[e.length-1],vi(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ap?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},g=!d&&np(h)?new Qg({...h,element:h.motionValue.owner.current}):new No(h);g.finished.then(()=>this.notifyFinished()).catch(jt),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Bg()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const op=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lp(t){const e=op.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function du(t,e,r=1){const[n,a]=lp(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return Ld(o)?parseFloat(o):o}return xo(a)?du(a,e,r+1):a}function Co(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const uu=new Set(["width","height","top","left","right","bottom",...xr]),cp={test:t=>t==="auto",parse:t=>t},hu=t=>e=>e.test(t),mu=[pr,oe,Bt,rs,eg,Qf,cp],yl=t=>mu.find(hu(t));function dp(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Md(t):!0}const up=new Set(["brightness","contrast","saturate","opacity"]);function hp(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(yo)||[];if(!n)return t;const a=r.replace(n,"");let i=up.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const mp=/\b([a-z-]*)\(.*?\)/gu,bi={...fs,getAnimatableNone:t=>{const e=t.match(mp);return e?e.map(hp).join(" "):t}},vl={...pr,transform:Math.round},fp={rotate:rs,rotateX:rs,rotateY:rs,rotateZ:rs,scale:Nn,scaleX:Nn,scaleY:Nn,scaleZ:Nn,skew:rs,skewX:rs,skewY:rs,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Gr,originX:il,originY:il,originZ:oe},So={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...fp,zIndex:vl,fillOpacity:Gr,strokeOpacity:Gr,numOctaves:vl},gp={...So,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:bi,WebkitFilter:bi},fu=t=>gp[t];function gu(t,e){let r=fu(t);return r!==bi&&(r=fs),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const pp=new Set(["auto","none","0"]);function xp(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!pp.has(i)&&zr(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=gu(r,a)}class yp extends ko{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),xo(d))){const u=du(d,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!uu.has(n)||e.length!==2)return;const[a,i]=e,o=yl(a),l=yl(i);if(o!==l)if(fl(o)&&fl(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Ls[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||dp(e[a]))&&n.push(a);n.length&&xp(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ls[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Ls[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function vp(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const pu=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function xu(t){return Rd(t)&&"offsetHeight"in t}const bl=30,bp=t=>!isNaN(parseFloat(t));class wp{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=ct.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ct.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bp(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new mo);const n=this.events[e].add(r);return e==="change"?()=>{n(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ct.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>bl)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,bl);return Od(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function or(t,e){return new wp(t,e)}const{schedule:Eo}=zd(queueMicrotask,!1),Et={x:!1,y:!1};function yu(){return Et.x||Et.y}function jp(t){return t==="x"||t==="y"?Et[t]?null:(Et[t]=!0,()=>{Et[t]=!1}):Et.x||Et.y?null:(Et.x=Et.y=!0,()=>{Et.x=Et.y=!1})}function vu(t,e){const r=vp(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function wl(t){return!(t.pointerType==="touch"||yu())}function _p(t,e,r={}){const[n,a,i]=vu(t,r),o=l=>{if(!wl(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=f=>{wl(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const bu=(t,e)=>e?t===e?!0:bu(t,e.parentElement):!1,Ao=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Np=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kp(t){return Np.has(t.tagName)||t.tabIndex!==-1}const On=new WeakSet;function jl(t){return e=>{e.key==="Enter"&&t(e)}}function Oa(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Cp=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=jl(()=>{if(On.has(r))return;Oa(r,"down");const a=jl(()=>{Oa(r,"up")}),i=()=>Oa(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function _l(t){return Ao(t)&&!yu()}function Sp(t,e,r={}){const[n,a,i]=vu(t,r),o=l=>{const c=l.currentTarget;if(!_l(l))return;On.add(c);const d=e(c,l),u=(g,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),On.has(c)&&On.delete(c),_l(g)&&typeof d=="function"&&d(g,{success:p})},f=g=>{u(g,c===window||c===document||r.useGlobalTarget||bu(c,g.target))},h=g=>{u(g,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),xu(l)&&(l.addEventListener("focus",d=>Cp(d,a)),!kp(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function wu(t){return Rd(t)&&"ownerSVGElement"in t}function Ep(t){return wu(t)&&t.tagName==="svg"}const st=t=>!!(t&&t.getVelocity),Ap=[...mu,Ue,fs],Tp=t=>Ap.find(hu(t)),To=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Pp extends m.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=xu(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Lp({children:t,isPresent:e,anchorX:r,root:n}){const a=m.useId(),i=m.useRef(null),o=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=m.useContext(To);return m.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:f,right:h}=o.current;if(e||!i.current||!c||!d)return;const g=r==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=a;const p=document.createElement("style");l&&(p.nonce=l);const y=n??document.head;return y.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${g}px !important;
            top: ${u}px !important;
          }
        `),()=>{y.contains(p)&&y.removeChild(p)}},[e]),s.jsx(Pp,{isPresent:e,childRef:i,sizeRef:o,children:m.cloneElement(t,{ref:i})})}const Rp=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=io(Mp),u=m.useId();let f=!0,h=m.useMemo(()=>(f=!1,{id:u,initial:e,isPresent:r,custom:a,onExitComplete:g=>{d.set(g,!0);for(const p of d.values())if(!p)return;n&&n()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[r,d,n]);return i&&f&&(h={...h}),m.useMemo(()=>{d.forEach((g,p)=>d.set(p,!1))},[r]),m.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(Lp,{isPresent:r,anchorX:l,root:c,children:t})),s.jsx(ga.Provider,{value:h,children:t})};function Mp(){return new Map}function ju(t=!0){const e=m.useContext(ga);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=m.useId();m.useEffect(()=>{if(t)return a(i)},[t]);const o=m.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const kn=t=>t.key||"";function Nl(t){const e=[];return m.Children.forEach(t,r=>{m.isValidElement(r)&&e.push(r)}),e}const zn=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=ju(o),f=m.useMemo(()=>Nl(t),[t]),h=o&&!d?[]:f.map(kn),g=m.useRef(!0),p=m.useRef(f),y=io(()=>new Map),[j,b]=m.useState(f),[N,_]=m.useState(f);Pd(()=>{g.current=!1,p.current=f;for(let x=0;x<N.length;x++){const A=kn(N[x]);h.includes(A)?y.delete(A):y.get(A)!==!0&&y.set(A,!1)}},[N,h.length,h.join("-")]);const w=[];if(f!==j){let x=[...f];for(let A=0;A<N.length;A++){const S=N[A],M=kn(S);h.includes(M)||(x.splice(A,0,S),w.push(S))}return i==="wait"&&w.length&&(x=w),_(Nl(x)),b(f),null}const{forceRender:v}=m.useContext(ao);return s.jsx(s.Fragment,{children:N.map(x=>{const A=kn(x),S=o&&!d?!1:f===N||h.includes(A),M=()=>{if(y.has(A))y.set(A,!0);else return;let B=!0;y.forEach(J=>{J||(B=!1)}),B&&(v==null||v(),_(p.current),o&&(u==null||u()),n&&n())};return s.jsx(Rp,{isPresent:S,initial:!g.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:S?void 0:M,anchorX:l,children:x},A)})})},_u=m.createContext({strict:!1}),kl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lr={};for(const t in kl)lr[t]={isEnabled:e=>kl[t].some(r=>!!e[r])};function Op(t){for(const e in t)lr[e]={...lr[e],...t[e]}}const Dp=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wn(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Dp.has(t)}let Nu=t=>!Wn(t);function Ip(t){typeof t=="function"&&(Nu=e=>e.startsWith("on")?!Wn(e):t(e))}try{Ip(require("@emotion/is-prop-valid").default)}catch{}function Vp(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(Nu(a)||r===!0&&Wn(a)||!e&&!Wn(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const pa=m.createContext({});function xa(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wr(t){return typeof t=="string"||Array.isArray(t)}const Po=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lo=["initial",...Po];function ya(t){return xa(t.animate)||Lo.some(e=>Wr(t[e]))}function ku(t){return!!(ya(t)||t.variants)}function $p(t,e){if(ya(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Wr(r)?r:void 0,animate:Wr(n)?n:void 0}}return t.inherit!==!1?e:{}}function Fp(t){const{initial:e,animate:r}=$p(t,m.useContext(pa));return m.useMemo(()=>({initial:e,animate:r}),[Cl(e),Cl(r)])}function Cl(t){return Array.isArray(t)?t.join(" "):t}const Yr={};function Up(t){for(const e in t)Yr[e]=t[e],po(e)&&(Yr[e].isCSSVariable=!0)}function Cu(t,{layout:e,layoutId:r}){return yr.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Yr[t]||t==="opacity")}const Bp={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hp=xr.length;function qp(t,e,r){let n="",a=!0;for(let i=0;i<Hp;i++){const o=xr[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=pu(l,So[o]);if(!c){a=!1;const u=Bp[o]||o;n+=`${u}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function Ro(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(yr.has(c)){o=!0;continue}else if(po(c)){a[c]=d;continue}else{const u=pu(d,So[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(e.transform||(o||r?n.transform=qp(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const Mo=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Su(t,e,r){for(const n in e)!st(e[n])&&!Cu(n,r)&&(t[n]=e[n])}function Gp({transformTemplate:t},e){return m.useMemo(()=>{const r=Mo();return Ro(r,e,t),Object.assign({},r.vars,r.style)},[e])}function zp(t,e){const r=t.style||{},n={};return Su(n,r,t),Object.assign(n,Gp(t,e)),n}function Wp(t,e){const r={},n=zp(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Yp={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kp={offset:"strokeDashoffset",array:"strokeDasharray"};function Zp(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?Yp:Kp;t[i.offset]=oe.transform(-n);const o=oe.transform(e),l=oe.transform(r);t[i.array]=`${o} ${l}`}function Eu(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(Ro(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Zp(f,a,i,o,!1)}const Au=()=>({...Mo(),attrs:{}}),Tu=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Jp(t,e,r,n){const a=m.useMemo(()=>{const i=Au();return Eu(i,e,Tu(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Su(i,t.style,t),a.style={...i,...a.style}}return a}const Xp=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Oo(t){return typeof t!="string"||t.includes("-")?!1:!!(Xp.indexOf(t)>-1||/[A-Z]/u.test(t))}function Qp(t,e,r,{latestValues:n},a,i=!1){const l=(Oo(t)?Jp:Wp)(e,n,a,t),c=Vp(e,typeof t=="string",i),d=t!==m.Fragment?{...c,...l,ref:r}:{},{children:u}=e,f=m.useMemo(()=>st(u)?u.get():u,[u]);return m.createElement(t,{...d,children:f})}function Sl(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Do(t,e,r,n){if(typeof e=="function"){const[a,i]=Sl(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=Sl(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function Dn(t){return st(t)?t.get():t}function e0({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:t0(r,n,a,t),renderState:e()}}function t0(t,e,r,n){const a={},i=n(t,{});for(const h in i)a[h]=Dn(i[h]);let{initial:o,animate:l}=t;const c=ya(t),d=ku(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!xa(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const p=Do(t,h[g]);if(p){const{transitionEnd:y,transition:j,...b}=p;for(const N in b){let _=b[N];if(Array.isArray(_)){const w=u?_.length-1:0;_=_[w]}_!==null&&(a[N]=_)}for(const N in y)a[N]=y[N]}}}return a}const Pu=t=>(e,r)=>{const n=m.useContext(pa),a=m.useContext(ga),i=()=>e0(t,e,n,a);return r?i():io(i)};function Io(t,e,r){var i;const{style:n}=t,a={};for(const o in n)(st(n[o])||e.style&&st(e.style[o])||Cu(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const s0=Pu({scrapeMotionValuesFromProps:Io,createRenderState:Mo});function Lu(t,e,r){const n=Io(t,e,r);for(const a in t)if(st(t[a])||st(e[a])){const i=xr.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const r0=Pu({scrapeMotionValuesFromProps:Lu,createRenderState:Au}),n0=Symbol.for("motionComponentSymbol");function er(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function a0(t,e,r){return m.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):er(r)&&(r.current=n))},[e,r])}const Vo=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i0="framerAppearId",Ru="data-"+Vo(i0),Mu=m.createContext({});function o0(t,e,r,n,a){var y,j;const{visualElement:i}=m.useContext(pa),o=m.useContext(_u),l=m.useContext(ga),c=m.useContext(To).reducedMotion,d=m.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=m.useContext(Mu);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&l0(d.current,r,a,f);const h=m.useRef(!1);m.useInsertionEffect(()=>{u&&h.current&&u.update(r,l)});const g=r[Ru],p=m.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,g)));return Pd(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,g)}),p.current=!1),u.enteringChildren=void 0)}),u}function l0(t,e,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Ou(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&er(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function Ou(t){if(t)return t.options.allowProjection!==!1?t.projection:Ou(t.parent)}function Da(t,{forwardMotionProps:e=!1}={},r,n){r&&Op(r);const a=Oo(t)?r0:s0;function i(l,c){let d;const u={...m.useContext(To),...l,layoutId:c0(l)},{isStatic:f}=u,h=Fp(l),g=a(l,f);if(!f&&oo){d0();const p=u0(u);d=p.MeasureLayout,h.visualElement=o0(t,g,u,n,p.ProjectionNode)}return s.jsxs(pa.Provider,{value:h,children:[d&&h.visualElement?s.jsx(d,{visualElement:h.visualElement,...u}):null,Qp(t,l,a0(g,h.visualElement,c),g,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=m.forwardRef(i);return o[n0]=t,o}function c0({layoutId:t}){const e=m.useContext(ao).id;return e&&t!==void 0?e+"-"+t:t}function d0(t,e){m.useContext(_u).strict}function u0(t){const{drag:e,layout:r}=lr;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function h0(t,e){if(typeof Proxy>"u")return Da;const r=new Map,n=(i,o)=>Da(i,o,t,e),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,Da(o,void 0,t,e)),r.get(o))})}function Du({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function m0({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function f0(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ia(t){return t===void 0||t===1}function wi({scale:t,scaleX:e,scaleY:r}){return!Ia(t)||!Ia(e)||!Ia(r)}function ks(t){return wi(t)||Iu(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Iu(t){return El(t.x)||El(t.y)}function El(t){return t&&t!=="0%"}function Yn(t,e,r){const n=t-r,a=e*n;return r+a}function Al(t,e,r,n,a){return a!==void 0&&(t=Yn(t,a,n)),Yn(t,r,n)+e}function ji(t,e=0,r=1,n,a){t.min=Al(t.min,e,r,n,a),t.max=Al(t.max,e,r,n,a)}function Vu(t,{x:e,y:r}){ji(t.x,e.translate,e.scale,e.originPoint),ji(t.y,r.translate,r.scale,r.originPoint)}const Tl=.999999999999,Pl=1.0000000000001;function g0(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&sr(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Vu(t,o)),n&&ks(i.latestValues)&&sr(t,i.latestValues))}e.x<Pl&&e.x>Tl&&(e.x=1),e.y<Pl&&e.y>Tl&&(e.y=1)}function tr(t,e){t.min=t.min+e,t.max=t.max+e}function Ll(t,e,r,n,a=.5){const i=Oe(t.min,t.max,a);ji(t,e,r,i,n)}function sr(t,e){Ll(t.x,e.x,e.scaleX,e.scale,e.originX),Ll(t.y,e.y,e.scaleY,e.scale,e.originY)}function $u(t,e){return Du(f0(t.getBoundingClientRect(),e))}function p0(t,e,r){const n=$u(t,r),{scroll:a}=e;return a&&(tr(n.x,a.offset.x),tr(n.y,a.offset.y)),n}const Rl=()=>({translate:0,scale:1,origin:0,originPoint:0}),rr=()=>({x:Rl(),y:Rl()}),Ml=()=>({min:0,max:0}),Ie=()=>({x:Ml(),y:Ml()}),_i={current:null},Fu={current:!1};function x0(){if(Fu.current=!0,!!oo)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_i.current=t.matches;t.addEventListener("change",e),e()}else _i.current=!1}const y0=new WeakMap;function v0(t,e,r){for(const n in e){const a=e[n],i=r[n];if(st(a))t.addValue(n,a);else if(st(i))t.addValue(n,or(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,or(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const Ol=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class b0{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ko,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ct.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Le.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=ya(r),this.isVariantNode=ku(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const g=f[h];c[h]!==void 0&&st(g)&&g.set(c[h])}}mount(e){var r;this.current=e,y0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),Fu.current||x0(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_i.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ms(this.notifyUpdate),ms(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=yr.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Le.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lr){const r=lr[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ie()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Ol.length;n++){const a=Ol[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=v0(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=or(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Ld(n)||Md(n))?n=parseFloat(n):!Tp(n)&&fs.test(r)&&(n=gu(e,r)),this.setBaseTarget(e,st(n)?n.get():n)),st(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=Do(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!st(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new mo),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Eo.render(this.render)}}class Uu extends b0{constructor(){super(...arguments),this.KeyframeResolver=yp}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;st(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Bu(t,{style:e,vars:r},n,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function w0(t){return window.getComputedStyle(t)}class j0 extends Uu{constructor(){super(...arguments),this.type="html",this.renderInstance=Bu}readValueFromInstance(e,r){var n;if(yr.has(r))return(n=this.projection)!=null&&n.isProjecting?fi(r):Ig(e,r);{const a=w0(e),i=(po(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return $u(e,r)}build(e,r,n){Ro(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Io(e,r,n)}}const Hu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _0(t,e,r,n){Bu(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(Hu.has(a)?a:Vo(a),e.attrs[a])}class N0 extends Uu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ie}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(yr.has(r)){const n=fu(r);return n&&n.default||0}return r=Hu.has(r)?r:Vo(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Lu(e,r,n)}build(e,r,n){Eu(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){_0(e,r,n,a)}mount(e){this.isSVGTag=Tu(e.tagName),super.mount(e)}}const k0=(t,e)=>Oo(t)?new N0(e):new j0(e,{allowProjection:t!==m.Fragment});function nr(t,e,r){const n=t.getProps();return Do(n,e,r!==void 0?r:n.custom,t)}const Ni=t=>Array.isArray(t);function C0(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,or(r))}function S0(t){return Ni(t)?t[t.length-1]||0:t}function E0(t,e){const r=nr(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=S0(i[o]);C0(t,o,l)}}function A0(t){return!!(st(t)&&t.add)}function ki(t,e){const r=t.getValue("willChange");if(A0(r))return r.add(e);if(!r&&Jt.WillChange){const n=new Jt.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function qu(t){return t.props[Ru]}const T0=t=>t!==null;function P0(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(T0),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const L0={type:"spring",stiffness:500,damping:25,restSpeed:10},R0=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),M0={type:"keyframes",duration:.8},O0={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D0=(t,{keyframes:e})=>e.length>2?M0:yr.has(t)?t.startsWith("scale")?R0(e[1]):L0:O0;function I0({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const $o=(t,e,r,n={},a,i)=>o=>{const l=Co(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Ft(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:h=>{e.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};I0(l)||Object.assign(u,D0(t,u)),u.duration&&(u.duration=Ft(u.duration)),u.repeatDelay&&(u.repeatDelay=Ft(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(vi(u),u.delay===0&&(f=!0)),(Jt.instantAnimations||Jt.skipAnimations)&&(f=!0,vi(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const h=P0(u.keyframes,l);if(h!==void 0){Le.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new No(u):new ip(u)};function V0({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Gu(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in l){const f=t.getValue(u,t.latestValues[u]??null),h=l[u];if(h===void 0||d&&V0(d,u))continue;const g={delay:r,...Co(i||{},u)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const b=qu(t);if(b){const N=window.MotionHandoffAnimation(b,u,Le);N!==null&&(g.startTime=N,y=!0)}}ki(t,u),f.start($o(u,f,h,t.shouldReduceMotion&&uu.has(u)?{type:!1}:g,t,y));const j=f.animation;j&&c.push(j)}return o&&Promise.all(c).then(()=>{Le.update(()=>{o&&E0(t,o)})}),c}function zu(t,e,r,n=0,a=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function Ci(t,e,r={}){var c;const n=nr(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Gu(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return $0(t,e,d,u,f,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function $0(t,e,r=0,n=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(Ci(c,e,{...o,delay:r+(typeof n=="function"?0:n)+zu(t.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function F0(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>Ci(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=Ci(t,e,r);else{const a=typeof e=="function"?nr(t,e,r.custom):e;n=Promise.all(Gu(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function Wu(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const U0=Lo.length;function Yu(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Yu(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<U0;r++){const n=Lo[r],a=t.props[n];(Wr(a)||a===!1)&&(e[n]=a)}return e}const B0=[...Po].reverse(),H0=Po.length;function q0(t){return e=>Promise.all(e.map(({animation:r,options:n})=>F0(t,r,n)))}function G0(t){let e=q0(t),r=Dl(),n=!0;const a=c=>(d,u)=>{var h;const f=nr(t,u,c==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:p,...y}=f;d={...d,...y,...p}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=Yu(t.parent)||{},f=[],h=new Set;let g={},p=1/0;for(let j=0;j<H0;j++){const b=B0[j],N=r[b],_=d[b]!==void 0?d[b]:u[b],w=Wr(_),v=b===c?N.isActive:null;v===!1&&(p=j);let x=_===u[b]&&_!==d[b]&&w;if(x&&n&&t.manuallyAnimateOnMount&&(x=!1),N.protectedKeys={...g},!N.isActive&&v===null||!_&&!N.prevProp||xa(_)||typeof _=="boolean")continue;const A=z0(N.prevProp,_);let S=A||b===c&&N.isActive&&!x&&w||j>p&&w,M=!1;const B=Array.isArray(_)?_:[_];let J=B.reduce(a(b),{});v===!1&&(J={});const{prevResolvedValues:L={}}=N,z={...L,...J},ne=le=>{S=!0,h.has(le)&&(M=!0,h.delete(le)),N.needsAnimating[le]=!0;const C=t.getValue(le);C&&(C.liveStyle=!1)};for(const le in z){const C=J[le],E=L[le];if(g.hasOwnProperty(le))continue;let se=!1;Ni(C)&&Ni(E)?se=!Wu(C,E):se=C!==E,se?C!=null?ne(le):h.add(le):C!==void 0&&h.has(le)?ne(le):N.protectedKeys[le]=!0}N.prevProp=_,N.prevResolvedValues=J,N.isActive&&(g={...g,...J}),n&&t.blockInitialAnimation&&(S=!1);const W=x&&A;S&&(!W||M)&&f.push(...B.map(le=>{const C={type:b};if(typeof le=="string"&&n&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:E}=t,se=nr(E,le);if(E.enteringChildren&&se){const{delayChildren:ie}=se.transition||{};C.delay=zu(E.enteringChildren,t,ie)}}return{animation:le,options:C}}))}if(h.size){const j={};if(typeof d.initial!="boolean"){const b=nr(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(j.transition=b.transition)}h.forEach(b=>{const N=t.getBaseTarget(b),_=t.getValue(b);_&&(_.liveStyle=!0),j[b]=N??null}),f.push({animation:j})}let y=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(f):Promise.resolve()}function l(c,d){var f;if(r[c].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(c,d)}),r[c].isActive=d;const u=o(c);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Dl(),n=!0}}}function z0(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Wu(e,t):!1}function js(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dl(){return{animate:js(!0),whileInView:js(),whileHover:js(),whileTap:js(),whileDrag:js(),whileFocus:js(),exit:js()}}class ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}class W0 extends ys{constructor(e){super(e),e.animationState||(e.animationState=G0(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Y0=0;class K0 extends ys{constructor(){super(...arguments),this.id=Y0++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Z0={animation:{Feature:W0},exit:{Feature:K0}};function Kr(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function un(t){return{point:{x:t.pageX,y:t.pageY}}}const J0=t=>e=>Ao(e)&&t(e,un(e));function Mr(t,e,r,n){return Kr(t,e,J0(r),n)}const Ku=1e-4,X0=1-Ku,Q0=1+Ku,Zu=.01,ex=0-Zu,tx=0+Zu;function at(t){return t.max-t.min}function sx(t,e,r){return Math.abs(t-e)<=r}function Il(t,e,r,n=.5){t.origin=n,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=at(r)/at(e),t.translate=Oe(r.min,r.max,t.origin)-t.originPoint,(t.scale>=X0&&t.scale<=Q0||isNaN(t.scale))&&(t.scale=1),(t.translate>=ex&&t.translate<=tx||isNaN(t.translate))&&(t.translate=0)}function Or(t,e,r,n){Il(t.x,e.x,r.x,n?n.originX:void 0),Il(t.y,e.y,r.y,n?n.originY:void 0)}function Vl(t,e,r){t.min=r.min+e.min,t.max=t.min+at(e)}function rx(t,e,r){Vl(t.x,e.x,r.x),Vl(t.y,e.y,r.y)}function $l(t,e,r){t.min=e.min-r.min,t.max=t.min+at(e)}function Dr(t,e,r){$l(t.x,e.x,r.x),$l(t.y,e.y,r.y)}function xt(t){return[t("x"),t("y")]}const Ju=({current:t})=>t?t.ownerDocument.defaultView:null,Fl=(t,e)=>Math.abs(t-e);function nx(t,e){const r=Fl(t.x,e.x),n=Fl(t.y,e.y);return Math.sqrt(r**2+n**2)}class Xu{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=$a(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,p=nx(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!p)return;const{point:y}=h,{timestamp:j}=Qe;this.history.push({...y,timestamp:j});const{onStart:b,onMove:N}=this.handlers;g||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Va(g,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=$a(h.type==="pointercancel"?this.lastMoveEventInfo:Va(g,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),y&&y(h,b)},!Ao(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=un(e),c=Va(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=Qe;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=r;f&&f(e,$a(c,this.history)),this.removeListeners=ln(Mr(this.contextWindow,"pointermove",this.handlePointerMove),Mr(this.contextWindow,"pointerup",this.handlePointerUp),Mr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ms(this.updatePoint)}}function Va(t,e){return e?{point:e(t.point)}:t}function Ul(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $a({point:t},e){return{point:t,delta:Ul(t,Qu(e)),offset:Ul(t,ax(e)),velocity:ix(e,.1)}}function ax(t){return t[0]}function Qu(t){return t[t.length-1]}function ix(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=Qu(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Ft(e)));)r--;if(!n)return{x:0,y:0};const i=Ut(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ox(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Oe(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Oe(r,t,n.max):Math.min(t,r)),t}function Bl(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function lx(t,{top:e,left:r,bottom:n,right:a}){return{x:Bl(t.x,r,a),y:Bl(t.y,e,n)}}function Hl(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function cx(t,e){return{x:Hl(t.x,e.x),y:Hl(t.y,e.y)}}function dx(t,e){let r=.5;const n=at(t),a=at(e);return a>n?r=qr(e.min,e.max-n,t.min):n>a&&(r=qr(t.min,t.max-a,e.min)),Zt(0,1,r)}function ux(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Si=.35;function hx(t=Si){return t===!1?t=0:t===!0&&(t=Si),{x:ql(t,"left","right"),y:ql(t,"top","bottom")}}function ql(t,e,r){return{min:Gl(t,e),max:Gl(t,r)}}function Gl(t,e){return typeof t=="number"?t:t[e]||0}const mx=new WeakMap;class fx{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ie(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(un(f).point)},o=(f,h)=>{const{drag:g,dragPropagation:p,onDragStart:y}=this.getProps();if(g&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jp(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xt(b=>{let N=this.getAxisMotionValue(b).get()||0;if(Bt.test(N)){const{projection:_}=this.visualElement;if(_&&_.layout){const w=_.layout.layoutBox[b];w&&(N=at(w)*(parseFloat(N)/100))}}this.originPoint[b]=N}),y&&Le.postRender(()=>y(f,h)),ki(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:g,dragDirectionLock:p,onDirectionLock:y,onDrag:j}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=gx(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),j&&j(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>xt(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Xu(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Ju(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Le.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!Cn(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=ox(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&er(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=lx(n.layoutBox,e):this.constraints=!1,this.elastic=hx(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&xt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ux(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!er(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=p0(n,a.root,this.visualElement.getTransformPagePoint());let o=cx(a.layout.layoutBox,i);if(r){const l=r(m0(o));this.hasMutatedConstraints=!!l,l&&(o=Du(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=xt(u=>{if(!Cn(u,r,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const h=a?200:1e6,g=a?40:1e7,p={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return ki(this.visualElement,e),n.start($o(e,n,0,r,this.visualElement,!1))}stopAnimation(){xt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xt(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){xt(r=>{const{drag:n}=this.getProps();if(!Cn(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-Oe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!er(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};xt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=dx({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xt(o=>{if(!Cn(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Oe(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;mx.set(this.visualElement,this);const e=this.visualElement.current,r=Mr(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();er(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Le.read(n);const o=Kr(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(xt(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Si,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Cn(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function gx(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class px extends ys{constructor(e){super(e),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new fx(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const zl=t=>(e,r)=>{t&&Le.postRender(()=>t(e,r))};class xx extends ys{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(e){this.session=new Xu(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ju(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:zl(e),onStart:zl(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Le.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Mr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const In={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wl(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const r=Wl(t,e.target.x),n=Wl(t,e.target.y);return`${r}% ${n}%`}},yx={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=fs.parse(t);if(a.length>5)return n;const i=fs.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=Oe(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let Fa=!1;class vx extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;Up(bx),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),Fa&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),In.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,Fa=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Le.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Eo.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;Fa=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eh(t){const[e,r]=ju(),n=m.useContext(ao);return s.jsx(vx,{...t,layoutGroup:n,switchLayoutGroup:m.useContext(Mu),isPresent:e,safeToRemove:r})}const bx={borderRadius:{...jr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jr,borderTopRightRadius:jr,borderBottomLeftRadius:jr,borderBottomRightRadius:jr,boxShadow:yx};function wx(t,e,r){const n=st(t)?t:or(t);return n.start($o("",n,e,r)),n.animation}const jx=(t,e)=>t.depth-e.depth;class _x{constructor(){this.children=[],this.isDirty=!1}add(e){lo(this.children,e),this.isDirty=!0}remove(e){co(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jx),this.isDirty=!1,this.children.forEach(e)}}function Nx(t,e){const r=ct.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(ms(n),t(i-e))};return Le.setup(n,!0),()=>ms(n)}const th=["TopLeft","TopRight","BottomLeft","BottomRight"],kx=th.length,Yl=t=>typeof t=="string"?parseFloat(t):t,Kl=t=>typeof t=="number"||oe.test(t);function Cx(t,e,r,n,a,i){a?(t.opacity=Oe(0,r.opacity??1,Sx(n)),t.opacityExit=Oe(e.opacity??1,0,Ex(n))):i&&(t.opacity=Oe(e.opacity??1,r.opacity??1,n));for(let o=0;o<kx;o++){const l=`border${th[o]}Radius`;let c=Zl(e,l),d=Zl(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Kl(c)===Kl(d)?(t[l]=Math.max(Oe(Yl(c),Yl(d),n),0),(Bt.test(d)||Bt.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Oe(e.rotate||0,r.rotate||0,n))}function Zl(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Sx=sh(0,.5,Bd),Ex=sh(.5,.95,jt);function sh(t,e,r){return n=>n<t?0:n>e?1:r(qr(t,e,n))}function Jl(t,e){t.min=e.min,t.max=e.max}function pt(t,e){Jl(t.x,e.x),Jl(t.y,e.y)}function Xl(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ql(t,e,r,n,a){return t-=e,t=Yn(t,1/r,n),a!==void 0&&(t=Yn(t,1/a,n)),t}function Ax(t,e=0,r=1,n=.5,a,i=t,o=t){if(Bt.test(e)&&(e=parseFloat(e),e=Oe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Oe(i.min,i.max,n);t===i&&(l-=e),t.min=Ql(t.min,e,r,l,a),t.max=Ql(t.max,e,r,l,a)}function ec(t,e,[r,n,a],i,o){Ax(t,e[r],e[n],e[a],e.scale,i,o)}const Tx=["x","scaleX","originX"],Px=["y","scaleY","originY"];function tc(t,e,r,n){ec(t.x,e,Tx,r?r.x:void 0,n?n.x:void 0),ec(t.y,e,Px,r?r.y:void 0,n?n.y:void 0)}function sc(t){return t.translate===0&&t.scale===1}function rh(t){return sc(t.x)&&sc(t.y)}function rc(t,e){return t.min===e.min&&t.max===e.max}function Lx(t,e){return rc(t.x,e.x)&&rc(t.y,e.y)}function nc(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nh(t,e){return nc(t.x,e.x)&&nc(t.y,e.y)}function ac(t){return at(t.x)/at(t.y)}function ic(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Rx{constructor(){this.members=[]}add(e){lo(this.members,e),e.scheduleRender()}remove(e){if(co(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mx(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:h,skewX:g,skewY:p}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),g&&(n+=`skewX(${g}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Ua=["","X","Y","Z"],Ox=1e3;let Dx=0;function Ba(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function ah(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=qu(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Le,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&ah(n)}function ih({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Dx++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($x),this.nodes.forEach(Hx),this.nodes.forEach(qx),this.nodes.forEach(Fx)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _x)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mo),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=wu(o)&&!Ep(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;Le.read(()=>{f=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,u&&u(),u=Nx(h,250),In.hasAnimatedSinceResize&&(In.hasAnimatedSinceResize=!1,this.nodes.forEach(cc)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||Kx,{onLayoutAnimationStart:y,onLayoutAnimationComplete:j}=d.getProps(),b=!this.targetLayout||!nh(this.targetLayout,g),N=!f&&h;if(this.options.layoutRoot||this.resumeFrom||N||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Co(p,"layout"),onPlay:y,onComplete:j};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,N)}else f||cc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gx),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ah(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oc);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lc);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Bx),this.nodes.forEach(Ix),this.nodes.forEach(Vx)):this.nodes.forEach(lc),this.clearAllSnapshots();const l=ct.now();Qe.delta=Zt(0,1e3/60,l-Qe.timestamp),Qe.timestamp=l,Qe.isProcessing=!0,Ta.update.process(Qe),Ta.preRender.process(Qe),Ta.render.process(Qe),Qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Eo.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ux),this.sharedNodes.forEach(zx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!at(this.snapshot.measuredBox.x)&&!at(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!rh(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ks(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Zx(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Ie();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Jx))){const{scroll:u}=this.root;u&&(tr(l.x,u.offset.x),tr(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Ie();if(pt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&pt(l,o),tr(l.x,f.offset.x),tr(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Ie();pt(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&sr(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ks(u.latestValues)&&sr(c,u.latestValues)}return ks(this.latestValues)&&sr(c,this.latestValues),c}removeTransform(o){const l=Ie();pt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ks(d.latestValues))continue;wi(d.latestValues)&&d.updateSnapshot();const u=Ie(),f=d.measurePageBox();pt(u,f),tc(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ks(this.latestValues)&&tc(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Qe.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),Dr(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ie(),this.targetWithTransforms=Ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pt(this.target,this.layout.layoutBox),Vu(this.target,this.targetDelta)):pt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ie(),this.relativeTargetOrigin=Ie(),Dr(this.relativeTargetOrigin,this.target,g.target),pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wi(this.parent.latestValues)||Iu(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Qe.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;pt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;g0(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ie());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xl(this.prevProjectionDelta.x,this.projectionDelta.x),Xl(this.prevProjectionDelta.y,this.projectionDelta.y)),Or(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!ic(this.projectionDelta.x,this.prevProjectionDelta.x)||!ic(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rr(),this.projectionDelta=rr(),this.projectionDeltaWithTransform=rr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=rr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ie(),g=c?c.source:void 0,p=this.layout?this.layout.source:void 0,y=g!==p,j=this.getStack(),b=!j||j.members.length<=1,N=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(Yx));this.animationProgress=0;let _;this.mixTargetDelta=w=>{const v=w/1e3;dc(f.x,o.x,v),dc(f.y,o.y,v),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dr(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wx(this.relativeTarget,this.relativeTargetOrigin,h,v),_&&Lx(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ie()),pt(_,this.relativeTarget)),y&&(this.animationValues=u,Cx(u,d,this.latestValues,v,N,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{In.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=or(0)),this.currentAnimation=wx(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ox),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&oh(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ie();const f=at(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=at(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}pt(l,c),sr(l,u),Or(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Rx),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Ba("z",o,d,this.animationValues);for(let u=0;u<Ua.length;u++)Ba(`rotate${Ua[u]}`,o,d,this.animationValues),Ba(`skew${Ua[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Dn(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Dn(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ks(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=Mx(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:h,y:g}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Yr){if(u[p]===void 0)continue;const{correct:y,applyTo:j,isCSSVariable:b}=Yr[p],N=f==="none"?u[p]:y(u[p],d);if(j){const _=j.length;for(let w=0;w<_;w++)o[j[w]]=N}else b?this.options.visualElement.renderState.vars[p]=N:o[p]=N}this.options.layoutId&&(o.pointerEvents=d===this?Dn(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(oc),this.root.sharedNodes.clear()}}}function Ix(t){t.updateLayout()}function Vx(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?xt(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],g=at(h);h.min=n[f].min,h.max=h.min+g}):oh(i,e.layoutBox,n)&&xt(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],g=at(n[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const l=rr();Or(l,n,e.layoutBox);const c=rr();o?Or(c,t.applyTransform(a,!0),e.measuredBox):Or(c,n,e.layoutBox);const d=!rh(l);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const p=Ie();Dr(p,e.layoutBox,h.layoutBox);const y=Ie();Dr(y,n,g.layoutBox),nh(p,y)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function $x(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Fx(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ux(t){t.clearSnapshot()}function oc(t){t.clearMeasurements()}function lc(t){t.isLayoutDirty=!1}function Bx(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cc(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Hx(t){t.resolveTargetDelta()}function qx(t){t.calcProjection()}function Gx(t){t.resetSkewAndRotation()}function zx(t){t.removeLeadSnapshot()}function dc(t,e,r){t.translate=Oe(e.translate,0,r),t.scale=Oe(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function uc(t,e,r,n){t.min=Oe(e.min,r.min,n),t.max=Oe(e.max,r.max,n)}function Wx(t,e,r,n){uc(t.x,e.x,r.x,n),uc(t.y,e.y,r.y,n)}function Yx(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Kx={duration:.45,ease:[.4,0,.1,1]},hc=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mc=hc("applewebkit/")&&!hc("chrome/")?Math.round:jt;function fc(t){t.min=mc(t.min),t.max=mc(t.max)}function Zx(t){fc(t.x),fc(t.y)}function oh(t,e,r){return t==="position"||t==="preserve-aspect"&&!sx(ac(e),ac(r),.2)}function Jx(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Xx=ih({attachResizeListener:(t,e)=>Kr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ha={current:void 0},lh=ih({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ha.current){const t=new Xx({});t.mount(window),t.setOptions({layoutScroll:!0}),Ha.current=t}return Ha.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Qx={pan:{Feature:xx},drag:{Feature:px,ProjectionNode:lh,MeasureLayout:eh}};function gc(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Le.postRender(()=>i(e,un(e)))}class ey extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=_p(e,(r,n)=>(gc(this.node,n,"Start"),a=>gc(this.node,a,"End"))))}unmount(){}}class ty extends ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ln(Kr(this.node.current,"focus",()=>this.onFocus()),Kr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pc(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Le.postRender(()=>i(e,un(e)))}class sy extends ys{mount(){const{current:e}=this.node;e&&(this.unmount=Sp(e,(r,n)=>(pc(this.node,n,"Start"),(a,{success:i})=>pc(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ei=new WeakMap,qa=new WeakMap,ry=t=>{const e=Ei.get(t.target);e&&e(t)},ny=t=>{t.forEach(ry)};function ay({root:t,...e}){const r=t||document;qa.has(r)||qa.set(r,{});const n=qa.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(ny,{root:t,...e})),n[a]}function iy(t,e,r){const n=ay(e);return Ei.set(t,r),n.observe(t),()=>{Ei.delete(t),n.unobserve(t)}}const oy={some:0,all:1};class ly extends ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:oy[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=d?u:f;h&&h(c)};return iy(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(cy(e,r))&&this.startObserver()}unmount(){}}function cy({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const dy={inView:{Feature:ly},tap:{Feature:sy},focus:{Feature:ty},hover:{Feature:ey}},uy={layout:{ProjectionNode:lh,MeasureLayout:eh}},hy={...Z0,...dy,...Qx,...uy},V=h0(hy,k0);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ch=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...fy,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ch("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const r=m.forwardRef(({className:n,...a},i)=>m.createElement(gy,{ref:i,iconNode:e,className:ch(`lucide-${my(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Ae("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function xh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=xh(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ny(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=xh(t))&&(n&&(n+=" "),n+=e);return n}const Uo="-",ky=t=>{const e=Sy(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Uo);return l[0]===""&&l.length!==1&&l.shift(),yh(l,e)||Cy(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},yh=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?yh(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(Uo);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},bc=/^\[(.+)\]$/,Cy=t=>{if(bc.test(t)){const e=bc.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Sy=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Ay(Object.entries(t.classGroups),r).forEach(([i,o])=>{Li(o,n,i,e)}),n},Li=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:wc(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(Ey(a)){Li(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Li(o,wc(e,i),r,n)})})},wc=(t,e)=>{let r=t;return e.split(Uo).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ey=t=>t.isThemeGetter,Ay=(t,e)=>e?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,a]}):t,Ty=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},vh="!",Py=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,f;for(let j=0;j<l.length;j++){let b=l[j];if(d===0){if(b===a&&(n||l.slice(j,j+i)===e)){c.push(l.slice(u,j)),u=j+i;continue}if(b==="/"){f=j;continue}}b==="["?d++:b==="]"&&d--}const h=c.length===0?l:l.substring(u),g=h.startsWith(vh),p=g?h.substring(1):h,y=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},Ly=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Ry=t=>({cache:Ty(t.cacheSize),parseClassName:Py(t),...ky(t)}),My=/\s+/,Oy=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],o=t.trim().split(My);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=r(d);let p=!!g,y=n(p?h.substring(0,g):h);if(!y){if(!p){l=d+(l.length>0?" "+l:l);continue}if(y=n(h),!y){l=d+(l.length>0?" "+l:l);continue}p=!1}const j=Ly(u).join(":"),b=f?j+vh:j,N=b+y;if(i.includes(N))continue;i.push(N);const _=a(y,p);for(let w=0;w<_.length;++w){const v=_[w];i.push(b+v)}l=d+(l.length>0?" "+l:l)}return l};function Dy(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=bh(e))&&(n&&(n+=" "),n+=r);return n}const bh=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=bh(t[n]))&&(r&&(r+=" "),r+=e);return r};function Iy(t,...e){let r,n,a,i=o;function o(c){const d=e.reduce((u,f)=>f(u),t());return r=Ry(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=Oy(c,r);return a(c,u),u}return function(){return i(Dy.apply(null,arguments))}}const Te=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},wh=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vy=/^\d+\/\d+$/,$y=new Set(["px","full","screen"]),Fy=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Uy=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,By=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Hy=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qy=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gt=t=>ar(t)||$y.has(t)||Vy.test(t),es=t=>vr(t,"length",Xy),ar=t=>!!t&&!Number.isNaN(Number(t)),Ga=t=>vr(t,"number",ar),_r=t=>!!t&&Number.isInteger(Number(t)),Gy=t=>t.endsWith("%")&&ar(t.slice(0,-1)),me=t=>wh.test(t),ts=t=>Fy.test(t),zy=new Set(["length","size","percentage"]),Wy=t=>vr(t,zy,jh),Yy=t=>vr(t,"position",jh),Ky=new Set(["image","url"]),Zy=t=>vr(t,Ky,ev),Jy=t=>vr(t,"",Qy),Nr=()=>!0,vr=(t,e,r)=>{const n=wh.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Xy=t=>Uy.test(t)&&!By.test(t),jh=()=>!1,Qy=t=>Hy.test(t),ev=t=>qy.test(t),tv=()=>{const t=Te("colors"),e=Te("spacing"),r=Te("blur"),n=Te("brightness"),a=Te("borderColor"),i=Te("borderRadius"),o=Te("borderSpacing"),l=Te("borderWidth"),c=Te("contrast"),d=Te("grayscale"),u=Te("hueRotate"),f=Te("invert"),h=Te("gap"),g=Te("gradientColorStops"),p=Te("gradientColorStopPositions"),y=Te("inset"),j=Te("margin"),b=Te("opacity"),N=Te("padding"),_=Te("saturate"),w=Te("scale"),v=Te("sepia"),x=Te("skew"),A=Te("space"),S=Te("translate"),M=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",me,e],L=()=>[me,e],z=()=>["",Gt,es],ne=()=>["auto",ar,me],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ye=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",me],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[ar,me];return{cacheSize:500,separator:":",theme:{colors:[Nr],spacing:[Gt,es],blur:["none","",ts,me],brightness:ie(),borderColor:[t],borderRadius:["none","","full",ts,me],borderSpacing:L(),borderWidth:z(),contrast:ie(),grayscale:E(),hueRotate:ie(),invert:E(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[Gy,es],inset:J(),margin:J(),opacity:ie(),padding:L(),saturate:ie(),scale:ie(),sepia:E(),skew:ie(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[ts]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),me]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_r,me]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",_r,me]}],"grid-cols":[{"grid-cols":[Nr]}],"col-start-end":[{col:["auto",{span:["full",_r,me]},me]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[Nr]}],"row-start-end":[{row:["auto",{span:[_r,me]},me]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[ts]},ts]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ts,es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ga]}],"font-family":[{font:[Nr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",ar,Ga]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gt,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gt,es]}],"underline-offset":[{"underline-offset":["auto",Gt,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Yy]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wy]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Zy]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...ye(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:ye()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ye()]}],"outline-offset":[{"outline-offset":[Gt,me]}],"outline-w":[{outline:[Gt,es]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Gt,es]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ts,Jy]}],"shadow-color":[{shadow:[Nr]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ts,me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[_r,me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gt,es,Ga]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sv=Iy(tv);function vs(...t){return sv(Ny(t))}function hn(t,e="EUR"){return t==null||isNaN(t)?new Intl.NumberFormat("en-IE",{style:"currency",currency:e}).format(0):new Intl.NumberFormat("en-IE",{style:"currency",currency:e}).format(t)}function ds(t){return new Intl.DateTimeFormat("en-IE",{year:"numeric",month:"long",day:"numeric"}).format(new Date(t))}function rv(t){return new Intl.DateTimeFormat("en-IE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(t))}function va(t){return t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function Zr(t,e){return`${t}-${e} years`}function Os(t){const e={elementary:"bg-green-100 text-green-800",basic:"bg-blue-100 text-blue-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"};return e[t]||e.basic}function Ri(t){const e={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-gray-100 text-gray-800"};return e[t]||e.pending}function _h(t){return va(t.title)}function Jr(t){return`/courses/${t.slug||_h(t)}`}const I=Je.forwardRef(({className:t,variant:e="primary",size:r="md",loading:n=!1,disabled:a,children:i,...o},l)=>{const c="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d={primary:"bg-orange-600 text-white hover:bg-orange-700 focus:ring-orange-500",secondary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-orange-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-orange-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},u={sm:"px-3 py-1.5 text-sm min-h-[40px]",md:"px-4 py-2 text-sm min-h-[44px]",lg:"px-6 py-3 text-base min-h-[48px]"},f=m.useRef(null);Je.useEffect(()=>{l&&(typeof l=="function"?l(f.current):l.current=f.current)},[l]);const h=o.onMouseDown,g=o.onKeyDown,p={primary:"rgba(255,165,0,0.28)",secondary:"rgba(59,130,246,0.20)",outline:"rgba(99,102,241,0.08)",ghost:"rgba(0,0,0,0.08)",danger:"rgba(239,68,68,0.22)"},y=350,j=.5,b=(w,v)=>{const x=f.current;if(!x)return;const A=x.getBoundingClientRect(),S=Math.max(A.width,A.height)*j,M=document.createElement("span");M.style.position="absolute",M.style.borderRadius="50%",M.style.pointerEvents="none",M.style.width=M.style.height=`${S}px`,M.style.left=`${w-A.left-S/2}px`,M.style.top=`${v-A.top-S/2}px`;const B=p[e]||"rgba(255,255,255,0.28)";M.style.background=B,M.style.transform="scale(0)",M.style.opacity="1",M.style.transition=`transform ${y}ms cubic-bezier(.22,.9,.31,1), opacity ${y}ms ease-out`,M.style.zIndex="10",x.appendChild(M),requestAnimationFrame(()=>{M.style.transform="scale(3)",M.style.opacity="0"});const J=()=>{try{M.remove()}catch{}};M.addEventListener("transitionend",J),setTimeout(J,y+50)},N=w=>{h==null||h(w),b(w.clientX,w.clientY)},_=w=>{if(g==null||g(w),w.key==="Enter"||w.key===" "||w.key==="Spacebar"){const v=f.current;if(!v)return;const x=v.getBoundingClientRect(),A=x.left+x.width/2,S=x.top+x.height/2;b(A,S)}};return s.jsxs("button",{ref:f,onMouseDown:N,onKeyDown:_,className:vs(c+" relative overflow-hidden","hover:shadow-[0_20px_40px_rgba(255,165,0,0.18)] active:scale-[0.99] transition-transform",d[e],u[r],t),disabled:a||n,...o,children:[n&&s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})});I.displayName="Button";const Nh=m.createContext(void 0),Mt=()=>{const t=m.useContext(Nh);if(t===void 0)throw new Error("useSupabaseAuth must be used within an AuthProvider");return t},nv="modulepreload",av=function(t){return"/ssh-app/"+t},jc={},mn=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=av(c),c in jc)return;jc[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":nv,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},iv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>mn(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Bo extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ov extends Bo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _c extends Bo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nc extends Bo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mi||(Mi={}));var lv=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class cv{constructor(e,{headers:r={},customFetch:n,region:a=Mi.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=iv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return lv(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(y=>{throw new ov(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new _c(f);if(!f.ok)throw new Nc(f);let g=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return g==="application/json"?p=yield f.json():g==="application/octet-stream"?p=yield f.blob():g==="text/event-stream"?p=f:g==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Nc||a instanceof _c?a.context:void 0}}})}}var lt={},Ho={},ba={},fn={},wa={},ja={},dv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},cr=dv();const uv=cr.fetch,kh=cr.fetch.bind(cr),Ch=cr.Headers,hv=cr.Request,mv=cr.Response,gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ch,Request:hv,Response:mv,default:kh,fetch:uv},Symbol.toStringTag,{value:"Module"})),fv=Om(gn);var _a={};Object.defineProperty(_a,"__esModule",{value:!0});let gv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};_a.default=gv;var Sh=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ja,"__esModule",{value:!0});const pv=Sh(fv),xv=Sh(_a);let yv=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,f=null,h=null,g=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const N=await i.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=N:f=JSON.parse(N))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,g=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const j=await i.text();try{u=JSON.parse(j),Array.isArray(u)&&i.status===404&&(f=[],u=null,g=200,p="OK")}catch{i.status===404&&j===""?(g=204,p="No Content"):u={message:j}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,g=200,p="OK"),u&&this.shouldThrowOnError)throw new xv.default(u)}return{error:u,data:f,count:h,status:g,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};ja.default=yv;var vv=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wa,"__esModule",{value:!0});const bv=vv(ja);let wv=class extends bv.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};wa.default=wv;var jv=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fn,"__esModule",{value:!0});const _v=jv(wa);let Nv=class extends _v.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};fn.default=Nv;var kv=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ba,"__esModule",{value:!0});const kr=kv(fn);let Cv=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new kr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new kr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new kr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new kr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new kr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ba.default=Cv;var Eh=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ho,"__esModule",{value:!0});const Sv=Eh(ba),Ev=Eh(fn);let Av=class Ah{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new Sv.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ah(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new Ev.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Ho.default=Av;var br=Nt&&Nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lt,"__esModule",{value:!0});lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const Th=br(Ho);lt.PostgrestClient=Th.default;const Ph=br(ba);lt.PostgrestQueryBuilder=Ph.default;const Lh=br(fn);lt.PostgrestFilterBuilder=Lh.default;const Rh=br(wa);lt.PostgrestTransformBuilder=Rh.default;const Mh=br(ja);lt.PostgrestBuilder=Mh.default;const Oh=br(_a);lt.PostgrestError=Oh.default;var Tv=lt.default={PostgrestClient:Th.default,PostgrestQueryBuilder:Ph.default,PostgrestFilterBuilder:Lh.default,PostgrestTransformBuilder:Rh.default,PostgrestBuilder:Mh.default,PostgrestError:Oh.default};const{PostgrestClient:Pv,PostgrestQueryBuilder:x_,PostgrestFilterBuilder:y_,PostgrestTransformBuilder:v_,PostgrestBuilder:b_,PostgrestError:w_}=Tv;class Lv{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Rv="2.15.5",Mv=`realtime-js/${Rv}`,Ov="1.0.0",Oi=1e4,Dv=1e3,Iv=100;var Ir;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ir||(Ir={}));var qe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qe||(qe={}));var At;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(At||(At={}));var Di;(function(t){t.websocket="websocket"})(Di||(Di={}));var Ss;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ss||(Ss={}));class Vv{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Dh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const kc=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=$v(o,t,e,a),i),{})},$v=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?Ih(i,o):Ii(o)},Ih=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Hv(e,r)}switch(t){case Se.bool:return Fv(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Uv(e);case Se.json:case Se.jsonb:return Bv(e);case Se.timestamp:return qv(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Ii(e);default:return Ii(e)}},Ii=t=>t,Fv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Uv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Hv=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Ih(e,l))}return t},qv=t=>typeof t=="string"?t.replace(" ","T"):t,Vh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class za{constructor(e,r,n={},a=Oi){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cc||(Cc={}));class Vr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vr.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Vr.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vr.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const h=u.map(j=>j.presence_ref),g=f.map(j=>j.presence_ref),p=u.filter(j=>g.indexOf(j.presence_ref)<0),y=f.filter(j=>h.indexOf(j.presence_ref)<0);p.length>0&&(l[d]=p),y.length>0&&(c[d]=y)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const f=e[l].map(g=>g.presence_ref),h=u.filter(g=>f.indexOf(g.presence_ref)<0);e[l].unshift(...h)}n(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Sc||(Sc={}));var $r;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($r||($r={}));var Yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class qo{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new za(this,At.join,this.params,this.timeout),this.rejoinTimer=new Dh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Vr(this),this.broadcastEndpointURL=Vh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[$r.PRESENCE]&&this.bindings[$r.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Yt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Yt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var p;if(this.socket.setAuth(),g===void 0){e==null||e(Yt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,j=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,b=[];for(let N=0;N<j;N++){const _=y[N],{filter:{event:w,schema:v,table:x,filter:A}}=_,S=g&&g[N];if(S&&S.event===w&&S.schema===v&&S.table===x&&S.filter===A)b.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),this.state=qe.errored,e==null||e(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Yt.SUBSCRIBED);return}}).receive("error",g=>{this.state=qe.errored,e==null||e(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===qe.joined&&e===$r.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new za(this,At.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new za(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Iv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=At;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var p,y,j;return((p=g.filter)===null||p===void 0?void 0:p.event)==="*"||((j=(y=g.filter)===null||y===void 0?void 0:y.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(g=>g.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var p,y,j,b,N,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const w=g.id,v=(p=g.filter)===null||p===void 0?void 0:p.event;return w&&((y=r.ids)===null||y===void 0?void 0:y.includes(w))&&(v==="*"||(v==null?void 0:v.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const w=(N=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return w==="*"||w===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:y,table:j,commit_timestamp:b,type:N,errors:_}=p;h=Object.assign(Object.assign({},{schema:y,table:j,commit_timestamp:b,eventType:N,new:{},old:{},errors:_}),this._getPayloadRecords(p))}g.callback(h,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&qo.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(At.close,{},e)}_onError(e){this._on(At.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=kc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=kc(e.columns,e.old_record)),r}}const Wa=()=>{},Sn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gv=[1e3,2e3,5e3,1e4],zv=1e4,Wv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yv{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oi,this.transport=null,this.heartbeatIntervalMs=Sn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wa,this.ref=0,this.reconnectTimer=null,this.logger=Wa,this.conn=null,this.sendBuffer=[],this.serializer=new Vv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>mn(async()=>{const{default:l}=await import("./index-DN9NSJo9.js");return{default:l}},__vite__mapDeps([0,1])).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Di.websocket}`,this.httpEndpoint=Vh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Lv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ov}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return Ss.Connecting;case Ir.open:return Ss.Open;case Ir.closing:return Ss.Closing;default:return Ss.Closed}}isConnected(){return this.connectionState()===Ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new qo(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Dv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(At.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Wv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Mv};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(At.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Dh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Oi,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Sn.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Wa,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>Gv[f-1]||zv,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(f,h)=>h(JSON.stringify(f)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Go extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Kv extends Go{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vi extends Go{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Zv=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const $h=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>mn(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Jv=()=>Zv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mn(()=>Promise.resolve().then(()=>gn),void 0)).Response:Response}),$i=t=>{if(Array.isArray(t))return t.map(r=>$i(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=$i(n)}),e},Xv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Is=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const Ya=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qv=(t,e,r)=>Is(void 0,void 0,void 0,function*(){const n=yield Jv();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new Kv(Ya(a),i,o))}).catch(a=>{e(new Vi(Ya(a),a))}):e(new Vi(Ya(t),t))}),eb=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(Xv(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function pn(t,e,r,n,a,i){return Is(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,eb(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Qv(c,l,n))})})}function Xn(t,e,r,n){return Is(this,void 0,void 0,function*(){return pn(t,"GET",e,r,n)})}function Ot(t,e,r,n,a){return Is(this,void 0,void 0,function*(){return pn(t,"POST",e,n,a,r)})}function Fi(t,e,r,n,a){return Is(this,void 0,void 0,function*(){return pn(t,"PUT",e,n,a,r)})}function tb(t,e,r,n){return Is(this,void 0,void 0,function*(){return pn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fh(t,e,r,n,a){return Is(this,void 0,void 0,function*(){return pn(t,"DELETE",e,n,a,r)})}var rt=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const sb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ec={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rb{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=$h(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return rt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ec),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(e=="PUT"?Fi:Ot)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}upload(e,r,n){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return rt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Ec.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield Fi(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return rt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ot(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Go("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}update(e,r,n){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return rt(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}copy(e,r,n){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return rt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Ot(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return rt(this,void 0,void 0,function*(){try{const a=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}download(e,r){return rt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Xn(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}info(e){return rt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Xn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$i(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}exists(e){return rt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield tb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n)&&n instanceof Vi){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return rt(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}list(e,r,n){return rt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},sb),r),{prefix:e||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}listV2(e,r){return rt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const nb="2.12.1",ab={"X-Client-Info":`storage-js/${nb}`};var Bs=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,[])).next())})};class ib{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ab),r),this.fetch=$h(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Bs(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ge(e))return{data:null,error:e};throw e}})}getBucket(e){return Bs(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Bs(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Bs(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Bs(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Bs(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}}class ob extends ib{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new rb(this.url,this.headers,e,this.fetch)}}const lb="2.57.4";let Tr="";typeof Deno<"u"?Tr="deno":typeof document<"u"?Tr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tr="react-native":Tr="node";const cb={"X-Client-Info":`supabase-js-${Tr}/${lb}`},db={headers:cb},ub={schema:"public"},hb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mb={};var fb=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const gb=t=>{let e;return t?e=t:typeof fetch>"u"?e=kh:e=fetch,(...r)=>e(...r)},pb=()=>typeof Headers>"u"?Ch:Headers,xb=(t,e,r)=>{const n=gb(r),a=pb();return(i,o)=>fb(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var yb=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,[])).next())})};function vb(t){return t.endsWith("/")?t:t+"/"}function bb(t,e){var r,n;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:f}=e,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>yb(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function wb(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Uh="2.71.1",Zs=30*1e3,Ui=3,Ka=Ui*Zs,jb="http://localhost:9999",_b="supabase.auth.token",Nb={"X-Client-Info":`gotrue-js/${Uh}`},Bi="X-Supabase-Api-Version",Bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cb=10*60*1e3;class zo extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Sb extends zo{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Eb(t){return ue(t)&&t.name==="AuthApiError"}class Hh extends zo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class bs extends zo{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class ns extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ab(t){return ue(t)&&t.name==="AuthSessionMissingError"}class En extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class An extends bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Tn extends bs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tb(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ac extends bs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hi extends bs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Za(t){return ue(t)&&t.name==="AuthRetryableFetchError"}class Tc extends bs{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class qi extends bs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pc=` 	
\r=`.split(""),Pb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pc.length;e+=1)t[Pc[e].charCodeAt(0)]=-2;for(let e=0;e<Qn.length;e+=1)t[Qn[e].charCodeAt(0)]=e;return t})();function Lc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qn[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qn[n]),e.queuedBits-=6}}function qh(t,e,r){const n=Pb[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Rc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Mb(o,n,r)};for(let o=0;o<t.length;o+=1)qh(t.charCodeAt(o),a,i);return e.join("")}function Lb(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Rb(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Lb(n,e)}}function Mb(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ob(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)qh(t.charCodeAt(a),r,n);return new Uint8Array(e)}function Db(t){const e=[];return Rb(t,r=>e.push(r)),new Uint8Array(e)}function Ib(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>Lc(a,r,n)),Lc(null,r,n),e.join("")}function Vb(t){return Math.round(Date.now()/1e3)+t}function $b(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const St=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},Gh=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function Fb(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const zh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>mn(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ub=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Js=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ns=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ss=async(t,e)=>{await t.removeItem(e)};class Na{constructor(){this.promise=new Na.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Na.promiseConstructor=Promise;function Ja(t){const e=t.split(".");if(e.length!==3)throw new qi("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!kb.test(e[n]))throw new qi("JWT not in base64url format");return{header:JSON.parse(Rc(e[0])),payload:JSON.parse(Rc(e[1])),signature:Ob(e[2]),raw:{header:e[0],payload:e[1]}}}async function Bb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hb(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function qb(t){return("0"+t.toString(16)).substr(-2)}function Gb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,qb).join("")}async function zb(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Wb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await zb(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(t,e,r=!1){const n=Gb();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Js(t,`${e}-code-verifier`,a);const i=await Wb(n);return[i,n===i?"plain":"s256"]}const Yb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kb(t){const e=t.headers.get(Bi);if(!e||!e.match(Yb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Zb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Jb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qs(t){if(!Xb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xa(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mc(t){return JSON.parse(JSON.stringify(t))}var Qb=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Cs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ew=[502,503,504];async function Oc(t){var e;if(!Ub(t))throw new Hi(Cs(t),0);if(ew.includes(t.status))throw new Hi(Cs(t),t.status);let r;try{r=await t.json()}catch(i){throw new Hh(Cs(i),i)}let n;const a=Kb(t);if(a&&a.getTime()>=Bh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tc(Cs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ns}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Tc(Cs(r),t.status,r.weak_password.reasons);throw new Sb(Cs(r),t.status||500,n)}const tw=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function pe(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Bi]||(i[Bi]=Bh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await sw(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function sw(t,e,r,n,a,i){const o=tw(e,n,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Hi(Cs(c),0)}if(l.ok||await Oc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Oc(c)}}function Wt(t){var e;let r=null;iw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Vb(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Dc(t){const e=Wt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function os(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function rw(t){return{data:t,error:null}}function nw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=Qb(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function aw(t){return t}function iw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qa=["global","local","others"];var ow=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class lw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=zh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Qa[0]){if(Qa.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qa.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:os})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ow(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:nw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:os})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:aw});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(p.split(";")[1].split("=")[1]);d[`${j}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){qs(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:os})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){qs(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:os})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){qs(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:os})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){qs(e.userId);try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(e){qs(e.userId),qs(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function Ic(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function cw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gs={debug:!!(globalThis&&Gh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dw extends Wh{}async function uw(t,e,r){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}cw();const hw={url:jb,storageKey:_b,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vc(t,e,r){return await r()}const zs={};class Xr{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xr.nextInstanceID,Xr.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},hw),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new lw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=zh(a.fetch),this.lock=a.lock||Vc,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:St()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uw:this.lock=Vc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Gh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ic(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ic(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=zs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){zs[this.storageKey]=Object.assign(Object.assign({},zs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=zs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zs[this.storageKey]=Object.assign(Object.assign({},zs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Uh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Fb(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),St()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tb(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?{error:r}:{error:new Hh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Wt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:u,password:f,options:h}=e;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Hs(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:p},xform:Wt})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Wt})}else throw new An("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dc})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dc})}else throw new An("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new En}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,o,l,c,d,u,f,h,g;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:j,wallet:b,statement:N,options:_}=e;let w;if(St())if(typeof b=="object")w=b;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))w=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const v=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const x=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),N?{statement:N}:null));let A;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")A=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)A=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)p=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${v.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${(a=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const x=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=x}}try{const{data:j,error:b}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Ib(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Wt});if(b)throw b;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new En}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:b})}catch(j){if(ue(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await Ns(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Wt});if(await ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new En}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Wt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new En}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Hs(this.storage,this.storageKey));const{error:f}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new An("You must provide either an email or phone number.")}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Wt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Hs(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:rw})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ns;const{error:a}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:l}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new An("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ns(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ka:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ns(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Xa()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:os}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ns}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:os})})}catch(r){if(ue(r))return Ab(r)&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ns;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Hs(this.storage,this.storageKey));const{data:d,error:u}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:os});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ns;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Ja(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ns;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!St())throw new Tn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Tn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ac("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ac("No code detected.");const{data:N,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new Tn("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let h=u+f;c&&(h=parseInt(c));const g=h-u;g*1e3<=Zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const p=h-f;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:y,error:j}=await this._getUser(i);if(j)throw j;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ns(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Eb(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=$b(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Hs(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return St()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ue(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Hb(async a=>(a>0&&await Bb(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Za(i)&&Date.now()+o-n<Zs})}catch(n){if(this._debug(r,"error",n),ue(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),St()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ns(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ns(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Js(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Xa()}else if(a&&!a.user&&!a.user){const o=await Ns(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await ss(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,a)):a.user=Xa()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ka;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ka}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Za(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Na;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ns;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ue(i)){const o={session:null,error:i};return Za(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Js(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Mc(a);await Js(this.storage,this.storageKey,i)}else{const a=Mc(r);await Js(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ss(this.storage,this.storageKey),await ss(this.storage,this.storageKey+"-code-verifier"),await ss(this.storage,this.storageKey+"-user"),this.userStorage&&await ss(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Zs}ms, refresh threshold is ${Ui} ticks`),a<=Ui&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ja(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Cb>a)return n;const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:p}=await this.getSession();if(p||!g.session)return{data:null,error:p};n=g.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Ja(n);r!=null&&r.allowExpired||Zb(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:a,signature:o},error:null}}const u=Jb(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,Db(`${l}.${c}`)))throw new qi("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}Xr.nextInstanceID=0;const mw=Xr;class fw extends mw{constructor(e){super(e)}}var gw=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,[])).next())})};class pw{constructor(e,r,n){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=wb(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:ub,realtime:mb,auth:Object.assign(Object.assign({},hb),{storageKey:c}),global:db},u=bb(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=xb(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Pv(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new ob(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new cv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return gw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fw({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Yv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yh=(t,e,r)=>new pw(t,e,r);function xw(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Kh="https://fxhmipivmuqgdtwzpeni.supabase.co",yw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4aG1pcGl2bXVxZ2R0d3pwZW5pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxMDA1MzAsImV4cCI6MjA3MzY3NjUzMH0.Y65Muw42omwVOTi1KiOFaDbNkiITiFS9KlsWy9Nc4xk",vw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4aG1pcGl2bXVxZ2R0d3pwZW5pIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1ODEwMDUzMCwiZXhwIjoyMDczNjc2NTMwfQ.qds4eDB5fOwa-9i7iwD2qeqD5YBFWQqj5eZajaiUMzw";console.log("Supabase configuration:",{url:"Set",anonKey:"Set",serviceRoleKey:"Set"});const Cr=Yh(Kh,yw,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"eyogi-ssh-admin-console-auth"}}),Z=Yh(Kh,vw,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}});async function bw(t){if(t!=="student"&&t!=="teacher")return`ADMIN-${new Date().getFullYear()}-${Date.now()}`;try{const r=`EYG-${new Date().getFullYear()}-`,n=t==="student"?"student_id":"teacher_id",{data:a,error:i}=await Z.from("profiles").select(n).not(n,"is",null).order("created_at",{ascending:!1});if(i)return console.error("Error fetching existing IDs:",i),`${r}0001`;const o=[];a&&a.length>0&&a.forEach(d=>{const u=d[n];if(u&&u.startsWith(r)){const f=u.replace(r,""),h=parseInt(f,10);isNaN(h)||o.push(h)}});let l=1;o.length>0&&(o.sort((d,u)=>u-d),l=o[0]+1);const c=l.toString().padStart(4,"0");return`${r}${c}`}catch(e){return console.error("Error generating ID sequence:",e),`EYG-${new Date().getFullYear()}-0001`}}const Zh=async t=>{const r=new TextEncoder().encode(t+"eyogi-salt-2024"),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(a=>a.toString(16).padStart(2,"0")).join("")},ww=async(t,e)=>await Zh(t)===e,Jh=m.createContext(void 0),ws=()=>{const t=m.useContext(Jh);if(t===void 0)throw new Error("useWebsiteAuth must be used within a WebsiteAuthProvider");return t},jw=({children:t})=>{const[e,r]=m.useState(null),[n,a]=m.useState(!0),[i,o]=m.useState(!1);m.useEffect(()=>{console.log("WebsiteAuthContext: Initializing...");const g=localStorage.getItem("website-user-id");console.log("WebsiteAuthContext: Stored user ID:",g),g?l(g):(console.log("WebsiteAuthContext: No stored user, setting loading to false"),a(!1),o(!0))},[]);const l=async g=>{console.log("WebsiteAuthContext: Loading user with ID:",g);try{const{data:p,error:y}=await Z.from("profiles").select("*").eq("id",g).single();y?(console.error("WebsiteAuthContext: Error loading user:",y),localStorage.removeItem("website-user-id"),r(null)):(console.log("WebsiteAuthContext: User loaded successfully:",p==null?void 0:p.email),r(p))}catch(p){console.error("WebsiteAuthContext: Error in loadUser:",p),localStorage.removeItem("website-user-id"),r(null)}finally{console.log("WebsiteAuthContext: Setting loading and initialized states"),a(!1),o(!0)}},h={user:e,loading:n,initialized:i,signIn:async(g,p)=>{try{const{data:y,error:j}=await Z.from("profiles").select("*").eq("email",g.toLowerCase()).single();return j||!y?{error:"Invalid email or password"}:y.password_hash?await ww(p,y.password_hash)?y.status!=="active"?{error:"Account is not active. Please contact support."}:(r(y),localStorage.setItem("website-user-id",y.id),{error:null}):{error:"Invalid email or password"}:{error:"Account not properly configured. Please contact support."}}catch(y){return console.error("Sign in error:",y),{error:"Failed to sign in. Please try again."}}},signUp:async g=>{try{const{data:p}=await Z.from("profiles").select("id").eq("email",g.email.toLowerCase()).single();if(p)return{error:"An account with this email already exists"};const y=await Zh(g.password),j=await bw(g.role),b={email:g.email.toLowerCase(),password_hash:y,full_name:g.full_name,role:g.role,status:"active",phone:g.phone||null,date_of_birth:g.date_of_birth||null,preferences:{},address:null,emergency_contact:null,avatar_url:null,parent_id:null,...g.role==="student"?{student_id:j,teacher_id:null}:{student_id:null,teacher_id:j}},{error:N}=await Z.from("profiles").insert(b).select().single();return N?(console.error("User creation error:",JSON.stringify(N,null,2)),console.error("Error details:",N),{error:`Failed to create account: ${N.message||"Unknown error"}`}):{error:null}}catch(p){return console.error("Sign up error:",p),console.error("Sign up error details:",JSON.stringify(p,null,2)),{error:`Failed to create account: ${p instanceof Error?p.message:"Unknown error"}`}}},signOut:async()=>{r(null),localStorage.removeItem("website-user-id")},canAccess:(g,p)=>{if(!e)return!1;switch(e.role){case"admin":return!0;case"business_admin":return["dashboard","certificates","courses","assignments","enrollments","students","gurukuls","content"].includes(g);case"teacher":return["courses","students","enrollments","dashboard"].includes(g)||g==="users"&&p==="read";case"student":return g==="courses"&&(p==="read"||p==="enroll")||g==="dashboard"||g==="profile";default:return!1}}};return s.jsx(Jh.Provider,{value:h,children:t})},_w="/ssh-app/eyogiTextLess.png",Nw="/ssh-app/Images/Logo.png",$c=[{name:"Home",href:"/",icon:s.jsx(Kn,{className:"w-4 h-4"})},{name:"About",href:"/about",icon:s.jsx(Pi,{className:"w-4 h-4"})},{name:"Courses",href:"/courses",icon:s.jsx(dh,{className:"w-4 h-4"})},{name:"Gurukuls",href:"/gurukuls",icon:s.jsx(Kn,{className:"w-4 h-4"})},{name:"Contact",href:"/contact",icon:s.jsx(Pi,{className:"w-4 h-4"})}];function kw({onOpenAuthModal:t}){const[e,r]=m.useState(!1),[n,a]=m.useState(!1),i=ua();try{Mt()}catch{}const{user:o,signOut:l}=ws();m.useEffect(()=>{const g=()=>{r(window.scrollY>20)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]);const c={top:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(0px)",boxShadow:"0 0 0 rgba(0, 0, 0, 0)"},scrolled:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"}},d={initial:{scale:1,filter:"drop-shadow(0 0 0px rgba(255, 165, 0, 0))"},hover:{scale:1.05,filter:"drop-shadow(0 0 20px rgba(255, 165, 0, 0.6))",transition:{duration:.3}}},u={initial:{scale:1,background:"rgba(0, 0, 0, 0)",color:"rgba(31, 41, 55, 0.9)"},hover:{scale:1.05,background:"rgba(249, 115, 22, 0.1)",color:"rgba(220, 38, 38, 1)",boxShadow:"0 4px 20px rgba(255, 165, 0, 0.3)"}},f={closed:{opacity:0,height:0,transition:{duration:.3,when:"afterChildren"}},open:{opacity:1,height:"auto",transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}}},h={closed:{opacity:0,x:-20},open:{opacity:1,x:0}};return s.jsx(V.header,{className:"fixed top-0 left-0 right-0 z-50 border-b border-white/10",variants:c,animate:e?"scrolled":"top",transition:{duration:.3},style:{background:e?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.05)",backdropFilter:e?"blur(20px)":"blur(0px)",boxShadow:e?"0 8px 32px rgba(0, 0, 0, 0.1)":"0 0 0 rgba(0, 0, 0, 0)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsx(V.div,{variants:d,initial:"initial",whileHover:"hover",className:"flex items-center gap-4",children:s.jsxs(Ee,{to:"/",className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:_w,alt:"eYogi Gurukul",className:"h-10 w-10 lg:h-12 lg:w-12 rounded-full border-2 border-white/20",onError:g=>{const p=g.target;p.src=Nw}}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-orange-400/20 to-red-500/20"})]}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("h1",{className:"text-lg lg:text-xl font-bold bg-gradient-to-r from-orange-400 to-red-500 bg-clip-text text-transparent",children:"SSH University"}),s.jsx("h2",{className:"text-sm lg:text-base font-medium text-gray-600",children:"eYogi Gurukul"})]})]})}),s.jsxs("nav",{className:"hidden lg:flex items-center gap-3",children:[$c.map(g=>s.jsx(V.div,{variants:u,initial:"initial",whileHover:"hover",whileTap:{scale:.98},children:s.jsxs(Ee,{to:g.href,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 flex items-center space-x-2 relative overflow-hidden ${i.pathname===g.href?"text-gray-900 bg-orange-100 shadow-lg":"text-gray-700 hover:text-gray-900"}`,children:[g.icon,s.jsx("span",{children:g.name}),i.pathname===g.href&&s.jsx(V.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-orange-400 to-red-500",layoutId:"activeTab",transition:{duration:.3}})]})},g.name)),s.jsx(V.div,{variants:u,initial:"initial",whileHover:"hover",whileTap:{scale:.98},className:"ml-4 pl-4 border-l border-gray-300",children:s.jsx("a",{href:"/",onClick:()=>window.location.href="/",className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 flex items-center space-x-2 relative overflow-hidden text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100",children:s.jsx("span",{children:"← eYogi Gurukul"})})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[o?s.jsxs("div",{className:"hidden lg:flex items-center gap-6",children:[s.jsxs(V.div,{className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-white/20 backdrop-blur-md border border-white/30 text-gray-800 shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},children:[s.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:s.jsx(Jn,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.full_name||o.email||"User"}),s.jsx(Ee,{to:"/dashboard",className:"text-xs text-orange-600 hover:text-orange-700 hover:underline font-medium",children:"View Dashboard"})]})]}),s.jsx(V.button,{onClick:l,className:"p-3 rounded-xl bg-white/20 backdrop-blur-md border border-white/30 text-gray-700 hover:text-gray-900 hover:bg-white/30 hover:border-white/40 shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.95},children:s.jsx(yc,{className:"w-5 h-5"})})]}):s.jsxs("div",{className:"hidden lg:flex items-center gap-6",children:[s.jsx(V.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>t==null?void 0:t("signin"),className:"bg-white/20 backdrop-blur-md border-white/30 text-gray-800 hover:bg-white/30 hover:border-white/40 shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[s.jsx("span",{className:"relative z-10",children:"Sign In"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-white/5 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]})}),s.jsx(V.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(I,{size:"sm",onClick:()=>t==null?void 0:t("signup"),className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg hover:shadow-xl border-0",children:"Get Started"})})]}),s.jsx(V.button,{className:"lg:hidden p-2 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",onClick:()=>a(!n),whileHover:{scale:1.1},whileTap:{scale:.95},children:s.jsx(zn,{mode:"wait",children:n?s.jsx(V.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:s.jsx(ph,{className:"w-6 h-6"})},"close"):s.jsx(V.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:s.jsx(by,{className:"w-6 h-6"})},"menu")})})]})]}),s.jsx(zn,{children:n&&s.jsx(V.div,{className:"lg:hidden border-t border-gray-200 bg-white/90 backdrop-blur-md",variants:f,initial:"closed",animate:"open",exit:"closed",children:s.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-3",children:[$c.map(g=>s.jsx(V.div,{variants:h,children:s.jsxs(Ee,{to:g.href,onClick:()=>a(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-base font-medium transition-all duration-200 ${i.pathname===g.href?"text-gray-900 bg-orange-100 shadow-lg":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"}`,children:[g.icon,s.jsx("span",{children:g.name})]})},g.name)),s.jsx(V.div,{variants:h,className:"pt-2 border-t border-gray-200",children:s.jsx("a",{href:"/",onClick:()=>{a(!1),window.location.href="/"},className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-base font-medium transition-all duration-200 text-blue-600 hover:text-blue-800 hover:bg-blue-50",children:s.jsx("span",{children:"← eYogi Gurukul"})})}),s.jsx(V.div,{className:"pt-4 border-t border-gray-200 space-y-3",variants:h,children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 text-gray-800",children:[s.jsx(Jn,{className:"w-4 h-4"}),s.jsx("span",{children:o.full_name||o.email||"User"})]}),s.jsxs(Ee,{to:"/dashboard",onClick:()=>a(!1),className:"flex items-center space-x-3 px-3 py-2 w-full text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-all duration-200",children:[s.jsx(xy,{className:"w-4 h-4"}),s.jsx("span",{children:"View Dashboard"})]}),s.jsxs("button",{onClick:()=>{l(),a(!1)},className:"flex items-center space-x-3 px-3 py-2 w-full text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:[s.jsx(yc,{className:"w-4 h-4"}),s.jsx("span",{children:"Sign Out"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{t==null||t("signin"),a(!1)},className:"block w-full px-3 py-2 bg-white/20 backdrop-blur-md border border-white/30 text-gray-800 hover:bg-white/30 hover:border-white/40 rounded-lg font-medium shadow-lg transition-all duration-200 relative overflow-hidden",children:[s.jsx("span",{className:"relative z-10",children:"Sign In"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-white/5 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]}),s.jsx("button",{onClick:()=>{t==null||t("signup"),a(!1)},className:"block w-full px-3 py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg font-medium shadow-lg",children:"Get Started"})]})})]})})})]})})}var xn=t=>t.type==="checkbox",Ps=t=>t instanceof Date,nt=t=>t==null;const Xh=t=>typeof t=="object";var Ve=t=>!nt(t)&&!Array.isArray(t)&&Xh(t)&&!Ps(t),Cw=t=>Ve(t)&&t.target?xn(t.target)?t.target.checked:t.target.value:t,Sw=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Ew=(t,e)=>t.has(Sw(e)),Aw=t=>{const e=t.constructor&&t.constructor.prototype;return Ve(e)&&e.hasOwnProperty("isPrototypeOf")},Wo=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ze(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Wo&&(t instanceof Blob||n))&&(r||Ve(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!Aw(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Ze(t[a]));else return t;return e}var ka=t=>/^\w*$/.test(t),He=t=>t===void 0,Yo=t=>Array.isArray(t)?t.filter(Boolean):[],Ko=t=>Yo(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Q=(t,e,r)=>{if(!e||!Ve(t))return r;const n=(ka(e)?[e]:Ko(e)).reduce((a,i)=>nt(a)?a:a[i],t);return He(n)||n===t?He(t[e])?r:t[e]:n},Dt=t=>typeof t=="boolean",Ne=(t,e,r)=>{let n=-1;const a=ka(e)?[e]:Ko(e),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=t[l];c=Ve(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Fc={BLUR:"blur",FOCUS_OUT:"focusout"},Tt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Tw=Je.createContext(null);Tw.displayName="HookFormContext";var Pw=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Tt.all&&(e._proxyFormState[o]=!n||Tt.all),t[o]}});return a};const Lw=typeof window<"u"?Je.useLayoutEffect:Je.useEffect;var $t=t=>typeof t=="string",Rw=(t,e,r,n,a)=>$t(t)?(n&&e.watch.add(t),Q(r,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Q(r,i))):(n&&(e.watchAll=!0),r),Gi=t=>nt(t)||!Xh(t);function ls(t,e,r=new WeakSet){if(Gi(t)||Gi(e))return t===e;if(Ps(t)&&Ps(e))return t.getTime()===e.getTime();const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const o=t[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Ps(o)&&Ps(l)||Ve(o)&&Ve(l)||Array.isArray(o)&&Array.isArray(l)?!ls(o,l,r):o!==l)return!1}}return!0}var Qh=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},Fr=t=>Array.isArray(t)?t:[t],Uc=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},ot=t=>Ve(t)&&!Object.keys(t).length,Zo=t=>t.type==="file",Pt=t=>typeof t=="function",ea=t=>{if(!Wo)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},em=t=>t.type==="select-multiple",Jo=t=>t.type==="radio",Mw=t=>Jo(t)||xn(t),ei=t=>ea(t)&&t.isConnected;function Ow(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=He(t)?n++:t[e[n++]];return t}function Dw(t){for(const e in t)if(t.hasOwnProperty(e)&&!He(t[e]))return!1;return!0}function Fe(t,e){const r=Array.isArray(e)?e:ka(e)?[e]:Ko(e),n=r.length===1?t:Ow(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Ve(n)&&ot(n)||Array.isArray(n)&&Dw(n))&&Fe(t,r.slice(0,-1)),t}var tm=t=>{for(const e in t)if(Pt(t[e]))return!0;return!1};function ta(t,e={}){const r=Array.isArray(t);if(Ve(t)||r)for(const n in t)Array.isArray(t[n])||Ve(t[n])&&!tm(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ta(t[n],e[n])):nt(t[n])||(e[n]=!0);return e}function sm(t,e,r){const n=Array.isArray(t);if(Ve(t)||n)for(const a in t)Array.isArray(t[a])||Ve(t[a])&&!tm(t[a])?He(e)||Gi(r[a])?r[a]=Array.isArray(t[a])?ta(t[a],[]):{...ta(t[a])}:sm(t[a],nt(e)?{}:e[a],r[a]):r[a]=!ls(t[a],e[a]);return r}var Sr=(t,e)=>sm(t,e,ta(e));const Bc={value:!1,isValid:!1},Hc={value:!0,isValid:!0};var rm=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!He(t[0].attributes.value)?He(t[0].value)||t[0].value===""?Hc:{value:t[0].value,isValid:!0}:Hc:Bc}return Bc},nm=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>He(t)?t:e?t===""?NaN:t&&+t:r&&$t(t)?new Date(t):n?n(t):t;const qc={isValid:!1,value:null};var am=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,qc):qc;function Gc(t){const e=t.ref;return Zo(e)?e.files:Jo(e)?am(t.refs).value:em(e)?[...e.selectedOptions].map(({value:r})=>r):xn(e)?rm(t.refs).value:nm(He(e.value)?t.ref.value:e.value,t)}var Iw=(t,e,r,n)=>{const a={};for(const i of t){const o=Q(e,i);o&&Ne(a,i,o._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},sa=t=>t instanceof RegExp,Er=t=>He(t)?t:sa(t)?t.source:Ve(t)?sa(t.value)?t.value.source:t.value:t,zc=t=>({isOnSubmit:!t||t===Tt.onSubmit,isOnBlur:t===Tt.onBlur,isOnChange:t===Tt.onChange,isOnAll:t===Tt.all,isOnTouch:t===Tt.onTouched});const Wc="AsyncFunction";var Vw=t=>!!t&&!!t.validate&&!!(Pt(t.validate)&&t.validate.constructor.name===Wc||Ve(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Wc)),$w=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Yc=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ur=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const i=Q(t,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ur(l,e))break}else if(Ve(l)&&Ur(l,e))break}}};function Kc(t,e,r){const n=Q(t,r);if(n||ka(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Q(e,i),l=Q(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var Fw=(t,e,r,n)=>{r(t);const{name:a,...i}=t;return ot(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||Tt.all))},Uw=(t,e,r)=>!t||!e||t===e||Fr(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Bw=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,Hw=(t,e)=>!Yo(Q(t,e)).length&&Fe(t,e),qw=(t,e,r)=>{const n=Fr(Q(t,r));return Ne(n,"root",e[r]),Ne(t,r,n),t},$n=t=>$t(t);function Zc(t,e,r="validate"){if($n(t)||Array.isArray(t)&&t.every($n)||Dt(t)&&!t)return{type:r,message:$n(t)?t:"",ref:e}}var Ws=t=>Ve(t)&&!sa(t)?t:{value:t,message:""},Jc=async(t,e,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:h,pattern:g,validate:p,name:y,valueAsNumber:j,mount:b}=t._f,N=Q(r,y);if(!b||e.has(y))return{};const _=l?l[0]:o,w=L=>{a&&_.reportValidity&&(_.setCustomValidity(Dt(L)?"":L||""),_.reportValidity())},v={},x=Jo(o),A=xn(o),S=x||A,M=(j||Zo(o))&&He(o.value)&&He(N)||ea(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,B=Qh.bind(null,y,n,v),J=(L,z,ne,W=zt.maxLength,ye=zt.minLength)=>{const le=L?z:ne;v[y]={type:L?W:ye,message:le,ref:o,...B(L?W:ye,le)}};if(i?!Array.isArray(N)||!N.length:c&&(!S&&(M||nt(N))||Dt(N)&&!N||A&&!rm(l).isValid||x&&!am(l).isValid)){const{value:L,message:z}=$n(c)?{value:!!c,message:c}:Ws(c);if(L&&(v[y]={type:zt.required,message:z,ref:_,...B(zt.required,z)},!n))return w(z),v}if(!M&&(!nt(f)||!nt(h))){let L,z;const ne=Ws(h),W=Ws(f);if(!nt(N)&&!isNaN(N)){const ye=o.valueAsNumber||N&&+N;nt(ne.value)||(L=ye>ne.value),nt(W.value)||(z=ye<W.value)}else{const ye=o.valueAsDate||new Date(N),le=se=>new Date(new Date().toDateString()+" "+se),C=o.type=="time",E=o.type=="week";$t(ne.value)&&N&&(L=C?le(N)>le(ne.value):E?N>ne.value:ye>new Date(ne.value)),$t(W.value)&&N&&(z=C?le(N)<le(W.value):E?N<W.value:ye<new Date(W.value))}if((L||z)&&(J(!!L,ne.message,W.message,zt.max,zt.min),!n))return w(v[y].message),v}if((d||u)&&!M&&($t(N)||i&&Array.isArray(N))){const L=Ws(d),z=Ws(u),ne=!nt(L.value)&&N.length>+L.value,W=!nt(z.value)&&N.length<+z.value;if((ne||W)&&(J(ne,L.message,z.message),!n))return w(v[y].message),v}if(g&&!M&&$t(N)){const{value:L,message:z}=Ws(g);if(sa(L)&&!N.match(L)&&(v[y]={type:zt.pattern,message:z,ref:o,...B(zt.pattern,z)},!n))return w(z),v}if(p){if(Pt(p)){const L=await p(N,r),z=Zc(L,_);if(z&&(v[y]={...z,...B(zt.validate,z.message)},!n))return w(z.message),v}else if(Ve(p)){let L={};for(const z in p){if(!ot(L)&&!n)break;const ne=Zc(await p[z](N,r),_,z);ne&&(L={...ne,...B(z,ne.message)},w(ne.message),n&&(v[y]=L))}if(!ot(L)&&(v[y]={ref:_,...L},!n))return v}}return w(!0),v};const Gw={mode:Tt.onSubmit,reValidateMode:Tt.onChange,shouldFocusError:!0};function zw(t={}){let e={...Gw,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pt(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=Ve(e.defaultValues)||Ve(e.values)?Ze(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ze(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:Uc(),state:Uc()},g=e.criteriaMode===Tt.all,p=k=>P=>{clearTimeout(d),d=setTimeout(k,P)},y=async k=>{if(!e.disabled&&(u.isValid||f.isValid||k)){const P=e.resolver?ot((await A()).errors):await M(n,!0);P!==r.isValid&&h.state.next({isValid:P})}},j=(k,P)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(l.mount)).forEach(O=>{O&&(P?Ne(r.validatingFields,O,P):Fe(r.validatingFields,O))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ot(r.validatingFields)}))},b=(k,P=[],O,K,G=!0,H=!0)=>{if(K&&O&&!e.disabled){if(o.action=!0,H&&Array.isArray(Q(n,k))){const ae=O(Q(n,k),K.argA,K.argB);G&&Ne(n,k,ae)}if(H&&Array.isArray(Q(r.errors,k))){const ae=O(Q(r.errors,k),K.argA,K.argB);G&&Ne(r.errors,k,ae),Hw(r.errors,k)}if((u.touchedFields||f.touchedFields)&&H&&Array.isArray(Q(r.touchedFields,k))){const ae=O(Q(r.touchedFields,k),K.argA,K.argB);G&&Ne(r.touchedFields,k,ae)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Sr(a,i)),h.state.next({name:k,isDirty:J(k,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ne(i,k,P)},N=(k,P)=>{Ne(r.errors,k,P),h.state.next({errors:r.errors})},_=k=>{r.errors=k,h.state.next({errors:r.errors,isValid:!1})},w=(k,P,O,K)=>{const G=Q(n,k);if(G){const H=Q(i,k,He(O)?Q(a,k):O);He(H)||K&&K.defaultChecked||P?Ne(i,k,P?H:Gc(G._f)):ne(k,H),o.mount&&y()}},v=(k,P,O,K,G)=>{let H=!1,ae=!1;const _e={name:k};if(!e.disabled){if(!O||K){(u.isDirty||f.isDirty)&&(ae=r.isDirty,r.isDirty=_e.isDirty=J(),H=ae!==_e.isDirty);const ke=ls(Q(a,k),P);ae=!!Q(r.dirtyFields,k),ke?Fe(r.dirtyFields,k):Ne(r.dirtyFields,k,!0),_e.dirtyFields=r.dirtyFields,H=H||(u.dirtyFields||f.dirtyFields)&&ae!==!ke}if(O){const ke=Q(r.touchedFields,k);ke||(Ne(r.touchedFields,k,O),_e.touchedFields=r.touchedFields,H=H||(u.touchedFields||f.touchedFields)&&ke!==O)}H&&G&&h.state.next(_e)}return H?_e:{}},x=(k,P,O,K)=>{const G=Q(r.errors,k),H=(u.isValid||f.isValid)&&Dt(P)&&r.isValid!==P;if(e.delayError&&O?(c=p(()=>N(k,O)),c(e.delayError)):(clearTimeout(d),c=null,O?Ne(r.errors,k,O):Fe(r.errors,k)),(O?!ls(G,O):G)||!ot(K)||H){const ae={...K,...H&&Dt(P)?{isValid:P}:{},errors:r.errors,name:k};r={...r,...ae},h.state.next(ae)}},A=async k=>{j(k,!0);const P=await e.resolver(i,e.context,Iw(k||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return j(k),P},S=async k=>{const{errors:P}=await A(k);if(k)for(const O of k){const K=Q(P,O);K?Ne(r.errors,O,K):Fe(r.errors,O)}else r.errors=P;return P},M=async(k,P,O={valid:!0})=>{for(const K in k){const G=k[K];if(G){const{_f:H,...ae}=G;if(H){const _e=l.array.has(H.name),ke=G._f&&Vw(G._f);ke&&u.validatingFields&&j([K],!0);const gt=await Jc(G,l.disabled,i,g,e.shouldUseNativeValidation&&!P,_e);if(ke&&u.validatingFields&&j([K]),gt[H.name]&&(O.valid=!1,P))break;!P&&(Q(gt,H.name)?_e?qw(r.errors,gt,H.name):Ne(r.errors,H.name,gt[H.name]):Fe(r.errors,H.name))}!ot(ae)&&await M(ae,P,O)}}return O.valid},B=()=>{for(const k of l.unMount){const P=Q(n,k);P&&(P._f.refs?P._f.refs.every(O=>!ei(O)):!ei(P._f.ref))&&et(k)}l.unMount=new Set},J=(k,P)=>!e.disabled&&(k&&P&&Ne(i,k,P),!ls(se(),a)),L=(k,P,O)=>Rw(k,l,{...o.mount?i:He(P)?a:$t(k)?{[k]:P}:P},O,P),z=k=>Yo(Q(o.mount?i:a,k,e.shouldUnregister?Q(a,k,[]):[])),ne=(k,P,O={})=>{const K=Q(n,k);let G=P;if(K){const H=K._f;H&&(!H.disabled&&Ne(i,k,nm(P,H)),G=ea(H.ref)&&nt(P)?"":P,em(H.ref)?[...H.ref.options].forEach(ae=>ae.selected=G.includes(ae.value)):H.refs?xn(H.ref)?H.refs.forEach(ae=>{(!ae.defaultChecked||!ae.disabled)&&(Array.isArray(G)?ae.checked=!!G.find(_e=>_e===ae.value):ae.checked=G===ae.value||!!G)}):H.refs.forEach(ae=>ae.checked=ae.value===G):Zo(H.ref)?H.ref.value="":(H.ref.value=G,H.ref.type||h.state.next({name:k,values:Ze(i)})))}(O.shouldDirty||O.shouldTouch)&&v(k,G,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&E(k)},W=(k,P,O)=>{for(const K in P){if(!P.hasOwnProperty(K))return;const G=P[K],H=k+"."+K,ae=Q(n,H);(l.array.has(k)||Ve(G)||ae&&!ae._f)&&!Ps(G)?W(H,G,O):ne(H,G,O)}},ye=(k,P,O={})=>{const K=Q(n,k),G=l.array.has(k),H=Ze(P);Ne(i,k,H),G?(h.array.next({name:k,values:Ze(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&O.shouldDirty&&h.state.next({name:k,dirtyFields:Sr(a,i),isDirty:J(k,H)})):K&&!K._f&&!nt(H)?W(k,H,O):ne(k,H,O),Yc(k,l)&&h.state.next({...r,name:k}),h.state.next({name:o.mount?k:void 0,values:Ze(i)})},le=async k=>{o.mount=!0;const P=k.target;let O=P.name,K=!0;const G=Q(n,O),H=ke=>{K=Number.isNaN(ke)||Ps(ke)&&isNaN(ke.getTime())||ls(ke,Q(i,O,ke))},ae=zc(e.mode),_e=zc(e.reValidateMode);if(G){let ke,gt;const wn=P.type?Gc(G._f):Cw(k),Qt=k.type===Fc.BLUR||k.type===Fc.FOCUS_OUT,Pm=!$w(G._f)&&!e.resolver&&!Q(r.errors,O)&&!G._f.deps||Bw(Qt,Q(r.touchedFields,O),r.isSubmitted,_e,ae),Ea=Yc(O,l,Qt);Ne(i,O,wn),Qt?(!P||!P.readOnly)&&(G._f.onBlur&&G._f.onBlur(k),c&&c(0)):G._f.onChange&&G._f.onChange(k);const Aa=v(O,wn,Qt),Lm=!ot(Aa)||Ea;if(!Qt&&h.state.next({name:O,type:k.type,values:Ze(i)}),Pm)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?Qt&&y():Qt||y()),Lm&&h.state.next({name:O,...Ea?{}:Aa});if(!Qt&&Ea&&h.state.next({...r}),e.resolver){const{errors:tl}=await A([O]);if(H(wn),K){const Rm=Kc(r.errors,n,O),sl=Kc(tl,n,Rm.name||O);ke=sl.error,O=sl.name,gt=ot(tl)}}else j([O],!0),ke=(await Jc(G,l.disabled,i,g,e.shouldUseNativeValidation))[O],j([O]),H(wn),K&&(ke?gt=!1:(u.isValid||f.isValid)&&(gt=await M(n,!0)));K&&(G._f.deps&&E(G._f.deps),x(O,gt,ke,Aa))}},C=(k,P)=>{if(Q(r.errors,P)&&k.focus)return k.focus(),1},E=async(k,P={})=>{let O,K;const G=Fr(k);if(e.resolver){const H=await S(He(k)?k:G);O=ot(H),K=k?!G.some(ae=>Q(H,ae)):O}else k?(K=(await Promise.all(G.map(async H=>{const ae=Q(n,H);return await M(ae&&ae._f?{[H]:ae}:ae)}))).every(Boolean),!(!K&&!r.isValid)&&y()):K=O=await M(n);return h.state.next({...!$t(k)||(u.isValid||f.isValid)&&O!==r.isValid?{}:{name:k},...e.resolver||!k?{isValid:O}:{},errors:r.errors}),P.shouldFocus&&!K&&Ur(n,C,k?G:l.mount),K},se=k=>{const P={...o.mount?i:a};return He(k)?P:$t(k)?Q(P,k):k.map(O=>Q(P,O))},ie=(k,P)=>({invalid:!!Q((P||r).errors,k),isDirty:!!Q((P||r).dirtyFields,k),error:Q((P||r).errors,k),isValidating:!!Q(r.validatingFields,k),isTouched:!!Q((P||r).touchedFields,k)}),Me=k=>{k&&Fr(k).forEach(P=>Fe(r.errors,P)),h.state.next({errors:k?r.errors:{}})},Ye=(k,P,O)=>{const K=(Q(n,k,{_f:{}})._f||{}).ref,G=Q(r.errors,k)||{},{ref:H,message:ae,type:_e,...ke}=G;Ne(r.errors,k,{...ke,...P,ref:K}),h.state.next({name:k,errors:r.errors,isValid:!1}),O&&O.shouldFocus&&K&&K.focus&&K.focus()},Xe=(k,P)=>Pt(k)?h.state.subscribe({next:O=>"values"in O&&k(L(void 0,P),O)}):L(k,P,!0),$e=k=>h.state.subscribe({next:P=>{Uw(k.name,P.name,k.exact)&&Fw(P,k.formState||u,mt,k.reRenderRoot)&&k.callback({values:{...i},...r,...P,defaultValues:a})}}).unsubscribe,Ke=k=>(o.mount=!0,f={...f,...k.formState},$e({...k,formState:f})),et=(k,P={})=>{for(const O of k?Fr(k):l.mount)l.mount.delete(O),l.array.delete(O),P.keepValue||(Fe(n,O),Fe(i,O)),!P.keepError&&Fe(r.errors,O),!P.keepDirty&&Fe(r.dirtyFields,O),!P.keepTouched&&Fe(r.touchedFields,O),!P.keepIsValidating&&Fe(r.validatingFields,O),!e.shouldUnregister&&!P.keepDefaultValue&&Fe(a,O);h.state.next({values:Ze(i)}),h.state.next({...r,...P.keepDirty?{isDirty:J()}:{}}),!P.keepIsValid&&y()},dt=({disabled:k,name:P})=>{(Dt(k)&&o.mount||k||l.disabled.has(P))&&(k?l.disabled.add(P):l.disabled.delete(P))},Ct=(k,P={})=>{let O=Q(n,k);const K=Dt(P.disabled)||Dt(e.disabled);return Ne(n,k,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:k}},name:k,mount:!0,...P}}),l.mount.add(k),O?dt({disabled:Dt(P.disabled)?P.disabled:e.disabled,name:k}):w(k,!0,P.value),{...K?{disabled:P.disabled||e.disabled}:{},...e.progressive?{required:!!P.required,min:Er(P.min),max:Er(P.max),minLength:Er(P.minLength),maxLength:Er(P.maxLength),pattern:Er(P.pattern)}:{},name:k,onChange:le,onBlur:le,ref:G=>{if(G){Ct(k,P),O=Q(n,k);const H=He(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,ae=Mw(H),_e=O._f.refs||[];if(ae?_e.find(ke=>ke===H):H===O._f.ref)return;Ne(n,k,{_f:{...O._f,...ae?{refs:[..._e.filter(ei),H,...Array.isArray(Q(a,k))?[{}]:[]],ref:{type:H.type,name:k}}:{ref:H}}}),w(k,!1,void 0,H)}else O=Q(n,k,{}),O._f&&(O._f.mount=!1),(e.shouldUnregister||P.shouldUnregister)&&!(Ew(l.array,k)&&o.action)&&l.unMount.add(k)}}},T=()=>e.shouldFocusError&&Ur(n,C,l.mount),X=k=>{Dt(k)&&(h.state.next({disabled:k}),Ur(n,(P,O)=>{const K=Q(n,O);K&&(P.disabled=K._f.disabled||k,Array.isArray(K._f.refs)&&K._f.refs.forEach(G=>{G.disabled=K._f.disabled||k}))},0,!1))},he=(k,P)=>async O=>{let K;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let G=Ze(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:ae}=await A();r.errors=H,G=Ze(ae)}else await M(n);if(l.disabled.size)for(const H of l.disabled)Fe(G,H);if(Fe(r.errors,"root"),ot(r.errors)){h.state.next({errors:{}});try{await k(G,O)}catch(H){K=H}}else P&&await P({...r.errors},O),T(),setTimeout(T);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ot(r.errors)&&!K,submitCount:r.submitCount+1,errors:r.errors}),K)throw K},xe=(k,P={})=>{Q(n,k)&&(He(P.defaultValue)?ye(k,Ze(Q(a,k))):(ye(k,P.defaultValue),Ne(a,k,Ze(P.defaultValue))),P.keepTouched||Fe(r.touchedFields,k),P.keepDirty||(Fe(r.dirtyFields,k),r.isDirty=P.defaultValue?J(k,Ze(Q(a,k))):J()),P.keepError||(Fe(r.errors,k),u.isValid&&y()),h.state.next({...r}))},R=(k,P={})=>{const O=k?Ze(k):a,K=Ze(O),G=ot(k),H=G?a:K;if(P.keepDefaultValues||(a=O),!P.keepValues){if(P.keepDirtyValues){const ae=new Set([...l.mount,...Object.keys(Sr(a,i))]);for(const _e of Array.from(ae))Q(r.dirtyFields,_e)?Ne(H,_e,Q(i,_e)):ye(_e,Q(H,_e))}else{if(Wo&&He(k))for(const ae of l.mount){const _e=Q(n,ae);if(_e&&_e._f){const ke=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(ea(ke)){const gt=ke.closest("form");if(gt){gt.reset();break}}}}if(P.keepFieldsRef)for(const ae of l.mount)ye(ae,Q(H,ae));else n={}}i=e.shouldUnregister?P.keepDefaultValues?Ze(a):{}:Ze(H),h.array.next({values:{...H}}),h.state.next({values:{...H}})}l={mount:P.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!P.keepIsValid||!!P.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:G?!1:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!ls(k,a)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:G?{}:P.keepDirtyValues?P.keepDefaultValues&&i?Sr(a,i):r.dirtyFields:P.keepDefaultValues&&k?Sr(a,k):P.keepDirty?r.dirtyFields:{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},q=(k,P)=>R(Pt(k)?k(i):k,P),je=(k,P={})=>{const O=Q(n,k),K=O&&O._f;if(K){const G=K.refs?K.refs[0]:K.ref;G.focus&&(G.focus(),P.shouldSelect&&Pt(G.select)&&G.select())}},mt=k=>{r={...r,...k}},Us={control:{register:Ct,unregister:et,getFieldState:ie,handleSubmit:he,setError:Ye,_subscribe:$e,_runSchema:A,_focusError:T,_getWatch:L,_getDirty:J,_setValid:y,_setFieldArray:b,_setDisabledField:dt,_setErrors:_,_getFieldArray:z,_reset:R,_resetDefaultValues:()=>Pt(e.defaultValues)&&e.defaultValues().then(k=>{q(k,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:X,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(k){o=k},get _defaultValues(){return a},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return e},set _options(k){e={...e,...k}}},subscribe:Ke,trigger:E,register:Ct,handleSubmit:he,watch:Xe,setValue:ye,getValues:se,reset:q,resetField:xe,clearErrors:Me,unregister:et,setError:Ye,setFocus:je,getFieldState:ie};return{...Us,formControl:Us}}function Qr(t={}){const e=Je.useRef(void 0),r=Je.useRef(void 0),[n,a]=Je.useState({isDirty:!1,isValidating:!1,isLoading:Pt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Pt(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Pt(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=zw(t);e.current={...l,formState:n}}const i=e.current.control;return i._options=t,Lw(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Je.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Je.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Je.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Je.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Je.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Je.useEffect(()=>{t.values&&!ls(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,a(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Je.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Pw(n,i),e.current}const Xc=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Q(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},im=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Xc(n.ref,r,t):n.refs&&n.refs.forEach(a=>Xc(a,r,t))}},Ww=(t,e)=>{e.shouldUseNativeValidation&&im(t,e);const r={};for(const n in t){const a=Q(e.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(Yw(e.names||Object.keys(t),n)){const o=Object.assign({},Q(r,n));Ne(o,"root",i),Ne(r,n,o)}else Ne(r,n,i)}return r},Yw=(t,e)=>t.some(r=>r.startsWith(e+"."));var Kw=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return t.push(f)})}),e){var c=r[o].types,d=c&&c[n.code];r[o]=Qh(o,e,r,a,d?[].concat(d,n.message):n.message)}t.shift()}return r},en=function(t,e,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return i.shouldUseNativeValidation&&im({},i),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Ww(Kw(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},we;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(we||(we={}));var Qc;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Qc||(Qc={}));const te=we.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),as=t=>{switch(typeof t){case"undefined":return te.undefined;case"string":return te.string;case"number":return Number.isNaN(t)?te.nan:te.number;case"boolean":return te.boolean;case"function":return te.function;case"bigint":return te.bigint;case"symbol":return te.symbol;case"object":return Array.isArray(t)?te.array:t===null?te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?te.promise:typeof Map<"u"&&t instanceof Map?te.map:typeof Set<"u"&&t instanceof Set?te.set:typeof Date<"u"&&t instanceof Date?te.date:te.object;default:return te.unknown}},U=we.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(e){if(!(e instanceof Xt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,we.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Xt.create=t=>new Xt(t);const zi=(t,e)=>{let r;switch(t.code){case U.invalid_type:t.received===te.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case U.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,we.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:r=`Unrecognized key(s) in object: ${we.joinValues(t.keys,", ")}`;break;case U.invalid_union:r="Invalid input";break;case U.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${we.joinValues(t.options)}`;break;case U.invalid_enum_value:r=`Invalid enum value. Expected ${we.joinValues(t.options)}, received '${t.received}'`;break;case U.invalid_arguments:r="Invalid function arguments";break;case U.invalid_return_type:r="Invalid function return type";break;case U.invalid_date:r="Invalid date";break;case U.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:we.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case U.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case U.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case U.custom:r="Invalid input";break;case U.invalid_intersection_types:r="Intersection results could not be merged";break;case U.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case U.not_finite:r="Number must be finite";break;default:r=e.defaultError,we.assertNever(t)}return{message:r}};let Zw=zi;function Jw(){return Zw}const Xw=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...a,path:i,message:l}};function Y(t,e){const r=Jw(),n=Xw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===zi?void 0:zi].filter(a=>!!a)});t.common.issues.push(n)}class ht{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return ce;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ht.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const ce=Object.freeze({status:"aborted"}),Pr=t=>({status:"dirty",value:t}),kt=t=>({status:"valid",value:t}),ed=t=>t.status==="aborted",td=t=>t.status==="dirty",dr=t=>t.status==="valid",ra=t=>typeof Promise<"u"&&t instanceof Promise;var re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));class gs{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sd=(t,e)=>{if(dr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Xt(t.common.issues);return this._error=r,this._error}}};function ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class ve{get description(){return this._def.description}_getType(e){return as(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:as(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ht,ctx:{common:e.parent.common,data:e.data,parsedType:as(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ra(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:as(e)},a=this._parseSync({data:e,path:n.path,parent:n});return sd(n,a)}"~validate"(e){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:as(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return dr(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>dr(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:as(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(ra(a)?a:Promise.resolve(a));return sd(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=e(a),l=()=>i.addIssue({code:U.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new mr({schema:this,typeName:de.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return us.create(this,this._def)}nullable(){return fr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ht.create(this)}promise(){return oa.create(this,this._def)}or(e){return aa.create([this,e],this._def)}and(e){return ia.create(this,e,this._def)}transform(e){return new mr({...ge(this._def),schema:this,typeName:de.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Zi({...ge(this._def),innerType:this,defaultValue:r,typeName:de.ZodDefault})}brand(){return new wj({typeName:de.ZodBranded,type:this,...ge(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Ji({...ge(this._def),innerType:this,catchValue:r,typeName:de.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Xo.create(this,e)}readonly(){return Xi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qw=/^c[^\s-]{8,}$/i,ej=/^[0-9a-z]+$/,tj=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sj=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rj=/^[a-z0-9_-]{21}$/i,nj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,aj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ij=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ti;const lj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,uj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,om="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fj=new RegExp(`^${om}$`);function lm(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function gj(t){return new RegExp(`^${lm(t)}$`)}function pj(t){let e=`${om}T${lm(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function xj(t,e){return!!((e==="v4"||!e)&&lj.test(t)||(e==="v6"||!e)&&dj.test(t))}function yj(t,e){if(!nj.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function vj(t,e){return!!((e==="v4"||!e)&&cj.test(t)||(e==="v6"||!e)&&uj.test(t))}class cs extends ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==te.string){const i=this._getOrReturnCtx(e);return Y(i,{code:U.invalid_type,expected:te.string,received:i.parsedType}),ce}const n=new ht;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),Y(a,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),Y(a,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?Y(a,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Y(a,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")ij.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"email",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ti||(ti=new RegExp(oj,"u")),ti.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"emoji",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")sj.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"uuid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")rj.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"nanoid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Qw.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"cuid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")ej.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"cuid2",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")tj.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"ulid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Y(a,{validation:"url",code:U.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"regex",code:U.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),Y(a,{code:U.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),Y(a,{code:U.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),Y(a,{code:U.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?pj(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{code:U.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?fj.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{code:U.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?gj(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{code:U.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?aj.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"duration",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?xj(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"ip",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?yj(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"jwt",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?vj(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"cidr",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?hj.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"base64",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?mj.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"base64url",code:U.invalid_string,message:i.message}),n.dirty()):we.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:U.invalid_string,...re.errToObj(n)})}_addCheck(e){return new cs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...re.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...re.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...re.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...re.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...re.errToObj(r)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new cs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}cs.create=t=>new cs({checks:[],typeName:de.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ge(t)});function bj(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return i%o/10**a}class ur extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==te.number){const i=this._getOrReturnCtx(e);return Y(i,{code:U.invalid_type,expected:te.number,received:i.parsedType}),ce}let n;const a=new ht;for(const i of this._def.checks)i.kind==="int"?we.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:U.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?bj(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Y(n,{code:U.not_finite,message:i.message}),a.dirty()):we.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,re.toString(r))}setLimit(e,r,n,a){return new ur({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:re.toString(a)}]})}_addCheck(e){return new ur({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&we.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ur.create=t=>new ur({checks:[],typeName:de.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class tn extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==te.bigint)return this._getInvalidInput(e);let n;const a=new ht;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Y(n,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):we.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Y(r,{code:U.invalid_type,expected:te.bigint,received:r.parsedType}),ce}gte(e,r){return this.setLimit("min",e,!0,re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,re.toString(r))}setLimit(e,r,n,a){return new tn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:re.toString(a)}]})}_addCheck(e){return new tn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}tn.create=t=>new tn({checks:[],typeName:de.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ge(t)});class Wi extends ve{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==te.boolean){const n=this._getOrReturnCtx(e);return Y(n,{code:U.invalid_type,expected:te.boolean,received:n.parsedType}),ce}return kt(e.data)}}Wi.create=t=>new Wi({typeName:de.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class na extends ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==te.date){const i=this._getOrReturnCtx(e);return Y(i,{code:U.invalid_type,expected:te.date,received:i.parsedType}),ce}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Y(i,{code:U.invalid_date}),ce}const n=new ht;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),Y(a,{code:U.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),Y(a,{code:U.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):we.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new na({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}na.create=t=>new na({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:de.ZodDate,...ge(t)});class rd extends ve{_parse(e){if(this._getType(e)!==te.symbol){const n=this._getOrReturnCtx(e);return Y(n,{code:U.invalid_type,expected:te.symbol,received:n.parsedType}),ce}return kt(e.data)}}rd.create=t=>new rd({typeName:de.ZodSymbol,...ge(t)});class nd extends ve{_parse(e){if(this._getType(e)!==te.undefined){const n=this._getOrReturnCtx(e);return Y(n,{code:U.invalid_type,expected:te.undefined,received:n.parsedType}),ce}return kt(e.data)}}nd.create=t=>new nd({typeName:de.ZodUndefined,...ge(t)});class ad extends ve{_parse(e){if(this._getType(e)!==te.null){const n=this._getOrReturnCtx(e);return Y(n,{code:U.invalid_type,expected:te.null,received:n.parsedType}),ce}return kt(e.data)}}ad.create=t=>new ad({typeName:de.ZodNull,...ge(t)});class id extends ve{constructor(){super(...arguments),this._any=!0}_parse(e){return kt(e.data)}}id.create=t=>new id({typeName:de.ZodAny,...ge(t)});class od extends ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return kt(e.data)}}od.create=t=>new od({typeName:de.ZodUnknown,...ge(t)});class ps extends ve{_parse(e){const r=this._getOrReturnCtx(e);return Y(r,{code:U.invalid_type,expected:te.never,received:r.parsedType}),ce}}ps.create=t=>new ps({typeName:de.ZodNever,...ge(t)});class ld extends ve{_parse(e){if(this._getType(e)!==te.undefined){const n=this._getOrReturnCtx(e);return Y(n,{code:U.invalid_type,expected:te.void,received:n.parsedType}),ce}return kt(e.data)}}ld.create=t=>new ld({typeName:de.ZodVoid,...ge(t)});class Ht extends ve{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==te.array)return Y(r,{code:U.invalid_type,expected:te.array,received:r.parsedType}),ce;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Y(r,{code:o?U.too_big:U.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Y(r,{code:U.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Y(r,{code:U.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new gs(r,o,r.path,l)))).then(o=>ht.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new gs(r,o,r.path,l)));return ht.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Ht({...this._def,minLength:{value:e,message:re.toString(r)}})}max(e,r){return new Ht({...this._def,maxLength:{value:e,message:re.toString(r)}})}length(e,r){return new Ht({...this._def,exactLength:{value:e,message:re.toString(r)}})}nonempty(e){return this.min(1,e)}}Ht.create=(t,e)=>new Ht({type:t,minLength:null,maxLength:null,exactLength:null,typeName:de.ZodArray,...ge(e)});function Xs(t){if(t instanceof Be){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=us.create(Xs(n))}return new Be({...t._def,shape:()=>e})}else return t instanceof Ht?new Ht({...t._def,type:Xs(t.element)}):t instanceof us?us.create(Xs(t.unwrap())):t instanceof fr?fr.create(Xs(t.unwrap())):t instanceof Ds?Ds.create(t.items.map(e=>Xs(e))):t}class Be extends ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=we.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==te.object){const d=this._getOrReturnCtx(e);return Y(d,{code:U.invalid_type,expected:te.object,received:d.parsedType}),ce}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ps&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new gs(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof ps){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Y(a,{code:U.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new gs(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,h=await u.value;d.push({key:f,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>ht.mergeObjectSync(n,d)):ht.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new Be({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:re.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Be({...this._def,unknownKeys:"strip"})}passthrough(){return new Be({...this._def,unknownKeys:"passthrough"})}extend(e){return new Be({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Be({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:de.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Be({...this._def,catchall:e})}pick(e){const r={};for(const n of we.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Be({...this._def,shape:()=>r})}omit(e){const r={};for(const n of we.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Be({...this._def,shape:()=>r})}deepPartial(){return Xs(this)}partial(e){const r={};for(const n of we.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}return new Be({...this._def,shape:()=>r})}required(e){const r={};for(const n of we.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof us;)i=i._def.innerType;r[n]=i}return new Be({...this._def,shape:()=>r})}keyof(){return cm(we.objectKeys(this.shape))}}Be.create=(t,e)=>new Be({shape:()=>t,unknownKeys:"strip",catchall:ps.create(),typeName:de.ZodObject,...ge(e)});Be.strictCreate=(t,e)=>new Be({shape:()=>t,unknownKeys:"strict",catchall:ps.create(),typeName:de.ZodObject,...ge(e)});Be.lazycreate=(t,e)=>new Be({shape:t,unknownKeys:"strip",catchall:ps.create(),typeName:de.ZodObject,...ge(e)});class aa extends ve{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Xt(l.ctx.common.issues));return Y(r,{code:U.invalid_union,unionErrors:o}),ce}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Xt(c));return Y(r,{code:U.invalid_union,unionErrors:l}),ce}}get options(){return this._def.options}}aa.create=(t,e)=>new aa({options:t,typeName:de.ZodUnion,...ge(e)});function Yi(t,e){const r=as(t),n=as(e);if(t===e)return{valid:!0,data:t};if(r===te.object&&n===te.object){const a=we.objectKeys(e),i=we.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=Yi(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===te.array&&n===te.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=Yi(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===te.date&&n===te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ia extends ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,o)=>{if(ed(i)||ed(o))return ce;const l=Yi(i.value,o.value);return l.valid?((td(i)||td(o))&&r.dirty(),{status:r.value,value:l.data}):(Y(n,{code:U.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ia.create=(t,e,r)=>new ia({left:t,right:e,typeName:de.ZodIntersection,...ge(r)});class Ds extends ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==te.array)return Y(n,{code:U.invalid_type,expected:te.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return Y(n,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(Y(n,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new gs(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ht.mergeArray(r,o)):ht.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Ds({...this._def,rest:e})}}Ds.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ds({items:t,typeName:de.ZodTuple,rest:null,...ge(e)})};class cd extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==te.map)return Y(n,{code:U.invalid_type,expected:te.map,received:n.parsedType}),ce;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new gs(n,l,n.path,[d,"key"])),value:i._parse(new gs(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ce;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ce;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}cd.create=(t,e,r)=>new cd({valueType:e,keyType:t,typeName:de.ZodMap,...ge(r)});class sn extends ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==te.set)return Y(n,{code:U.invalid_type,expected:te.set,received:n.parsedType}),ce;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Y(n,{code:U.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Y(n,{code:U.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ce;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new gs(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new sn({...this._def,minSize:{value:e,message:re.toString(r)}})}max(e,r){return new sn({...this._def,maxSize:{value:e,message:re.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}sn.create=(t,e)=>new sn({valueType:t,minSize:null,maxSize:null,typeName:de.ZodSet,...ge(e)});class dd extends ve{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}dd.create=(t,e)=>new dd({getter:t,typeName:de.ZodLazy,...ge(e)});class Ki extends ve{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Y(r,{received:r.data,code:U.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ki.create=(t,e)=>new Ki({value:t,typeName:de.ZodLiteral,...ge(e)});function cm(t,e){return new hr({values:t,typeName:de.ZodEnum,...ge(e)})}class hr extends ve{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Y(r,{expected:we.joinValues(n),received:r.parsedType,code:U.invalid_type}),ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Y(r,{received:r.data,code:U.invalid_enum_value,options:n}),ce}return kt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return hr.create(e,{...this._def,...r})}exclude(e,r=this._def){return hr.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}hr.create=cm;class ud extends ve{_parse(e){const r=we.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==te.string&&n.parsedType!==te.number){const a=we.objectValues(r);return Y(n,{expected:we.joinValues(a),received:n.parsedType,code:U.invalid_type}),ce}if(this._cache||(this._cache=new Set(we.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=we.objectValues(r);return Y(n,{received:n.data,code:U.invalid_enum_value,options:a}),ce}return kt(e.data)}get enum(){return this._def.values}}ud.create=(t,e)=>new ud({values:t,typeName:de.ZodNativeEnum,...ge(e)});class oa extends ve{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==te.promise&&r.common.async===!1)return Y(r,{code:U.invalid_type,expected:te.promise,received:r.parsedType}),ce;const n=r.parsedType===te.promise?r.data:Promise.resolve(r.data);return kt(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}oa.create=(t,e)=>new oa({type:t,typeName:de.ZodPromise,...ge(e)});class mr extends ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===de.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{Y(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ce;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ce:c.status==="dirty"||r.value==="dirty"?Pr(c.value):c});{if(r.value==="aborted")return ce;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ce:l.status==="dirty"||r.value==="dirty"?Pr(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ce:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!dr(o))return ce;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>dr(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):ce);we.assertNever(a)}}mr.create=(t,e,r)=>new mr({schema:t,typeName:de.ZodEffects,effect:e,...ge(r)});mr.createWithPreprocess=(t,e,r)=>new mr({schema:e,effect:{type:"preprocess",transform:t},typeName:de.ZodEffects,...ge(r)});class us extends ve{_parse(e){return this._getType(e)===te.undefined?kt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}us.create=(t,e)=>new us({innerType:t,typeName:de.ZodOptional,...ge(e)});class fr extends ve{_parse(e){return this._getType(e)===te.null?kt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fr.create=(t,e)=>new fr({innerType:t,typeName:de.ZodNullable,...ge(e)});class Zi extends ve{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Zi.create=(t,e)=>new Zi({innerType:t,typeName:de.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ge(e)});class Ji extends ve{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ra(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xt(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Xt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ji.create=(t,e)=>new Ji({innerType:t,typeName:de.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ge(e)});class hd extends ve{_parse(e){if(this._getType(e)!==te.nan){const n=this._getOrReturnCtx(e);return Y(n,{code:U.invalid_type,expected:te.nan,received:n.parsedType}),ce}return{status:"valid",value:e.data}}}hd.create=t=>new hd({typeName:de.ZodNaN,...ge(t)});class wj extends ve{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Xo extends ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),Pr(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ce:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new Xo({in:e,out:r,typeName:de.ZodPipeline})}}class Xi extends ve{_parse(e){const r=this._def.innerType._parse(e),n=a=>(dr(a)&&(a.value=Object.freeze(a.value)),a);return ra(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Xi.create=(t,e)=>new Xi({innerType:t,typeName:de.ZodReadonly,...ge(e)});var de;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(de||(de={}));const be=cs.create,Ys=ur.create,Ks=Wi.create;ps.create;const jj=Ht.create,It=Be.create;aa.create;ia.create;Ds.create;const _j=Ki.create,la=hr.create;oa.create;us.create;fr.create;const ee=Je.forwardRef(({className:t,label:e,error:r,helperText:n,id:a,...i},o)=>{const l=a||(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-"));return s.jsxs("div",{className:"space-y-1",children:[e&&s.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700",children:e}),s.jsx("input",{ref:o,id:l,className:vs("block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-1000 focus:ring-orange-1000 text-base px-4 py-3",r&&"border-red-300 focus:border-red-500 focus:ring-red-500",t),...i}),r&&s.jsx("p",{className:"text-sm text-red-600",children:r}),n&&!r&&s.jsx("p",{className:"text-sm text-gray-500",children:n})]})});ee.displayName="Input";function $({className:t,children:e}){return s.jsxs("div",{className:vs("relative overflow-hidden rounded-lg","bg-gradient-to-br from-white/30 via-white/10 to-white/5 border border-white/20 backdrop-blur-md","shadow-[0_8px_30px_rgba(16,24,40,0.08)]",t),children:[s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:s.jsx("div",{className:"card-sheen"})}),e]})}function fe({className:t,children:e}){return s.jsx("div",{className:vs("px-6 py-4 border-b border-gray-200",t),children:e})}function F({className:t,children:e}){return s.jsx("div",{className:vs("px-6 py-4",t),children:e})}function si({className:t,children:e}){return s.jsx("h3",{className:vs("text-lg font-semibold leading-none tracking-tight",t),children:e})}function ri({className:t,children:e}){return s.jsx("p",{className:vs("text-sm text-gray-600",t),children:e})}function Nj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const ut=m.forwardRef(Nj);function kj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Cj=m.forwardRef(kj);function Sj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Ej=m.forwardRef(Sj);function Aj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Tj=m.forwardRef(Aj);function Pj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Qo=m.forwardRef(Pj);function Lj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const Rj=m.forwardRef(Lj);function Mj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Br=m.forwardRef(Mj);function Oj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Fn=m.forwardRef(Oj);function Dj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const dm=m.forwardRef(Dj);function Ij({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const Pe=m.forwardRef(Ij);function Vj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"}))}const $j=m.forwardRef(Vj);function Fj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Uj=m.forwardRef(Fj);function Bj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Lt=m.forwardRef(Bj);function Hj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const qj=m.forwardRef(Hj);function Gj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tt=m.forwardRef(Gj);function zj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Qi=m.forwardRef(zj);function Wj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const ir=m.forwardRef(Wj);function Yj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vt=m.forwardRef(Yj);function Kj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const ni=m.forwardRef(Kj);function Zj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const Un=m.forwardRef(Zj);function Jj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 1 0 0 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ca=m.forwardRef(Jj);function Xj({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const Qj=m.forwardRef(Xj);function e1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const um=m.forwardRef(e1);function t1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const bt=m.forwardRef(t1);function s1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const r1=m.forwardRef(s1);function n1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const a1=m.forwardRef(n1);function i1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Rt=m.forwardRef(i1);function o1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const hm=m.forwardRef(o1);function l1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const mm=m.forwardRef(l1);function c1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const d1=m.forwardRef(c1);function u1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const rn=m.forwardRef(u1);function h1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const md=m.forwardRef(h1);function m1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const fm=m.forwardRef(m1);function f1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const gm=m.forwardRef(f1);function g1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const eo=m.forwardRef(g1);function p1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Vs=m.forwardRef(p1);function x1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const pm=m.forwardRef(x1);function y1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}const v1=m.forwardRef(y1);function b1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const xm=m.forwardRef(b1);function w1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const j1=m.forwardRef(w1);function _1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const nn=m.forwardRef(_1);function N1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const k1=m.forwardRef(N1);function C1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const wt=m.forwardRef(C1);function S1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const ym=m.forwardRef(S1);function E1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const A1=m.forwardRef(E1);function T1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const P1=m.forwardRef(T1);function L1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Ms=m.forwardRef(L1);function R1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const hs=m.forwardRef(R1);function M1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const O1=m.forwardRef(M1);function D1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const ca=m.forwardRef(D1);function I1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const gr=m.forwardRef(I1);function V1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const it=m.forwardRef(V1);function $1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const We=m.forwardRef($1);function F1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const fd=m.forwardRef(F1);function U1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const an=m.forwardRef(U1);function B1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const da=m.forwardRef(B1);function H1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Hr=m.forwardRef(H1);function q1({title:t,titleId:e,...r},n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const _t=m.forwardRef(q1),G1=It({email:be().email("Please enter a valid email address"),password:be().min(6,"Password must be at least 6 characters")}),z1=It({email:be().email("Please enter a valid email address"),password:be().min(6,"Password must be at least 6 characters"),confirmPassword:be(),full_name:be().min(2,"Full name must be at least 2 characters").regex(/^[a-zA-Z\s']+$/,"Full name can only contain letters, spaces, and apostrophes"),role:la(["student","teacher"]),phone:be().optional().refine(t=>!t||/^\d+$/.test(t),"Phone number can only contain numbers"),date_of_birth:be().optional()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function W1({isOpen:t,onClose:e,initialMode:r="signin",redirectAfterAuth:n="/dashboard"}){var j,b,N,_,w,v,x,A;const[a,i]=m.useState(r),[o,l]=m.useState(!1),{signIn:c,signUp:d}=ws(),u=ro();m.useEffect(()=>{t&&i(r)},[t,r]);const f=Qr({resolver:en(G1),mode:"onChange"}),h=Qr({resolver:en(z1),mode:"onChange",defaultValues:{role:"student"}});m.useEffect(()=>{const S=M=>{M.key==="Escape"&&t&&e()};return t?(document.addEventListener("keydown",S),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",S),document.body.style.overflow="unset"}},[t,e]);const g=async S=>{l(!0);try{const{error:M}=await c(S.email,S.password);if(M){D.error(M);return}D.success("Welcome back!"),e(),n!==!1&&u(n)}catch(M){M instanceof Error?D.error(M.message):D.error("Failed to sign in")}finally{l(!1)}},p=async S=>{l(!0);try{const{error:M}=await d({email:S.email,password:S.password,full_name:S.full_name,role:S.role,phone:S.phone,date_of_birth:S.date_of_birth});if(M){D.error(M);return}D.success("Account created successfully! You can now sign in."),i("signin"),h.reset()}catch(M){M instanceof Error?D.error(M.message):D.error("Failed to create account")}finally{l(!1)}};if(!t)return null;const y=S=>{S.target===S.currentTarget&&e()};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4 overflow-y-auto animate-in fade-in duration-200",onClick:y,children:s.jsx("div",{className:"max-w-md w-full my-8 animate-in zoom-in-95 duration-200",children:s.jsxs($,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-md",children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:a==="signin"?"Sign In":"Create Account"}),s.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-500 hover:text-gray-700",children:s.jsx(_t,{className:"h-5 w-5"})})]}),s.jsx(F,{children:a==="signin"?s.jsxs("form",{onSubmit:f.handleSubmit(g),className:"flex flex-col gap-6",children:[s.jsx(ee,{label:"Email address",type:"email",autoComplete:"email",...f.register("email"),error:(j=f.formState.errors.email)==null?void 0:j.message}),s.jsx(ee,{label:"Password",type:"password",autoComplete:"current-password",...f.register("password"),error:(b=f.formState.errors.password)==null?void 0:b.message}),s.jsx(I,{type:"submit",className:"w-full",loading:o,children:"Sign in"}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{type:"button",onClick:()=>i("signup"),className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign up"})]})})]}):s.jsxs("form",{onSubmit:h.handleSubmit(p),className:"flex flex-col gap-6",children:[s.jsx(ee,{label:"Full Name",...h.register("full_name"),error:(N=h.formState.errors.full_name)==null?void 0:N.message}),s.jsx(ee,{label:"Email address",type:"email",autoComplete:"email",...h.register("email"),error:(_=h.formState.errors.email)==null?void 0:_.message}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{label:"Password",type:"password",autoComplete:"new-password",...h.register("password"),error:(w=h.formState.errors.password)==null?void 0:w.message}),s.jsx(ee,{label:"Confirm Password",type:"password",autoComplete:"new-password",...h.register("confirmPassword"),error:(v=h.formState.errors.confirmPassword)==null?void 0:v.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"I am a"}),s.jsxs("select",{...h.register("role"),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",children:[s.jsx("option",{value:"student",children:"Student"}),s.jsx("option",{value:"teacher",children:"Teacher"})]})]}),s.jsx(ee,{label:"Phone (Optional)",type:"tel",...h.register("phone"),error:(x=h.formState.errors.phone)==null?void 0:x.message})]}),s.jsx(ee,{label:"Date of Birth (Optional)",type:"date",...h.register("date_of_birth"),error:(A=h.formState.errors.date_of_birth)==null?void 0:A.message}),s.jsx(I,{type:"submit",className:"w-full",loading:o,children:"Create Account"}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:()=>i("signin"),className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign in"})]})})]})})]})})})}const Y1=({openModal:t})=>{const e=ua();return m.useEffect(()=>{e.pathname.includes("/auth/signin")?t("signin"):e.pathname.includes("/auth/signup")&&t("signup")},[e.pathname,t]),s.jsx(yt,{to:"/",replace:!0})};function Es({to:t,children:e,onClick:r,...n}){const a=ro(),i=o=>{o.preventDefault(),window.scrollTo({top:0,left:0,behavior:"instant"}),a(t),setTimeout(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0},0),r&&r(o)};return s.jsx(Ee,{to:t,onClick:i,...n,children:e})}function $s({title:t,description:e,keywords:r=[],canonicalUrl:n,ogImage:a,ogType:i="website",structuredData:o,noIndex:l=!1}){const c="eYogi Gurukul - Ancient Hindu Wisdom, Modern Vedic Learning",d="Learn authentic Hindu traditions, Vedic philosophy, Sanskrit, mantras, and yoga through comprehensive online courses. Discover Sanatan Dharma wisdom with expert teachers in our traditional Gurukul system.",u=typeof window<"u"?window.location.origin:"https://eyogi-gurukul.vercel.app",f=t?`${t} | ${c}`:c,h=e||d,g=n?`${u}${n}`:u,p=a||`${u}/og-image.jpg`,j=[...["Hindu","Hinduism","Vedic","Hindu Religion","Hindu Culture","Indian Hindu Culture","Sanatan","Sanatan Dharma","Vedic Education","Hindu Philosophy","Hindu Traditions","Hindu Learning","Vedic Wisdom","Hindu Courses","Vedic Studies","Hindu Gurukul","Sanatan Dharma Education","Hindu Online Learning","Vedic Knowledge","Hindu Spiritual Education","Traditional Hindu Education","Authentic Hindu Teaching","Hindu Heritage","Vedic Philosophy","Hindu Scriptures","Dharma Education","Hindu Values","Sanskrit Learning","Mantra Education","Yoga Philosophy","Hindu Festivals","Hindu Rituals","Hindu Practices","Vedic Science","Hindu Mythology","Hindu Ethics","Dharmic Living","Hindu Spirituality","Vedic Lifestyle"],...r].join(", ");return Je.useEffect(()=>{document.title=f;const b=document.querySelector('meta[name="description"]');if(b)b.setAttribute("content",h);else{const S=document.createElement("meta");S.name="description",S.content=h,document.head.appendChild(S)}const N=document.querySelector('meta[name="keywords"]');if(N)N.setAttribute("content",j);else{const S=document.createElement("meta");S.name="keywords",S.content=j,document.head.appendChild(S)}let _=document.querySelector('link[rel="canonical"]');_?_.setAttribute("href",g):(_=document.createElement("link"),_.rel="canonical",_.href=g,document.head.appendChild(_));const w=(S,M)=>{let B=document.querySelector(`meta[property="${S}"]`);B?B.setAttribute("content",M):(B=document.createElement("meta"),B.setAttribute("property",S),B.setAttribute("content",M),document.head.appendChild(B))};w("og:title",f),w("og:description",h),w("og:type",i),w("og:url",g),w("og:image",p),w("og:site_name","eYogi Gurukul");const v=(S,M)=>{let B=document.querySelector(`meta[name="${S}"]`);B?B.setAttribute("content",M):(B=document.createElement("meta"),B.setAttribute("name",S),B.setAttribute("content",M),document.head.appendChild(B))};v("twitter:card","summary_large_image"),v("twitter:title",f),v("twitter:description",h),v("twitter:image",p);const x=document.querySelector('meta[name="robots"]'),A=l?"noindex, nofollow":"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1";if(x)x.setAttribute("content",A);else{const S=document.createElement("meta");S.name="robots",S.content=A,document.head.appendChild(S)}o&&(document.querySelectorAll('script[type="application/ld+json"]').forEach(B=>B.remove()),(Array.isArray(o)?o:[o]).forEach((B,J)=>{const L=document.createElement("script");L.type="application/ld+json",L.textContent=JSON.stringify(B,null,2),L.id=`structured-data-${J}`,document.head.appendChild(L)}))},[f,h,j,g,p,i,o,l]),null}function K1(){return{"@context":"https://schema.org","@type":"EducationalOrganization",name:"eYogi Gurukul",description:"Premier online platform for authentic Hindu education, Vedic learning, and Sanatan Dharma studies. Learn Sanskrit, Hindu philosophy, mantras, yoga, and traditional Hindu culture through expert-led courses.",url:"https://eyogi-gurukul.vercel.app",logo:"/Images/Logo.png",sameAs:["https://facebook.com/eyogigurukul","https://twitter.com/eyogigurukul","https://youtube.com/eyogigurukul","https://instagram.com/eyogigurukul"],address:{"@type":"PostalAddress",streetAddress:"Dublin Technology Centre",addressLocality:"Dublin",addressCountry:"Ireland"},contactPoint:{"@type":"ContactPoint",telephone:"+353-1-234-5678",contactType:"Customer Service",email:"info@eyogigurukul.com"},foundingDate:"2024",keywords:"Hindu Education, Vedic Learning, Sanatan Dharma, Sanskrit, Hindu Philosophy, Yoga, Mantras, Hindu Culture, Traditional Hindu Education, Online Gurukul",educationalCredentialAwarded:"Certificate of Completion in Vedic Studies",hasCredential:["Hindu Philosophy Certification","Sanskrit Language Proficiency","Mantra Studies Certificate","Yoga Teacher Training","Vedic Studies Diploma"]}}function Z1(t){var e;return{"@context":"https://schema.org","@type":"Course",name:t.title,description:t.description,provider:{"@type":"EducationalOrganization",name:"eYogi Gurukul",url:"https://eyogi-gurukul.vercel.app"},courseCode:t.course_number,educationalLevel:t.level,teaches:t.learning_outcomes,timeRequired:`P${t.duration_weeks}W`,coursePrerequisites:t.prerequisites||void 0,aggregateRating:{"@type":"AggregateRating",ratingValue:4.8,reviewCount:150},offers:{"@type":"Offer",price:t.price.toString(),priceCurrency:"EUR",availability:"https://schema.org/InStock"},inLanguage:"en",keywords:`Hindu Education, Vedic Learning, ${t.title}, Hindu Course, Sanatan Dharma, ${(e=t.gurukul)==null?void 0:e.name}`,about:[{"@type":"Thing",name:"Hindu Religion"},{"@type":"Thing",name:"Vedic Philosophy"},{"@type":"Thing",name:"Sanatan Dharma"},{"@type":"Thing",name:"Hindu Culture"}]}}function J1(){return{"@context":"https://schema.org","@type":"WebSite",name:"eYogi Gurukul - Hindu Education & Vedic Learning Platform",description:"Comprehensive online platform for authentic Hindu education, Vedic studies, and Sanatan Dharma learning. Expert-led courses in Sanskrit, Hindu philosophy, mantras, yoga, and traditional Hindu culture.",url:"https://eyogi-gurukul.vercel.app",potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:"https://eyogi-gurukul.vercel.app/courses?search={search_term_string}"},"query-input":"required name=search_term_string"},keywords:"Hindu Education, Hinduism Learning, Vedic Studies, Sanatan Dharma, Hindu Philosophy, Sanskrit Learning, Hindu Culture, Indian Hindu Traditions, Hindu Religion Online, Vedic Wisdom, Hindu Gurukul, Traditional Hindu Education",inLanguage:["en","hi","sa"],about:[{"@type":"Thing",name:"Hindu Religion"},{"@type":"Thing",name:"Hinduism"},{"@type":"Thing",name:"Vedic Philosophy"},{"@type":"Thing",name:"Sanatan Dharma"},{"@type":"Thing",name:"Hindu Culture"},{"@type":"Thing",name:"Indian Hindu Culture"},{"@type":"Thing",name:"Sanskrit Language"},{"@type":"Thing",name:"Hindu Education"},{"@type":"Thing",name:"Vedic Learning"},{"@type":"Thing",name:"Hindu Traditions"}]}}function wr(t){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map((e,r)=>({"@type":"ListItem",position:r+1,name:e.name,item:`https://eyogi-gurukul.vercel.app${e.url}`}))}}function Re({variant:t="default",size:e="md",className:r,children:n}){const a="inline-flex items-center font-medium rounded-full break-words text-center",i={default:"bg-gray-100 text-gray-800",secondary:"bg-gray-200 text-gray-700",outline:"border border-gray-300 text-gray-700 bg-white",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"},o={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm sm:px-3 sm:py-1.5 sm:text-base max-w-xs sm:max-w-none"};return s.jsx("span",{className:vs(a,i[t],o[e],r),children:n})}function yn({text:t,className:e=""}){return s.jsx("div",{className:`rolling-text-container ${e}`,children:s.jsxs("div",{className:"rolling-text",children:[s.jsx("span",{className:"rolling-text-item",children:t}),s.jsx("span",{className:"rolling-text-item",children:t})]})})}function vn(){const t=new Date().getFullYear(),e=[{title:"Gurukuls",links:[{name:"Hinduism Gurukul",href:"/gurukuls/hinduism"},{name:"Mantra Gurukul",href:"/gurukuls/mantra"},{name:"Philosophy Gurukul",href:"/gurukuls/philosophy"},{name:"Sanskrit Gurukul",href:"/gurukuls/sanskrit"},{name:"Yoga & Wellness",href:"/gurukuls/yoga-wellness"}]},{title:"Learning",links:[{name:"All Courses",href:"/courses"},{name:"Elementary (4-7)",href:"/courses?level=elementary"},{name:"Basic (8-11)",href:"/courses?level=basic"},{name:"Intermediate (12-15)",href:"/courses?level=intermediate"},{name:"Advanced (16-19)",href:"/courses?level=advanced"}]},{title:"Support",links:[{name:"Help Center",href:"/help"},{name:"Contact Us",href:"/contact"},{name:"FAQ",href:"/faq"},{name:"Community",href:"/community"},{name:"Blog",href:"/blog"}]},{title:"Legal",links:[{name:"Privacy Policy",href:"/privacy"},{name:"Terms of Service",href:"/terms"},{name:"Cookie Policy",href:"/cookies"},{name:"Accessibility",href:"/accessibility"}]}];return s.jsx("footer",{className:"bg-gray-900 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"eY"})}),s.jsx("span",{className:"text-xl font-bold",children:"eYogi Gurukul"})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Connecting ancient Vedic wisdom with modern learning through comprehensive online education."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M20 10C20 4.477 15.523 0 10 0S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[s.jsx("span",{className:"sr-only",children:"YouTube"}),s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10ZM10 4C6.68629 4 4 6.68629 4 10C4 13.3137 6.68629 16 10 16C13.3137 16 16 13.3137 16 10C16 6.68629 13.3137 4 10 4Z",clipRule:"evenodd"})})]})]})]}),e.map(r=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-white uppercase tracking-wider mb-4",children:r.title}),s.jsx("ul",{className:"space-y-2",children:r.links.map(n=>s.jsx("li",{children:s.jsx(Ee,{to:n.href,className:"text-gray-300 hover:text-white text-sm transition-colors",children:n.name})},n.name))})]},r.title))]}),s.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["© ",t," eYogi Gurukul. All rights reserved."]}),s.jsx("p",{className:"text-gray-400 text-sm mt-2 md:mt-0",children:"Made with ❤️ for preserving ancient wisdom"})]})})]})})}function X1(){const t=[K1(),J1(),{"@context":"https://schema.org","@type":"WebPage",name:"Hindu Education & Vedic Learning Platform - eYogi Gurukul",description:"Discover authentic Hindu traditions, Vedic philosophy, Sanskrit, mantras, and yoga through expert-led online courses. Join our global community of Sanatan Dharma learners.",url:"https://eyogi-gurukul.vercel.app",mainEntity:{"@type":"EducationalOrganization",name:"eYogi Gurukul"},about:[{"@type":"Thing",name:"Hindu Religion"},{"@type":"Thing",name:"Hinduism"},{"@type":"Thing",name:"Vedic Philosophy"},{"@type":"Thing",name:"Sanatan Dharma"},{"@type":"Thing",name:"Hindu Culture"},{"@type":"Thing",name:"Indian Hindu Culture"}]}],e=[{icon:ut,title:"Expert Teachers",description:"Learn from qualified instructors with deep knowledge of Vedic traditions"},{icon:Pe,title:"Comprehensive Curriculum",description:"Structured courses covering all aspects of ancient wisdom and modern applications"},{icon:We,title:"Community Learning",description:"Join a global community of learners on the path of spiritual growth"},{icon:hs,title:"Certified Programs",description:"Earn certificates upon completion of courses and showcase your achievements"}],r=[{name:"Hinduism Gurukul",description:"Explore Hindu traditions, philosophy, and practices",image:"https://images.unsplash.com/photo-1582510003544-4d00b7f74220?w=400&h=300&fit=crop",courses:12,students:450,slug:"hinduism"},{name:"Mantra Gurukul",description:"Learn sacred mantras and their transformative power",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",courses:8,students:320,slug:"mantra"},{name:"Philosophy Gurukul",description:"Dive deep into ancient philosophical traditions",image:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=400&h=300&fit=crop",courses:15,students:280,slug:"philosophy"},{name:"Sanskrit Gurukul",description:"Master the sacred language of Sanskrit",image:"https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=400&h=300&fit=crop",courses:10,students:380,slug:"sanskrit"},{name:"Yoga & Wellness",description:"Integrate physical, mental, and spiritual wellness",image:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=400&h=300&fit=crop",courses:18,students:520,slug:"yoga-wellness"}],n=[{name:"Sarah Johnson",role:"Student, Philosophy Gurukul",content:"The depth of knowledge and the way it's presented makes ancient wisdom accessible to modern minds.",rating:5},{name:"Raj Patel",role:"Parent",content:"My daughter has learned so much about our culture and traditions. The teachers are excellent.",rating:5},{name:"Maria Garcia",role:"Student, Yoga Gurukul",content:"The holistic approach to wellness has transformed my daily practice and understanding.",rating:5}];return s.jsxs(s.Fragment,{children:[s.jsx($s,{title:"Hindu Education & Vedic Learning Platform",description:"Learn authentic Hindu traditions, Vedic philosophy, Sanskrit, mantras, and yoga through comprehensive online courses. Discover Sanatan Dharma wisdom with expert teachers in our traditional Gurukul system.",keywords:["Hindu Education Online","Vedic Learning Platform","Sanatan Dharma Courses","Hindu Philosophy Online","Sanskrit Learning Online","Hindu Culture Education","Indian Hindu Traditions","Vedic Wisdom Courses","Hindu Gurukul Online","Traditional Hindu Education","Authentic Hindu Teaching","Hindu Heritage Learning","Vedic Studies Online","Hindu Spiritual Education","Dharma Education Platform","Hindu Values Learning","Vedic Knowledge Online","Hindu Religion Courses"],canonicalUrl:"/",structuredData:t}),s.jsxs("div",{children:[s.jsx(yn,{text:"🕉️ Spirituality and Science of Hinduism University - Discover Ancient Wisdom Through Modern Learning 🕉️"}),s.jsxs("section",{id:"hero",className:"relative bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 overflow-hidden hero-section",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/40 via-white/20 to-white/30 backdrop-blur-md"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-100/50 via-orange-50/30 to-red-100/40 backdrop-blur-sm"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-orange-200/30 via-orange-100/20 to-transparent"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/20 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 backdrop-blur-[2px] bg-white/15"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-white/20"}),s.jsx("div",{className:"relative container-max section-padding",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6 lg:space-y-8 text-center lg:text-left",children:[s.jsxs("div",{className:"space-y-4 px-4 sm:px-0",children:[s.jsx("div",{className:"flex justify-center lg:justify-start badge-container",children:s.jsx(Re,{variant:"info",className:"text-xs sm:text-sm px-3 py-2 sm:px-4 sm:py-2 hero-badge",children:"🕉️ Authentic Hindu Education & Vedic Learning"})}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight px-2 sm:px-0",itemProp:"headline",children:["Learn Authentic ",s.jsx("span",{className:"gradient-text",children:"Hindu Heritage"})," & Vedic Wisdom"]}),s.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600 leading-relaxed px-2 sm:px-0",itemProp:"description",children:"Discover authentic Hindu religion, Vedic philosophy, Sanskrit, mantras, and yoga through our comprehensive Sanatan Dharma education platform. Learn traditional Hindu culture from expert teachers in our modern Gurukul system designed for all ages."})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 px-4 sm:px-0 sm:flex-row justify-center lg:justify-start",children:[s.jsx(Es,{to:"/courses",className:"w-full sm:w-auto",children:s.jsxs(I,{size:"lg",className:"w-full sm:w-auto min-h-[50px] text-base font-semibold px-6 py-3",children:["Explore Courses",s.jsx(Qo,{className:"ml-2 h-5 w-5"})]})}),s.jsx(Es,{to:"/gurukuls",className:"w-full sm:w-auto",children:s.jsx(I,{variant:"primary",size:"lg",className:"w-full sm:w-auto min-h-[50px] text-base font-semibold px-6 py-3",children:"Browse Gurukuls"})})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:gap-2 sm:flex-row sm:items-center sm:space-x-6 lg:space-x-8 text-sm text-gray-600 justify-center lg:justify-start px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 justify-center lg:justify-start",children:[s.jsx(tt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-sm font-medium",children:"1,950+ Students"})]}),s.jsxs("div",{className:"flex items-center space-x-2 justify-center lg:justify-start",children:[s.jsx(tt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-sm font-medium",children:"63+ Courses"})]}),s.jsxs("div",{className:"flex items-center space-x-2 justify-center lg:justify-start",children:[s.jsx(tt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-sm font-medium",children:"5 Gurukuls"})]})]})]}),s.jsxs("div",{className:"relative order-first lg:order-last overflow-visible",children:[s.jsxs("div",{className:"aspect-square max-w-sm mx-auto lg:max-w-none rounded-2xl overflow-hidden shadow-2xl bg-white/30 backdrop-blur-lg border border-white/40 p-4 relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-transparent rounded-2xl"}),s.jsx("img",{src:"/ssh-app/Images/Logo.png",alt:"eYogi Gurukul logo",className:"w-full h-full object-contain logo-pop relative z-10"})]}),s.jsxs("div",{className:"absolute -bottom-4 left-2 sm:-left-4 lg:-bottom-6 lg:-left-6 bg-white/90 backdrop-blur-md rounded-lg shadow-xl p-3 lg:p-4 border border-white/30 hero-certificate-card",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 via-transparent to-transparent rounded-lg"}),s.jsxs("div",{className:"relative z-10 flex items-center space-x-2 lg:space-x-3",children:[s.jsx("div",{className:"h-10 w-10 lg:h-12 lg:w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center shadow-lg flex-shrink-0",children:s.jsx(ut,{className:"h-5 w-5 lg:h-6 lg:w-6 text-white"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900 text-sm lg:text-base",children:"Certified Hindu Education"}),s.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Authentic Vedic Learning"})]})]})]})]})]})})]}),s.jsx("section",{id:"courses",className:"section-padding bg-white",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4",children:"Why Choose eYogi Gurukul for Hindu Education?"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"We bridge the gap between ancient Hindu wisdom and modern learning technology, making authentic Vedic knowledge and Sanatan Dharma accessible to everyone, everywhere."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:e.map((a,i)=>s.jsx($,{className:"card-hover text-center glass-card",children:s.jsxs(F,{className:"pt-6 lg:pt-8 px-4 lg:px-6",children:[s.jsx("div",{className:"h-12 w-12 lg:h-16 lg:w-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(a.icon,{className:"h-6 w-6 lg:h-8 lg:w-8 text-white"})}),s.jsx("h3",{className:"text-lg lg:text-xl font-semibold mb-2",children:a.title}),s.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:a.description})]})},i))})]})}),s.jsx("section",{id:"gurukuls",className:"section-padding bg-gray-50",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4",children:"Explore Our Traditional Hindu Gurukuls"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"Each Hindu Gurukul specializes in different aspects of Vedic knowledge and Sanatan Dharma, offering comprehensive Hindu education paths for students of all ages."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((a,i)=>s.jsxs($,{className:"card-hover overflow-hidden",children:[s.jsx("div",{className:"aspect-video overflow-hidden",children:s.jsx("img",{src:a.image,alt:`${a.name} - Traditional Hindu education and Vedic learning center`,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),s.jsxs(F,{className:"p-4 lg:p-6",children:[s.jsx("h3",{className:"text-lg lg:text-xl font-semibold mb-2",children:a.name}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-base",children:a.description}),s.jsxs("div",{className:"flex justify-between items-center mb-4 text-xs lg:text-sm text-gray-500",children:[s.jsxs("span",{children:[a.courses," Hindu Courses"]}),s.jsxs("span",{children:[a.students," Vedic Students"]})]}),s.jsx(Es,{to:`/gurukuls/${a.slug}`,children:s.jsx(I,{variant:"primary",className:"w-full min-h-[44px]",children:"Explore Hindu Gurukul"})})]})]},i))})]})}),s.jsx("section",{id:"about",className:"section-padding bg-white",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"What Our Hindu Education Students Say"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Hear from our global community of Hindu and Vedic learning students"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:n.map((a,i)=>s.jsx($,{className:"card-hover",children:s.jsxs(F,{className:"p-6",children:[s.jsx("div",{className:"flex mb-4",children:[...Array(a.rating)].map((o,l)=>s.jsx(hs,{className:"h-5 w-5 text-yellow-400 fill-current"},l))}),s.jsxs("p",{className:"text-gray-600 mb-4 italic",children:['"',a.content,'"']}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:a.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Hindu Education ",a.role]})]})]})},i))})]})}),s.jsx("section",{id:"contact",className:"section-padding gradient-bg text-white",children:s.jsxs("div",{className:"container-max text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 px-4",children:"Begin Your Hindu Education Journey Today"}),s.jsx("p",{className:"text-base sm:text-lg lg:text-xl mb-6 lg:mb-8 opacity-90 max-w-2xl mx-auto px-4 leading-relaxed",children:"Join thousands of students worldwide in discovering the timeless wisdom of Hindu traditions and Vedic philosophy through our comprehensive Sanatan Dharma courses."}),s.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 sm:flex-row justify-center max-w-sm sm:max-w-none mx-auto px-4",children:[s.jsx(Es,{to:"/auth/signup",className:"w-full sm:w-auto",children:s.jsx(I,{variant:"secondary",size:"lg",className:"bg-white text-orange-600 hover:bg-gray-100 w-full sm:w-auto min-h-[50px] font-semibold text-base px-6 py-3",children:"Start Hindu Learning Free"})}),s.jsx(Es,{to:"/courses",className:"w-full sm:w-auto",children:s.jsx(I,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white hover:text-orange-600 w-full sm:w-auto min-h-[50px] font-semibold text-base px-6 py-3",children:"Browse Hindu Courses"})})]})]})})]}),s.jsx(vn,{})]})}function Q1(){const t=[{icon:md,title:"Authentic Wisdom",description:"We preserve and share the authentic teachings of Sanatana Dharma with respect and accuracy."},{icon:rn,title:"Global Harmony",description:"Building bridges between ancient wisdom and modern life to create peace and understanding."},{icon:We,title:"Inclusive Learning",description:"Welcoming learners from all backgrounds to explore and benefit from Vedic knowledge."},{icon:ut,title:"Excellence in Education",description:"Providing high-quality, structured learning experiences with certified instructors."}],e=[{name:"Dr. Rajesh Sharma",role:"Founder & Chief Academic Officer",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=face",bio:"PhD in Sanskrit Studies with 20+ years of teaching experience in Vedic philosophy."},{name:"Priya Patel",role:"Director of Curriculum",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=300&h=300&fit=crop&crop=face",bio:"Master in Hindu Philosophy, specializing in age-appropriate spiritual education."},{name:"Arjun Kumar",role:"Technology Director",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=300&fit=crop&crop=face",bio:"Expert in educational technology with a passion for making ancient wisdom accessible."}],r=[{number:"1,950+",label:"Students Worldwide"},{number:"63+",label:"Courses Available"},{number:"5",label:"Specialized Gurukuls"},{number:"25+",label:"Expert Teachers"}];return s.jsxs(s.Fragment,{children:[s.jsx($s,{title:"About eYogi Gurukul - Hindu Education & Vedic Learning Mission",description:"Discover eYogi Gurukul's mission to connect ancient Hindu wisdom with modern learning. Learn about our authentic Vedic education approach, expert teachers, and global community of Sanatan Dharma learners.",keywords:["About eYogi Gurukul","Hindu Education Mission","Vedic Learning Philosophy","Sanatan Dharma Education","Hindu Culture Preservation","Vedic Wisdom Sharing","Traditional Hindu Education","Authentic Hindu Teaching","Hindu Heritage Mission","Vedic Knowledge Preservation","Hindu Spiritual Education","Dharma Education Mission","Hindu Values Teaching","Indian Hindu Culture Education","Vedic Tradition Learning"],canonicalUrl:"/about",structuredData:[wr([{name:"Home",url:"/"},{name:"About Hindu Education",url:"/about"}]),{"@context":"https://schema.org","@type":"AboutPage",name:"About eYogi Gurukul - Hindu Education Mission",description:"Learn about eYogi Gurukul's mission to preserve and share authentic Hindu wisdom through modern educational technology.",url:"https://eyogi-gurukul.vercel.app/about",mainEntity:{"@type":"EducationalOrganization",name:"eYogi Gurukul",mission:"To connect ancient Hindu wisdom with modern learning technology, creating eYogis who bridge spiritual science with contemporary life."},about:[{"@type":"Thing",name:"Hindu Education"},{"@type":"Thing",name:"Vedic Learning"},{"@type":"Thing",name:"Sanatan Dharma"},{"@type":"Thing",name:"Hindu Culture Preservation"}]}]}),s.jsxs("div",{children:[s.jsx(yn,{text:"🕉️ About eYogi Gurukul - Bridging Ancient Hindu Wisdom with Modern Learning 🕉️"}),s.jsxs("div",{className:"min-h-screen bg-gray-50 page-with-header",children:[s.jsx("section",{className:"bg-gradient-to-r from-orange-50 to-red-50",children:s.jsx("div",{className:"container-max section-padding",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["About ",s.jsx("span",{className:"gradient-text",children:"eYogi Gurukul"})]}),s.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-8",children:'The "e" in "eYogi Gurukul" connects the ancient Vedic practices of meditation and Spirituality of Hinduism to the modern world of science and globalization. We are dedicated to preserving and sharing the timeless wisdom of Sanatana Dharma through innovative online education.'}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Ee,{to:"/courses",children:s.jsx(I,{size:"lg",children:"Explore Our Courses"})}),s.jsx(Ee,{to:"/contact",children:s.jsx(I,{variant:"outline",size:"lg",children:"Get in Touch"})})]})]})})}),s.jsx("section",{className:"section-padding bg-white",children:s.jsx("div",{className:"container-max",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Mission"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:'An "eYogi" is a practitioner of meditation and Spirituality who connects the ancient science and Spirituality of Sanatana Dharma (Eternal Laws that govern the inner world) to the modern world. eYogis respect other cultures and embrace integration to build peace and harmony in the world.'}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We believe that ancient wisdom has profound relevance in today's world, offering solutions to modern challenges through time-tested principles of dharma, meditation, and spiritual growth."}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:s.jsx(Pe,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Bridging Ancient & Modern"}),s.jsx("p",{className:"text-gray-600",children:"Connecting timeless wisdom with contemporary life"})]})]})]}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:"/ssh-app/Images/Logo.png",alt:"eYogi Gurukul logo - Ancient wisdom meets modern learning",className:"rounded-2xl shadow-2xl object-contain bg-white p-6 logo-pop"})})]})})}),s.jsx("section",{className:"section-padding gradient-bg text-white",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Our Impact"}),s.jsx("p",{className:"text-xl opacity-90",children:"Growing community of learners worldwide"})]}),s.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:r.map((n,a)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:n.number}),s.jsx("div",{className:"text-lg opacity-90",children:n.label})]},a))})]})}),s.jsx("section",{className:"section-padding bg-white",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Values"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The principles that guide our mission to share Vedic wisdom with the world"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((n,a)=>s.jsx($,{className:"text-center card-hover",children:s.jsxs(F,{className:"pt-8",children:[s.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(n.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.title}),s.jsx("p",{className:"text-gray-600",children:n.description})]})},a))})]})}),s.jsx("section",{className:"section-padding",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Meet Our Team"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Dedicated educators and technologists committed to sharing ancient wisdom"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((n,a)=>s.jsx($,{className:"text-center card-hover",children:s.jsxs(F,{className:"pt-8",children:[s.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mx-auto mb-4",children:s.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),s.jsx("h3",{className:"text-xl font-semibold mb-1",children:n.name}),s.jsx("p",{className:"text-orange-600 font-medium mb-3",children:n.role}),s.jsx("p",{className:"text-gray-600 text-sm",children:n.bio})]})},a))})]})}),s.jsx("section",{className:"section-padding bg-white",children:s.jsx("div",{className:"container-max",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Vision for the Future"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We envision a world where ancient wisdom and modern knowledge work together to create a more peaceful, harmonious, and spiritually aware global community. Through education, we aim to bridge cultural divides and foster understanding between different traditions and ways of life."}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mt-12",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rn,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Global Reach"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Making Vedic wisdom accessible to learners worldwide"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(hs,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Excellence"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Maintaining the highest standards in spiritual education"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(md,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Compassion"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Teaching with love, respect, and understanding"})]})]})]})})}),s.jsx("section",{className:"section-padding gradient-bg text-white",children:s.jsxs("div",{className:"container-max text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Join Our Community"}),s.jsx("p",{className:"text-xl mb-8 opacity-90 max-w-2xl mx-auto",children:"Become part of a global community dedicated to learning, growing, and sharing the timeless wisdom of Vedic traditions."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Ee,{to:"/auth/signup",children:s.jsx(I,{variant:"secondary",size:"lg",className:"bg-white text-orange-600 hover:bg-gray-100",children:"Start Learning Today"})}),s.jsx(Ee,{to:"/gurukuls",children:s.jsx(I,{variant:"primary",size:"lg",children:"Explore Gurukuls"})})]})]})})]})]}),s.jsx(vn,{})]})}const e2=It({name:be().min(2,"Name must be at least 2 characters"),email:be().email("Please enter a valid email address"),subject:be().min(5,"Subject must be at least 5 characters"),message:be().min(10,"Message must be at least 10 characters"),type:la(["general","course","technical","partnership"])});function t2(){var d,u,f;const[t,e]=m.useState(!1),{register:r,handleSubmit:n,reset:a,formState:{errors:i}}=Qr({resolver:en(e2),defaultValues:{type:"general"}}),o=async h=>{e(!0);try{await new Promise(g=>setTimeout(g,1e3)),D.success("Message sent successfully! We'll get back to you soon."),a()}catch{D.error("Failed to send message. Please try again.")}finally{e(!1)}},l=[{icon:r1,title:"Email Us",details:"info@eyogigurukul.com",description:"Send us an email anytime"},{icon:k1,title:"Call Us",details:"+353 1 234 5678",description:"Mon-Fri 9AM-6PM IST"},{icon:pm,title:"Visit Us",details:"Dublin, Ireland",description:"European Headquarters"},{icon:vt,title:"Support Hours",details:"24/7 Online",description:"AI chatbot always available"}],c=[{question:"How do I enroll in a course?",answer:'Create an account, browse our courses, and click "Enroll Now" on any course page. Payment and approval processes will guide you through the rest.'},{question:"Are courses suitable for beginners?",answer:"Yes! We offer courses for all levels, from elementary (ages 4-7) to advanced (ages 16-19). Each course clearly indicates its level and prerequisites."},{question:"Do I get a certificate upon completion?",answer:"Yes, all students receive a digital certificate upon successful completion of their courses. Certificates include verification codes for authenticity."},{question:"Can I access courses from anywhere in the world?",answer:"Absolutely! Our online courses are accessible globally. We also offer some hybrid and in-person options in select locations."},{question:"What if I need help during a course?",answer:"Our teachers and support team are always available. You can message instructors directly, use our AI chatbot, or contact support anytime."}];return s.jsxs(s.Fragment,{children:[s.jsx($s,{title:"Contact eYogi Gurukul - Hindu Education Support & Information",description:"Contact eYogi Gurukul for questions about Hindu courses, Vedic education, enrollment, or Sanatan Dharma learning. Get support for your spiritual education journey.",keywords:["Contact Hindu Education","eYogi Gurukul Contact","Hindu Course Support","Vedic Learning Help","Sanatan Dharma Questions","Hindu Education Support","Gurukul Contact Information","Hindu Course Enrollment Help","Vedic Education Inquiry","Hindu Learning Support","Traditional Hindu Education Contact","Hindu Culture Questions"],canonicalUrl:"/contact",structuredData:[wr([{name:"Home",url:"/"},{name:"Contact Hindu Education Support",url:"/contact"}]),{"@context":"https://schema.org","@type":"ContactPage",name:"Contact eYogi Gurukul",description:"Get in touch with eYogi Gurukul for Hindu education support, course information, and Vedic learning assistance.",url:"https://eyogi-gurukul.vercel.app/contact",mainEntity:{"@type":"ContactPoint",telephone:"+353-1-234-5678",email:"info@eyogigurukul.com",contactType:"Customer Service",availableLanguage:["English","Hindi"]}}]}),s.jsxs("div",{children:[s.jsx(yn,{text:"🕉️ Contact eYogi Gurukul - Your Journey to Hindu Wisdom Starts Here 🕉️"}),s.jsxs("div",{className:"min-h-screen bg-gray-50 page-with-header",children:[s.jsx("section",{className:"bg-gradient-to-r from-orange-50 to-red-50",children:s.jsx("div",{className:"container-max section-padding",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Get in ",s.jsx("span",{className:"gradient-text",children:"Touch"})]}),s.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-8",children:"Have questions about our courses, need technical support, or want to learn more about eYogi Gurukul? We're here to help you on your learning journey."})]})})}),s.jsx("section",{className:"section-padding bg-white",children:s.jsx("div",{className:"container-max",children:s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:l.map((h,g)=>s.jsx($,{className:"text-center card-hover",children:s.jsxs(F,{className:"pt-8",children:[s.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(h.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:h.title}),s.jsx("p",{className:"text-orange-600 font-medium mb-1",children:h.details}),s.jsx("p",{className:"text-gray-600 text-sm",children:h.description})]})},g))})})}),s.jsx("section",{className:"section-padding",children:s.jsx("div",{className:"container-max",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[s.jsx("div",{children:s.jsxs($,{children:[s.jsxs(fe,{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qj,{className:"h-6 w-6 text-orange-600"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Send us a Message"})]}),s.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),s.jsx(F,{children:s.jsxs("form",{onSubmit:n(o),className:"flex flex-col gap-8",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(ee,{label:"Full Name",...r("name"),error:(d=i.name)==null?void 0:d.message}),s.jsx(ee,{label:"Email Address",type:"email",...r("email"),error:(u=i.email)==null?void 0:u.message})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Inquiry Type"}),s.jsxs("select",{...r("type"),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[s.jsx("option",{value:"general",children:"General Inquiry"}),s.jsx("option",{value:"course",children:"Course Information"}),s.jsx("option",{value:"technical",children:"Technical Support"}),s.jsx("option",{value:"partnership",children:"Partnership"})]}),i.type&&s.jsx("p",{className:"text-sm text-red-600",children:i.type.message})]}),s.jsx(ee,{label:"Subject",...r("subject"),error:(f=i.subject)==null?void 0:f.message}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),s.jsx("textarea",{...r("message"),rows:5,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",placeholder:"Tell us how we can help you..."}),i.message&&s.jsx("p",{className:"text-sm text-red-600",children:i.message.message})]}),s.jsx(I,{type:"submit",className:"w-full",loading:t,children:"Send Message"})]})})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(ym,{className:"h-6 w-6 text-orange-600"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Frequently Asked Questions"})]}),s.jsx("div",{className:"flex flex-col gap-6",children:c.map((h,g)=>s.jsx($,{className:"card-hover",children:s.jsxs(F,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:h.question}),s.jsx("p",{className:"text-gray-600 text-sm",children:h.answer})]})},g))}),s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Need Immediate Help?"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Our AI chatbot is available 24/7 to answer common questions and provide instant support."}),s.jsx(I,{variant:"outline",size:"sm",children:"Chat with AI Assistant"})]})]})]})})}),s.jsx("section",{className:"section-padding gradient-bg text-white",children:s.jsxs("div",{className:"container-max text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Learning?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90 max-w-2xl mx-auto",children:"Don't wait! Join thousands of students worldwide in discovering the timeless wisdom of Vedic traditions."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(I,{variant:"secondary",size:"lg",className:"bg-white text-orange-600 hover:bg-gray-100",children:"Browse Courses"}),s.jsx(I,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white hover:text-orange-600",children:"Create Account"})]})]})})]})]}),s.jsx(vn,{})]})}async function Fs(t){try{let e=Z.from("courses").select("*");t!=null&&t.gurukul_id&&(e=e.eq("gurukul_id",t.gurukul_id)),t!=null&&t.level&&(e=e.eq("level",t.level)),t!=null&&t.search&&(e=e.or(`title.ilike.%${t.search}%,description.ilike.%${t.search}%`));const{data:r,error:n}=await e.order("created_at",{ascending:!1});return n?(console.error("Error fetching courses:",n),[]):r||[]}catch(e){return console.error("Error fetching courses:",e),[]}}async function Sa(t){try{const{data:e,error:r}=await Z.from("courses").select("*").eq("id",t).single();return r?(console.error("Error fetching course:",r),null):e}catch(e){return console.error("Error fetching course:",e),null}}async function vm(t){try{if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))return Sa(t);const{data:r,error:n}=await Z.from("courses").select("*");if(n)return console.error("Error fetching courses:",n),null;if(!r||r.length===0)return null;const a=r.filter(o=>_h(o)===t);return a.length>1&&console.warn(`Multiple courses found with slug "${t}":`,a.map(o=>o.title)),a[0]||null||null}catch(e){return console.error("Error fetching course by slug:",e),null}}async function s2(t){try{let e=t;if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)){const i=await vm(t);if(!i)return 0;e=i.id}const{count:n,error:a}=await Z.from("enrollments").select("*",{count:"exact",head:!0}).eq("course_id",e).eq("status","active");return a?(console.error("Error fetching enrolled count:",a),0):n||0}catch(e){return console.error("Error fetching enrolled count:",e),0}}async function bm(t){try{const e=crypto.randomUUID(),r=t.slug||va(t.title),n={...t,id:e,slug:r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:i}=await Z.from("courses").insert(n).select().single();if(i)throw console.error("Error creating course:",JSON.stringify(i,null,2)),console.error("Course data:",JSON.stringify(n,null,2)),i;return a}catch(e){throw console.error("Error creating course:",e),e}}async function gd(t,e){try{const{data:r,error:n}=await Z.from("courses").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw console.error("Error updating course:",n),new Error("Failed to update course");return r}catch(r){throw console.error("Error updating course:",r),r}}async function r2(t){try{const{error:e}=await Z.from("courses").delete().eq("id",t);if(e)throw console.error("Error deleting course:",e),new Error("Failed to delete course")}catch(e){throw console.error("Error deleting course:",e),e}}async function n2(t){try{const{data:e,error:r}=await Z.from("courses").select("*").eq("teacher_id",t).order("created_at",{ascending:!1}),{data:n}=await Z.from("profiles").select("teacher_id").eq("id",t).single();let a=[];if(n!=null&&n.teacher_id){const{data:l,error:c}=await Z.from("course_assignments").select(`
          course:courses(*)
        `).eq("teacher_id",n.teacher_id).eq("is_active",!0);!c&&l&&(a=l.map(d=>d.course).filter(Boolean))}const o=[...e||[],...a].filter((l,c,d)=>c===d.findIndex(u=>u.id===l.id));return r&&!(n!=null&&n.teacher_id)?(console.error("Error fetching teacher courses:",r),[]):o}catch(e){return console.error("Error fetching teacher courses:",e),[]}}async function bn(){try{const{data:t,error:e}=await Z.from("gurukuls").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});return e?(console.error("Error fetching gurukuls:",e),[]):t||[]}catch(t){return console.error("Error fetching gurukuls:",t),[]}}async function a2(){try{console.log("Fetching all gurukuls from database...");const{data:t,error:e}=await Z.from("gurukuls").select("*").order("created_at",{ascending:!1});return e?(console.error("Supabase error fetching all gurukuls:",e),[]):(console.log("Raw gurukuls data from Supabase:",t),t||[])}catch(t){return console.error("Exception fetching all gurukuls:",t),[]}}async function i2(t){try{const{data:e,error:r}=await Z.from("gurukuls").select("*").eq("slug",t).eq("is_active",!0).single();return r?(console.error("Error fetching gurukul:",r),null):e}catch(e){return console.error("Error fetching gurukul:",e),null}}async function o2(t){try{const{data:e,error:r}=await Z.from("gurukuls").insert({...t,id:crypto.randomUUID(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(r)throw console.error("Error creating gurukul:",r),new Error("Failed to create gurukul");return e}catch(e){throw console.error("Error creating gurukul:",e),e}}async function pd(t,e){try{const{data:r,error:n}=await Z.from("gurukuls").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw console.error("Error updating gurukul:",n),new Error("Failed to update gurukul");return r}catch(r){throw console.error("Error updating gurukul:",r),r}}async function l2(t){try{const{error:e}=await Z.from("gurukuls").update({is_active:!1}).eq("id",t);if(e)throw console.error("Error deleting gurukul:",e),new Error("Failed to delete gurukul")}catch(e){throw console.error("Error deleting gurukul:",e),e}}function c2(){const[t,e]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(""),[c,d]=m.useState(""),[u,f]=m.useState(""),[h,g]=m.useState("");m.useEffect(()=>{p()},[]);const p=async()=>{try{const[b,N]=await Promise.all([Fs(),bn()]);e(b),n(N)}catch(b){console.error("Error loading data:",b)}finally{i(!1)}},y=t.filter(b=>{const N=b.title.toLowerCase().includes(o.toLowerCase())||b.description.toLowerCase().includes(o.toLowerCase()),_=!c||b.gurukul_id===c,w=!u||b.level===u,v=!h||b.age_group_min<=parseInt(h)&&b.age_group_max>=parseInt(h);return N&&_&&w&&v}),j=[{value:"elementary",label:"Elementary (4-7 years)"},{value:"basic",label:"Basic (8-11 years)"},{value:"intermediate",label:"Intermediate (12-15 years)"},{value:"advanced",label:"Advanced (16-19 years)"}];return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner w-8 h-8 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading courses..."})]})}):s.jsxs(s.Fragment,{children:[s.jsx($s,{title:"Hindu Courses & Vedic Education Programs",description:"Explore comprehensive Hindu education courses covering Vedic philosophy, Sanskrit, mantras, yoga, and Sanatan Dharma. Expert-led online classes for all age groups from traditional Gurukuls.",keywords:["Hindu Courses Online","Vedic Education Programs","Sanatan Dharma Classes","Hindu Philosophy Courses","Sanskrit Courses Online","Hindu Culture Classes","Vedic Studies Courses","Hindu Religion Education","Traditional Hindu Learning","Hindu Spiritual Courses","Dharma Education Classes","Hindu Heritage Courses","Vedic Wisdom Programs","Hindu Online Classes","Indian Hindu Education","Hindu Gurukul Courses","Authentic Hindu Teaching","Hindu Values Education"],canonicalUrl:"/courses",structuredData:[wr([{name:"Home",url:"/"},{name:"Hindu Courses & Vedic Education",url:"/courses"}]),{"@context":"https://schema.org","@type":"CollectionPage",name:"Hindu Courses & Vedic Education Programs",description:"Comprehensive collection of Hindu education courses covering Vedic philosophy, Sanskrit, mantras, yoga, and Sanatan Dharma traditions.",url:"https://eyogi-gurukul.vercel.app/courses",mainEntity:{"@type":"ItemList",name:"Hindu Education Courses",description:"Expert-led courses in Hindu traditions and Vedic learning"}}]}),s.jsxs("div",{children:[s.jsx(yn,{text:"🕉️ Discover Ancient Hindu Wisdom Through Expert-Led Online Courses 🕉️"}),s.jsxs("div",{className:"min-h-screen bg-gray-50 page-with-header",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsxs("div",{className:"container-max section-padding",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Explore Our Courses"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover comprehensive courses in Vedic wisdom, designed for learners of all ages. From ancient philosophy to practical applications in modern life."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search courses...",value:o,onChange:b=>l(b.target.value),className:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3"})]})}),s.jsxs("select",{value:c,onChange:b=>d(b.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[s.jsx("option",{value:"",children:"All Gurukuls"}),r.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]}),s.jsxs("select",{value:u,onChange:b=>f(b.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[s.jsx("option",{value:"",children:"All Levels"}),j.map(b=>s.jsx("option",{value:b.value,children:b.label},b.value))]}),s.jsx("input",{type:"number",placeholder:"Your age",value:h,onChange:b=>g(b.target.value),min:"4",max:"100",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3"})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",y.length," of ",t.length," courses"]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{l(""),d(""),f(""),g("")},children:"Clear Filters"})]})]})]})}),s.jsx("div",{className:"container-max section-padding",children:y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more courses."})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map(b=>{var N;return s.jsxs($,{className:"card-hover overflow-hidden",children:[s.jsx("div",{className:"aspect-video bg-gradient-to-r from-orange-100 to-red-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-white font-bold text-lg",children:b.course_number.slice(-2)})}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:(N=b.gurukul)==null?void 0:N.name})]})}),s.jsxs(F,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx(Re,{className:Os(b.level),children:b.level}),s.jsx("span",{className:"text-sm text-gray-500",children:b.course_number})]}),s.jsx("h3",{className:"text-xl font-semibold mb-2 line-clamp-2",children:b.title}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:b.description}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(We,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Ages ",Zr(b.age_group_min,b.age_group_max)]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:[b.duration_weeks," weeks"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ca,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:hn(b.price)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[b.delivery_method==="remote"&&"🌐 Online",b.delivery_method==="physical"&&"🏫 In-person",b.delivery_method==="hybrid"&&"🔄 Hybrid"]}),s.jsx(Ee,{to:Jr(b),children:s.jsx(I,{size:"sm",children:"View Details"})})]})]})]},b.id)})})})]})]}),s.jsx(vn,{})]})}function d2(){const[t,e]=m.useState([]),[r,n]=m.useState({}),[a,i]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{const[l,c]=await Promise.all([bn(),Fs()]);e(l);const d={};c.forEach(u=>{d[u.gurukul_id]=(d[u.gurukul_id]||0)+1}),n(d)}catch(l){console.error("Error loading data:",l)}finally{i(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner w-8 h-8 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading Gurukuls..."})]})}):s.jsxs(s.Fragment,{children:[s.jsx($s,{title:"Hindu Gurukuls - Traditional Vedic Learning Centers",description:"Explore our 5 specialized Hindu Gurukuls offering authentic Vedic education: Hinduism, Mantra, Philosophy, Sanskrit, and Yoga & Wellness. Traditional Gurukul system meets modern online learning.",keywords:["Hindu Gurukul Online","Vedic Learning Centers","Traditional Hindu Education","Sanatan Dharma Gurukuls","Hindu Philosophy Gurukul","Sanskrit Gurukul Online","Mantra Gurukul","Yoga Gurukul","Hindu Culture Gurukul","Vedic Education Centers","Authentic Hindu Gurukul","Indian Gurukul System","Hindu Heritage Centers","Vedic Wisdom Gurukuls","Hindu Spiritual Centers","Traditional Hindu Schools"],canonicalUrl:"/gurukuls",structuredData:[wr([{name:"Home",url:"/"},{name:"Hindu Gurukuls",url:"/gurukuls"}]),{"@context":"https://schema.org","@type":"CollectionPage",name:"Hindu Gurukuls - Traditional Vedic Learning Centers",description:"Collection of specialized Hindu Gurukuls offering authentic Vedic education in Hinduism, Sanskrit, Philosophy, Mantras, and Yoga.",url:"https://eyogi-gurukul.vercel.app/gurukuls",mainEntity:{"@type":"ItemList",name:"Hindu Gurukuls",numberOfItems:5,itemListElement:[{"@type":"EducationalOrganization",name:"Hinduism Gurukul"},{"@type":"EducationalOrganization",name:"Mantra Gurukul"},{"@type":"EducationalOrganization",name:"Philosophy Gurukul"},{"@type":"EducationalOrganization",name:"Sanskrit Gurukul"},{"@type":"EducationalOrganization",name:"Yoga & Wellness Gurukul"}]}}]}),s.jsxs("div",{children:[s.jsx(yn,{text:"🕉️ Explore Traditional Hindu Gurukuls - Where Ancient Wisdom Meets Modern Learning 🕉️"}),s.jsxs("div",{className:"min-h-screen bg-gray-50 page-with-header",children:[s.jsx("section",{className:"bg-gradient-to-r from-orange-50 to-red-50",children:s.jsx("div",{className:"container-max section-padding",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Explore Our ",s.jsx("span",{className:"gradient-text",children:"Gurukuls"})]}),s.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-8",children:"Each Gurukul specializes in different aspects of Vedic knowledge, offering comprehensive learning paths designed for students of all ages. Discover ancient wisdom through modern, interactive education."}),s.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pe,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{children:"5 Specialized Gurukuls"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{children:"63+ Courses"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(We,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{children:"1,950+ Students"})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-3"}),s.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:t.map(l=>s.jsx(Es,{to:`/gurukuls/${l.slug}`,children:s.jsx(I,{variant:"primary",size:"sm","aria-label":`Explore ${l.name} Gurukul`,className:"shadow-sm",children:l.name})},l.id))})]})]})})}),s.jsx("section",{className:"section-padding",children:s.jsx("div",{className:"container-max",children:s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(l=>s.jsxs($,{className:"card-hover overflow-hidden",children:[s.jsx("div",{className:"aspect-video overflow-hidden",children:s.jsx("img",{src:l.image_url||"https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=600&h=400&fit=crop",alt:l.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),s.jsxs(F,{className:"p-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:l.name}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:l.description}),s.jsxs("div",{className:"flex items-center justify-between mb-6 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pe,{className:"h-4 w-4"}),s.jsxs("span",{children:[r[l.id]||0," Courses"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(We,{className:"h-4 w-4"}),s.jsx("span",{children:"Active Learning"})]})]}),s.jsx(Es,{to:`/gurukuls/${l.slug}`,children:s.jsxs(I,{className:"w-full",children:["Explore Gurukul",s.jsx(Qo,{className:"ml-2 h-4 w-4"})]})})]})]},l.id))})})}),s.jsx("section",{className:"section-padding bg-white",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Our Gurukuls?"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our specialized approach ensures deep, authentic learning in each domain of Vedic knowledge."})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Pe,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Specialized Curriculum"}),s.jsx("p",{className:"text-gray-600",children:"Each Gurukul offers focused, in-depth study of specific aspects of Vedic knowledge."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(We,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Expert Teachers"}),s.jsx("p",{className:"text-gray-600",children:"Learn from qualified instructors with deep knowledge and authentic understanding."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ut,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Certified Learning"}),s.jsx("p",{className:"text-gray-600",children:"Earn certificates upon completion and showcase your achievements in Vedic studies."})]})]})]})}),s.jsx("section",{className:"section-padding gradient-bg text-white",children:s.jsxs("div",{className:"container-max text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Begin Your Journey?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90 max-w-2xl mx-auto",children:"Choose your path of learning and connect with the timeless wisdom of Vedic traditions."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Ee,{to:"/courses",children:s.jsx(I,{variant:"secondary",size:"lg",className:"bg-white text-orange-600 hover:bg-gray-100",children:"Browse All Courses"})}),s.jsx(Ee,{to:"/auth/signup",children:s.jsx(I,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white hover:text-orange-600",children:"Create Account"})})]})]})})]})]}),s.jsx(vn,{})]})}const wm=m.createContext(void 0),jm=()=>{const t=m.useContext(wm);if(t===void 0)throw new Error("usePermissions must be used within a PermissionProvider");return t},u2={super_admin:["users.create","users.read","users.update","users.delete","courses.create","courses.read","courses.update","courses.delete","enrollments.read","enrollments.update","enrollments.approve","certificates.read","certificates.create","certificates.delete","analytics.read","analytics.export","settings.read","settings.update","permissions.read","permissions.update","content.create","content.read","content.update","content.delete","admin.access","admin.dashboard"],admin:["users.create","users.read","users.update","users.delete","courses.create","courses.read","courses.update","courses.delete","enrollments.read","enrollments.update","certificates.read","certificates.create","analytics.read","settings.read","permissions.read","content.create","content.read","content.update","content.delete","admin.access","admin.dashboard"],teacher:["courses.create","courses.read","courses.update","enrollments.read","enrollments.update","certificates.read","certificates.create","users.read","content.create","content.read","content.update","admin.access"],student:["courses.read","enrollments.read","certificates.read","content.read"],parent:["courses.read","enrollments.read","certificates.read","content.read"]},h2=({children:t})=>{const{user:e,profile:r,loading:n}=Mt(),[a,i]=m.useState(!0);m.useEffect(()=>{i(n)},[n]);const o=()=>e&&!r?"super_admin":(r==null?void 0:r.role)||"student",l=()=>{const f=o();return u2[f]||[]},u={canAccess:(f,h)=>{if(e)return!0;const g=`${f}.${h}`;return l().includes(g)},hasAnyPermission:f=>{const h=l();return f.some(g=>h.includes(g))},getUserPermissions:l,isLoading:a};return s.jsx(wm.Provider,{value:u,children:t})},m2=()=>{const{user:t,profile:e}=Mt(),{canAccess:r,getUserPermissions:n}=jm(),a=()=>t&&!e?"super_admin":(e==null?void 0:e.role)||"student";return{getUserRole:a,isStudent:()=>a()==="student",isTeacher:()=>a()==="teacher",isAdmin:()=>{const u=a();return u==="admin"||u==="super_admin"},canAccessAdminConsole:()=>r("admin","access"),shouldShowAnalytics:()=>r("analytics","read"),canAccess:r,getUserPermissions:n}};async function _m(t,e){try{const r=await Sa(t);if(!r)return{canEnroll:!1,missingPrerequisites:{courses:[],skills:[],level:null},message:"Course not found"};const[n,a]=await Promise.all([v2(e),km(e)]);if(!n)return{canEnroll:!1,missingPrerequisites:{courses:[],skills:[],level:null},message:"Student profile not found"};const i={canEnroll:!0,missingPrerequisites:{courses:[],skills:[],level:null},message:"All prerequisites met"},o=a.find(l=>l.course_id===t);if(o)return{canEnroll:!1,missingPrerequisites:{courses:[],skills:[],level:null},message:`Already enrolled in this course (Status: ${o.status})`};if(r.prerequisite_courses&&r.prerequisite_courses.length>0){const l=await f2(r.prerequisite_courses,a);l.length>0&&(i.canEnroll=!1,i.missingPrerequisites.courses=l)}if(r.prerequisite_level){const l=g2(r.prerequisite_level,n);l.meets||(i.canEnroll=!1,i.missingPrerequisites.level={required:r.prerequisite_level,current:l.current})}if(r.prerequisite_skills&&r.prerequisite_skills.length>0){const l=x2(r.prerequisite_skills,n);l.length>0&&(i.canEnroll=!1,i.missingPrerequisites.skills=l)}return i.canEnroll||(i.message=y2(i.missingPrerequisites)),i}catch(r){return console.error("Error checking course prerequisites:",r),{canEnroll:!1,missingPrerequisites:{courses:[],skills:[],level:null},message:"Error checking prerequisites"}}}async function f2(t,e){const r=[];for(const n of t){const a=e.find(o=>o.course_id===n),i=await Sa(n);if(i){if(!a)r.push({id:n,title:i.title,completion_status:"not_enrolled"});else if(a.status!=="completed"){let o;a.status==="pending"?o="pending":a.status==="approved"?o="in_progress":o="not_completed",r.push({id:n,title:i.title,completion_status:o})}}}return r}function g2(t,e){const r=["elementary","basic","intermediate","advanced"],n=r.indexOf(t),a=p2();return{meets:r.indexOf(a)>=n,current:a}}function p2(t){return"elementary"}function x2(t,e){return t}function y2(t){const e=[];if(t.courses.length>0){const r=t.courses.map(n=>{switch(n.completion_status){case"not_enrolled":return`Complete "${n.title}"`;case"pending":return`"${n.title}" enrollment pending approval`;case"in_progress":return`Complete "${n.title}" (currently in progress)`;case"not_completed":return`Complete "${n.title}"`;default:return`Complete "${n.title}"`}});e.push(`Required courses: ${r.join(", ")}`)}return t.skills.length>0&&e.push(`Required skills: ${t.skills.join(", ")}`),t.level&&e.push(`Minimum level required: ${t.level.required} (current: ${t.level.current})`),e.length>0?`Prerequisites not met. ${e.join(". ")}.`:"Prerequisites not met"}async function v2(t){try{const{data:e,error:r}=await Z.from("profiles").select("*").eq("id",t).single();return r?(console.error("Error fetching student profile:",r),null):e}catch(e){return console.error("Error fetching student profile:",e),null}}async function b2(t){try{const e=await Sa(t);if(!e||!e.prerequisite_courses||e.prerequisite_courses.length===0)return[];const{data:r,error:n}=await Z.from("courses").select("*").in("id",e.prerequisite_courses);return n?(console.error("Error fetching prerequisite courses:",n),[]):r||[]}catch(e){return console.error("Error fetching prerequisite courses:",e),[]}}async function Nm(t,e){try{const r=await _m(t,e);if(!r.canEnroll)throw new Error(`Cannot enroll: ${r.message}`);const{data:n,error:a}=await Z.from("enrollments").insert({id:crypto.randomUUID(),course_id:t,student_id:e,status:"pending",enrolled_at:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(a)throw console.error("Error enrolling in course:",a),new Error("Failed to enroll in course");return n}catch(r){throw console.error("Error enrolling in course:",r),r}}async function km(t){try{const{data:e,error:r}=await Z.from("enrollments").select(`
        *,
        courses (*)
      `).eq("student_id",t).order("enrolled_at",{ascending:!1});return r?[]:(e==null?void 0:e.map(a=>({...a,course:a.courses||null})))||[]}catch{return[]}}async function w2(t){try{const{data:e,error:r}=await Z.from("enrollments").select(`
        *,
        courses!inner (*),
        profiles!enrollments_student_id_fkey (*)
      `).eq("courses.teacher_id",t).order("enrolled_at",{ascending:!1});return r?(console.error("Error fetching teacher enrollments:",r),[]):e||[]}catch(e){return console.error("Error fetching teacher enrollments:",e),[]}}async function to(t,e,r){try{const{data:n,error:a}=await Z.from("enrollments").update({status:e,...r,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw console.error("Error updating enrollment status:",a),new Error("Failed to update enrollment status");return n}catch(n){throw console.error("Error updating enrollment status:",n),n}}async function Cm(t,e){try{const{data:r,error:n}=await Z.from("enrollments").update({status:e,updated_at:new Date().toISOString()}).in("id",t).select();if(n)throw console.error("Error bulk updating enrollments:",n),new Error("Failed to bulk update enrollments");return r||[]}catch(r){throw console.error("Error bulk updating enrollments:",r),r}}async function Sm(){try{const{data:t,error:e}=await Z.from("enrollments").select(`
        *,
        courses (*),
        profiles!enrollments_student_id_fkey (*)
      `).order("enrolled_at",{ascending:!1});return e?(console.error("Error fetching all enrollments:",e),[]):t||[]}catch(t){return console.error("Error fetching all enrollments:",t),[]}}async function j2(t){try{const{data:e,error:r}=await Z.from("certificates").select(`
        *,
        courses (*),
        profiles!certificates_student_id_fkey (*)
      `).eq("student_id",t).order("issued_at",{ascending:!1});return r?(console.error("Error fetching student certificates:",r),[]):e||[]}catch(e){return console.error("Error fetching student certificates:",e),[]}}async function el(t){var e,r;try{const{data:n,error:a}=await Z.from("enrollments").select(`
        *,
        courses (*),
        profiles!enrollments_student_id_fkey (*)
      `).eq("id",t).single();if(a||!n)throw new Error("Enrollment not found");if(n.status!=="completed")throw new Error("Can only issue certificates for completed courses");const{data:i}=await Z.from("certificates").select("id").eq("enrollment_id",t).single();if(i)throw new Error("Certificate already issued for this enrollment");const o=`CERT-${Date.now()}`,l=Math.random().toString(36).substr(2,9).toUpperCase(),{data:c,error:d}=await Z.from("certificates").insert({id:crypto.randomUUID(),enrollment_id:t,student_id:n.student_id,course_id:n.course_id,certificate_number:o,template_id:"default-template",issue_date:new Date().toISOString(),issued_by:"system",verification_code:l,certificate_data:{student_name:(e=n.profiles)==null?void 0:e.full_name,course_title:(r=n.courses)==null?void 0:r.title,completion_date:n.completed_at||new Date().toISOString()},file_url:`https://certificates.eyogigurukul.com/${o}.pdf`,created_at:new Date().toISOString()}).select().single();if(d)throw console.error("Error issuing certificate:",d),new Error("Failed to issue certificate");return await Z.from("enrollments").update({certificate_issued:!0,certificate_url:c.file_url,updated_at:new Date().toISOString()}).eq("id",t),c}catch(n){throw console.error("Error issuing certificate:",n),n}}async function so(t){const e=[];for(const r of t)try{const n=await el(r);e.push(n)}catch(n){console.error(`Failed to issue certificate for enrollment ${r}:`,n)}return e}class _2{constructor(){this.studentKeywords=["my course","my enrollment","my certificate","my progress","my dashboard","i enrolled","i completed","my student id","my grades","my assignments"],this.parentKeywords=["my child","my daughter","my son","for my kid","child safety","parent portal","guardian","family","age appropriate","supervision"],this.teacherKeywords=["my students","teaching","curriculum","lesson plan","grading","classroom","instructor","pedagogy","assessment","student progress"],this.prospectiveKeywords=["how to enroll","course fees","admission","requirements","application","interested in","want to join","thinking about","considering","pricing"]}detectPersona(e,r){const n=e.toLowerCase();if(r){if(r.role==="student")return this.containsKeywords(n,this.studentKeywords),"student";if(r.role==="teacher"||r.role==="admin")return"teacher"}return this.containsKeywords(n,this.parentKeywords)?"parent":this.containsKeywords(n,this.teacherKeywords)?"teacher":this.containsKeywords(n,this.prospectiveKeywords)?"prospective_student":this.containsKeywords(n,this.studentKeywords)?"student":"general_visitor"}containsKeywords(e,r){return r.some(n=>e.includes(n))}getPersonaContext(e){return{student:"You are speaking with a current student who is enrolled in courses.",parent:"You are speaking with a parent or guardian inquiring about courses for their child.",teacher:"You are speaking with an instructor or educator.",prospective_student:"You are speaking with someone interested in enrolling in courses.",general_visitor:"You are speaking with a general visitor exploring the platform."}[e]}}class N2{constructor(){this.intentPatterns={course_inquiry:["what courses","available courses","course catalog","course list","subjects offered","what can i learn","course options","curriculum","syllabus","course content","hinduism course","sanskrit course","mantra course","philosophy course","yoga course"],enrollment_process:["how to enroll","enrollment process","register for course","sign up for","join course","admission process","application","how to apply","enrollment steps"],gurukul_information:["what is gurukul","gurukul information","different gurukuls","gurukul types","hinduism gurukul","mantra gurukul","philosophy gurukul","sanskrit gurukul","yoga gurukul","about gurukuls","gurukul details"],pricing_fees:["course fees","pricing","cost","how much","price","payment","tuition","fee structure","course cost","enrollment fee","charges","money"],certificate_info:["certificate","certification","diploma","completion certificate","how to get certificate","certificate requirements","digital certificate","certificate download","verify certificate"],technical_support:["technical issue","login problem","website not working","bug","error","cant access","password reset","account locked","technical help"],contact_info:["contact","phone number","email address","office location","address","how to reach","customer service","support team","get in touch"],about_eyogi:["about eyogi","what is eyogi","eyogi mission","company information","history","founders","vision","values","about us","organization"],student_progress:["my progress","my grades","my courses","my enrollment","my certificate","course progress","completion status","my dashboard","my account"],schedule_classes:["class schedule","when are classes","class timing","timetable","class calendar","next class","upcoming classes","session timing"],payment_issues:["payment failed","payment problem","refund","billing issue","transaction failed","payment not processed","invoice","receipt"],age_appropriate:["age group","suitable for age","age appropriate","for children","for kids","for teens","for adults","age requirements","minimum age"],teacher_info:["teacher information","instructor details","who teaches","teacher qualifications","faculty","teaching staff","instructor profile","teacher experience"],platform_features:["platform features","how it works","website features","learning platform","online learning","digital classroom","virtual learning","e-learning"],greeting:["hello","hi","hey","good morning","good afternoon","good evening","namaste","greetings","howdy","what's up"],goodbye:["goodbye","bye","see you","thanks","thank you","that's all","no more questions","end chat","exit","close"],did_you_know:["did you know","tell me something interesting","fun fact","interesting fact","teach me something","share knowledge","random fact","cool fact","something about","fact about","tell me about","interesting thing","knowledge","wisdom","learn something new","surprise me","educational fact","vedic fact","hindu fact","sanskrit fact","yoga fact","philosophy fact","mantra fact","spiritual fact"],general_question:["help","information","tell me","explain","what","how","why","when","where"]}}classifyIntent(e,r){const n=e.toLowerCase(),a={};Object.entries(this.intentPatterns).forEach(([u,f])=>{let h=0;f.forEach(g=>{n.includes(g)&&(h+=this.calculatePatternScore(g,n))}),a[u]=h}),this.applyPersonaWeighting(a,r,n);const i=Object.entries(a).sort(([,u],[,f])=>f-u).filter(([,u])=>u>0);if(i.length===0)return{intent:"general_question",confidence:.5};const[o,l]=i[0],c=Math.min(l/10,1),d=this.extractEntities(e,o);return{intent:o,confidence:c,entities:d}}calculatePatternScore(e,r){const n=e.split(" ");let a=0;return n.forEach(i=>{r.includes(i)&&(a+=i.length>3?2:1)}),r.includes(e)&&(a+=3),a}applyPersonaWeighting(e,r,n){switch(r){case"student":e.student_progress*=1.5,e.certificate_info*=1.3,e.schedule_classes*=1.3;break;case"parent":e.age_appropriate*=1.5,e.pricing_fees*=1.3,e.contact_info*=1.2;break;case"teacher":e.platform_features*=1.3,e.technical_support*=1.2;break;case"prospective_student":e.enrollment_process*=1.5,e.pricing_fees*=1.4,e.course_inquiry*=1.3;break}}extractEntities(e,r){const n={},a=e.toLowerCase(),i=e.match(/[CM]\d{4}/g);i&&(n.course_number=i[0]),["hinduism","mantra","philosophy","sanskrit","yoga"].forEach(d=>{a.includes(d)&&(n.gurukul=d)});const l=e.match(/(\d+)\s*(?:years?\s*old|age)/i);return l&&(n.age=l[1]),["elementary","basic","intermediate","advanced"].forEach(d=>{a.includes(d)&&(n.level=d)}),n}}class k2{constructor(){this.knowledgeBase=[],this.initializeKnowledgeBase()}initializeKnowledgeBase(){this.knowledgeBase=[{id:"about-eyogi-1",type:"general_info",title:"What is eYogi Gurukul?",content:'eYogi Gurukul is an innovative online educational platform that connects ancient Vedic wisdom with modern learning methods. The "e" in eYogi represents the bridge between traditional Gurukul education and digital technology. We offer comprehensive courses in Hindu philosophy, Sanskrit, mantras, yoga, and spiritual practices for students of all ages.',keywords:["eyogi","gurukul","about","mission","vision","vedic","ancient wisdom"],category:"about"},{id:"about-eyogi-2",type:"general_info",title:"eYogi Mission and Vision",content:"Our mission is to preserve and share authentic Vedic knowledge through modern educational technology. We believe in creating eYogis - practitioners who connect ancient spiritual science with contemporary life, fostering peace and harmony globally while respecting all cultures.",keywords:["mission","vision","eyogi","vedic knowledge","spiritual","peace","harmony"],category:"about"},{id:"enrollment-1",type:"faq",title:"How to Enroll in Courses",content:`To enroll in courses: 1) Create an account on our platform, 2) Browse available courses by age group and interest, 3) Click "Enroll Now" on your chosen course, 4) Complete payment process, 5) Wait for teacher approval (usually within 24 hours), 6) Access your course materials in the student dashboard.

🔗 **Quick Links:** [Create Account](/auth/signup) • [Browse Courses](/courses) • [Sign In](/auth/signin)`,keywords:["enroll","enrollment","register","sign up","join course","admission"],category:"enrollment"},{id:"enrollment-2",type:"faq",title:"Enrollment Requirements",content:"Most courses have minimal requirements. Age-appropriate courses are available from 4 years to adult learners. For students under 18, parent/guardian consent is required. Some advanced courses may require completion of prerequisite courses.",keywords:["requirements","prerequisites","age","consent","guardian","parent"],category:"enrollment"},{id:"courses-1",type:"general_info",title:"Course Structure and Levels",content:`Our courses are structured in 4 levels: Elementary (4-7 years), Basic (8-11 years), Intermediate (12-15 years), and Advanced (16-19 years). Each course typically runs for 4-8 weeks with weekly classes. Course numbers follow the format: Elementary (000-999), Basic (1000-1999), Intermediate (2000-2999), Advanced (3000-3999).

🔗 **Explore:** [View All Courses](/courses) • [Filter by Level](/courses?level=basic)`,keywords:["course structure","levels","elementary","basic","intermediate","advanced","age groups"],category:"courses"},{id:"courses-2",type:"general_info",title:"Course Delivery Methods",content:"We offer three delivery methods: Remote (online classes via video conferencing), Physical (in-person classes at select locations), and Hybrid (combination of online and in-person sessions). Most courses are delivered remotely to accommodate global students.",keywords:["delivery","online","remote","physical","hybrid","video","in-person"],category:"courses"},{id:"gurukul-hinduism",type:"gurukul",title:"Hinduism Gurukul",content:`The Hinduism Gurukul offers comprehensive courses on Hindu traditions, philosophy, festivals, and practices. Students learn about dharma, karma, meditation, sacred texts, and how to apply ancient wisdom in modern life. Courses range from basic concepts for children to advanced philosophical studies.

🔗 [Explore Hinduism Gurukul](/gurukuls/hinduism)`,keywords:["hinduism","hindu","dharma","karma","meditation","festivals","traditions"],category:"gurukuls"},{id:"gurukul-mantra",type:"gurukul",title:"Mantra Gurukul",content:`The Mantra Gurukul focuses on the sacred science of mantras. Students learn proper pronunciation, meanings, and the transformative power of sacred sounds. Courses cover basic mantras for beginners to advanced mantra meditation practices.

🔗 [Explore Mantra Gurukul](/gurukuls/mantra)`,keywords:["mantra","sacred sounds","pronunciation","meditation","chanting","sanskrit mantras"],category:"gurukuls"},{id:"gurukul-philosophy",type:"gurukul",title:"Philosophy Gurukul",content:`The Philosophy Gurukul explores ancient philosophical traditions and their relevance to modern life. Students study different schools of Hindu philosophy, ethics, metaphysics, and practical wisdom for spiritual growth and daily living.

🔗 [Explore Philosophy Gurukul](/gurukuls/philosophy)`,keywords:["philosophy","philosophical","ethics","metaphysics","wisdom","spiritual growth"],category:"gurukuls"},{id:"gurukul-sanskrit",type:"gurukul",title:"Sanskrit Gurukul",content:`The Sanskrit Gurukul offers structured programs to master the sacred language of Sanskrit. From alphabet and basic grammar to reading ancient texts, students develop proficiency in this foundational language of Vedic literature.

🔗 [Explore Sanskrit Gurukul](/gurukuls/sanskrit)`,keywords:["sanskrit","language","alphabet","grammar","devanagari","ancient texts"],category:"gurukuls"},{id:"gurukul-yoga",type:"gurukul",title:"Yoga & Wellness Gurukul",content:`The Yoga & Wellness Gurukul integrates physical, mental, and spiritual wellness through traditional yoga practices. Students learn asanas, pranayama, meditation, and holistic health approaches based on ancient Ayurvedic principles.

🔗 [Explore Yoga & Wellness Gurukul](/gurukuls/yoga-wellness)`,keywords:["yoga","wellness","asanas","pranayama","meditation","ayurveda","health"],category:"gurukuls"},{id:"certificates-1",type:"faq",title:"Certificate Information",content:`All students receive digital certificates upon successful course completion. Certificates include verification codes for authenticity, can be downloaded as PDF, and shared on social media. Certificates are issued by qualified teachers and include course details, completion date, and student information.

🔗 **For Students:** [View My Certificates](/dashboard/student#certificates)`,keywords:["certificate","certification","digital certificate","verification","download","authentic"],category:"certificates"},{id:"pricing-1",type:"faq",title:"Course Pricing Structure",content:`Course fees vary by level and duration. Elementary courses start from €35, Basic courses from €50, Intermediate from €75, and Advanced from €100. We offer family discounts for multiple enrollments and early bird pricing for advance bookings.

🔗 **View Pricing:** [Browse Courses with Prices](/courses) • [Contact for Discounts](/contact)`,keywords:["pricing","fees","cost","elementary","basic","intermediate","advanced","discount"],category:"pricing"},{id:"contact-1",type:"general_info",title:"Contact Information",content:"You can reach us at info@eyogigurukul.com or call +353 1 234 5678 (Mon-Fri 9AM-6PM IST). Our headquarters is located in Dublin, Ireland. For immediate assistance, use our AI chatbot available 24/7 or submit a contact form on our website.",keywords:["contact","email","phone","address","dublin","ireland","support"],category:"contact"},{id:"tech-support-1",type:"faq",title:"Common Technical Issues",content:"For login issues, try resetting your password. If you can't access courses, check your enrollment status in the dashboard. For video playback issues, ensure stable internet connection. Contact technical support at support@eyogigurukul.com for persistent issues.",keywords:["technical","login","password","access","video","internet","support"],category:"technical"},{id:"did-you-know-1",type:"general_info",title:"Educational Facts Database",content:"I have access to over 1000 fascinating facts about Vedic wisdom, ancient knowledge, Sanskrit, Yoga, Hindu philosophy, mantras, festivals, and spiritual practices. You can ask me for facts about specific topics or request random interesting knowledge to expand your understanding!",keywords:["did you know","facts","knowledge","wisdom","interesting","educational","learn"],category:"education"}]}async search(e,r){await new Promise(i=>setTimeout(i,200));const n=e.toLowerCase().split(" "),a=[];this.knowledgeBase.forEach(i=>{let o=0;i.keywords.forEach(l=>{e.toLowerCase().includes(l)&&(o+=l.length>5?3:2)}),n.forEach(l=>{l.length>2&&i.content.toLowerCase().includes(l)&&(o+=1)}),n.forEach(l=>{l.length>2&&i.title.toLowerCase().includes(l)&&(o+=3)}),this.isIntentRelevant(r,i.category)&&(o*=1.5),o>0&&a.push({type:i.type,title:i.title,content:i.content,relevanceScore:o,metadata:{category:i.category,id:i.id}})});try{const i=await Fs(),o=await bn();i.forEach(l=>{let c=0;n.forEach(d=>{d.length>2&&(l.title.toLowerCase().includes(d)&&(c+=3),l.description.toLowerCase().includes(d)&&(c+=2),l.course_number.toLowerCase().includes(d)&&(c+=4),l.level.toLowerCase().includes(d)&&(c+=2))}),c>0&&a.push({type:"course",title:l.title,content:`${l.description} (Course: ${l.course_number}, Level: ${l.level}, Duration: ${l.duration_weeks} weeks, Fee: €${l.price})`,relevanceScore:c,metadata:{course:l,category:"courses"}})}),o.forEach(l=>{let c=0;n.forEach(d=>{d.length>2&&(l.name.toLowerCase().includes(d)&&(c+=3),l.description.toLowerCase().includes(d)&&(c+=2),l.slug.toLowerCase().includes(d)&&(c+=2))}),c>0&&a.push({type:"gurukul",title:l.name,content:l.description,relevanceScore:c,metadata:{gurukul:l,category:"gurukuls"}})})}catch(i){console.error("Error searching live data:",i)}return a.sort((i,o)=>o.relevanceScore-i.relevanceScore).slice(0,5)}isIntentRelevant(e,r){var a;return((a={course_inquiry:["courses","gurukuls"],enrollment_process:["enrollment","courses"],gurukul_information:["gurukuls"],pricing_fees:["pricing","courses"],certificate_info:["certificates"],technical_support:["technical"],contact_info:["contact"],about_eyogi:["about"],did_you_know:["education","about"]}[e])==null?void 0:a.includes(r))||!1}}class Em{constructor(){this.facts=[],this.initializeFacts()}initializeFacts(){this.facts=[{id:"fact-1",content:'The word "Guru" comes from Sanskrit meaning "dispeller of darkness" - Gu (darkness) + Ru (to remove). A Guru guides students from ignorance to knowledge! 🌟',category:"hinduism",intent:["gurukul_information","about_eyogi","course_inquiry"],persona:["student","prospective_student","general_visitor"]},{id:"fact-2",content:"Sanskrit has 54 letters in its alphabet, and each letter is believed to have a specific vibration that affects consciousness when pronounced correctly! 🕉️",category:"sanskrit",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-3",content:"The ancient Gurukul system was the world's first residential university system, where students lived with their teachers and learned through practical experience! 🏫",category:"education",intent:["about_eyogi","gurukul_information"],persona:["parent","general_visitor","prospective_student"]},{id:"fact-4",content:`Yoga means "union" in Sanskrit - the union of individual consciousness with universal consciousness. It's much more than physical exercise! 🧘‍♀️`,category:"yoga",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-5",content:"The Om symbol (🕉️) represents the sound of the universe and contains three curves representing waking, dreaming, and deep sleep states of consciousness!",category:"symbols",intent:["course_inquiry","about_eyogi"],persona:["student","prospective_student","general_visitor"]},{id:"fact-6",content:"Studies show that learning ancient languages like Sanskrit can improve memory, concentration, and cognitive function in children! 🧠",category:"learning",intent:["course_inquiry","age_appropriate"],persona:["parent","student"]},{id:"fact-7",content:"The traditional Gurukul education emphasized character building alongside academic learning - a holistic approach we maintain in our online courses! ✨",category:"education",intent:["about_eyogi","course_inquiry"],persona:["parent","general_visitor"]},{id:"fact-8",content:"Mantras are not just words - they are sound formulas that create specific vibrations in the mind and body, promoting healing and spiritual growth! 🎵",category:"mantras",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-9",content:`The concept of "Dharma" doesn't just mean religion - it means righteous living, duty, and the natural order that maintains harmony in the universe! ⚖️`,category:"philosophy",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-10",content:"Ancient Indian mathematics gave the world the concept of zero, decimal system, and many algebraic principles that form the foundation of modern mathematics! 🔢",category:"mathematics",intent:["course_inquiry","about_eyogi"],persona:["student","parent","general_visitor"]},{id:"fact-11",content:"Diwali, the Festival of Lights, symbolizes the victory of light over darkness and knowledge over ignorance - core principles we teach in our courses! 🪔",category:"festivals",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-12",content:"The lotus flower is sacred in Hinduism because it grows from muddy water yet remains pure and beautiful - symbolizing spiritual growth through life's challenges! 🪷",category:"symbols",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-13",content:"Ayurveda, the ancient science of life, recognizes that each person has a unique constitution and requires personalized approaches to health and wellness! 🌿",category:"ayurveda",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-14",content:"The ancient text Bhagavad Gita is considered one of the world's greatest philosophical works, offering practical wisdom for ethical living and spiritual growth! 📖",category:"texts",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-15",content:"Meditation has been practiced for over 5,000 years and modern science now confirms its benefits for stress reduction, focus, and emotional well-being! 🧘",category:"meditation",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-16",content:"Our platform uses AI to personalize learning paths, ensuring each student receives content appropriate for their age, level, and learning style! 🤖",category:"technology",intent:["platform_features","about_eyogi"],persona:["parent","general_visitor","prospective_student"]},{id:"fact-17",content:"Students from over 25 countries have joined our global eYogi community, creating a diverse learning environment that enriches everyone's experience! 🌍",category:"community",intent:["about_eyogi","platform_features"],persona:["prospective_student","parent","general_visitor"]},{id:"fact-18",content:"Our unique Student ID system (EYG-YEAR-XXXX) ensures each learner has a permanent identity that tracks their entire educational journey with us! 🆔",category:"platform",intent:["student_progress","enrollment_process"],persona:["student","parent"]},{id:"fact-19",content:"We offer courses in three delivery methods - online, in-person, and hybrid - to accommodate different learning preferences and global accessibility! 💻",category:"delivery",intent:["course_inquiry","platform_features"],persona:["prospective_student","parent"]},{id:"fact-20",content:"Our teachers are certified experts with deep knowledge of Vedic traditions, ensuring authentic and accurate transmission of ancient wisdom! 👨‍🏫",category:"teachers",intent:["teacher_info","about_eyogi"],persona:["parent","prospective_student"]},{id:"fact-21",content:"Children as young as 4 can start learning basic concepts through stories, songs, and interactive activities designed specifically for their developmental stage! 👶",category:"age_learning",intent:["age_appropriate","course_inquiry"],persona:["parent"]},{id:"fact-22",content:"Teenagers often find ancient philosophy surprisingly relevant to modern challenges like stress, relationships, and finding life purpose! 🧠",category:"age_learning",intent:["age_appropriate","course_inquiry"],persona:["parent","prospective_student"]},{id:"fact-23",content:"Adult learners bring life experience that enriches philosophical discussions, making our courses valuable for lifelong learning! 👩‍🎓",category:"age_learning",intent:["age_appropriate","course_inquiry"],persona:["prospective_student","general_visitor"]},{id:"fact-24",content:'The concept of "Vasudhaiva Kutumbakam" means "the world is one family" - a principle that guides our inclusive, global approach to education! 🌏',category:"philosophy",intent:["about_eyogi","gurukul_information"],persona:["general_visitor","prospective_student"]},{id:"fact-25",content:"Pranayama (breathing exercises) can be practiced by anyone and has immediate benefits for stress relief and mental clarity! 🌬️",category:"yoga",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-26",content:'The ancient Indian concept of "Ahimsa" (non-violence) influenced great leaders like Mahatma Gandhi and Martin Luther King Jr.! ✌️',category:"philosophy",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-27",content:"Sanskrit is considered the mother of many languages and has influenced vocabulary in English, German, Latin, and other Indo-European languages! 🗣️",category:"sanskrit",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-28",content:"The practice of meditation can physically change brain structure, increasing gray matter in areas associated with learning and memory! 🧠",category:"meditation",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-29",content:"Ancient Indian astronomy accurately calculated the Earth's circumference, the speed of light, and planetary movements thousands of years ago! 🌟",category:"science",intent:["course_inquiry","about_eyogi"],persona:["student","prospective_student","general_visitor"]},{id:"fact-30",content:`The concept of "Karma" is often misunderstood - it's not about punishment but about the natural law of cause and effect in moral actions! ⚖️`,category:"philosophy",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-31",content:"The ancient Indian mathematician Aryabhata calculated the value of π (pi) to four decimal places in 499 CE, centuries before European mathematicians! 🔢",category:"science",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student","general_visitor"]},{id:"fact-32",content:'The word "Guru" literally means "from darkness to light" - Gu (darkness) + Ru (light). A true Guru illuminates the path of knowledge! 💡',category:"education",intent:["gurukul_information","did_you_know"],persona:["student","prospective_student","parent"]},{id:"fact-33",content:"Yoga has 84 classic asanas (poses), each designed to benefit specific organs and energy centers in the body! 🧘‍♀️",category:"yoga",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student"]},{id:"fact-34",content:'The Vedic chant "Asato Ma Sad Gamaya" means "Lead me from falsehood to truth, from darkness to light, from death to immortality" 🌟',category:"mantras",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student","general_visitor"]},{id:"fact-35",content:"Ancient Indian texts described the concept of multiple universes (multiverse) thousands of years before modern physics! 🌌",category:"science",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student","general_visitor"]}],this.generateAdditionalFacts()}generateAdditionalFacts(){const e=["hinduism","sanskrit","yoga","philosophy","mantras","festivals","science","culture"],r=this.facts.length;for(let n=r;n<1e3;n++){const a=e[n%e.length];this.facts.push({id:`fact-${n+1}`,content:this.generateFactByCategory(a,n),category:a,intent:["course_inquiry","gurukul_information","general_question"],persona:["student","prospective_student","general_visitor","parent"]})}}generateFactByCategory(e,r){const n={hinduism:["Hinduism is one of the world's oldest religions, with traditions dating back over 4,000 years! 🕉️",'The concept of "Namaste" means "the divine in me honors the divine in you" - a beautiful way to greet others! 🙏',"Hindu festivals are based on lunar calendars and celebrate the cycles of nature and spiritual significance! 🌙","The Vedas are among the oldest sacred texts in the world, containing profound wisdom about life and spirituality! 📜"],sanskrit:["Sanskrit has the most systematic grammar of any language, with rules codified by the ancient grammarian Panini! 📚",'Many English words come from Sanskrit, including "avatar," "karma," "yoga," and "mantra"! 🔤',"Sanskrit literature includes the world's longest epic poems - the Mahabharata and Ramayana! 📖","Learning Sanskrit can improve logical thinking and linguistic skills in any language! 🧠"],yoga:['The word "Yoga" comes from the Sanskrit root "yuj" meaning to unite or join! 🤝',"There are eight limbs of yoga, with physical postures (asanas) being just one aspect! 🧘","Pranayama (breathing exercises) can instantly calm the nervous system and reduce stress! 🌬️","Yoga was originally developed as a spiritual practice to prepare the body for meditation! ✨"],philosophy:["Hindu philosophy includes six major schools of thought, each offering unique perspectives on reality! 🤔",'The concept of "Dharma" varies for each individual based on their stage of life and circumstances! 🌱',"Ancient Indian philosophers debated questions about consciousness that modern neuroscience is still exploring! 🧠",'The principle of "Ahimsa" (non-violence) extends beyond physical harm to thoughts and words! ☮️'],mantras:["The Gayatri Mantra is considered the most powerful mantra and is chanted by millions daily! 🌅","Mantras work through sound vibration, which can affect brainwaves and emotional states! 🎵","Each Sanskrit syllable in a mantra has a specific meaning and vibrational quality! 🔊","Regular mantra practice can improve concentration, reduce anxiety, and promote inner peace! 🕊️"],festivals:["Holi, the festival of colors, celebrates the arrival of spring and the triumph of good over evil! 🌈","Diwali lights represent the inner light that protects from spiritual darkness! 🪔","Navratri celebrates the divine feminine energy and lasts for nine nights! 💃","Each Hindu festival has deep spiritual significance beyond the celebrations! 🎉"],science:["Ancient Indian texts described atomic theory thousands of years before modern science! ⚛️","The concept of infinity (♾️) was first mathematically described in ancient Indian texts!","Ayurveda identified the connection between mind and body health 5,000 years ago! 🌿","Ancient Indian astronomers calculated planetary movements with remarkable accuracy! 🌌"],culture:['The greeting "Namaste" is a complete philosophy of respect and recognition of divinity in others! 🙏',"Indian classical music is based on ragas that are designed to evoke specific emotions and spiritual states! 🎶",'The concept of "Seva" (selfless service) is considered one of the highest spiritual practices! 🤲',"Traditional Indian art and architecture incorporate sacred geometry and spiritual symbolism! 🏛️"]},a=n[e]||n.hinduism;return a[r%a.length]}getRandomFact(e,r){let n=this.facts;e&&(n=n.filter(i=>i.intent.includes(e)||i.intent.includes("general_question"))),r&&(n=n.filter(i=>i.persona.includes(r)||i.persona.includes("general_visitor"))),n.length===0&&(n=this.facts);const a=Math.floor(Math.random()*n.length);return n[a].content}getFactsByCategory(e){return this.facts.filter(r=>r.category===e).map(r=>r.content)}getAllCategories(){const e=new Set(this.facts.map(r=>r.category));return Array.from(e)}getFactsCount(){return this.facts.length}searchFacts(e,r=5){const n=e.toLowerCase().split(" "),a=[];return this.facts.forEach(i=>{let o=0;const l=i.content.toLowerCase();n.forEach(c=>{c.length>2&&(l.includes(c)&&(o+=c.length>5?3:2),i.category.toLowerCase().includes(c)&&(o+=4))}),e.toLowerCase().includes(i.category)&&(o+=5),n.forEach(c=>{i.intent.forEach(d=>{d.includes(c)&&(o+=2)}),i.persona.forEach(d=>{d.includes(c)&&(o+=1)})}),o>0&&a.push({content:i.content,category:i.category,relevanceScore:o})}),a.sort((i,o)=>o.relevanceScore-i.relevanceScore).slice(0,r)}getFactsByQuery(e){return this.searchFacts(e,3).map(n=>n.content)}getRandomFactsByCategory(e,r=3){return this.facts.filter(i=>i.category===e).sort(()=>.5-Math.random()).slice(0,r).map(i=>i.content)}}class C2{constructor(){this.responseTemplates={greeting:{student:["🙏 Namaste! Welcome back to your learning journey! How can I help you today?","Hello there! Ready to explore some amazing Vedic wisdom? What would you like to know?","Hi! Great to see you here. I'm excited to help you with your learning adventure! ✨"],parent:["🙏 Namaste! I'm here to help you find the perfect learning experience for your child. What can I assist you with?","Hello! I'd be happy to help you explore our age-appropriate courses and answer any questions about your child's learning journey.","Hi there! As a parent, you want the best education for your child. Let me help you discover our wonderful courses! 👨‍👩‍👧‍👦"],prospective_student:["🙏 Welcome to eYogi Gurukul! I'm excited to help you discover the perfect course for your learning journey. What interests you most?","Hello! Ready to explore ancient wisdom through modern learning? I'm here to guide you through our amazing course offerings! ✨","Hi! Welcome to our community of learners. Let me help you find the perfect Gurukul and course for your interests! 🌟"],general_visitor:["🙏 Namaste! Welcome to eYogi Gurukul. I'm here to answer any questions about our platform, courses, or Vedic education. How can I help?","Hello! Thanks for visiting eYogi Gurukul. I'd love to help you learn more about our unique approach to ancient wisdom education!","Hi there! Curious about Vedic learning? I'm here to share information about our courses, Gurukuls, and educational philosophy! 🕉️"]},did_you_know:{student:["🌟 I love sharing fascinating knowledge! Here are some amazing facts that will expand your understanding:","✨ Ready for some mind-blowing wisdom? Let me share some incredible facts with you:","🧠 Time for some knowledge expansion! Here are some fascinating discoveries:"],parent:["📚 I'd be delighted to share some educational facts that you and your child might find interesting:","🌟 Here are some wonderful facts about Vedic wisdom that make great conversation starters with children:","✨ Let me share some amazing knowledge that showcases the depth of our educational content:"],prospective_student:["🎓 Here are some incredible facts that showcase the depth and richness of what you'll learn with us:","🌟 Let me share some fascinating knowledge that demonstrates the value of Vedic education:","✨ Ready to be amazed? Here are some mind-expanding facts about ancient wisdom:"],general_visitor:["🕉️ I'd love to share some fascinating facts about Vedic wisdom and ancient knowledge:","🌟 Here are some incredible discoveries that showcase the depth of ancient Indian knowledge:","✨ Let me share some amazing facts that will give you a taste of what we teach:"]},course_inquiry:{student:["Great question about our courses! Based on your profile, here are some perfect matches for you:","I'd love to help you find the ideal course! Let me share some options that align with your learning level:","Excellent! Let me guide you through our course offerings that would be perfect for your learning journey:"],parent:["I understand you want the best learning experience for your child. Here are age-appropriate courses I recommend:","As a parent, you'll appreciate our carefully designed age-specific curriculum. Let me show you suitable options:","Perfect! I can help you find courses that are both educational and engaging for your child's age group:"],prospective_student:["Wonderful! I'm excited to introduce you to our comprehensive course catalog. Here's what we offer:","Great interest in learning! Let me share our amazing course options that could be perfect for you:","Fantastic! Our courses are designed for learners of all backgrounds. Here are some excellent starting points:"]},enrollment_process:{student:["The enrollment process is simple and straightforward! Here's how you can join any course:","Ready to enroll? I'll walk you through the easy steps to start your learning journey:","Enrolling is quick and easy! Let me guide you through the process step by step:"],parent:["I'll explain our secure and parent-friendly enrollment process for your child:","As a parent, you'll appreciate our safe and transparent enrollment system. Here's how it works:","Our enrollment process includes special protections for young learners. Let me explain:"],prospective_student:["Ready to begin your learning adventure? Here's our simple enrollment process:","I'm excited to help you join our community! The enrollment process is designed to be smooth and welcoming:","Let me walk you through how easy it is to start learning with us:"]},pricing_fees:{student:["Here's our transparent pricing structure designed to make quality education accessible:","Our fees are structured to provide excellent value for authentic Vedic education:","Let me break down our affordable pricing options for you:"],parent:["I understand budget is important for families. Here's our fair and transparent pricing:","Our pricing reflects the quality of education while remaining accessible to families:","As a parent, you'll appreciate our value-focused pricing structure:"],prospective_student:["Our pricing is designed to make quality Vedic education accessible to everyone:","Here's our investment in your spiritual and educational growth:","Let me share our affordable pricing options that deliver exceptional value:"]},gurukul_information:{student:["Great question about our Gurukuls! Each one offers a unique learning experience:","I'd love to tell you about our specialized Gurukuls and what makes each one special:","Our Gurukuls are designed to provide deep, focused learning in different areas of Vedic knowledge:"],parent:["As a parent, you'll appreciate how each Gurukul provides age-appropriate, structured learning:","Our Gurukuls offer safe, educational environments for children to explore ancient wisdom:","Each Gurukul is carefully designed with your child's developmental needs in mind:"],prospective_student:["Welcome! Let me introduce you to our amazing Gurukuls and their unique specializations:","Our Gurukul system offers multiple pathways to explore Vedic knowledge:","Each Gurukul provides a comprehensive learning journey in its specialized area:"]},certificate_info:{student:["Certificates are a wonderful way to showcase your learning achievements! Here's what you need to know:","I'm excited to tell you about our beautiful digital certificates and how to earn them:","Your hard work deserves recognition! Let me explain our certificate system:"],parent:["Your child's achievements will be properly recognized with our professional certificates:","We provide authentic, verifiable certificates that showcase your child's learning:","Our certificate system ensures your child's educational achievements are properly documented:"],prospective_student:["You'll earn beautiful, verifiable certificates upon completing our courses:","Our certificates are more than just documents - they represent authentic learning achievements:","Let me tell you about the valuable certificates you can earn through our programs:"]},about_eyogi:{student:["I'm happy to share the inspiring story behind eYogi Gurukul and our mission:","Let me tell you about the vision that drives our educational platform:","eYogi Gurukul has a beautiful mission that you're now part of as a student:"],parent:["As a parent, you'll appreciate the values and mission that guide our educational approach:","Let me share why eYogi Gurukul is the right choice for your child's spiritual education:","Our organization's values align with providing safe, authentic education for children:"],prospective_student:["Welcome! Let me share the inspiring vision behind eYogi Gurukul:","I'd love to tell you about our mission and what makes eYogi Gurukul special:","Discover the beautiful philosophy that guides our educational approach:"]}},this.didYouKnowService=new Em}generateResponse(e){var u,f;const{message:r,persona:n,intent:a,searchResults:i,user:o}=e;if(a==="did_you_know")return this.generateDidYouKnowResponse(r,n,o);const l=((u=this.responseTemplates[a])==null?void 0:u[n])||((f=this.responseTemplates[a])==null?void 0:f.general_visitor)||["I'd be happy to help you with that! Let me provide you with the information you need:"];let d=l[Math.floor(Math.random()*l.length)];return i.length>0?(d+=`

`,i.slice(0,3).forEach((g,p)=>{var y,j;p===0?(d+=`📚 **${g.title}**
${g.content}

`,g.type==="course"&&((y=g.metadata)!=null&&y.course)?d+=`🔗 [View Course Details](/courses/${g.metadata.course.id})

`:g.type==="gurukul"&&((j=g.metadata)!=null&&j.gurukul)&&(d+=`🔗 [Explore ${g.metadata.gurukul.name}](/gurukuls/${g.metadata.gurukul.slug})

`)):d+=`• **${g.title}**: ${this.truncateContent(g.content,100)}

`}),d+=this.addIntentBasedLinks(a,n)):d+=this.generateFallbackResponse(a,n),d=this.addPersonalizedTouches(d,o,n,a),d+=this.generateSuggestions(a,n),d.trim()}generateDidYouKnowResponse(e,r,n){const a=this.responseTemplates.did_you_know[r]||this.responseTemplates.did_you_know.general_visitor;let o=a[Math.floor(Math.random()*a.length)]+`

`;const l=this.extractSpecificQuery(e);if(l){const c=this.didYouKnowService.searchFacts(l,3);if(c.length>0)o+=`🎯 **Facts about "${l}":**

`,c.forEach((d,u)=>{o+=`${u+1}. ${d.content}

`});else{const d=this.getCategoryFromQuery(l),u=this.didYouKnowService.getRandomFactsByCategory(d,3);o+=`🌟 **Here are some amazing facts related to your interest:**

`,u.forEach((f,h)=>{o+=`${h+1}. ${f}

`})}}else{const c=[this.didYouKnowService.getRandomFact(),this.didYouKnowService.getRandomFact(),this.didYouKnowService.getRandomFact()];o+=`🎲 **Random Amazing Facts:**

`,c.forEach((d,u)=>{o+=`${u+1}. ${d}

`})}return o+=`🔗 **Explore More:**
`,o+=`• [Browse All Courses](/courses) - Discover courses on these topics
`,o+=`• [Explore Gurukuls](/gurukuls) - Learn more about our specialized schools
`,o+=`• [About eYogi](/about) - Understand our educational philosophy

`,o+="💡 Want to learn more? Ask me about specific topics like 'Sanskrit facts', 'Yoga wisdom', 'Hindu philosophy', or 'Mantra science'!",o}extractSpecificQuery(e){const r=e.toLowerCase(),n=["sanskrit","yoga","hinduism","hindu","philosophy","mantra","mantras","meditation","dharma","karma","festival","festivals","ayurveda","vedic","vedas","guru","gurukul","om","namaste","chakra","chakras","pranayama","asana","asanas","bhagavad gita","upanishads","ramayana","mahabharata","diwali","holi","navratri","ganesh","shiva","vishnu","brahma","lakshmi","saraswati","hanuman","krishna","rama"];for(const o of n)if(r.includes(o))return o;const a=r.match(/about\s+(\w+)/i);if(a)return a[1];const i=r.match(/(\w+)\s+facts?/i);return i?i[1]:""}getCategoryFromQuery(e){return{sanskrit:"sanskrit",yoga:"yoga",hinduism:"hinduism",hindu:"hinduism",philosophy:"philosophy",mantra:"mantras",mantras:"mantras",meditation:"meditation",festival:"festivals",festivals:"festivals",science:"science",culture:"culture",ayurveda:"science",vedic:"hinduism",vedas:"hinduism"}[e.toLowerCase()]||"hinduism"}addIntentBasedLinks(e,r){return{course_inquiry:`
🔗 **Helpful Links:**
• [Browse All Courses](/courses)
• [Explore Gurukuls](/gurukuls)
• [About Our Education](/about)
`,enrollment_process:`
🔗 **Get Started:**
• [Create Account](/auth/signup)
• [Sign In](/auth/signin)
• [Browse Courses](/courses)
`,gurukul_information:`
🔗 **Explore More:**
• [All Gurukuls](/gurukuls)
• [Hinduism Gurukul](/gurukuls/hinduism)
• [Philosophy Gurukul](/gurukuls/philosophy)
• [Sanskrit Gurukul](/gurukuls/sanskrit)
• [Mantra Gurukul](/gurukuls/mantra)
• [Yoga & Wellness](/gurukuls/yoga-wellness)
`,pricing_fees:`
🔗 **View Details:**
• [Course Pricing](/courses)
• [Contact Us](/contact)
`,certificate_info:`
🔗 **Learn More:**
• [About Certificates](/about)
• [Student Dashboard](/dashboard/student)
`,about_eyogi:`
🔗 **Discover More:**
• [About Us](/about)
• [Contact Us](/contact)
`,contact_info:`
🔗 **Contact Options:**
• [Contact Form](/contact)
• [About Us](/about)
`,student_progress:`
🔗 **Your Dashboard:**
• [Student Dashboard](/dashboard/student)
• [Browse More Courses](/courses)
`,did_you_know:`
🔗 **Learn More:**
• [Browse Courses](/courses)
• [Explore Gurukuls](/gurukuls)
• [About eYogi](/about)
`}[e]||""}generateFallbackResponse(e,r){return{course_inquiry:`

We offer comprehensive courses across 5 specialized Gurukuls: Hinduism, Mantra, Philosophy, Sanskrit, and Yoga & Wellness. Each Gurukul has courses for different age groups from 4 years to adult learners.

🔗 **Quick Links:**
• [Browse All Courses](/courses)
• [Explore Gurukuls](/gurukuls)
• [About Our Education](/about)`,enrollment_process:`

To enroll: 1) Create your account, 2) Browse courses by age/interest, 3) Click 'Enroll Now', 4) Complete payment, 5) Get teacher approval, 6) Start learning!

🔗 **Get Started:**
• [Create Account](/auth/signup)
• [Browse Courses](/courses)
• [Sign In](/auth/signin)`,gurukul_information:`

Our 5 Gurukuls each specialize in different aspects of Vedic knowledge: Hinduism (traditions & philosophy), Mantra (sacred sounds), Philosophy (ancient wisdom), Sanskrit (sacred language), and Yoga & Wellness (holistic health).`,pricing_fees:`

Our courses range from €35-€100 depending on level and duration. Elementary (€35-40), Basic (€50-60), Intermediate (€75-85), Advanced (€100+). We offer family discounts and early bird pricing!

🔗 **View Pricing:**
• [See All Course Prices](/courses)
• [Contact for Discounts](/contact)`,certificate_info:`

All students receive beautiful digital certificates upon course completion. Certificates include verification codes, can be downloaded as PDF, shared on social media, and are recognized for their authentic Vedic education content.`,contact_info:`

You can reach us at info@eyogigurukul.com, call +353 1 234 5678 (Mon-Fri 9AM-6PM IST), or use this chat for immediate assistance. We're based in Dublin, Ireland but serve students globally!

🔗 **Contact Options:**
• [Contact Form](/contact)
• [About Us](/about)`,about_eyogi:`

eYogi Gurukul bridges ancient Vedic wisdom with modern learning technology. We create 'eYogis' - practitioners who connect spiritual science with contemporary life, building peace and harmony while respecting all cultures.`,did_you_know:`

I have access to over 1000 fascinating facts about Vedic wisdom, ancient knowledge, and spiritual practices! You can ask me for facts about specific topics like 'Sanskrit facts', 'Yoga wisdom', 'Hindu traditions', 'Philosophy insights', or just say 'surprise me with a fact'!`,technical_support:`

For technical issues: try refreshing your browser, check your internet connection, or clear your browser cache. For persistent problems, contact support@eyogigurukul.com with details about your issue.`}[e]||`

I'm here to help with any questions about eYogi Gurukul, our courses, enrollment, or Vedic education in general!`}addPersonalizedTouches(e,r,n,a){var i;if(r){const o=((i=r.full_name)==null?void 0:i.split(" ")[0])||"friend";if(a==="student_progress"&&r.role==="student"&&(e+=`

🎯 ${o}, you can check your detailed progress in your student dashboard where you'll find all your enrolled courses, completion status, and certificates!`),a==="course_inquiry"&&r.age){const l=this.getAgeGroupForAge(r.age);e+=`

💡 Based on your age (${r.age}), I recommend looking at our ${l} level courses which are perfectly designed for your learning stage!`}}return n==="parent"&&(e+=`

👨‍👩‍👧‍👦 As a parent, you'll be pleased to know that all our courses include progress reports and we maintain open communication about your child's learning journey.`),e}generateSuggestions(e,r){const a={course_inquiry:["Would you like me to recommend courses based on a specific age group?","Are you interested in a particular Gurukul or subject area?","Would you like to know about course schedules and duration?","Shall I help you find courses that match your learning level?"],enrollment_process:["Would you like me to guide you through creating an account?","Do you have questions about payment options?","Would you like to know about our approval process?","Need help understanding the enrollment timeline?"],pricing_fees:["Would you like information about family discounts?","Are you interested in our early bird pricing?","Do you need details about payment plans?","Shall I explain our refund policy?"],gurukul_information:["Would you like to explore a specific Gurukul in detail?","Are you interested in the teaching methodology?","Would you like to know about our teachers and their qualifications?","Shall I help you choose the right Gurukul for your interests?"],certificate_info:["Would you like to see examples of our certificates?","Are you interested in the verification process?","Shall I explain how to share your certificates professionally?"],did_you_know:["Would you like to learn about a specific topic like Sanskrit, Yoga, or Hindu philosophy?","Are you interested in facts about festivals, mantras, or ancient science?","Shall I share more wisdom about meditation, dharma, or spiritual practices?","Would you like to explore facts about specific Gurukuls or courses?"],about_eyogi:["Would you like to know more about our teaching philosophy?","Are you interested in our global community of learners?","Shall I tell you about our founders and team?"]}[e];return a&&a.length>0?`

❓ ${a[Math.floor(Math.random()*a.length)]}`:`

💬 Feel free to ask me anything else about eYogi Gurukul!`}truncateContent(e,r){return e.length<=r?e:e.substring(0,r)+"..."}getAgeGroupForAge(e){return e>=4&&e<=7?"Elementary":e>=8&&e<=11?"Basic":e>=12&&e<=15?"Intermediate":e>=16&&e<=19?"Advanced":"Adult Learning"}}class S2{constructor(){this.conversationHistory=[],this.personaDetector=new _2,this.intentClassifier=new N2,this.semanticSearch=new k2,this.didYouKnowService=new Em,this.responseGenerator=new C2}async processMessage(e,r){try{const n=this.personaDetector.detectPersona(e,r),a=this.intentClassifier.classifyIntent(e,n),i=await this.semanticSearch.search(e,a.intent,n),o=this.responseGenerator.generateResponse({message:e,persona:n,intent:a.intent,confidence:a.confidence,searchResults:i,user:r,conversationHistory:this.conversationHistory}),l=Math.random()<.3?this.didYouKnowService.getRandomFact(a.intent,n):void 0;return this.conversationHistory.push({user:e,bot:o,timestamp:new Date}),this.conversationHistory.length>10&&(this.conversationHistory=this.conversationHistory.slice(-10)),{message:o,persona:n,intent:a.intent,confidence:a.confidence,didYouKnow:l}}catch(n){throw console.error("Error in ChatService:",n),n}}getConversationHistory(){return this.conversationHistory}clearHistory(){this.conversationHistory=[]}}function E2({isOpen:t,onClose:e,initialMessage:r}){const{user:n}=Mt(),[a,i]=m.useState([]),[o,l]=m.useState(""),[c,d]=m.useState(!1),[u,f]=m.useState(!1),[h]=m.useState(()=>new S2),g=m.useRef(null),p=m.useRef(null);m.useEffect(()=>{var v;if(t){const x={id:"welcome",type:"bot",content:`🙏 Namaste ${((v=n==null?void 0:n.email)==null?void 0:v.split("@")[0])||"friend"}! I'm your eYogi AI assistant. I'm here to help you with questions about our courses, Gurukuls, enrollment, and anything related to your learning journey. How can I assist you today?`,timestamp:new Date,persona:"student",intent:"greeting"};i([x]),setTimeout(()=>{var A;return(A=p.current)==null?void 0:A.focus({preventScroll:!0})},100)}},[t,n]),m.useEffect(()=>{if(t){const v=x=>{x.target&&x.target.closest('[data-chatbot="true"]')||["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(x.key)&&x.preventDefault()};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}}},[t]),m.useEffect(()=>{r&&t&&j(r)},[r,t]),m.useEffect(()=>{y()},[a]);const y=()=>{var v;(v=g.current)==null||v.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},j=async v=>{var S;const x=v||o.trim();if(!x)return;const A={id:`user-${Date.now()}`,type:"user",content:x,timestamp:new Date};i(M=>[...M,A]),l(""),d(!0),setTimeout(()=>{var M;(M=p.current)==null||M.focus({preventScroll:!0})},0);try{const M=n?{id:n.id,email:n.email||"",full_name:((S=n.email)==null?void 0:S.split("@")[0])||"",role:"admin",student_id:"",age:void 0,created_at:n.created_at,updated_at:n.updated_at||""}:null,B=await h.processMessage(x,M);await new Promise(L=>setTimeout(L,1e3+Math.random()*1e3));const J={id:`bot-${Date.now()}`,type:"bot",content:B.message,timestamp:new Date,persona:B.persona,intent:B.intent,confidence:B.confidence,didYouKnow:B.didYouKnow};i(L=>[...L,J])}catch(M){console.error("Error processing message:",M);const B={id:`error-${Date.now()}`,type:"bot",content:"I apologize, but I encountered an error processing your message. Please try again or contact our support team for assistance.",timestamp:new Date};i(J=>[...J,B])}finally{d(!1)}},b=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),v.stopPropagation(),j())},N=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const v=window.webkitSpeechRecognition||window.SpeechRecognition;if(!v)return;const x=new v;x.continuous=!1,x.interimResults=!1,x.lang="en-US",x.onstart=()=>{f(!0)},x.onresult=A=>{const S=A.results[0][0].transcript;l(S),f(!1)},x.onerror=()=>{f(!1)},x.onend=()=>{f(!1)},u?x.stop():x.start()}else alert("Speech recognition is not supported in your browser.")},_=()=>{i([]),i([{id:"welcome-new",type:"bot",content:"🙏 Chat cleared! I'm ready to help you with any questions about eYogi Gurukul. What would you like to know?",timestamp:new Date}])},w=["What courses are available for my age?","How do I enroll in a course?","What is the fee structure?","Tell me about Hinduism Gurukul","How do I get certificates?","What are the different Gurukuls?","Tell me an interesting fact","Share some Sanskrit wisdom"];return t?s.jsx("div",{className:`fixed z-50 animate-in slide-in-from-bottom-4 slide-in-from-right-4 duration-300 \r
                 md:bottom-6 md:right-6 md:w-96 md:h-[600px] md:top-auto md:left-auto\r
                 top-16 bottom-4 left-4 right-4\r
                 sm:top-20\r
                 chatbot-container`,onClick:v=>v.stopPropagation(),"data-chatbot":"true",children:s.jsxs($,{className:"w-full h-full flex flex-col shadow-2xl border border-gray-700 bg-gray-900",children:[s.jsx(fe,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-t-lg px-3 sm:px-6 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Ms,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold",children:"eYogi AI Assistant"}),s.jsx("p",{className:"text-orange-100 text-xs sm:text-sm hidden sm:block",children:"Your personal learning companion"}),s.jsx("p",{className:"text-orange-100 text-xs sm:hidden",children:"Learning companion"})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[s.jsx(I,{variant:"ghost",size:"sm",onClick:_,className:"text-white hover:bg-white/10 p-2 sm:p-2 min-h-[40px] min-w-[40px] sm:min-h-[36px] sm:min-w-[36px]",children:s.jsx(Ej,{className:"h-4 w-4 sm:h-4 sm:w-4"})}),s.jsx(I,{variant:"ghost",size:"sm",onClick:e,className:"text-white hover:bg-white/10 p-2 sm:p-2 min-h-[40px] min-w-[40px] sm:min-h-[36px] sm:min-w-[36px]",children:s.jsx(_t,{className:"h-5 w-5 sm:h-5 sm:w-5"})})]})]})}),s.jsxs(F,{className:"flex-1 overflow-y-auto p-2 sm:p-4 space-y-3 sm:space-y-4 bg-gray-800",children:[a.map(v=>s.jsx("div",{className:`flex ${v.type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[90%] sm:max-w-[85%] ${v.type==="user"?"order-2":"order-1"}`,children:[s.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 ${v.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[s.jsx("div",{className:`h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center flex-shrink-0 ${v.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gradient-to-r from-orange-500 to-red-500"}`,children:v.type==="user"?s.jsx(an,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"}):s.jsx(Ms,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),s.jsxs("div",{className:`rounded-2xl px-3 py-2 sm:px-4 sm:py-3 ${v.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-gray-700 text-gray-100"}`,children:[s.jsx("div",{className:"text-sm sm:text-sm leading-relaxed whitespace-pre-wrap",children:v.type==="bot"?s.jsx("div",{dangerouslySetInnerHTML:{__html:v.content.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:text-blue-800 underline font-medium" target="_blank" rel="noopener noreferrer">$1</a>').replace(/\n/g,"<br>")}}):v.content}),v.type==="bot"&&(v.persona||v.intent)&&s.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-600 flex items-center space-x-2",children:[v.persona&&s.jsx(Re,{variant:"info",className:"text-xs",children:v.persona}),v.intent&&s.jsx(Re,{variant:"default",className:"text-xs",children:v.intent}),v.confidence&&s.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(v.confidence*100),"% confident"]})]}),v.didYouKnow&&s.jsxs("div",{className:"mt-3 p-3 bg-gradient-to-r from-purple-900/30 to-pink-900/30 rounded-lg border border-purple-600",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(gm,{className:"h-4 w-4 text-purple-400"}),s.jsx("span",{className:"text-sm font-semibold text-purple-300",children:"Did You Know?"})]}),s.jsx("p",{className:"text-sm text-purple-200",children:v.didYouKnow})]})]})]}),s.jsx("div",{className:`mt-1 text-xs text-gray-400 ${v.type==="user"?"text-right":"text-left"}`,children:rv(v.timestamp)})]})},v.id)),c&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:s.jsx(Ms,{className:"h-4 w-4 text-white"})}),s.jsx("div",{className:"bg-gray-700 rounded-2xl px-4 py-3",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),s.jsx("div",{ref:g})]}),a.length<=1&&s.jsx("div",{className:"px-2 sm:px-4 pb-2 sm:pb-4 bg-gray-800",children:s.jsxs("div",{className:"mb-3 sm:mb-4",children:[s.jsxs("h4",{className:"text-xs sm:text-sm font-semibold text-gray-200 mb-2 sm:mb-3 flex items-center",children:[s.jsx(ym,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Quick Questions"]}),s.jsx("div",{className:"grid grid-cols-1 gap-1.5 sm:gap-2",children:w.slice(0,4).map((v,x)=>s.jsx("button",{onClick:()=>j(v),className:"text-left p-2.5 sm:p-2 text-xs sm:text-xs bg-gray-700 hover:bg-orange-900/30 hover:text-orange-300 text-gray-200 rounded-lg transition-colors border border-gray-600 hover:border-orange-500 min-h-[40px] sm:min-h-[36px] flex items-center",children:v},x))})]})}),s.jsxs("div",{className:"p-2 sm:p-4 border-t border-gray-600 bg-gray-900 rounded-b-lg",children:[s.jsxs("form",{onSubmit:v=>{v.preventDefault(),v.stopPropagation(),j()},className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{ref:p,type:"text",value:o,onChange:v=>l(v.target.value),onKeyPress:b,placeholder:"Ask me anything about eYogi Gurukul...",className:"w-full px-3 sm:px-4 py-3 pr-10 sm:pr-12 border border-gray-600 bg-gray-800 text-gray-100 placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm min-h-[48px]",disabled:c,style:{fontSize:"16px"}}),s.jsx("button",{onClick:N,className:`absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 p-1.5 sm:p-1 rounded-full transition-colors min-h-[32px] min-w-[32px] flex items-center justify-center ${u?"text-red-400 bg-red-900/30":"text-gray-400 hover:text-orange-400 hover:bg-orange-900/30"}`,children:u?s.jsx(O1,{className:"h-3 w-3 sm:h-4 sm:w-4"}):s.jsx(v1,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),s.jsx(I,{onClick:()=>j(),disabled:!o.trim()||c,className:"px-3 sm:px-4 py-3 min-h-[48px] min-w-[48px]",type:"submit",children:s.jsx(j1,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-gray-400 space-y-1 sm:space-y-0",children:[s.jsx("span",{className:"text-center sm:text-left",children:"Press Enter to send • Shift+Enter for new line"}),s.jsxs("span",{className:"flex items-center justify-center sm:justify-end space-x-1",children:[s.jsx(Un,{className:"h-3 w-3"}),s.jsx("span",{children:"AI-powered by eYogi"})]})]})]})]})}):null}function Am({className:t,initialMessage:e}){const[r,n]=m.useState(!1),[a,i]=m.useState(!1);return s.jsxs(s.Fragment,{children:[!r&&s.jsx("div",{className:`fixed bottom-6 right-6 z-40 
                         sm:bottom-4 sm:right-4
                         xs:bottom-3 xs:right-3 ${t}`,children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-red-500 rounded-full animate-ping opacity-20"}),s.jsx("button",{onClick:()=>n(!0),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:`relative bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 group\r
                         sm:p-3 xs:p-3\r
                         min-h-touch min-w-touch\r
                         flex items-center justify-center`,style:{minHeight:"44px",minWidth:"44px"},children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ms,{className:"h-6 w-6 sm:h-5 sm:w-5 xs:h-5 xs:w-5 flex-shrink-0"}),a&&s.jsx("span",{className:"text-sm font-medium whitespace-nowrap hidden sm:block",children:"Ask eYogi AI"})]})}),!a&&s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap hidden sm:block",children:["Ask me anything about eYogi Gurukul!",s.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})}),s.jsx(E2,{isOpen:r,onClose:()=>n(!1),initialMessage:e})]})}async function A2(){try{const{data:t,error:e}=await Z.from("profiles").select("*").order("created_at",{ascending:!1});return e?(console.error("Error fetching users:",e),[]):t||[]}catch(t){return console.error("Error fetching users:",t),[]}}async function T2(t,e){try{const r={...e,updated_at:new Date().toISOString()},{data:n,error:a}=await Z.from("profiles").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating user profile:",a),new Error("Failed to update user profile");return n}catch(r){throw console.error("Error updating user profile:",r),r}}const P2=It({full_name:be().min(2,"Full name must be at least 2 characters"),phone:be().optional(),date_of_birth:be().optional(),address:It({street:be().optional(),city:be().optional(),state:be().optional(),postal_code:be().optional(),country:be().optional()}).optional(),emergency_contact:It({name:be().optional(),relationship:be().optional(),phone:be().optional(),email:be().email().optional().or(_j(""))}).optional(),preferences:It({language:be().optional(),notifications:It({email:Ks().optional(),sms:Ks().optional(),push:Ks().optional()}).optional(),accessibility:It({large_text:Ks().optional(),high_contrast:Ks().optional(),reduced_motion:Ks().optional()}).optional()}).optional()});function L2({isOpen:t,onClose:e,user:r,onUpdate:n}){var f,h,g,p,y,j,b,N,_,w,v,x,A,S,M,B,J,L,z,ne,W,ye,le,C,E,se,ie,Me,Ye,Xe,$e,Ke,et,dt,Ct,T,X,he,xe,R,q,je,mt;const[a,i]=m.useState(!1),{register:o,handleSubmit:l,formState:{errors:c}}=Qr({resolver:en(P2),defaultValues:{full_name:r.full_name||"",phone:r.phone||"",date_of_birth:r.date_of_birth||"",address:{street:((f=r.address)==null?void 0:f.street)||"",city:((h=r.address)==null?void 0:h.city)||"",state:((g=r.address)==null?void 0:g.state)||"",postal_code:((p=r.address)==null?void 0:p.postal_code)||"",country:((y=r.address)==null?void 0:y.country)||""},emergency_contact:{name:((j=r.emergency_contact)==null?void 0:j.name)||"",relationship:((b=r.emergency_contact)==null?void 0:b.relationship)||"",phone:((N=r.emergency_contact)==null?void 0:N.phone)||"",email:((_=r.emergency_contact)==null?void 0:_.email)||""},preferences:{language:((w=r.preferences)==null?void 0:w.language)||"english",notifications:{email:((x=(v=r.preferences)==null?void 0:v.notifications)==null?void 0:x.email)!==!1,sms:((S=(A=r.preferences)==null?void 0:A.notifications)==null?void 0:S.sms)!==!1,push:((B=(M=r.preferences)==null?void 0:M.notifications)==null?void 0:B.push)!==!1},accessibility:{large_text:((L=(J=r.preferences)==null?void 0:J.accessibility)==null?void 0:L.large_text)||!1,high_contrast:((ne=(z=r.preferences)==null?void 0:z.accessibility)==null?void 0:ne.high_contrast)||!1,reduced_motion:((ye=(W=r.preferences)==null?void 0:W.accessibility)==null?void 0:ye.reduced_motion)||!1}}}}),d=async ft=>{i(!0);try{const Us=await T2(r.id,{full_name:ft.full_name,phone:ft.phone||null,date_of_birth:ft.date_of_birth||null,address:ft.address||null,emergency_contact:ft.emergency_contact||null,preferences:ft.preferences||{}});D.success("Profile updated successfully!"),n(Us),e()}catch(Us){console.error("Error updating profile:",Us),D.error("Failed to update profile")}finally{i(!1)}};if(!t)return null;const u=ft=>{ft.target===ft.currentTarget&&e()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:u,children:s.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsxs("form",{onSubmit:l(d),children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Profile"}),s.jsx("button",{type:"button",onClick:e,className:"text-gray-400 hover:text-gray-500 p-2",children:s.jsx(_t,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Personal Information"})}),s.jsx(F,{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(ee,{label:"Full Name *",...o("full_name"),error:(le=c.full_name)==null?void 0:le.message}),s.jsx(ee,{label:"Phone",...o("phone"),error:(C=c.phone)==null?void 0:C.message}),s.jsx(ee,{label:"Date of Birth",type:"date",...o("date_of_birth"),error:(E=c.date_of_birth)==null?void 0:E.message}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Email:"})," ",r.email," (Cannot be changed)"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Student ID:"})," ",r.student_id," (System Generated)"]})]})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Address"})}),s.jsx(F,{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(ee,{label:"Street Address",...o("address.street"),error:(ie=(se=c.address)==null?void 0:se.street)==null?void 0:ie.message,className:"md:col-span-2"}),s.jsx(ee,{label:"City",...o("address.city"),error:(Ye=(Me=c.address)==null?void 0:Me.city)==null?void 0:Ye.message}),s.jsx(ee,{label:"State/Province",...o("address.state"),error:($e=(Xe=c.address)==null?void 0:Xe.state)==null?void 0:$e.message}),s.jsx(ee,{label:"Postal Code",...o("address.postal_code"),error:(et=(Ke=c.address)==null?void 0:Ke.postal_code)==null?void 0:et.message}),s.jsx(ee,{label:"Country",...o("address.country"),error:(Ct=(dt=c.address)==null?void 0:dt.country)==null?void 0:Ct.message})]})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Emergency Contact"})}),s.jsx(F,{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(ee,{label:"Contact Name",...o("emergency_contact.name"),error:(X=(T=c.emergency_contact)==null?void 0:T.name)==null?void 0:X.message}),s.jsx(ee,{label:"Relationship",...o("emergency_contact.relationship"),error:(xe=(he=c.emergency_contact)==null?void 0:he.relationship)==null?void 0:xe.message}),s.jsx(ee,{label:"Contact Phone",...o("emergency_contact.phone"),error:(q=(R=c.emergency_contact)==null?void 0:R.phone)==null?void 0:q.message}),s.jsx(ee,{label:"Contact Email",type:"email",...o("emergency_contact.email"),error:(mt=(je=c.emergency_contact)==null?void 0:je.email)==null?void 0:mt.message})]})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Notification Preferences"})}),s.jsx(F,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",...o("preferences.notifications.email"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Notifications"})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",...o("preferences.notifications.sms"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SMS Notifications"})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",...o("preferences.notifications.push"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Push Notifications"})]})]})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Accessibility Settings"})}),s.jsx(F,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",...o("preferences.accessibility.large_text"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Large Text"})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",...o("preferences.accessibility.high_contrast"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"High Contrast"})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",...o("preferences.accessibility.reduced_motion"),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Reduced Motion"})]})]})})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end space-x-3",children:[s.jsx(I,{type:"button",variant:"secondary",onClick:e,disabled:a,children:"Cancel"}),s.jsx(I,{type:"submit",loading:a,children:"Save Changes"})]})]})})})}function R2(){var le,C;const{user:t}=ws(),{isStudent:e,shouldShowAnalytics:r,canAccess:n,getUserRole:a}=m2(),[i,o]=m.useState("home"),[l,c]=m.useState([]),[d,u]=m.useState([]),[f,h]=m.useState([]),[g,p]=m.useState(!0),[y,j]=m.useState({totalEnrollments:0,completedCourses:0,activeCourses:0,certificatesEarned:0,totalSpent:0,averageGrade:0,learningStreak:7,xpPoints:1250,level:"Intermediate",completionRate:0}),[b,N]=m.useState(!1),[_,w]=m.useState(""),[v,x]=m.useState("all"),[A,S]=m.useState("all"),[M,B]=m.useState(null);m.useEffect(()=>{console.log("StudentDashboard: useEffect triggered",{user:t==null?void 0:t.id,loading:g}),t!=null&&t.id?J():(console.log("StudentDashboard: No user ID, setting loading to false"),p(!1))},[t==null?void 0:t.id]);const J=async()=>{console.log("loadStudentData: Starting data load for user:",t==null?void 0:t.id);try{const[E,se,ie]=await Promise.all([km(t.id),j2(t.id),Fs()]);console.log("loadStudentData: Data loaded successfully",{enrollments:E.length,certificates:se.length,courses:ie.length}),c(E),u(se),h(ie);const Me=E.filter(Ke=>Ke.status==="completed").length,Ye=E.filter(Ke=>Ke.status==="approved").length,Xe=E.reduce((Ke,et)=>{var dt;return Ke+(((dt=et.course)==null?void 0:dt.price)||0)},0),$e=E.length>0?Me/E.length*100:0;j({totalEnrollments:E.length,completedCourses:Me,activeCourses:Ye,certificatesEarned:se.length,totalSpent:Xe,averageGrade:85,learningStreak:7,xpPoints:1250+Me*100,level:Me<3?"Beginner":Me<8?"Intermediate":"Advanced",completionRate:$e})}catch(E){console.error("loadStudentData: Error loading data",E),D.error("Failed to load dashboard data")}finally{console.log("loadStudentData: Setting loading to false"),p(!1)}},L=async E=>{if(!(t!=null&&t.id)){D.error("Please log in to enroll in courses");return}try{B(E),await Nm(E,t.id),await J(),o("enrollments"),D.success("Successfully enrolled! Your enrollment is pending teacher approval.")}catch(se){D.error(se instanceof Error?se.message:"Failed to enroll in course")}finally{B(null)}},z=()=>{const E=new Date().getHours();return E<12?{greeting:"Good morning",icon:ca}:E<18?{greeting:"Good afternoon",icon:ca}:{greeting:"Good evening",icon:xm}},{greeting:ne,icon:W}=z(),ye=[{id:"home",name:"Home",icon:fm,description:"Your Learning Hub",gradient:"from-blue-500 to-purple-600",available:!0},{id:"courses",name:"My Courses",icon:Pe,description:"View enrolled courses and progress",gradient:"from-green-500 to-teal-600",badge:y.activeCourses>0?y.activeCourses:void 0,available:n("courses","read")},{id:"enrollments",name:"My Enrollments",icon:ir,description:"Track enrollment status and history",gradient:"from-blue-500 to-indigo-600",badge:l.filter(E=>E.status==="pending").length>0?l.filter(E=>E.status==="pending").length:void 0,available:n("enrollments","read")},{id:"certificates",name:"My Certificates",icon:ut,description:"Download earned certificates",gradient:"from-yellow-500 to-orange-600",badge:y.certificatesEarned>0?y.certificatesEarned:void 0,available:n("certificates","read")},{id:"profile",name:"Profile",icon:an,description:"Personal Settings",gradient:"from-pink-500 to-rose-600",available:!0},...r()?[{id:"analytics",name:"Analytics",icon:Lt,description:"System analytics and reports",gradient:"from-purple-500 to-indigo-600",available:r()}]:[],...n("settings","read")?[{id:"settings",name:"Settings",icon:ni,description:"Configure system settings",gradient:"from-gray-500 to-slate-600",available:n("settings","read")}]:[]].filter(E=>E.available);return g?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center pt-16 lg:pt-20",children:s.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white/20",children:[s.jsx(V.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-6 border-4 border-blue-200 border-t-blue-600 rounded-full"}),s.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Loading Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Preparing your learning workspace..."})]})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 pt-16 lg:pt-20",children:[s.jsx(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/80 backdrop-blur-xl border-b border-white/20 sticky top-16 lg:top-20 z-40 shadow-lg",children:s.jsxs("div",{className:"container-max py-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsx(V.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"h-16 w-16 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-xl",children:s.jsx(Pe,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex items-center gap-3 mb-2",children:[s.jsx(W,{className:"h-6 w-6 text-amber-500"}),s.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent",children:[ne,", ",((le=t==null?void 0:t.full_name)==null?void 0:le.split(" ")[0])||"Student","! 👋"]})]}),s.jsx(V.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-gray-600 text-lg",children:"Ready to continue your amazing learning journey?"})]})]}),s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs(V.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},className:"relative",children:[s.jsx(V.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-3 bg-white/50 rounded-xl backdrop-blur-sm border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer",children:s.jsx(it,{className:"h-6 w-6 text-amber-600"})}),y.certificatesEarned>0&&s.jsx(V.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-6 w-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse shadow-lg",children:y.certificatesEarned})]}),s.jsx(V.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6},children:s.jsxs(Re,{className:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-200 px-4 py-2 text-sm font-semibold shadow-lg",children:[s.jsx(hs,{className:"h-5 w-5 mr-2 fill-current"}),"Level ",y.level]})})]})]}),s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-8 flex gap-4 bg-white/50 backdrop-blur-sm p-3 rounded-2xl w-fit border border-white/20 shadow-lg",children:ye.map((E,se)=>s.jsxs(V.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.9+se*.1},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>{o(E.id),window.scrollTo({top:0,behavior:"smooth"})},className:`relative flex items-center space-x-3 px-5 py-3 rounded-xl font-semibold text-sm transition-all duration-300 ${i===E.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-white/80 hover:shadow-md"}`,children:[s.jsx(E.icon,{className:`h-5 w-5 ${i===E.id?"text-white":""}`}),s.jsx("span",{children:E.name}),E.badge&&s.jsx(V.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center shadow-lg",children:E.badge})]},E.id))})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-10",children:[s.jsx(zn,{mode:"wait",children:i==="home"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{title:"Active Courses",value:y.activeCourses,icon:Pe,gradient:"from-blue-500 via-blue-600 to-indigo-600",bgGradient:"from-blue-50 via-blue-100 to-indigo-100",message:"Keep learning! 📚",delay:.1},{title:"Completed Courses",value:y.completedCourses,icon:tt,gradient:"from-green-500 via-emerald-600 to-teal-600",bgGradient:"from-green-50 via-emerald-100 to-teal-100",message:"Amazing progress! 🎉",delay:.2},{title:"Certificates",value:y.certificatesEarned,icon:it,gradient:"from-purple-500 via-violet-600 to-purple-600",bgGradient:"from-purple-50 via-violet-100 to-purple-100",message:"You're a star! ⭐",delay:.3},{title:"Learning Streak",value:`${y.learningStreak} days`,icon:hm,gradient:"from-orange-500 via-red-500 to-pink-600",bgGradient:"from-orange-50 via-red-100 to-pink-100",message:"On fire! 🔥",delay:.4}].map(E=>s.jsx(V.div,{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:E.delay,duration:.6,type:"spring",stiffness:100},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative rounded-xl p-8",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${E.bgGradient} opacity-10 group-hover:opacity-20 transition-opacity duration-300`}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-gray-600 text-sm font-semibold uppercase tracking-wider",children:E.title}),s.jsx(V.p,{initial:{scale:.8},animate:{scale:1},transition:{delay:E.delay+.2},className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:typeof E.value=="string"?E.value:E.value.toLocaleString()}),s.jsx("p",{className:"text-sm text-gray-500",children:E.message})]}),s.jsx(V.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:E.delay+.3,type:"spring",stiffness:200},whileHover:{scale:1.2,rotate:10},className:`h-16 w-16 bg-gradient-to-r ${E.gradient} rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow duration-300`,children:s.jsx(E.icon,{className:"h-8 w-8 text-white"})})]}),s.jsx(V.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:E.delay+.5,duration:1},className:"mt-6",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:"75%"},transition:{delay:E.delay+.7,duration:1.5},className:`h-full bg-gradient-to-r ${E.gradient} rounded-full`})})})]})]})},E.title))}),s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl p-8 border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"📈 Learning Progress Overview"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Overall completion: ",Math.round(y.completionRate),"%"]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Learning Progress"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(y.completionRate),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${y.completionRate}%`},transition:{delay:.8,duration:2,ease:"easeOut"},className:"h-full bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 rounded-full relative overflow-hidden",children:s.jsx(V.div,{animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:2,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})})})]}),l.filter(E=>E.status==="approved").length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Active Course Progress"}),l.filter(E=>E.status==="approved").slice(0,3).map((E,se)=>{var Me;const ie=Math.random()*100;return s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+se*.1,duration:.5},className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:(Me=E.course)==null?void 0:Me.title}),s.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(ie),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${ie}%`},transition:{delay:1.2+se*.1,duration:1.5,ease:"easeOut"},className:`h-full rounded-full ${ie<30?"bg-gradient-to-r from-red-400 to-red-500":ie<70?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-green-400 to-green-500"}`})}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:ie<30?"Just getting started 🌱":ie<70?"Making great progress! 🚀":"Almost there! 🎯"})]},E.id)})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Learning Goals 🎯"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1.4,duration:.5},className:"text-center p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[y.activeCourses,"/5"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Courses Goal"})]}),s.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1.5,duration:.5},className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-1",children:[y.learningStreak,"/30"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Days Streak Goal"})]}),s.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1.6,duration:.5},className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border border-purple-200",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:[y.certificatesEarned,"/10"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Certificates Goal"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(tt,{className:"h-6 w-6 text-green-500 mr-2"}),"Available Features"]}),s.jsx("div",{className:"space-y-3",children:[{name:"My Courses",icon:Pe,description:"View enrolled courses and progress",available:n("courses","read")},{name:"My Enrollments",icon:ir,description:"Track enrollment status and history",available:n("enrollments","read")},{name:"My Certificates",icon:ut,description:"Download earned certificates",available:n("certificates","read")}].filter(E=>E.available).map((E,se)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(E.icon,{className:"h-5 w-5 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.name}),s.jsx("p",{className:"text-xs text-gray-500",children:E.description})]})]},se))})]}),!e()&&s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(hs,{className:"h-6 w-6 text-blue-500 mr-2"}),"Administrative Features"]}),s.jsx("div",{className:"space-y-3",children:[{name:"Analytics Dashboard",icon:Lt,description:"System analytics and reports",available:r()},{name:"System Settings",icon:ni,description:"Configure system settings",available:n("settings","read")}].filter(E=>E.available).map((E,se)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(E.icon,{className:"h-5 w-5 text-blue-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.name}),s.jsx("p",{className:"text-xs text-gray-500",children:E.description})]})]},se))})]})]})]},"home")}),i==="courses"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent",children:"My Learning Journey 📚"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Track your progress and continue learning"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.filter(E=>E.status==="approved").map(E=>{var se,ie;return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20 hover:shadow-xl transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(se=E.course)==null?void 0:se.title}),s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Active"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:(ie=E.course)==null?void 0:ie.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),s.jsx("span",{className:"font-semibold",children:"0%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 h-2 rounded-full",style:{width:"0%"}})})]})]},E.id)}),l.filter(E=>E.status==="approved").length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(Pe,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Active Courses"}),s.jsx("p",{className:"text-gray-500",children:"Enroll in courses to start your learning journey!"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Recommended Courses for You 🎯"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.filter(E=>!l.some(se=>{var ie;return((ie=se.course)==null?void 0:ie.id)===E.id})).slice(0,6).map(E=>{var se,ie;return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20 hover:shadow-xl transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${E.level==="basic"||E.level==="elementary"?"bg-green-100 text-green-800":E.level==="intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:((se=E.level)==null?void 0:se.charAt(0).toUpperCase())+((ie=E.level)==null?void 0:ie.slice(1))})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:E.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Duration: ",E.duration_weeks," weeks"]}),s.jsx("button",{onClick:()=>L(E.id),disabled:M===E.id,className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-4 py-2 rounded-lg text-sm hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:M===E.id?"Enrolling...":"Enroll Now"})]})]},E.id)}),f.filter(E=>!l.some(se=>{var ie;return((ie=se.course)==null?void 0:ie.id)===E.id})).length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(Pe,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Course Suggestions"}),s.jsx("p",{className:"text-gray-500",children:"All available courses are already enrolled!"})]})]})]})]},"courses"),i==="enrollments"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"My Enrollments 📋"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Track your enrollment status and history"})]}),s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Courses"}),s.jsx("input",{type:"text",value:_,onChange:E=>w(E.target.value),placeholder:"Search by course title...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status Filter"}),s.jsxs("select",{value:v,onChange:E=>x(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Level"}),s.jsxs("select",{value:A,onChange:E=>S(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"elementary",children:"Elementary"}),s.jsx("option",{value:"basic",children:"Basic"}),s.jsx("option",{value:"intermediate",children:"Intermediate"}),s.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[l.filter(E=>{var Ye,Xe,$e,Ke,et;const se=_===""||((Xe=(Ye=E.course)==null?void 0:Ye.title)==null?void 0:Xe.toLowerCase().includes(_.toLowerCase()))||((Ke=($e=E.course)==null?void 0:$e.course_number)==null?void 0:Ke.toLowerCase().includes(_.toLowerCase())),ie=v==="all"||E.status===v,Me=A==="all"||((et=E.course)==null?void 0:et.level)===A;return se&&ie&&Me}).map(E=>{var se,ie,Me,Ye,Xe,$e;return s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((se=E.course)==null?void 0:se.title)||"Course Title Not Available"}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${((ie=E.course)==null?void 0:ie.level)==="basic"||((Me=E.course)==null?void 0:Me.level)==="elementary"?"bg-green-100 text-green-800":((Ye=E.course)==null?void 0:Ye.level)==="intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[(Xe=E.course)!=null&&Xe.level?E.course.level.charAt(0).toUpperCase()+E.course.level.slice(1):"Unknown"," ","Level"]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["Enrolled: ",new Date(E.created_at).toLocaleDateString()]}),E.completed_at&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsxs("span",{children:["Completed:"," ",new Date(E.completed_at).toLocaleDateString()]})]}),(($e=E.course)==null?void 0:$e.duration_weeks)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsxs("span",{children:["Duration: ",E.course.duration_weeks," weeks"]})]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${E.status==="approved"?"bg-green-100 text-green-800":E.status==="pending"?"bg-yellow-100 text-yellow-800":E.status==="completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})})]})},E.id)}),l.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ir,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Enrollments"}),s.jsx("p",{className:"text-gray-500",children:"Start by enrolling in your first course!"})]})]})]},"enrollments"),i==="certificates"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"My Achievements 🏆"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Your earned certificates and accomplishments"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.map(E=>{var se;return s.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl shadow-lg p-6 border border-yellow-200",children:s.jsxs("div",{className:"text-center",children:[s.jsx(it,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(se=E.course)==null?void 0:se.title}),s.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Completed: ",new Date(E.issued_at).toLocaleDateString()]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Verification Code"}),s.jsx("p",{className:"font-mono text-sm bg-white/50 px-2 py-1 rounded",children:E.verification_code})]})]})},E.id)}),d.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ut,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Certificates Yet"}),s.jsx("p",{className:"text-gray-500",children:"Complete courses to earn your first certificate!"})]})]})]},"certificates"),i==="profile"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",children:"My Profile 👤"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Manage your personal information and preferences"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.totalEnrollments}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Enrollments"})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.completedCourses}),s.jsx("div",{className:"text-sm text-gray-500",children:"Completed Courses"})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:y.certificatesEarned}),s.jsx("div",{className:"text-sm text-gray-500",children:"Certificates Earned"})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/20 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.learningStreak}),s.jsx("div",{className:"text-sm text-gray-500",children:"Day Streak"})]})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-8 border border-white/20",children:[s.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[s.jsx("div",{className:"h-20 w-20 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full flex items-center justify-center",children:s.jsx(an,{className:"h-10 w-10 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t==null?void 0:t.full_name}),s.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Role: ",(C=a())==null?void 0:C.replace("_"," ").toUpperCase()]})]})]}),s.jsx("button",{onClick:()=>N(!0),className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all duration-300",children:"Edit Profile"})]})]},"profile"),i==="analytics"&&r()&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Analytics Dashboard 📊"}),s.jsx("p",{className:"text-xl text-gray-600",children:"System analytics and reports"})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-8 border border-white/20",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx(Lt,{className:"h-8 w-8 text-purple-600"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"System Analytics"})]}),s.jsx("p",{className:"text-gray-600",children:"Advanced analytics and reporting features are available here for users with appropriate permissions."})]})]},"analytics"),i==="settings"&&n("settings","read")&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-600 to-slate-600 bg-clip-text text-transparent",children:"System Settings ⚙️"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Configure system settings"})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-8 border border-white/20",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx(ni,{className:"h-8 w-8 text-gray-600"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"System Configuration"})]}),s.jsx("p",{className:"text-gray-600",children:"System configuration options are available here for users with appropriate permissions."})]})]},"settings")]})]}),s.jsx(Am,{}),b&&t&&s.jsx(L2,{isOpen:b,onClose:()=>N(!1),user:t,onUpdate:()=>{N(!1)}})]})}const M2=It({gurukul_id:be().min(1,"Please select a Gurukul"),course_number:be().min(1,"Course number is required"),title:be().min(5,"Title must be at least 5 characters"),description:be().min(20,"Description must be at least 20 characters"),level:la(["elementary","basic","intermediate","advanced"]),age_group_min:Ys().min(4,"Minimum age must be at least 4"),age_group_max:Ys().max(100,"Maximum age must be less than 100"),duration_weeks:Ys().min(1,"Duration must be at least 1 week"),fee:Ys().min(0,"Fee must be non-negative"),price:Ys().min(0,"Price must be non-negative"),currency:be().default("USD"),max_students:Ys().min(1,"Must allow at least 1 student"),delivery_method:la(["physical","remote","hybrid"]),entry_requirements:be().optional(),learning_outcomes:jj(be()).min(1,"At least one learning outcome is required")});function O2(){var ie,Me,Ye,Xe,$e,Ke,et,dt,Ct;const{user:t}=ws(),[e,r]=m.useState([]),[n,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState([]),[f,h]=m.useState(!1),[g,p]=m.useState("overview"),[y,j]=m.useState([""]),{register:b,handleSubmit:N,reset:_,formState:{errors:w}}=Qr({resolver:en(M2),defaultValues:{level:"basic",delivery_method:"remote",learning_outcomes:[""]}});m.useEffect(()=>{t&&v()},[t]);const v=async()=>{try{const[T,X,he]=await Promise.all([n2(t.id),w2(t.id),bn()]);r(T),a(X),o(he)}catch(T){console.error("Error loading dashboard data:",T),D.error("Failed to load dashboard data")}finally{c(!1)}},x=async T=>{try{const X={...T,teacher_id:t.id,is_active:!0,learning_outcomes:y.filter(he=>he.trim()!==""),syllabus:null,price:T.price||0,currency:T.currency||"USD"};await bm(X),await v(),h(!1),_(),j([""]),D.success("Course created successfully!")}catch(X){console.error("Error creating course:",X),D.error("Failed to create course")}},A=async T=>{try{await to(T,"approved"),await v(),D.success("Enrollment approved!")}catch(X){console.error("Error approving enrollment:",X),D.error("Failed to approve enrollment")}},S=async T=>{try{await to(T,"rejected"),await v(),D.success("Enrollment rejected")}catch(X){console.error("Error rejecting enrollment:",X),D.error("Failed to reject enrollment")}},M=async()=>{if(d.length===0){D.error("Please select enrollments to approve");return}try{await Cm(d,"approved"),await v(),u([]),D.success(`${d.length} enrollments approved!`)}catch(T){console.error("Error in bulk approval:",T),D.error("Failed to approve enrollments")}},B=async T=>{try{await el(T),await v(),D.success("Certificate issued successfully!")}catch(X){console.error("Error issuing certificate:",X),D.error("Failed to issue certificate")}},J=async()=>{const T=n.filter(X=>X.status==="completed"&&!X.certificate_issued);if(T.length===0){D.error("No eligible students for certificate issuance");return}try{await so(T.map(X=>X.id)),await v(),D.success(`${T.length} certificates issued!`)}catch(X){console.error("Error in bulk certificate issuance:",X),D.error("Failed to issue certificates")}},L=()=>{j([...y,""])},z=T=>{if(y.length>1){const X=y.filter((he,xe)=>xe!==T);j(X)}},ne=(T,X)=>{const he=[...y];he[T]=X,j(he)},W={totalCourses:e.length,totalStudents:n.length,pendingApprovals:n.filter(T=>T.status==="pending").length,completedCourses:n.filter(T=>T.status==="completed").length,certificatesIssued:n.filter(T=>T.certificate_issued).length,pendingCertificates:n.filter(T=>T.status==="completed"&&!T.certificate_issued).length,totalRevenue:n.filter(T=>T.payment_status==="paid").reduce((T,X)=>{var he;return T+(((he=X.course)==null?void 0:he.price)||0)},0),averageRating:n.length>0?n.length*4.5/n.length:0},ye=[{type:"enrollment",message:"New enrollment in Hindu Philosophy",time:"2 minutes ago",icon:We},{type:"completion",message:"Student completed Sanskrit Basics",time:"1 hour ago",icon:tt},{type:"certificate",message:"Certificate issued to Sarah Johnson",time:"3 hours ago",icon:bt},{type:"course",message:"Course materials updated",time:"1 day ago",icon:Pe}],le=[{title:"Create New Course",description:"Design and launch a new course",icon:wt,action:()=>h(!0),color:"bg-gradient-to-r from-blue-500 to-blue-600",highlight:!0},{title:"Review Enrollments",description:`${W.pendingApprovals} pending approvals`,icon:vt,action:()=>p("students"),color:"bg-gradient-to-r from-orange-500 to-orange-600",badge:W.pendingApprovals},{title:"Issue Certificates",description:`${W.pendingCertificates} ready to issue`,icon:it,action:()=>p("certificates"),color:"bg-gradient-to-r from-green-500 to-green-600",badge:W.pendingCertificates},{title:"View Analytics",description:"Track your teaching performance",icon:Lt,action:()=>p("analytics"),color:"bg-gradient-to-r from-purple-500 to-purple-600"}];if(l)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center pt-16 lg:pt-20",children:s.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white/20",children:[s.jsx(V.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-6 border-4 border-blue-200 border-t-blue-600 rounded-full"}),s.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Loading Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Preparing your teaching workspace..."})]})]})});const C=()=>{const T=new Date().getHours();return T<12?{greeting:"Good morning",icon:ca}:T<18?{greeting:"Good afternoon",icon:ca}:{greeting:"Good evening",icon:xm}},{greeting:E,icon:se}=C();return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 pt-16 lg:pt-20",children:[s.jsx(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/80 backdrop-blur-xl border-b border-white/20 sticky top-16 lg:top-20 z-40 shadow-lg",children:s.jsxs("div",{className:"container-max py-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsx(V.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"h-16 w-16 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-xl",children:s.jsx(ut,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex items-center gap-3 mb-2",children:[s.jsx(se,{className:"h-6 w-6 text-amber-500"}),s.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent",children:[E,", ",((ie=t==null?void 0:t.full_name)==null?void 0:ie.split(" ")[0])||"Teacher","! 👋"]})]}),s.jsx(V.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-gray-600 text-lg",children:"Ready to inspire minds and shape futures today?"})]})]}),s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsx(V.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},className:"relative",children:s.jsxs(V.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-3 bg-white/50 rounded-xl backdrop-blur-sm border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer",children:[s.jsx(dm,{className:"h-6 w-6 text-gray-600"}),W.pendingApprovals>0&&s.jsx(V.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-6 w-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse shadow-lg",children:W.pendingApprovals})]})}),s.jsx(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},children:s.jsxs(Re,{className:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-200 px-4 py-2 text-sm font-semibold shadow-lg",children:[s.jsx(hs,{className:"h-5 w-5 mr-2 fill-current"}),W.averageRating," Rating"]})}),s.jsx(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},children:s.jsxs(V.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>h(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 hover:from-blue-700 hover:via-purple-700 hover:to-indigo-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 font-semibold",children:[s.jsx(wt,{className:"h-5 w-5"}),s.jsx(Ms,{className:"h-5 w-5"}),"Create Course"]})})]})]}),s.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-8 flex gap-4 bg-white/50 backdrop-blur-sm p-3 rounded-2xl w-fit border border-white/20 shadow-lg",children:[{id:"overview",name:"Overview",icon:Lt,badge:null},{id:"courses",name:"My Courses",icon:Pe,badge:W.totalCourses>0?W.totalCourses:null},{id:"students",name:"Students",icon:We,badge:W.pendingApprovals>0?W.pendingApprovals:null},{id:"certificates",name:"Certificates",icon:bt,badge:W.pendingCertificates>0?W.pendingCertificates:null},{id:"analytics",name:"Analytics",icon:Br,badge:null}].map((T,X)=>s.jsxs(V.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.9+X*.1},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>{p(T.id),window.scrollTo({top:0,behavior:"smooth"})},className:`relative flex items-center space-x-3 px-5 py-3 rounded-xl font-semibold text-sm transition-all duration-300 ${g===T.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-white/80 hover:shadow-md"}`,children:[s.jsx(T.icon,{className:`h-5 w-5 ${g===T.id?"text-white":""}`}),s.jsx("span",{children:T.name}),T.badge&&s.jsx(V.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center shadow-lg",children:T.badge})]},T.id))})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-10",children:s.jsxs(zn,{mode:"wait",children:[g==="overview"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-12",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Total Courses",value:W.totalCourses,icon:Pe,gradient:"from-blue-500 via-blue-600 to-indigo-600",bgGradient:"from-blue-50 via-blue-100 to-indigo-100",delay:.1},{title:"Total Students",value:W.totalStudents,icon:We,gradient:"from-green-500 via-emerald-600 to-teal-600",bgGradient:"from-green-50 via-emerald-100 to-teal-100",delay:.2},{title:"Certificates",value:W.certificatesIssued,icon:it,gradient:"from-purple-500 via-violet-600 to-purple-600",bgGradient:"from-purple-50 via-violet-100 to-purple-100",delay:.3}].map(T=>s.jsx(V.div,{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:T.delay,duration:.6,type:"spring",stiffness:100},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group",children:s.jsxs($,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${T.bgGradient} opacity-10 group-hover:opacity-20 transition-opacity duration-300`}),s.jsxs(F,{className:"p-8 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-gray-600 text-sm font-semibold uppercase tracking-wider",children:T.title}),s.jsx(V.p,{initial:{scale:.8},animate:{scale:1},transition:{delay:T.delay+.2},className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:typeof T.value=="string"?T.value:T.value.toLocaleString()})]}),s.jsx(V.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:T.delay+.3,type:"spring",stiffness:200},whileHover:{scale:1.2,rotate:10},className:`h-16 w-16 bg-gradient-to-r ${T.gradient} rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow duration-300`,children:s.jsx(T.icon,{className:"h-8 w-8 text-white"})})]}),s.jsx(V.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:T.delay+.5,duration:1},className:"mt-6",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:"75%"},transition:{delay:T.delay+.7,duration:1.5},className:`h-full bg-gradient-to-r ${T.gradient} rounded-full`})})})]})]})},T.title))}),s.jsx(V.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:s.jsxs($,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-2xl overflow-hidden",children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ms,{className:"h-6 w-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-bold",children:"Quick Actions"})]})}),s.jsx(F,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:le.map((T,X)=>s.jsxs("div",{onClick:T.action,className:`relative p-6 rounded-xl cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg ${T.color} text-white group`,children:[T.highlight&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full animate-pulse",children:"NEW"}),T.badge&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:T.badge}),s.jsx(T.icon,{className:"h-8 w-8 mb-3 group-hover:scale-110 transition-transform"}),s.jsx("h3",{className:"font-semibold mb-1",children:T.title}),s.jsx("p",{className:"text-sm opacity-90",children:T.description})]},X))})})]})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs($,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hm,{className:"h-6 w-6 text-orange-600"}),s.jsx("h2",{className:"text-xl font-bold",children:"Recent Activity"})]})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:ye.map((T,X)=>s.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50/50 rounded-lg hover:bg-gray-100/50 transition-colors",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx(T.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:T.message}),s.jsx("p",{className:"text-sm text-gray-500",children:T.time})]})]},X))})})]}),s.jsxs($,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gm,{className:"h-6 w-6 text-yellow-600"}),s.jsx("h2",{className:"text-xl font-bold",children:"Performance Insights"})]})}),s.jsx(F,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(tt,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"font-semibold text-green-800",children:"Excellent Completion Rate"})]}),s.jsx("p",{className:"text-sm text-green-700",children:"85% of your students complete courses successfully"})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(hs,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"font-semibold text-blue-800",children:"High Student Satisfaction"})]}),s.jsxs("p",{className:"text-sm text-blue-700",children:["Average rating of ",W.averageRating,"/5.0 from students"]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg border border-purple-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(it,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"font-semibold text-purple-800",children:"Certificate Achievement"})]}),s.jsxs("p",{className:"text-sm text-purple-700",children:[W.certificatesIssued," certificates issued this month"]})]})]})})]})]})]},"overview"),g==="courses"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Courses"}),s.jsx("p",{className:"text-gray-600",children:"Manage and create your educational content"})]}),s.jsxs(I,{onClick:()=>h(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",children:[s.jsx(wt,{className:"h-5 w-5 mr-2"}),"Create New Course"]})]}),e.length===0?s.jsx($,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:s.jsxs(F,{className:"text-center py-16",children:[s.jsx(Pe,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No courses yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first course to start teaching!"}),s.jsxs(I,{onClick:()=>h(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[s.jsx(wt,{className:"h-5 w-5 mr-2"}),"Create Your First Course"]})]})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(T=>{const X=n.filter(xe=>xe.course_id===T.id),he=X.filter(xe=>xe.status==="completed"&&!xe.certificate_issued).length;return s.jsxs($,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 group",children:[s.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 rounded-t-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[s.jsx(Re,{className:`${Os(T.level)} mb-2`,children:T.level}),s.jsx("p",{className:"text-sm opacity-90",children:T.course_number})]}),he>0&&s.jsxs("div",{className:"absolute top-4 right-4 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full animate-pulse",children:[he," Certificates"]})]}),s.jsxs(F,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 group-hover:text-blue-600 transition-colors",children:T.title}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:T.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(da,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[X.length," students"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[T.duration_weeks," weeks"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ca,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:hn(T.price)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(it,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[X.filter(xe=>xe.certificate_issued).length," ","certified"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ee,{to:Jr(T),className:"flex-1",children:s.jsxs(I,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Rt,{className:"h-4 w-4 mr-1"}),"View Details"]})}),he>0&&s.jsxs(I,{size:"sm",onClick:()=>{const xe=X.filter(R=>R.status==="completed"&&!R.certificate_issued);xe.length>0&&so(xe.map(R=>R.id))},className:"bg-gradient-to-r from-green-500 to-green-600",children:[s.jsx(d1,{className:"h-4 w-4 mr-1"}),"Issue (",he,")"]})]})]})]},T.id)})})]},"courses"),g==="students"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Student Management"}),s.jsx("p",{className:"text-gray-600",children:"Review enrollments and manage student progress"})]}),d.length>0&&s.jsxs(I,{onClick:M,className:"bg-gradient-to-r from-green-500 to-green-600",children:[s.jsx(tt,{className:"h-5 w-5 mr-2"}),"Approve Selected (",d.length,")"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx($,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx(We,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:W.totalStudents}),s.jsx("div",{className:"text-sm text-blue-700",children:"Total Students"})]})}),s.jsx($,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx(vt,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-orange-900",children:W.pendingApprovals}),s.jsx("div",{className:"text-sm text-orange-700",children:"Pending Approvals"})]})}),s.jsx($,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx(tt,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-green-900",children:n.filter(T=>T.status==="approved").length}),s.jsx("div",{className:"text-sm text-green-700",children:"Active Students"})]})}),s.jsx($,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx(it,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:W.completedCourses}),s.jsx("div",{className:"text-sm text-purple-700",children:"Completed"})]})})]}),s.jsx($,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:s.jsx(F,{className:"p-6",children:n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(We,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No students yet"}),s.jsx("p",{className:"text-gray-600",children:"Students will appear here once they enroll in your courses."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4",children:s.jsx("input",{type:"checkbox",onChange:T=>{T.target.checked?u(n.filter(X=>X.status==="pending").map(X=>X.id)):u([])},className:"rounded border-gray-300"})}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Student"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Course"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Enrolled"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:n.map(T=>{var X,he,xe,R,q,je;return s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50",children:[s.jsx("td",{className:"py-3 px-4",children:T.status==="pending"&&s.jsx("input",{type:"checkbox",checked:d.includes(T.id),onChange:mt=>{mt.target.checked?u([...d,T.id]):u(d.filter(ft=>ft!==T.id))},className:"rounded border-gray-300"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-bold",children:((he=(X=T.student)==null?void 0:X.full_name)==null?void 0:he.charAt(0))||"S"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(xe=T.student)==null?void 0:xe.full_name}),s.jsx("p",{className:"text-sm text-gray-500",children:(R=T.student)==null?void 0:R.email})]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(q=T.course)==null?void 0:q.title}),s.jsx("p",{className:"text-sm text-gray-500",children:(je=T.course)==null?void 0:je.course_number})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(Re,{className:Ri(T.status),children:T.status})}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:ds(T.enrolled_at)}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[T.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(I,{size:"sm",onClick:()=>A(T.id),className:"bg-green-600 hover:bg-green-700",children:s.jsx(tt,{className:"h-4 w-4"})}),s.jsx(I,{size:"sm",variant:"outline",onClick:()=>S(T.id),className:"text-red-600 border-red-300 hover:bg-red-50",children:s.jsx(Hr,{className:"h-4 w-4"})})]}),T.status==="completed"&&!T.certificate_issued&&s.jsxs(I,{size:"sm",onClick:()=>B(T.id),className:"bg-gradient-to-r from-purple-500 to-purple-600",children:[s.jsx(it,{className:"h-4 w-4 mr-1"}),"Issue Certificate"]})]})})]},T.id)})})]})})})})]},"students"),g==="certificates"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Certificate Management"}),s.jsx("p",{className:"text-gray-600",children:"Issue and manage student certificates"})]}),W.pendingCertificates>0&&s.jsxs(I,{onClick:J,className:"bg-gradient-to-r from-purple-500 to-purple-600 shadow-lg",children:[s.jsx(it,{className:"h-5 w-5 mr-2"}),"Issue All Eligible (",W.pendingCertificates,")"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx($,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx(it,{className:"h-10 w-10 text-green-600 mx-auto mb-3"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:W.certificatesIssued}),s.jsx("div",{className:"text-sm text-green-700",children:"Certificates Issued"})]})}),s.jsx($,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx(vt,{className:"h-10 w-10 text-orange-600 mx-auto mb-3"}),s.jsx("div",{className:"text-3xl font-bold text-orange-900",children:W.pendingCertificates}),s.jsx("div",{className:"text-sm text-orange-700",children:"Pending Certificates"})]})}),s.jsx($,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx(tt,{className:"h-10 w-10 text-blue-600 mx-auto mb-3"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:W.completedCourses}),s.jsx("div",{className:"text-sm text-blue-700",children:"Completed Courses"})]})})]}),W.pendingCertificates>0&&s.jsxs($,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"h-6 w-6 text-orange-600"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Pending Certificates"})]})}),s.jsx(F,{children:s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.filter(T=>T.status==="completed"&&!T.certificate_issued).map(T=>{var X,he,xe,R;return s.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:((he=(X=T.student)==null?void 0:X.full_name)==null?void 0:he.charAt(0))||"S"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-orange-900",children:(xe=T.student)==null?void 0:xe.full_name}),s.jsx("p",{className:"text-sm text-orange-700",children:(R=T.course)==null?void 0:R.title})]})]}),s.jsxs("div",{className:"text-xs text-orange-600 mb-3",children:["Completed:"," ",ds(T.completed_at||T.enrolled_at)]}),s.jsxs(I,{size:"sm",onClick:()=>B(T.id),className:"w-full bg-gradient-to-r from-purple-500 to-purple-600",children:[s.jsx(it,{className:"h-4 w-4 mr-1"}),"Issue Certificate"]})]},T.id)})})})]}),s.jsxs($,{className:"border-0 shadow-xl bg-white/70 backdrop-blur-sm",children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(it,{className:"h-6 w-6 text-green-600"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Issued Certificates"})]})}),s.jsx(F,{children:W.certificatesIssued===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No certificates issued yet"}),s.jsx("p",{className:"text-gray-600",children:"Certificates will appear here once you issue them to students."})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.filter(T=>T.certificate_issued).map(T=>{var X,he;return s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:s.jsx(it,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:(X=T.student)==null?void 0:X.full_name}),s.jsx("p",{className:"text-sm text-green-700",children:(he=T.course)==null?void 0:he.title})]})]}),s.jsxs("div",{className:"text-xs text-green-600",children:["Issued: ",ds(T.updated_at)]})]},T.id)})})})]})]},"certificates"),g==="analytics"&&s.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col gap-12 pt-8",children:[s.jsxs(V.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1,duration:.6},className:"text-center space-y-6",children:[s.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Teaching Analytics"}),s.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Track your performance and student engagement with detailed insights"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Average Rating",value:W.averageRating,icon:hs,gradient:"from-yellow-500 via-orange-500 to-red-500",bgGradient:"from-yellow-50 via-orange-100 to-red-100",delay:.1},{title:"Completion Rate",value:n.length>0?Math.round(n.filter(T=>T.status==="completed").length/n.length*100)+"%":"0%",icon:tt,gradient:"from-green-500 via-emerald-600 to-teal-600",bgGradient:"from-green-50 via-emerald-100 to-teal-100",delay:.2},{title:"Avg Students/Course",value:Math.round(W.totalStudents/W.totalCourses)||0,icon:We,gradient:"from-purple-500 via-violet-600 to-indigo-600",bgGradient:"from-purple-50 via-violet-100 to-indigo-100",delay:.3}].map(T=>s.jsx(V.div,{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:T.delay,duration:.6,type:"spring",stiffness:100},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},className:"group",children:s.jsxs($,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden relative",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${T.bgGradient} opacity-10 group-hover:opacity-20 transition-opacity duration-300`}),s.jsxs(F,{className:"p-8 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-gray-600 text-sm font-semibold uppercase tracking-wider",children:T.title}),s.jsx(V.p,{initial:{scale:.8},animate:{scale:1},transition:{delay:T.delay+.2},className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:typeof T.value=="string"?T.value:T.value.toLocaleString()})]}),s.jsx(V.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:T.delay+.3,type:"spring",stiffness:200},whileHover:{scale:1.2,rotate:10},className:`h-16 w-16 bg-gradient-to-r ${T.gradient} rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow duration-300`,children:s.jsx(T.icon,{className:"h-8 w-8 text-white"})})]}),s.jsx(V.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:T.delay+.5,duration:1},className:"mt-6",children:s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:"85%"},transition:{delay:T.delay+.7,duration:1.5},className:`h-full bg-gradient-to-r ${T.gradient} rounded-full`})})})]})]})},T.title))}),s.jsxs(V.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"space-y-16",children:[s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Course Performance Overview"}),s.jsx("p",{className:"text-gray-600",children:"Detailed insights into each of your courses"})]}),s.jsx("div",{className:"grid gap-8",children:e.map((T,X)=>{const he=n.filter(R=>R.course_id===T.id),xe=he.length>0?Math.round(he.filter(R=>R.status==="completed").length/he.length*100):0;return s.jsx(V.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.7+X*.1,duration:.6},whileHover:{scale:1.02},className:"group",children:s.jsxs($,{className:"bg-white/80 backdrop-blur-sm border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/50 via-purple-50/50 to-indigo-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs(F,{className:"p-8 relative",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"text-xl font-bold text-gray-900",children:T.title}),s.jsxs("p",{className:"text-gray-600",children:["Course #",T.course_number]})]}),s.jsx(V.div,{whileHover:{scale:1.1},className:"flex items-center space-x-2",children:s.jsxs(Re,{className:`text-sm font-medium px-4 py-2 ${xe>=80?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":xe>=60?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white":"bg-gradient-to-r from-red-500 to-pink-600 text-white"}`,children:[xe,"% completion"]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Enrolled",value:he.length,icon:"👥"},{label:"Completed",value:he.filter(R=>R.status==="completed").length,icon:"✅"},{label:"Certificates",value:he.filter(R=>R.certificate_issued).length,icon:"🏆"}].map((R,q)=>s.jsxs(V.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+X*.1+q*.05},className:"bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center border border-white/30 hover:border-white/50 transition-all duration-300",children:[s.jsx("div",{className:"text-2xl mb-2",children:R.icon}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:R.value}),s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:R.label})]},R.label))}),s.jsxs(V.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:1+X*.1,duration:1},className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[xe,"%"]})]}),s.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:s.jsx(V.div,{initial:{width:0},animate:{width:`${xe}%`},transition:{delay:1.2+X*.1,duration:1.5},className:`h-full rounded-full ${xe>=80?"bg-gradient-to-r from-green-500 to-emerald-600":xe>=60?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-red-500 to-pink-600"}`})})]})]})]})},T.id)})})]})]},"analytics")]})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Course"}),s.jsx("p",{className:"text-gray-600",children:"Design your next educational masterpiece"})]}),s.jsx("button",{onClick:()=>{h(!1),_(),j([""])},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Hr,{className:"h-6 w-6"})})]})}),s.jsxs("form",{onSubmit:N(x),className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gurukul"}),s.jsxs("select",{...b("gurukul_id"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select a Gurukul"}),i.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))]}),w.gurukul_id&&s.jsx("p",{className:"text-sm text-red-600",children:w.gurukul_id.message})]}),s.jsx(ee,{label:"Course Number",placeholder:"e.g., C1001",...b("course_number"),error:(Me=w.course_number)==null?void 0:Me.message}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(ee,{label:"Course Title",placeholder:"Enter an engaging course title",...b("title"),error:(Ye=w.title)==null?void 0:Ye.message})}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{...b("description"),rows:4,className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Describe what students will learn and achieve"}),w.description&&s.jsx("p",{className:"text-sm text-red-600",children:w.description.message})]})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),s.jsxs("select",{...b("level"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"elementary",children:"Elementary (4-7 years)"}),s.jsx("option",{value:"basic",children:"Basic (8-11 years)"}),s.jsx("option",{value:"intermediate",children:"Intermediate (12-15 years)"}),s.jsx("option",{value:"advanced",children:"Advanced (16-19 years)"})]}),w.level&&s.jsx("p",{className:"text-sm text-red-600",children:w.level.message})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Method"}),s.jsxs("select",{...b("delivery_method"),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"remote",children:"Online"}),s.jsx("option",{value:"physical",children:"In-person"}),s.jsx("option",{value:"hybrid",children:"Hybrid"})]}),w.delivery_method&&s.jsx("p",{className:"text-sm text-red-600",children:w.delivery_method.message})]}),s.jsx(ee,{label:"Minimum Age",type:"number",...b("age_group_min",{valueAsNumber:!0}),error:(Xe=w.age_group_min)==null?void 0:Xe.message}),s.jsx(ee,{label:"Maximum Age",type:"number",...b("age_group_max",{valueAsNumber:!0}),error:($e=w.age_group_max)==null?void 0:$e.message}),s.jsx(ee,{label:"Duration (weeks)",type:"number",...b("duration_weeks",{valueAsNumber:!0}),error:(Ke=w.duration_weeks)==null?void 0:Ke.message}),s.jsx(ee,{label:"Course Fee (€)",type:"number",step:"0.01",...b("fee",{valueAsNumber:!0}),error:(et=w.fee)==null?void 0:et.message}),s.jsx(ee,{label:"Maximum Students",type:"number",...b("max_students",{valueAsNumber:!0}),error:(dt=w.max_students)==null?void 0:dt.message}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(ee,{label:"Entry Requirements (Optional)",placeholder:"Any prerequisites or requirements",...b("entry_requirements"),error:(Ct=w.entry_requirements)==null?void 0:Ct.message})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Learning Outcomes"}),s.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:L,children:[s.jsx(wt,{className:"h-4 w-4 mr-1"}),"Add Outcome"]})]}),s.jsx("div",{className:"space-y-3",children:y.map((T,X)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:T,onChange:he=>ne(X,he.target.value),placeholder:`Learning outcome ${X+1}`,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),y.length>1&&s.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>z(X),className:"text-red-600 border-red-300 hover:bg-red-50",children:s.jsx(Hr,{className:"h-4 w-4"})})]},X))})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>{h(!1),_(),j([""])},children:"Cancel"}),s.jsxs(I,{type:"submit",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[s.jsx(Ms,{className:"h-5 w-5 mr-2"}),"Create Course"]})]})]})]})})]})}function D2(){const{loading:t,isSuperAdmin:e}=Mt(),{user:r,loading:n}=ws();if(t||n)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center page-with-header",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner w-8 h-8 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})});if(e)return s.jsx(yt,{to:"/admin/dashboard",replace:!0});if(r)switch(r.role){case"student":return s.jsx(yt,{to:"/dashboard/student",replace:!0});case"teacher":return s.jsx(yt,{to:"/dashboard/teacher",replace:!0});case"admin":return s.jsx(yt,{to:"/dashboard/admin",replace:!0});default:return s.jsx(yt,{to:"/auth/signin",replace:!0})}return s.jsx(yt,{to:"/auth/signin",replace:!0})}const I2=()=>{const{signIn:t,loading:e,isSuperAdmin:r,user:n}=Mt(),a=ro(),[i,o]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState(!1),[f,h]=m.useState(!1),g=m.useRef(!1);m.useEffect(()=>{!e&&n&&r&&!g.current&&(g.current=!0,a("/admin/dashboard",{replace:!0}))},[n,r,e,a]);const p=async y=>{y.preventDefault(),h(!0);try{const{error:j}=await t(i,l);if(j){D.error((j==null?void 0:j.message)||"Login failed");return}D.success("Welcome to Admin Console")}catch(j){D.error("An unexpected error occurred"),console.error("Login error:",j)}finally{h(!1)}};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"max-w-md w-full p-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"eYogi Gurukul SSH University"}),s.jsx("p",{className:"text-gray-600",children:"Admin Console"})]}),s.jsxs("form",{onSubmit:p,className:"flex flex-col gap-8",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{id:"email",type:"email",value:i,onChange:y=>o(y.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@eyogi.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",type:d?"text":"password",value:l,onChange:y=>c(y.target.value),required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?s.jsx(a1,{className:"h-5 w-5 text-gray-400"}):s.jsx(Rt,{className:"h-5 w-5 text-gray-400"})})]})]}),s.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:f?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in to Admin Console"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Admin access only. Contact support if you need assistance."})})]})})})},xd={AdminDashboard:["admin","business_admin","super_admin"],AdminSidebar:["admin","business_admin","super_admin"],CertificateManagement:["admin","business_admin","super_admin"],CourseManagement:["admin","business_admin","teacher","super_admin"],EnrollmentManagement:["admin","business_admin","teacher","super_admin"],StudentManagement:["admin","business_admin","teacher","super_admin"],GurukulManagement:["admin","business_admin","super_admin"],ContentManagement:["admin","business_admin","super_admin"],SiteAnalytics:["admin","super_admin"],AdminPermissionManagement:["admin","super_admin"],AdminUserManagementNew:["admin","super_admin"],TeacherDashboard:["teacher","admin","super_admin"],StudentDashboard:["student","admin","super_admin"]};function Tm(){const{user:t,canAccess:e}=ws(),{profile:r,user:n}=Mt(),a=h=>n&&r?xd[h].includes(r.role):t?xd[h].includes(t.role):!1,i=(h,g="read")=>n&&r?r.role==="super_admin"||r.role==="admin"?!0:r.role==="business_admin"?["dashboard","courses","enrollments","students","gurukuls","content","certificates","assignments"].includes(h.toLowerCase()):!1:t?e(h,g):!1,o=()=>n&&r?r.role:(t==null?void 0:t.role)||null,l=()=>o()==="teacher",c=()=>o()==="business_admin",d=()=>o()==="admin",u=()=>o()==="super_admin";return{canAccessComponent:a,canAccessResource:i,getUserRole:o,isTeacher:l,isBusinessAdmin:c,isAdmin:d,isSuperAdminRole:u,isStudent:()=>o()==="student",currentUser:n&&r?r:t,isSuperAdmin:u()}}const V2=({isOpen:t,onClose:e})=>{var u,f,h,g;const{user:r,signOut:n}=Mt(),{canAccessResource:a,getUserRole:i,currentUser:o,isSuperAdminRole:l}=Tm(),d=[{name:"Dashboard",href:"/admin/dashboard",icon:fm,permission:{resource:"dashboard",action:"read"}},{name:"Users",href:"/admin/users",icon:da,permission:{resource:"users",action:"read"},adminOnly:!0},{name:"Courses",href:"/admin/courses",icon:Pe,permission:{resource:"courses",action:"read"}},{name:"Course Assignments",href:"/admin/course-assignments",icon:We,permission:{resource:"assignments",action:"read"}},{name:"Gurukuls",href:"/admin/gurukuls",icon:$j,permission:{resource:"gurukuls",action:"read"}},{name:"Enrollments",href:"/admin/enrollments",icon:ir,permission:{resource:"enrollments",action:"read"}},{name:"Certificates",href:"/admin/certificates",icon:ut,permission:{resource:"certificates",action:"read"}},{name:"Content",href:"/admin/content",icon:um,permission:{resource:"content",action:"read"}},{name:"Analytics",href:"/admin/analytics",icon:Lt,permission:{resource:"analytics",action:"read"},adminOnly:!0},{name:"Permissions",href:"/admin/permissions",icon:A1,permission:{resource:"permissions",action:"read"},adminOnly:!0}].filter(p=>{if(p.adminOnly){const y=i();if(y!=="admin"&&y!=="super_admin")return!1}return p.permission?a(p.permission.resource,p.permission.action):!0});return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",children:s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:e})}),s.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[s.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"eYogi Admin"})}),s.jsx("button",{type:"button",className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:e,children:s.jsx(_t,{className:"h-6 w-6"})})]}),s.jsx("nav",{className:"mt-8 px-4",children:s.jsx("div",{className:"space-y-2",children:d.map(p=>s.jsxs(Dm,{to:p.href,onClick:e,className:({isActive:y})=>`group flex items-center px-3 py-3 text-sm font-medium rounded-md ${y?"bg-blue-50 border-r-2 border-blue-500 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(p.icon,{className:"mr-3 h-5 w-5 flex-shrink-0","aria-hidden":"true"}),p.name]},p.name))})}),s.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:((u=o==null?void 0:o.full_name)==null?void 0:u.charAt(0))||((h=(f=r==null?void 0:r.email)==null?void 0:f.charAt(0))==null?void 0:h.toUpperCase())||"A"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:(o==null?void 0:o.full_name)||((g=r==null?void 0:r.email)==null?void 0:g.split("@")[0])||"Admin"}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(()=>{if(l())return"Super Admin";const p=i();return p?p.replace("_"," "):"Admin"})()})]})]}),s.jsx("button",{onClick:n,className:"p-1 rounded-md text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Sign out",children:s.jsx(Tj,{className:"h-5 w-5"})})]})})]})]})},$2=({onMenuClick:t})=>s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",onClick:t,children:s.jsx(Fn,{className:"h-6 w-6"})}),s.jsx("div",{className:"ml-4 lg:ml-0",children:s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"eYogi Gurukul Admin"})})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{type:"button",className:"p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 relative",children:[s.jsx(dm,{className:"h-6 w-6"}),s.jsx("span",{className:"absolute top-1 right-1 block h-2 w-2 rounded-full bg-red-400"})]})})]})}),F2=()=>{const[t,e]=m.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(V2,{isOpen:t,onClose:()=>e(!1)}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx($2,{onMenuClick:()=>e(!0)}),s.jsx("main",{className:"p-6",children:s.jsx(Im,{})})]})]})},yd=()=>{const[t,e]=m.useState({totalUsers:0,totalCourses:0,totalEnrollments:0,totalCertificates:0,recentEnrollments:0,activeUsers:0}),[r,n]=m.useState(!0);m.useEffect(()=>{a()},[]);const a=async()=>{try{const o=new Date;o.setDate(o.getDate()-30);const[l,c,d,u,f,h]=await Promise.all([Z.from("profiles").select("*",{count:"exact",head:!0}),Z.from("courses").select("*",{count:"exact",head:!0}),Z.from("enrollments").select("*",{count:"exact",head:!0}),Z.from("certificates").select("*",{count:"exact",head:!0}),Z.from("enrollments").select("*",{count:"exact",head:!0}).gte("created_at",o.toISOString()),Z.from("profiles").select("*",{count:"exact",head:!0}).eq("status","active")]);e({totalUsers:l.count||0,totalCourses:c.count||0,totalEnrollments:d.count||0,totalCertificates:u.count||0,recentEnrollments:f.count||0,activeUsers:h.count||0})}catch(o){console.error("Error loading dashboard stats:",o),e({totalUsers:0,totalCourses:0,totalEnrollments:0,totalCertificates:0,recentEnrollments:0,activeUsers:0})}finally{n(!1)}},i=[{title:"Total Users",value:t.totalUsers,icon:da,color:"bg-blue-500",change:`+${t.recentEnrollments} this month`},{title:"Active Courses",value:t.totalCourses,icon:Pe,color:"bg-green-500",change:"All time"},{title:"Total Enrollments",value:t.totalEnrollments,icon:ir,color:"bg-yellow-500",change:`+${t.recentEnrollments} recent`},{title:"Certificates Issued",value:t.totalCertificates,icon:ut,color:"bg-purple-500",change:"All time"},{title:"Active Users",value:t.activeUsers,icon:Br,color:"bg-indigo-500",change:"Currently active"},{title:"Monthly Growth",value:`${t.recentEnrollments}`,icon:Lt,color:"bg-pink-500",change:"Last 30 days"}];return r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((o,l)=>s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 rounded-lg bg-gray-200 animate-pulse",children:s.jsx("div",{className:"h-6 w-6 bg-gray-300 rounded"})})}),s.jsxs("div",{className:"ml-4 w-0 flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2 w-3/4"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-1 w-1/2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-full"})]})]})})},l))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Welcome to the eYogi Gurukul Admin Console"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:i.map((o,l)=>s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`p-3 rounded-lg ${o.color}`,children:s.jsx(o.icon,{className:"h-6 w-6 text-white"})})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:o.title}),s.jsx("dd",{className:"flex items-baseline",children:s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:o.value.toLocaleString()})}),s.jsx("dd",{className:"text-sm text-gray-500",children:o.change})]})})]})})},l))}),s.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("button",{className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(da,{className:"h-8 w-8 text-blue-600 mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Add New User"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create student or teacher account"})]}),s.jsxs("button",{className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Pe,{className:"h-8 w-8 text-green-600 mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Create Course"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Set up a new course"})]}),s.jsxs("button",{className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(ir,{className:"h-8 w-8 text-yellow-600 mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Manage Enrollments"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Review pending enrollments"})]}),s.jsxs("button",{className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Lt,{className:"h-8 w-8 text-purple-600 mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"View Reports"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Analytics and insights"})]})]})})]}),s.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"Activity feed will be implemented in Phase 2"}),s.jsx("p",{className:"text-sm",children:"Coming soon: Real-time enrollment updates, user registrations, and system events"})]})})]})]})},U2=[{value:"student",label:"Student",color:"bg-blue-100 text-blue-800"},{value:"teacher",label:"Teacher",color:"bg-green-100 text-green-800"},{value:"business_admin",label:"Business Admin",color:"bg-orange-100 text-orange-800"},{value:"admin",label:"Admin",color:"bg-purple-100 text-purple-800"},{value:"super_admin",label:"Super Admin",color:"bg-red-100 text-red-800"},{value:"parent",label:"Parent",color:"bg-yellow-100 text-yellow-800"}],B2=[{value:"active",label:"Active",color:"bg-green-100 text-green-800"},{value:"inactive",label:"Inactive",color:"bg-gray-100 text-gray-800"},{value:"suspended",label:"Suspended",color:"bg-red-100 text-red-800"},{value:"pending",label:"Pending",color:"bg-yellow-100 text-yellow-800"}];function H2({isOpen:t,onClose:e,onSuccess:r,user:n,mode:a}){const[i,o]=m.useState(!1),[l,c]=m.useState({email:"",password:"",full_name:"",role:"student",status:"active",phone:"",date_of_birth:"",address:"",emergency_contact:""});m.useEffect(()=>{c(a==="edit"&&n?{email:n.email||"",password:"",full_name:n.full_name||"",role:n.role||"student",status:n.status||"active",phone:n.phone||"",date_of_birth:n.date_of_birth||"",address:n.address||"",emergency_contact:n.emergency_contact||""}:{email:"",password:"",full_name:"",role:"student",status:"active",phone:"",date_of_birth:"",address:"",emergency_contact:""})},[a,n,t]);const d=h=>{const{name:g,value:p}=h.target;c(y=>({...y,[g]:p}))},u=()=>l.email?a==="create"&&!l.password?(D.error("Password is required for new users"),!1):l.full_name?l.email&&!/\S+@\S+\.\S+/.test(l.email)?(D.error("Please enter a valid email address"),!1):a==="create"&&l.password&&l.password.length<6?(D.error("Password must be at least 6 characters long"),!1):!0:(D.error("Full name is required"),!1):(D.error("Email is required"),!1),f=async h=>{if(h.preventDefault(),!!u()){o(!0);try{if(a==="create"){const{data:g,error:p}=await Z.auth.admin.createUser({email:l.email,password:l.password,email_confirm:!0});if(p)throw new Error(`Authentication error: ${p.message}`);if(!g.user)throw new Error("Failed to create user account");const y={id:g.user.id,email:l.email,full_name:l.full_name,role:l.role,status:l.status,phone:l.phone||null,date_of_birth:l.date_of_birth||null,address:l.address||null,emergency_contact:l.emergency_contact||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:j}=await Z.from("profiles").insert([y]);if(j)throw await Z.auth.admin.deleteUser(g.user.id),new Error(`Profile creation error: ${j.message}`);D.success("User created successfully!")}else{const g={full_name:l.full_name,role:l.role,status:l.status,phone:l.phone||null,date_of_birth:l.date_of_birth||null,address:l.address||null,emergency_contact:l.emergency_contact||null,updated_at:new Date().toISOString()},{error:p}=await Z.from("profiles").update(g).eq("id",n.id);if(p)throw new Error(`Update error: ${p.message}`);if(l.email!==n.email){const{error:y}=await Z.auth.admin.updateUserById(n.id,{email:l.email});if(y)throw new Error(`Email update error: ${y.message}`)}if(l.password){const{error:y}=await Z.auth.admin.updateUserById(n.id,{password:l.password});if(y)throw new Error(`Password update error: ${y.message}`)}D.success("User updated successfully!")}r(),e()}catch(g){console.error("Error saving user:",g),D.error(g.message||"An error occurred while saving the user")}finally{o(!1)}}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Jn,{className:"h-5 w-5 text-blue-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a==="create"?"Create New User":"Edit User"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ph,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(vy,{className:"h-4 w-4 inline mr-1"}),"Email Address *"]}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"user@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Jn,{className:"h-4 w-4 inline mr-1"}),"Full Name *"]}),s.jsx("input",{type:"text",name:"full_name",value:l.full_name,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe",required:!0})]}),(a==="create"||a==="edit")&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",a==="create"?"*":"(leave blank to keep current)"]}),s.jsx("input",{type:"password",name:"password",value:l.password,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:a==="create"?"Enter password":"Enter new password",required:a==="create",minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(gh,{className:"h-4 w-4 inline mr-1"}),"Role *"]}),s.jsx("select",{name:"role",value:l.role,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:U2.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),s.jsx("select",{name:"status",value:l.status,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:B2.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(py,{className:"h-4 w-4 inline mr-1"}),"Date of Birth"]}),s.jsx("input",{type:"date",name:"date_of_birth",value:l.date_of_birth,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),s.jsx("input",{type:"text",name:"emergency_contact",value:l.emergency_contact,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contact name and phone"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("input",{type:"text",name:"address",value:l.address,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Street address, city, state, zip"})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(yy,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fh,{className:"h-4 w-4"}),s.jsx("span",{children:a==="create"?"Create User":"Update User"})]})})]})]})]})}):null}const q2=()=>{const[t,e]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(""),[o,l]=m.useState("all"),[c,d]=m.useState("all"),[u,f]=m.useState(!1),[h,g]=m.useState(null),{user:p}=Mt();m.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const{data:S,error:M}=await Z.from("profiles").select("*").order("created_at",{ascending:!1});if(M){console.error("Error loading users:",M),D.error("Failed to load users");return}const B=(S||[]).filter(J=>J.full_name&&J.email&&J.role&&J.id!==(p==null?void 0:p.id));e(B)}catch(S){console.error("Error loading users:",S),D.error("Failed to load users")}finally{n(!1)}},j=()=>{g(null),f(!0)},b=S=>{if(S.role==="super_admin"&&(p==null?void 0:p.id)!==S.id){D.error("Cannot edit super admin users");return}g(S),f(!0)},N=async(S,M)=>{if(M==="super_admin"){D.error("Cannot delete super admin users");return}if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const{error:B}=await Z.from("profiles").delete().eq("id",S);if(B){console.error("Error deleting user:",B),D.error("Failed to delete user");return}D.success("User deleted successfully"),y()}catch(B){console.error("Error deleting user:",B),D.error("Failed to delete user")}},_=()=>{f(!1),g(null),y()},w=t.filter(S=>{const M=S.full_name.toLowerCase().includes(a.toLowerCase())||S.email.toLowerCase().includes(a.toLowerCase())||S.student_id&&S.student_id.toLowerCase().includes(a.toLowerCase()),B=o==="all"||S.role===o,J=c==="all"||S.status===c;return M&&B&&J}),v=S=>{switch(S){case"super_admin":return"bg-red-100 text-red-800";case"admin":return"bg-purple-100 text-purple-800";case"teacher":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";case"parent":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},x=S=>{switch(S){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";case"pending_verification":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=S=>S.role==="super_admin"||S.id===(p==null?void 0:p.id);return r?s.jsx("div",{className:"flex items-center justify-center min-h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage students, teachers, and administrators"})]}),s.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[s.jsx(fd,{className:"h-5 w-5 mr-2"}),"Add User"]})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Vs,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:S=>i(S.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:S=>l(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"student",children:"Students"}),s.jsx("option",{value:"teacher",children:"Teachers"}),s.jsx("option",{value:"admin",children:"Admins"}),s.jsx("option",{value:"super_admin",children:"Super Admins"}),s.jsx("option",{value:"parent",children:"Parents"})]})}),s.jsx("div",{children:s.jsxs("select",{value:c,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"suspended",children:"Suspended"}),s.jsx("option",{value:"pending_verification",children:"Pending"})]})}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(mm,{className:"h-4 w-4 mr-1"}),w.length," of ",t.length," users"]})]})}),s.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:S.full_name.charAt(0)})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.full_name}),A(S)&&s.jsx(P1,{className:"h-4 w-4 text-red-500 ml-2",title:"Protected user"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:S.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v(S.role)}`,children:S.role.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(S.status)}`,children:S.status.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.student_id||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(S.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>{},className:"text-gray-600 hover:text-gray-900 p-1",title:"View user",children:s.jsx(Rt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>b(S),disabled:A(S)&&(p==null?void 0:p.id)!==S.id,className:`p-1 ${A(S)&&(p==null?void 0:p.id)!==S.id?"text-gray-300 cursor-not-allowed":"text-blue-600 hover:text-blue-900"}`,title:A(S)?"Protected user":"Edit user",children:s.jsx(nn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>N(S.id,S.role),disabled:A(S),className:`p-1 ${A(S)?"text-gray-300 cursor-not-allowed":"text-red-600 hover:text-red-900"}`,title:A(S)?"Protected user":"Delete user",children:s.jsx(gr,{className:"h-4 w-4"})})]})})]},S.id))})]})}),w.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fd,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a||o!=="all"||c!=="all"?"Try adjusting your search criteria.":"Get started by adding a new user."})]})]}),s.jsx(H2,{isOpen:u,onClose:()=>f(!1),onSuccess:_,user:h,mode:h?"edit":"create"})]})},G2=({checked:t,onCheckedChange:e,disabled:r=!1,className:n=""})=>s.jsx("button",{type:"button",role:"switch","aria-checked":t,disabled:r,onClick:()=>e(!t),className:`
        relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ease-in-out
        ${t?"bg-blue-600":"bg-gray-200"}
        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        ${n}
      `,children:s.jsx("span",{className:`
          inline-block h-4 w-4 transform rounded-full bg-white transition duration-200 ease-in-out
          ${t?"translate-x-6":"translate-x-1"}
        `})}),z2=t=>{switch(t.toLowerCase()){case"users":return s.jsx(Pi,{className:"h-4 w-4"});case"courses":return s.jsx(uh,{className:"h-4 w-4"});case"enrollments":return s.jsx(Kn,{className:"h-4 w-4"});case"students":return s.jsx(Zn,{className:"h-4 w-4"});case"gurukuls":return s.jsx(hh,{className:"h-4 w-4"});case"content":return s.jsx(mh,{className:"h-4 w-4"});case"certificates":return s.jsx(Fo,{className:"h-4 w-4"});case"analytics":return s.jsx(Ai,{className:"h-4 w-4"});case"assignments":return s.jsx(Zn,{className:"h-4 w-4"});case"dashboard":return s.jsx(Ai,{className:"h-4 w-4"});case"settings":return s.jsx(wy,{className:"h-4 w-4"});case"permissions":return s.jsx(gh,{className:"h-4 w-4"});default:return s.jsx(Vn,{className:"h-4 w-4"})}},vd={admin:[],business_admin:[],super_admin:[],teacher:[],student:[]};function W2(){const[t,e]=m.useState([]),[r,n]=m.useState(vd),[a,i]=m.useState("business_admin"),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(!0),{canAccess:h}=jm(),g=async()=>{try{f(!0);const{data:_,error:w}=await Z.from("permissions").select("*").order("resource, action");if(w)throw w;const{data:v,error:x}=await Z.from("role_permissions").select(`
          id,
          role,
          permission_id,
          created_at,
          permission:permissions(*)
        `);if(x)throw x;const A=(_||[]).map(M=>({id:M.id,name:M.name,description:M.description||"",icon:z2(M.resource),resource:M.resource,action:M.action}));e(A);const S={admin:[],business_admin:[],super_admin:[],teacher:[],student:[]};(v||[]).forEach(M=>{S[M.role]&&S[M.role].push(M.permission_id)}),n(S)}catch(_){console.error("Error loading permissions:",_),D.error("Failed to load permissions from database")}finally{f(!1)}},p=async()=>{if(!h("permissions","update")){D.error("You don't have permission to update permissions");return}try{l(!0);const{error:_}=await Z.from("role_permissions").delete().eq("role",a);if(_)throw _;if(r[a].length>0){const w=r[a].map(x=>({role:a,permission_id:x})),{error:v}=await Z.from("role_permissions").insert(w);if(v)throw v}d(!1),D.success(`Permissions saved for ${a} role`)}catch(_){console.error("Error saving permissions:",_),D.error("Failed to save permissions to database")}finally{l(!1)}};if(m.useEffect(()=>{g()},[]),!h("permissions","view"))return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Vn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Access Denied"}),s.jsx("p",{className:"text-gray-500",children:"You don't have permission to view permissions."})]})});if(u)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vc,{className:"h-8 w-8 text-blue-500 mx-auto mb-4 animate-spin"}),s.jsx("p",{className:"text-gray-600",children:"Loading permissions..."})]})});const y=(_,w)=>{n(v=>{const x=v[a]||[],A=w?[...x,_]:x.filter(S=>S!==_);return d(!0),{...v,[a]:A}}),D.success(`Permission ${w?"granted":"removed"} for ${a}`)},j=Object.keys(vd),b=r[a]||[],N=t.reduce((_,w)=>{const v=w.resource;return _[v]||(_[v]=[]),_[v].push(w),_},{});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Permission Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage role-based permissions for your application"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(I,{onClick:g,disabled:u,className:"flex items-center gap-2",style:{backgroundColor:"#6b7280",color:"white"},children:[s.jsx(vc,{className:`h-4 w-4 ${u?"animate-spin":""}`}),"Refresh"]}),s.jsxs(I,{onClick:p,disabled:o||!c,className:"flex items-center gap-2",style:{backgroundColor:c?"#3b82f6":"#6b7280",color:"white"},children:[s.jsx(fh,{className:"h-4 w-4"}),o?"Saving...":"Save Changes"]})]})]}),c&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx(Vn,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"text-sm text-yellow-800",children:"You have unsaved changes"})]}),s.jsxs($,{children:[s.jsxs(fe,{children:[s.jsx(si,{children:"Role Selection"}),s.jsx(ri,{children:"Select a role to manage its permissions. Changes are saved to the database."})]}),s.jsx(F,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:j.map(_=>{const w=a===_,v=(r[_]||[]).length;return s.jsx("div",{onClick:()=>i(_),className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${w?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium capitalize text-gray-900 mb-1",children:_==="business_admin"?"Business Admin":_}),s.jsxs(Re,{variant:w?"default":"secondary",className:"text-xs",children:[v," permissions"]}),_==="business_admin"&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Limited admin access"})]})},_)})})})]}),a==="business_admin"&&s.jsxs($,{className:"border-amber-200 bg-amber-50",children:[s.jsxs(fe,{children:[s.jsxs(si,{className:"text-amber-800 flex items-center gap-2",children:[s.jsx(Vn,{className:"h-5 w-5"}),"Business Admin Role Guidelines"]}),s.jsx(ri,{className:"text-amber-700",children:"Business Admins have limited administrative access. Recommended permissions include:"})]}),s.jsxs(F,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[s.jsx(Ai,{className:"h-4 w-4"}),"Dashboard access"]}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[s.jsx(uh,{className:"h-4 w-4"}),"Course management"]}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[s.jsx(Kn,{className:"h-4 w-4"}),"Enrollment oversight"]}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[s.jsx(hh,{className:"h-4 w-4"}),"Gurukul management"]}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[s.jsx(Fo,{className:"h-4 w-4"}),"Certificate management"]}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[s.jsx(mh,{className:"h-4 w-4"}),"Content management"]}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Student oversight"]}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Course assignments"]})]}),s.jsxs("div",{className:"mt-3 p-2 bg-amber-100 rounded text-xs text-amber-800",children:[s.jsx("strong",{children:"Note:"})," Business Admins cannot access user management, system permissions, or advanced analytics."]})]})]}),s.jsx("div",{className:"space-y-6",children:Object.entries(N).map(([_,w])=>s.jsxs($,{children:[s.jsxs(fe,{children:[s.jsxs(si,{className:"capitalize flex items-center gap-2",children:[w[0].icon,_," Permissions"]}),s.jsxs(ri,{children:["Manage ",_,"-related permissions for the ",a," role"]})]}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:w.map(v=>{const x=b.includes(v.id);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-md",children:v.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:v.name}),s.jsx("div",{className:"text-sm text-gray-500",children:v.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[x&&s.jsx(Ti,{className:"h-4 w-4 text-green-500"}),s.jsx(G2,{checked:x,onCheckedChange:A=>y(v.id,A)})]})]},v.id)})})})]},_))})]})}const Pn={gurukul_id:"",course_number:"",title:"",slug:"",description:"",level:"basic",age_group_min:8,age_group_max:11,duration_weeks:6,price:50,currency:"EUR",max_students:20,delivery_method:"remote",learning_outcomes:[],is_active:!0,syllabus:null};function Y2(){const[t,e]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(""),[u,f]=m.useState(""),[h,g]=m.useState(""),[p,y]=m.useState(null),[j,b]=m.useState(!1),[N,_]=m.useState(!1),[w,v]=m.useState(null),[x,A]=m.useState(Pn),[S,M]=m.useState(!1);m.useEffect(()=>{J()},[]);const B=m.useCallback(()=>{let C=t;console.log("Filtering courses:",{totalCourses:t.length,searchTerm:c,filterGurukul:u,filterLevel:h}),c&&(C=C.filter(E=>E.title.toLowerCase().includes(c.toLowerCase())||E.description.toLowerCase().includes(c.toLowerCase())||E.course_number.toLowerCase().includes(c.toLowerCase()))),u&&(C=C.filter(E=>E.gurukul_id===u)),h&&(C=C.filter(E=>E.level===h)),console.log("Filtered courses:",C.length),i(C)},[t,c,u,h]);m.useEffect(()=>{B()},[B]);const J=async()=>{console.log("Starting to load data...");try{const[C,E,se]=await Promise.all([Fs(),bn(),A2()]);console.log("Loaded data:",{courses:C.length,gurukuls:E.length,users:se.length}),e(C),n(E)}catch(C){console.error("Error loading data:",C),D.error("Failed to load course data")}finally{l(!1)}},L=async C=>{try{const E={...C,featured:!C.featured};await gd(C.id,E),e(se=>se.map(ie=>ie.id===C.id?E:ie)),D.success(`Course ${E.featured?"featured":"unfeatured"} successfully`)}catch(E){console.error("Failed to toggle featured status:",E),D.error("Failed to update featured status")}},z=async C=>{if(window.confirm(`Are you sure you want to delete "${C.title}"?`))try{await r2(C.id),D.success("Course deleted successfully"),await J()}catch(E){console.error("Error deleting course:",E),D.error("Failed to delete course")}},ne=async()=>{if(!x.title||!x.gurukul_id||!x.course_number){D.error("Please fill in all required fields");return}M(!0);try{const C={gurukul_id:x.gurukul_id,course_number:x.course_number,title:x.title,slug:x.slug||x.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),description:x.description||"",detailed_description:x.detailed_description||void 0,level:x.level,age_group_min:x.age_group_min||5,age_group_max:x.age_group_max||18,duration_weeks:x.duration_weeks||1,duration_hours:x.duration_hours||void 0,delivery_method:x.delivery_method,price:x.price||0,currency:x.currency||"EUR",max_students:x.max_students||1,min_students:x.min_students||void 0,prerequisites:x.prerequisites||void 0,learning_outcomes:x.learning_outcomes.filter(E=>E.trim()!==""),includes_certificate:x.includes_certificate||!1,certificate_template_id:x.certificate_template_id||void 0,image_url:x.image_url||void 0,cover_image_url:x.cover_image_url||void 0,video_preview_url:x.video_preview_url||void 0,syllabus:x.syllabus,resources:x.resources||void 0,is_active:x.is_active!==void 0?x.is_active:!0,featured:x.featured||!1,tags:x.tags||void 0,meta_title:x.meta_title||void 0,meta_description:x.meta_description||void 0,teacher_id:x.teacher_id||void 0};console.log("Creating course with data:",JSON.stringify(C,null,2)),await bm(C),D.success("Course created successfully"),b(!1),A(Pn),await J()}catch(C){console.error("Error creating course:",C),D.error("Failed to create course: "+(C instanceof Error?C.message:"Unknown error"))}finally{M(!1)}},W=C=>{v(C),A({gurukul_id:C.gurukul_id,course_number:C.course_number,title:C.title,slug:C.slug,description:C.description,detailed_description:C.detailed_description||"",level:C.level,age_group_min:C.age_group_min,age_group_max:C.age_group_max,duration_weeks:C.duration_weeks,duration_hours:C.duration_hours||void 0,price:C.price,currency:C.currency,max_students:C.max_students,min_students:C.min_students||void 0,delivery_method:C.delivery_method,prerequisites:C.prerequisites||"",prerequisite_courses:C.prerequisite_courses||[],prerequisite_skills:C.prerequisite_skills||[],learning_outcomes:C.learning_outcomes||[],includes_certificate:C.includes_certificate||!1,certificate_template_id:C.certificate_template_id||"",image_url:C.image_url||"",cover_image_url:C.cover_image_url||"",video_preview_url:C.video_preview_url||"",syllabus:C.syllabus,resources:C.resources||[],is_active:C.is_active,featured:C.featured||!1,tags:C.tags||[],meta_title:C.meta_title||"",meta_description:C.meta_description||"",teacher_id:C.teacher_id||""}),_(!0)},ye=async()=>{if(w){M(!0);try{const C={gurukul_id:x.gurukul_id,course_number:x.course_number,title:x.title,slug:x.slug||x.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),description:x.description||"",detailed_description:x.detailed_description||void 0,level:x.level,age_group_min:x.age_group_min||5,age_group_max:x.age_group_max||18,duration_weeks:x.duration_weeks||1,duration_hours:x.duration_hours||void 0,delivery_method:x.delivery_method,price:x.price||0,currency:x.currency||"EUR",max_students:x.max_students||1,min_students:x.min_students||void 0,prerequisites:x.prerequisites||void 0,learning_outcomes:x.learning_outcomes.filter(E=>E.trim()!==""),includes_certificate:x.includes_certificate||!1,certificate_template_id:x.certificate_template_id||void 0,image_url:x.image_url||void 0,cover_image_url:x.cover_image_url||void 0,video_preview_url:x.video_preview_url||void 0,syllabus:x.syllabus,resources:x.resources||void 0,is_active:x.is_active!==void 0?x.is_active:!0,featured:x.featured||!1,tags:x.tags||void 0,meta_title:x.meta_title||void 0,meta_description:x.meta_description||void 0,teacher_id:x.teacher_id||void 0};await gd(w.id,C),D.success("Course updated successfully"),_(!1),v(null),A(Pn),await J()}catch(C){console.error("Error updating course:",C),D.error("Failed to update course")}finally{M(!1)}}},le=()=>{b(!1),_(!1),v(null),A(Pn)};return o?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2",children:"Loading courses..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Course Management"}),s.jsxs(I,{onClick:()=>b(!0),children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Add Course"]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ee,{placeholder:"Search courses...",value:c,onChange:C=>d(C.target.value),className:"w-full"})}),s.jsxs("select",{value:u,onChange:C=>f(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Gurukuls"}),r.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]}),s.jsxs("select",{value:h,onChange:C=>g(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Levels"}),s.jsx("option",{value:"elementary",children:"Elementary"}),s.jsx("option",{value:"basic",children:"Basic"}),s.jsx("option",{value:"intermediate",children:"Intermediate"}),s.jsx("option",{value:"advanced",children:"Advanced"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-3 px-4 py-3 bg-gray-50 border-b border-gray-200 text-xs font-medium text-gray-600 uppercase",children:[s.jsx("div",{className:"col-span-3",children:"Course"}),s.jsx("div",{className:"col-span-1",children:"Duration"}),s.jsx("div",{className:"col-span-1",children:"Age"}),s.jsx("div",{className:"col-span-1",children:"Price"}),s.jsx("div",{className:"col-span-1",children:"Level"}),s.jsx("div",{className:"col-span-2",children:"Status"}),s.jsx("div",{className:"col-span-1",children:"Featured"}),s.jsx("div",{className:"col-span-2 text-right",children:"Actions"})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:a.map(C=>s.jsxs("div",{className:"grid grid-cols-12 gap-3 px-4 py-3 hover:bg-gray-50 text-sm",children:[s.jsxs("div",{className:"col-span-3",children:[s.jsx("div",{className:"font-medium text-gray-900 text-sm truncate",children:C.title}),s.jsx("div",{className:"text-xs text-gray-500",children:C.course_number})]}),s.jsxs("div",{className:"col-span-1 text-xs text-gray-600",children:[s.jsxs("div",{children:[C.duration_weeks,"w"]}),C.duration_hours&&s.jsxs("div",{className:"text-gray-400",children:[C.duration_hours,"h"]})]}),s.jsxs("div",{className:"col-span-1 text-xs text-gray-600",children:[C.age_group_min,"-",C.age_group_max]}),s.jsxs("div",{className:"col-span-1 text-xs text-gray-600 font-medium",children:["$",C.price]}),s.jsx("div",{className:"col-span-1",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${Os(C.level)}`,children:C.level.charAt(0).toUpperCase()+C.level.slice(1)})}),s.jsx("div",{className:"col-span-2 flex items-center gap-1",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${C.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.is_active?"Active":"Inactive"})}),s.jsx("div",{className:"col-span-1",children:s.jsx("button",{onClick:()=>L(C),className:`inline-flex px-2 py-1 text-xs font-medium rounded-full transition-colors ${C.featured?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:C.featured?"Featured":"Feature"})}),s.jsxs("div",{className:"col-span-2 flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>y(C),className:"p-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"View",children:s.jsx(Rt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>W(C),className:"p-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit",children:s.jsx(nn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>z(C),className:"p-1 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:s.jsx(gr,{className:"h-4 w-4"})})]})]},C.id))})]}),a.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No courses found matching your criteria."}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Course Details"}),s.jsx("button",{onClick:()=>y(null),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:s.jsx(_t,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Title"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900",children:p.title})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Number"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900",children:p.course_number})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Os(p.level)}`,children:p.level})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),s.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900",children:[p.duration_weeks," weeks",p.duration_hours&&` (${p.duration_hours} hours)`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),s.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900 font-medium",children:[hn(p.price)," ",p.currency]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age Group"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900",children:Zr(p.age_group_min,p.age_group_max)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900",children:p.max_students})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Method"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900",children:p.delivery_method})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.is_active?"Active":"Inactive"}),p.featured&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Featured"})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900 min-h-[80px]",children:p.description})]}),p.detailed_description&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detailed Description"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900 min-h-[80px]",children:p.detailed_description})]}),p.prerequisites&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prerequisites"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md text-gray-900",children:p.prerequisites})]}),p.learning_outcomes&&p.learning_outcomes.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Learning Outcomes"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:s.jsx("ul",{className:"space-y-2",children:p.learning_outcomes.map((C,E)=>s.jsxs("li",{className:"flex items-start gap-2 text-gray-900",children:[s.jsx("span",{className:"text-blue-500 mt-1 text-sm",children:"•"}),s.jsx("span",{children:C})]},E))})})]}),p.tags&&p.tags.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),s.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-md",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map((C,E)=>s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:C},E))})})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Course"}),s.jsx("button",{onClick:le,className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:s.jsx(_t,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gurukul *"}),s.jsxs("select",{value:x.gurukul_id,onChange:C=>A({...x,gurukul_id:C.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a gurukul"}),r.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Number *"}),s.jsx(ee,{value:x.course_number,onChange:C=>A({...x,course_number:C.target.value}),placeholder:"e.g., CS101",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),s.jsx(ee,{value:x.title,onChange:C=>A({...x,title:C.target.value}),placeholder:"Course title",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{value:x.description,onChange:C=>A({...x,description:C.target.value}),placeholder:"Course description",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),s.jsxs("select",{value:x.level,onChange:C=>A({...x,level:C.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"elementary",children:"Elementary"}),s.jsx("option",{value:"basic",children:"Basic"}),s.jsx("option",{value:"intermediate",children:"Intermediate"}),s.jsx("option",{value:"advanced",children:"Advanced"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Method"}),s.jsxs("select",{value:x.delivery_method,onChange:C=>A({...x,delivery_method:C.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"remote",children:"Remote"}),s.jsx("option",{value:"physical",children:"Physical"}),s.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age Min"}),s.jsx(ee,{type:"number",value:x.age_group_min,onChange:C=>A({...x,age_group_min:parseInt(C.target.value)||0}),min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age Max"}),s.jsx(ee,{type:"number",value:x.age_group_max,onChange:C=>A({...x,age_group_max:parseInt(C.target.value)||0}),min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (weeks)"}),s.jsx(ee,{type:"number",value:x.duration_weeks,onChange:C=>A({...x,duration_weeks:parseInt(C.target.value)||0}),min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (hours)"}),s.jsx(ee,{type:"number",value:x.duration_hours||"",onChange:C=>A({...x,duration_hours:parseInt(C.target.value)||void 0}),min:"1",placeholder:"Optional"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),s.jsx(ee,{type:"number",value:x.price,onChange:C=>A({...x,price:parseFloat(C.target.value)||0}),min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),s.jsx(ee,{value:x.currency,onChange:C=>A({...x,currency:C.target.value}),placeholder:"EUR"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students"}),s.jsx(ee,{type:"number",value:x.max_students,onChange:C=>A({...x,max_students:parseInt(C.target.value)||0}),min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Students"}),s.jsx(ee,{type:"number",value:x.min_students||"",onChange:C=>A({...x,min_students:parseInt(C.target.value)||void 0}),min:"1",placeholder:"Optional"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Learning Outcomes"}),s.jsx("textarea",{value:x.learning_outcomes.join(`
`),onChange:C=>A({...x,learning_outcomes:C.target.value.split(`
`).filter(E=>E.trim()!=="")}),placeholder:"Enter each outcome on a new line",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(I,{variant:"outline",onClick:le,children:"Cancel"}),s.jsx(I,{onClick:ne,disabled:S,children:S?"Creating...":"Create Course"})]})]})]})}),N&&w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Course"}),s.jsx("button",{onClick:le,className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:s.jsx(_t,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gurukul *"}),s.jsxs("select",{value:x.gurukul_id,onChange:C=>A({...x,gurukul_id:C.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a gurukul"}),r.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Number *"}),s.jsx(ee,{value:x.course_number,onChange:C=>A({...x,course_number:C.target.value}),placeholder:"e.g., CS101",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),s.jsx(ee,{value:x.title,onChange:C=>A({...x,title:C.target.value}),placeholder:"Course title",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{value:x.description,onChange:C=>A({...x,description:C.target.value}),placeholder:"Course description",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),s.jsxs("select",{value:x.level,onChange:C=>A({...x,level:C.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"elementary",children:"Elementary"}),s.jsx("option",{value:"basic",children:"Basic"}),s.jsx("option",{value:"intermediate",children:"Intermediate"}),s.jsx("option",{value:"advanced",children:"Advanced"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Method"}),s.jsxs("select",{value:x.delivery_method,onChange:C=>A({...x,delivery_method:C.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"remote",children:"Remote"}),s.jsx("option",{value:"physical",children:"Physical"}),s.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age Min"}),s.jsx(ee,{type:"number",value:x.age_group_min,onChange:C=>A({...x,age_group_min:parseInt(C.target.value)||0}),min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age Max"}),s.jsx(ee,{type:"number",value:x.age_group_max,onChange:C=>A({...x,age_group_max:parseInt(C.target.value)||0}),min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (weeks)"}),s.jsx(ee,{type:"number",value:x.duration_weeks,onChange:C=>A({...x,duration_weeks:parseInt(C.target.value)||0}),min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (hours)"}),s.jsx(ee,{type:"number",value:x.duration_hours||"",onChange:C=>A({...x,duration_hours:parseInt(C.target.value)||void 0}),min:"1",placeholder:"Optional"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),s.jsx(ee,{type:"number",value:x.price,onChange:C=>A({...x,price:parseFloat(C.target.value)||0}),min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),s.jsx(ee,{value:x.currency,onChange:C=>A({...x,currency:C.target.value}),placeholder:"EUR"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Students"}),s.jsx(ee,{type:"number",value:x.max_students,onChange:C=>A({...x,max_students:parseInt(C.target.value)||0}),min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Students"}),s.jsx(ee,{type:"number",value:x.min_students||"",onChange:C=>A({...x,min_students:parseInt(C.target.value)||void 0}),min:"1",placeholder:"Optional"})]}),s.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:x.is_active,onChange:C=>A({...x,is_active:C.target.checked}),className:"mr-2"}),"Active"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:x.featured||!1,onChange:C=>A({...x,featured:C.target.checked}),className:"mr-2"}),"Featured"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Learning Outcomes"}),s.jsx("textarea",{value:x.learning_outcomes.join(`
`),onChange:C=>A({...x,learning_outcomes:C.target.value.split(`
`).filter(E=>E.trim()!=="")}),placeholder:"Enter each outcome on a new line",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(I,{variant:"outline",onClick:le,children:"Cancel"}),s.jsx(I,{onClick:ye,disabled:S,children:S?"Updating...":"Update Course"})]})]})]})})]})}function K2(t){const[e,r]=m.useState([]),[n,a]=m.useState(!0),[i,o]=m.useState(null),l=m.useCallback(async()=>{try{a(!0),o(null),console.log("Loading assignments with teacherId filter:",t);let h=Z.from("course_assignments").select("*").eq("is_active",!0).order("assigned_at",{ascending:!1});console.log("Executing assignment query...");const{data:g,error:p}=await h;if(console.log("Assignment query result:",{data:g,error:p,count:(g==null?void 0:g.length)||0}),p){console.error("Error loading course assignments:",JSON.stringify(p,null,2)),o("Failed to load course assignments"),D.error("Failed to load course assignments");return}const y=[];for(const j of g||[]){console.log("Processing assignment:",j);const{data:b}=await Z.from("courses").select("*").eq("id",j.course_id).single(),{data:N}=await Z.from("profiles").select("*").eq("teacher_id",j.teacher_id).single();console.log("Assignment relations:",{assignment_id:j.id,course:b==null?void 0:b.title,teacher:N==null?void 0:N.full_name,teacher_id:j.teacher_id}),y.push({...j,course:b,teacher:N})}console.log("Setting assignments with relations:",y),r(y)}catch(h){console.error("Error in loadAssignments:",h),o("Failed to load course assignments")}finally{a(!1)}},[t]),c=async(h,g,p,y)=>{try{console.log("assignTeacherToCourse called with:",{teacherId:h,courseId:g,assignedBy:p,notes:y});let j=h;const b=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;if(console.log("Checking teacherId format:",h,"isUUID:",b.test(h)),b.test(h)){console.log("Received profile ID, checking if teacher_id needs to be set:",h);const{data:w,error:v}=await Z.from("profiles").select("id, teacher_id, role").eq("id",h).eq("role","teacher").single();if(console.log("Found profile:",JSON.stringify(w,null,2)),console.log("Select error:",v),console.log("Profile teacher_id type:",typeof(w==null?void 0:w.teacher_id)),console.log("Profile teacher_id value:",w==null?void 0:w.teacher_id),console.log("Profile teacher_id === null:",(w==null?void 0:w.teacher_id)===null),console.log("Profile teacher_id == null:",(w==null?void 0:w.teacher_id)==null),console.log("!profile.teacher_id:",!(w!=null&&w.teacher_id)),w&&!w.teacher_id){console.log("Generating teacher_id that fits in VARCHAR(20)");const x=`TCH-${w.id.slice(-12)}`;console.log("Generated teacher_id:",x);const{error:A}=await Z.from("profiles").update({teacher_id:x}).eq("id",w.id);if(A)return console.error("Error updating teacher profile:",JSON.stringify(A,null,2)),D.error("Failed to update teacher profile"),!1;console.log("Successfully updated profile with teacher_id"),j=x}else if(w&&w.teacher_id)if(w.teacher_id.length>20){console.log("Existing teacher_id is too long, updating with shortened version");const x=`TCH-${w.id.slice(-12)}`;console.log("Updating to shortened teacher_id:",x);const{error:A}=await Z.from("profiles").update({teacher_id:x}).eq("id",w.id);if(A)return console.error("Error updating teacher profile with short ID:",JSON.stringify(A,null,2)),D.error("Failed to update teacher profile"),!1;console.log("Successfully updated profile with shortened teacher_id"),j=x}else j=w.teacher_id,console.log("Using existing teacher_id:",j);else if(w&&w.teacher_id===null){console.log("teacher_id is null, should have been handled above - this is unexpected");const x=`TCH-${w.id.slice(-12)}`;console.log("Fallback: Generated teacher_id:",x);const{error:A}=await Z.from("profiles").update({teacher_id:x}).eq("id",w.id);if(A)return console.error("Error updating teacher profile (fallback):",JSON.stringify(A,null,2)),D.error("Failed to update teacher profile"),!1;console.log("Successfully updated profile with teacher_id (fallback)"),j=x}else if(!w)return console.error("No teacher profile found for ID:",h),D.error("Teacher profile not found"),!1}console.log("Final actualTeacherId being used:",j),j.length>20&&(console.log("ActualTeacherId is too long, generating short version"),j=`TCH-${j.slice(-12)}`,console.log("Using shortened teacher_id:",j));const{data:N}=await Z.from("course_assignments").select("id").eq("teacher_id",j).eq("course_id",g).eq("is_active",!0).maybeSingle();if(N)return D.error("Teacher is already assigned to this course"),!1;const{error:_}=await Z.from("course_assignments").insert({teacher_id:j,course_id:g,assigned_by:p,notes:y,is_active:!0});return _?(console.error("Error assigning teacher to course:",JSON.stringify(_,null,2)),console.error("Assignment data:",JSON.stringify({teacher_id:j,course_id:g,assigned_by:p,notes:y,is_active:!0},null,2)),D.error("Failed to assign teacher to course: "+(_.message||"Unknown error")),!1):(D.success("Teacher assigned to course successfully"),await l(),!0)}catch(j){return console.error("Error in assignTeacherToCourse:",JSON.stringify(j,null,2)),console.error("Catch error details:",j),D.error("Failed to assign teacher to course: "+(j instanceof Error?j.message:"Unknown error")),!1}},d=async h=>{try{const{error:g}=await Z.from("course_assignments").update({is_active:!1}).eq("id",h);return g?(console.error("Error removing assignment:",g),D.error("Failed to remove assignment"),!1):(D.success("Assignment removed successfully"),await l(),!0)}catch(g){return console.error("Error in removeAssignment:",g),D.error("Failed to remove assignment"),!1}},u=async h=>{try{const{data:g,error:p}=await Z.from("course_assignments").select(`
          course:courses(*)
        `).eq("teacher_id",h).eq("is_active",!0);return p?(console.error("Error loading teacher courses:",p),[]):(g||[]).map(y=>y.course).filter(Boolean)}catch(g){return console.error("Error in getTeacherCourses:",g),[]}},f=async h=>{try{const{data:g,error:p}=await Z.from("course_assignments").select("teacher_id").eq("course_id",h).eq("is_active",!0);if(p)return console.error("Error loading assigned teachers:",p),[];const y=[];for(const j of g||[]){const{data:b}=await Z.from("profiles").select("*").eq("teacher_id",j.teacher_id).single();b&&y.push(b)}return y}catch(g){return console.error("Error in getAssignedTeachers:",g),[]}};return m.useEffect(()=>{l()},[t,l]),{assignments:e,loading:n,error:i,loadAssignments:l,assignTeacherToCourse:c,removeAssignment:d,getTeacherCourses:u,getAssignedTeachers:f}}const Z2=({isOpen:t,onClose:e,onAssign:r})=>{const[n,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(""),[d,u]=m.useState(""),[f,h]=m.useState(""),[g,p]=m.useState(!1);m.useEffect(()=>{t&&y()},[t]);const y=async()=>{try{const[b,N]=await Promise.all([Z.from("profiles").select("*").eq("role","teacher").eq("status","active").order("full_name"),Z.from("courses").select("*").eq("is_active",!0).order("title")]);console.log("Loaded teachers:",b.data),console.log("Loaded courses:",N.data),a(b.data||[]),o(N.data||[])}catch(b){console.error("Error loading data:",b),D.error("Failed to load teachers and courses")}},j=async()=>{if(!l||!d){D.error("Please select both teacher and course");return}p(!0),await r(l,d,f)&&(c(""),u(""),h(""),e()),p(!1)};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Assign Teacher to Course"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:s.jsx(_t,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher"}),s.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select a teacher"}),n.map(b=>{const N=b.teacher_id||b.id;return console.log("Teacher option:",{id:b.id,teacher_id:b.teacher_id,using:N,full_name:b.full_name,note:b.teacher_id?"has teacher_id":"will generate teacher_id"}),s.jsxs("option",{value:N,children:[b.full_name," (",b.email,")"]},b.id)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),s.jsxs("select",{value:d,onChange:b=>u(b.target.value),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select a course"}),i.map(b=>s.jsxs("option",{value:b.id,children:[b.title," (",b.course_number,")"]},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),s.jsx(ee,{value:f,onChange:b=>h(b.target.value),placeholder:"Assignment notes or comments"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx(I,{onClick:j,disabled:g,className:"flex-1",children:g?"Assigning...":"Assign"}),s.jsx(I,{variant:"outline",onClick:e,className:"flex-1",children:"Cancel"})]})]})]})}):null},J2=()=>{const[t,e]=m.useState(""),[r,n]=m.useState(!1),{assignments:a,loading:i,assignTeacherToCourse:o,removeAssignment:l}=K2(),{currentUser:c}=Tm(),d=a.filter(h=>{var g,p,y,j;return((g=h.course)==null?void 0:g.title.toLowerCase().includes(t.toLowerCase()))||((y=(p=h.teacher)==null?void 0:p.full_name)==null?void 0:y.toLowerCase().includes(t.toLowerCase()))||((j=h.course)==null?void 0:j.course_number.toLowerCase().includes(t.toLowerCase()))}),u=async(h,g,p)=>c!=null&&c.id?await o(h,g,c.id,p):(D.error("Unable to identify current user"),!1),f=async h=>{window.confirm("Are you sure you want to remove this assignment?")&&await l(h)};return i?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Course Assignments"}),s.jsx("p",{className:"text-gray-600",children:"Manage teacher assignments to courses"})]}),s.jsxs(I,{onClick:()=>n(!0),className:"flex items-center space-x-2",children:[s.jsx(wt,{className:"h-4 w-4"}),s.jsx("span",{children:"New Assignment"})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Vs,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx(ee,{type:"text",placeholder:"Search assignments...",value:t,onChange:h=>e(h.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"grid gap-4",children:d.length===0?s.jsx($,{children:s.jsxs(F,{className:"p-8 text-center",children:[s.jsx(We,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignments found"}),s.jsx("p",{className:"text-gray-600",children:t?"No assignments match your search.":"Start by creating your first course assignment."})]})}):d.map(h=>{var g,p,y;return s.jsx($,{children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Pe,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:(g=h.course)==null?void 0:g.title}),s.jsx(Re,{variant:"outline",children:(p=h.course)==null?void 0:p.course_number})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Teacher: ",(y=h.teacher)==null?void 0:y.full_name]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Assigned: ",new Date(h.assigned_at).toLocaleDateString()]}),h.notes&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Notes: ",h.notes]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Re,{className:"bg-green-100 text-green-800",children:"Active"}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>f(h.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(gr,{className:"h-4 w-4"})})]})]})})},h.id)})}),s.jsx(Z2,{isOpen:r,onClose:()=>n(!1),onAssign:u})]})};function X2(){const[t,e]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(new Set),[c,d]=m.useState(""),[u,f]=m.useState("all"),[h,g]=m.useState(!1);m.useEffect(()=>{p()},[]),m.useEffect(()=>{y()},[t,c,u]);const p=async()=>{try{const v=await Sm();e(v)}catch(v){console.error("Error loading enrollments:",v),D.error("Failed to load enrollments")}finally{i(!1)}},y=()=>{let v=t;c&&(v=v.filter(x=>{var A,S,M,B,J,L,z,ne,W,ye;return((S=(A=x.student)==null?void 0:A.full_name)==null?void 0:S.toLowerCase().includes(c.toLowerCase()))||((B=(M=x.student)==null?void 0:M.email)==null?void 0:B.toLowerCase().includes(c.toLowerCase()))||((L=(J=x.student)==null?void 0:J.student_id)==null?void 0:L.toLowerCase().includes(c.toLowerCase()))||((ne=(z=x.course)==null?void 0:z.title)==null?void 0:ne.toLowerCase().includes(c.toLowerCase()))||((ye=(W=x.course)==null?void 0:W.course_number)==null?void 0:ye.toLowerCase().includes(c.toLowerCase()))})),u!=="all"&&(v=v.filter(x=>x.status===u)),n(v)},j=v=>{const x=new Set(o);x.has(v)?x.delete(v):x.add(v),l(x)},b=()=>{o.size===r.length?l(new Set):l(new Set(r.map(v=>v.id)))},N=async(v,x)=>{try{await to(v,x),await p(),D.success(`Enrollment ${x} successfully`)}catch(A){console.error("Error updating enrollment:",A),D.error("Failed to update enrollment")}},_=async v=>{if(o.size===0){D.error("Please select enrollments to update");return}g(!0);try{await Cm(Array.from(o),v),await p(),l(new Set),D.success(`${o.size} enrollments ${v} successfully`)}catch(x){console.error("Error bulk updating enrollments:",x),D.error("Failed to update enrollments")}finally{g(!1)}},w={total:t.length,pending:t.filter(v=>v.status==="pending").length,approved:t.filter(v=>v.status==="approved").length,completed:t.filter(v=>v.status==="completed").length,rejected:t.filter(v=>v.status==="rejected").length};return a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"spinner w-8 h-8"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w.total}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:w.pending}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:w.approved}),s.jsx("div",{className:"text-sm text-gray-600",children:"Approved"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:w.completed}),s.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:w.rejected}),s.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]})})]}),s.jsxs($,{children:[s.jsxs(fe,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Enrollment Management"}),s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students, courses...",value:c,onChange:v=>d(v.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"})]}),s.jsxs("select",{value:u,onChange:v=>f(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),o.size>0&&s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium",children:[o.size," enrollment",o.size!==1?"s":""," ","selected"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(I,{size:"sm",onClick:()=>_("approved"),loading:h,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(tt,{className:"h-4 w-4 mr-1"}),"Approve All"]}),s.jsxs(I,{size:"sm",variant:"danger",onClick:()=>_("rejected"),loading:h,children:[s.jsx(Hr,{className:"h-4 w-4 mr-1"}),"Reject All"]})]})]})]}),s.jsx(F,{children:r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(an,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No enrollments found"}),s.jsx("p",{className:"text-gray-600",children:"No enrollments match your current filters."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:o.size===r.length&&r.length>0,onChange:b,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrolled"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(v=>{var x,A,S,M,B,J,L;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:o.has(v.id),onChange:()=>j(v.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:s.jsx(an,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((x=v.student)==null?void 0:x.full_name)||"Unknown"}),s.jsx("div",{className:"text-sm text-gray-500",children:(A=v.student)==null?void 0:A.email}),s.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",(S=v.student)==null?void 0:S.student_id]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pe,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:(M=v.course)==null?void 0:M.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:[(B=v.course)==null?void 0:B.course_number," •"," ",(L=(J=v.course)==null?void 0:J.gurukul)==null?void 0:L.name]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(Re,{className:Ri(v.status),children:v.status})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ca,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsx(Re,{className:Ri(v.payment_status),children:v.payment_status})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:ds(v.enrolled_at)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2",children:[v.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(I,{size:"sm",onClick:()=>N(v.id,"approved"),className:"bg-green-600 hover:bg-green-700",children:s.jsx(tt,{className:"h-4 w-4"})}),s.jsx(I,{size:"sm",variant:"danger",onClick:()=>N(v.id,"rejected"),children:s.jsx(Hr,{className:"h-4 w-4"})})]}),v.status==="approved"&&s.jsxs(I,{size:"sm",onClick:()=>N(v.id,"completed"),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),"Complete"]})]})})]},v.id)})})]})})})]})]})}function Q2(){const[t,e]=m.useState([]),[r,n]=m.useState({}),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(""),[u,f]=m.useState("all"),[h,g]=m.useState(!1),[p,y]=m.useState(null),[j,b]=m.useState({name:"",slug:"",description:"",image_url:""}),[N,_]=m.useState(!1);m.useEffect(()=>{w()},[]),m.useEffect(()=>{v()},[t,c,u]),m.useEffect(()=>{j.name&&!p&&b(L=>({...L,slug:va(j.name)}))},[j.name,p]);const w=async()=>{try{console.log("Loading gurukul data...");const[L,z]=await Promise.all([a2(),Fs()]);console.log("Gurukul data received:",L),console.log("Courses data received:",z),e(L);const ne={};z.forEach(W=>{ne[W.gurukul_id]=(ne[W.gurukul_id]||0)+1}),n(ne),console.log("Data loading completed. Gurukuls count:",L.length)}catch(L){console.error("Error loading data:",L),D.error("Failed to load gurukul data")}finally{l(!1)}},v=()=>{let L=t;if(c&&(L=L.filter(z=>z.name.toLowerCase().includes(c.toLowerCase())||z.slug.toLowerCase().includes(c.toLowerCase())||z.description.toLowerCase().includes(c.toLowerCase()))),u!=="all"){const z=u==="active";L=L.filter(ne=>ne.is_active===z)}i(L)},x=()=>{b({name:"",slug:"",description:"",image_url:""}),g(!1),y(null)},A=async L=>{L.preventDefault(),_(!0);try{p?(await pd(p.id,j),D.success("Gurukul updated successfully")):(await o2({...j,is_active:!0,sort_order:0}),D.success("Gurukul created successfully")),await w(),x()}catch(z){console.error("Error saving gurukul:",z),D.error("Failed to save gurukul")}finally{_(!1)}},S=L=>{y(L),b({name:L.name,slug:L.slug,description:L.description,image_url:L.image_url||""}),g(!0)},M=async L=>{if(confirm("Are you sure you want to delete this gurukul? This action cannot be undone."))try{await l2(L),await w(),D.success("Gurukul deleted successfully")}catch(z){console.error("Error deleting gurukul:",z),D.error("Failed to delete gurukul")}},B=async(L,z)=>{try{await pd(L,{is_active:!z}),await w(),D.success(`Gurukul ${z?"deactivated":"activated"} successfully`)}catch(ne){console.error("Error updating gurukul status:",ne),D.error("Failed to update gurukul status")}},J={total:t.length,active:t.filter(L=>L.is_active).length,inactive:t.filter(L=>L.is_active===!1).length,totalCourses:Object.values(r).reduce((L,z)=>L+z,0)};return o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"spinner w-8 h-8"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:J.total}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Gurukuls"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:J.active}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:J.inactive}),s.jsx("div",{className:"text-sm text-gray-600",children:"Inactive"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:J.totalCourses}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Courses"})]})})]}),h&&s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:p?"Edit Gurukul":"Create New Gurukul"}),s.jsx(I,{variant:"ghost",onClick:x,children:s.jsx(_t,{className:"h-5 w-5"})})]})}),s.jsx(F,{children:s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(ee,{label:"Gurukul Name",value:j.name,onChange:L=>b(z=>({...z,name:L.target.value})),required:!0}),s.jsx(ee,{label:"Slug",value:j.slug,onChange:L=>b(z=>({...z,slug:L.target.value})),required:!0,helperText:"URL-friendly identifier"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{value:j.description,onChange:L=>b(z=>({...z,description:L.target.value})),rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",required:!0})]}),s.jsx(ee,{label:"Image URL",value:j.image_url,onChange:L=>b(z=>({...z,image_url:L.target.value})),helperText:"Optional: URL to gurukul image"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs(I,{type:"submit",loading:N,children:[s.jsx(Qi,{className:"h-4 w-4 mr-2"}),p?"Update Gurukul":"Create Gurukul"]}),s.jsx(I,{type:"button",variant:"outline",onClick:x,children:"Cancel"})]})]})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Gurukul Management"}),s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search gurukuls...",value:c,onChange:L=>d(L.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"})]}),s.jsxs("select",{value:u,onChange:L=>f(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),s.jsxs(I,{onClick:()=>g(!0),children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"New Gurukul"]})]})]})}),s.jsx(F,{children:a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(rn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No gurukuls found"}),s.jsx("p",{className:"text-gray-600",children:"No gurukuls match your current filters."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gurukul"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Slug"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Courses"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(L=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(rn,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),s.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:L.description})]})]})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 font-mono",children:["/",L.slug]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pe,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[r[L.id]||0," courses"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(Re,{className:L.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:L.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:ds(L.created_at)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(I,{size:"sm",variant:"ghost",children:s.jsx(Rt,{className:"h-4 w-4"})}),s.jsx(I,{size:"sm",variant:"ghost",onClick:()=>S(L),children:s.jsx(nn,{className:"h-4 w-4"})}),s.jsx(I,{size:"sm",variant:L.is_active?"ghost":"secondary",onClick:()=>B(L.id,L.is_active),children:L.is_active?"Deactivate":"Activate"}),s.jsx(I,{size:"sm",variant:"danger",onClick:()=>M(L.id),children:s.jsx(gr,{className:"h-4 w-4"})})]})})]},L.id))})]})})})]})]})}function e_(){const[t,e]=m.useState(null),[r,n]=m.useState(!0),[a,i]=m.useState("7d"),[o,l]=m.useState("overview");m.useEffect(()=>{c()},[a]);const c=async()=>{n(!0);try{await new Promise(g=>setTimeout(g,1e3)),e({totalUsers:12847,activeUsers:3421,newUsers:1256,pageViews:45632,sessions:18934,bounceRate:34.2,avgSessionDuration:"4m 32s",topPages:[{page:"/",views:8934,uniqueViews:6234,avgTime:"2m 15s"},{page:"/courses",views:6543,uniqueViews:4321,avgTime:"3m 45s"},{page:"/gurukuls",views:4321,uniqueViews:3456,avgTime:"2m 58s"},{page:"/about",views:3456,uniqueViews:2987,avgTime:"1m 42s"},{page:"/contact",views:2345,uniqueViews:1876,avgTime:"1m 23s"}],userLocations:[{country:"Ireland",city:"Dublin",users:4234,percentage:32.9},{country:"India",city:"Mumbai",users:2876,percentage:22.4},{country:"United Kingdom",city:"London",users:1987,percentage:15.5},{country:"United States",city:"New York",users:1543,percentage:12},{country:"India",city:"Bangalore",users:1234,percentage:9.6},{country:"Canada",city:"Toronto",users:973,percentage:7.6}],referralSources:[{source:"Direct",users:5432,percentage:42.3,type:"direct"},{source:"Google Search",users:3456,percentage:26.9,type:"search"},{source:"Facebook",users:1876,percentage:14.6,type:"social"},{source:"YouTube",users:987,percentage:7.7,type:"social"},{source:"Twitter",users:654,percentage:5.1,type:"social"},{source:"Other Websites",users:442,percentage:3.4,type:"referral"}],deviceTypes:[{device:"Desktop",users:7234,percentage:56.3},{device:"Mobile",users:4321,percentage:33.6},{device:"Tablet",users:1292,percentage:10.1}],trafficTrends:[{date:"2025-01-20",users:1234,sessions:1876,pageViews:4532},{date:"2025-01-21",users:1456,sessions:2134,pageViews:5234},{date:"2025-01-22",users:1876,sessions:2876,pageViews:6543},{date:"2025-01-23",users:2134,sessions:3234,pageViews:7234},{date:"2025-01-24",users:1987,sessions:2987,pageViews:6876},{date:"2025-01-25",users:2345,sessions:3456,pageViews:7654},{date:"2025-01-26",users:2876,sessions:4234,pageViews:8934}],userEngagement:{returningUsers:8234,newUsers:4613,avgPagesPerSession:2.4,conversionRate:12.3}})}catch(h){console.error("Error loading analytics data:",h)}finally{n(!1)}},d=h=>{switch(h){case"search":return"🔍";case"social":return"📱";case"referral":return"🔗";default:return"🌐"}},u=h=>{switch(h.toLowerCase()){case"mobile":return Qj;case"desktop":return Un;default:return Un}},f=h=>h>=1e6?(h/1e6).toFixed(1)+"M":h>=1e3?(h/1e3).toFixed(1)+"K":h.toString();return r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner w-8 h-8 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics data..."})]})}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Site Analytics"}),s.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into your website performance"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:a,onChange:h=>i(h.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[s.jsx("option",{value:"1d",children:"Last 24 hours"}),s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"90d",children:"Last 90 days"}),s.jsx("option",{value:"1y",children:"Last year"})]}),s.jsxs(I,{variant:"outline",size:"sm",children:[s.jsx(Uj,{className:"h-4 w-4 mr-2"}),"Custom Range"]})]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"Overview",icon:Lt},{id:"traffic",name:"Traffic Sources",icon:eo},{id:"users",name:"User Insights",icon:We},{id:"content",name:"Content Performance",icon:Rt}].map(h=>s.jsxs("button",{onClick:()=>l(h.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${o===h.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(h.icon,{className:"h-5 w-5"}),s.jsx("span",{children:h.name})]},h.id))})}),o==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx($,{className:"card-hover",children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f(t.totalUsers)}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Br,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+12.5% from last period"})]})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(We,{className:"h-6 w-6 text-blue-600"})})]})})}),s.jsx($,{className:"card-hover",children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f(t.activeUsers)}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Br,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+8.2% from last period"})]})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Rt,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx($,{className:"card-hover",children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Page Views"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:f(t.pageViews)}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Br,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+15.3% from last period"})]})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Lt,{className:"h-6 w-6 text-purple-600"})})]})})}),s.jsx($,{className:"card-hover",children:s.jsx(F,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Bounce Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[t.bounceRate,"%"]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Rj,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"-2.1% from last period"})]})]}),s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(vt,{className:"h-6 w-6 text-orange-600"})})]})})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Traffic Trends"})}),s.jsx(F,{children:s.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:t.trafficTrends.map((h,g)=>s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("div",{className:"w-full bg-gradient-to-t from-orange-500 to-orange-300 rounded-t-md transition-all duration-300 hover:from-orange-600 hover:to-orange-400",style:{height:`${h.users/Math.max(...t.trafficTrends.map(p=>p.users))*200}px`}}),s.jsxs("div",{className:"mt-2 text-xs text-gray-600 text-center",children:[s.jsx("div",{className:"font-medium",children:f(h.users)}),s.jsx("div",{children:new Date(h.date).toLocaleDateString("en-US",{weekday:"short"})})]})]},g))})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx($,{children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f(t.sessions)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Sessions"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.avgSessionDuration}),s.jsx("div",{className:"text-sm text-gray-600",children:"Avg Session Duration"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.userEngagement.avgPagesPerSession}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pages per Session"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[t.userEngagement.conversionRate,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Conversion Rate"})]})})]})]}),o==="traffic"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx(eo,{className:"h-5 w-5 mr-2"}),"Traffic Sources"]})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:t.referralSources.map((h,g)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-lg",children:d(h.type)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:h.source}),s.jsx("p",{className:"text-sm text-gray-600",children:h.type})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:f(h.users)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[h.percentage,"%"]})]})]},g))})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx(Un,{className:"h-5 w-5 mr-2"}),"Device Types"]})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:t.deviceTypes.map((h,g)=>{const p=u(h.device);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(p,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:h.device}),s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${h.percentage}%`}})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:f(h.users)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[h.percentage,"%"]})]})]},g)})})})]})]})}),o==="users"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx($,{children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f(t.userEngagement.newUsers)}),s.jsx("div",{className:"text-sm text-gray-600",children:"New Users"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f(t.userEngagement.returningUsers)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Returning Users"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.userEngagement.avgPagesPerSession}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pages per Session"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-6 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[t.userEngagement.conversionRate,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Conversion Rate"})]})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx(pm,{className:"h-5 w-5 mr-2"}),"User Locations"]})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:t.userLocations.map((h,g)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:h.country.substring(0,2).toUpperCase()})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[h.city,", ",h.country]}),s.jsx("div",{className:"w-48 bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${h.percentage}%`}})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:f(h.users)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[h.percentage,"%"]})]})]},g))})})]})]}),o==="content"&&s.jsx("div",{className:"space-y-6",children:s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx(Rt,{className:"h-5 w-5 mr-2"}),"Top Performing Pages"]})}),s.jsx(F,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page Views"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unique Views"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time on Page"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.topPages.map((h,g)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.page==="/"?"Home Page":h.page})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:f(h.views)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:f(h.uniqueViews)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:h.avgTime})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(Re,{className:g<2?"bg-green-100 text-green-800":g<4?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:g<2?"Excellent":g<4?"Good":"Average"})})]},g))})]})})})]})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No analytics data available"}),s.jsx("p",{className:"text-gray-600",children:"Analytics data will appear here once tracking is set up."})]})}function t_(){const[t,e]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState("certificates"),[u,f]=m.useState(""),[h,g]=m.useState(new Set);m.useEffect(()=>{p()},[]);const p=async()=>{try{const v=(await Sm()).filter(x=>x.status==="completed"&&!x.certificate_issued);i(v),n([{id:"template-1",name:"Student Course Completion - Traditional",type:"student",is_active:!0,created_at:new Date().toISOString()},{id:"template-2",name:"Student Course Completion - Modern",type:"student",is_active:!0,created_at:new Date().toISOString()},{id:"template-3",name:"Teacher Qualification Certificate",type:"teacher",is_active:!1,created_at:new Date().toISOString()}]),e([])}catch(w){console.error("Error loading certificate data:",w),D.error("Failed to load certificate data")}finally{l(!1)}},y=async w=>{try{await el(w),await p(),D.success("Certificate issued successfully")}catch(v){console.error("Error issuing certificate:",v),D.error("Failed to issue certificate")}},j=async()=>{if(h.size===0){D.error("Please select enrollments to issue certificates for");return}try{await so(Array.from(h)),await p(),g(new Set),D.success(`${h.size} certificates issued successfully`)}catch(w){console.error("Error issuing certificates:",w),D.error("Failed to issue certificates")}},b=w=>{const v=new Set(h);v.has(w)?v.delete(w):v.add(w),g(v)},N=()=>{h.size===a.length?g(new Set):g(new Set(a.map(w=>w.id)))},_=a.filter(w=>{var v,x,A,S;return((x=(v=w.student)==null?void 0:v.full_name)==null?void 0:x.toLowerCase().includes(u.toLowerCase()))||((S=(A=w.course)==null?void 0:A.title)==null?void 0:S.toLowerCase().includes(u.toLowerCase()))});return o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"spinner w-8 h-8"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"certificates",name:"Recent Certificates",icon:bt},{id:"templates",name:"Templates",icon:bt},{id:"issue",name:"Issue Certificates",icon:wt}].map(w=>s.jsxs("button",{onClick:()=>d(w.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${c===w.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(w.icon,{className:"h-5 w-5"}),s.jsx("span",{children:w.name})]},w.id))})}),c==="certificates"&&s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h2",{className:"text-xl font-bold",children:"Recent Certificates"})}),s.jsx(F,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No certificates issued yet"}),s.jsx("p",{className:"text-gray-600",children:"Certificates will appear here once they are issued to students."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate #"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(w=>{var v,x;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-mono",children:w.certificate_number}),s.jsx("td",{className:"px-6 py-4 text-sm",children:(v=w.student)==null?void 0:v.full_name}),s.jsx("td",{className:"px-6 py-4 text-sm",children:(x=w.course)==null?void 0:x.title}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:ds(w.issued_at)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(I,{size:"sm",variant:"ghost",children:s.jsx(Rt,{className:"h-4 w-4"})}),s.jsx(I,{size:"sm",variant:"ghost",children:s.jsx(Cj,{className:"h-4 w-4"})})]})})]},w.id)})})]})})})]}),c==="templates"&&s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Certificate Templates"}),s.jsxs(I,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"New Template"]})]})}),s.jsx(F,{children:s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(w=>s.jsx($,{className:"card-hover",children:s.jsxs(F,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(bt,{className:"h-8 w-8 text-orange-600"}),s.jsx(Re,{className:w.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:w.is_active?"Active":"Inactive"})]}),s.jsx("h3",{className:"font-semibold mb-2",children:w.name}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Type:"," ",w.type==="student"?"Student Certificate":"Teacher Certificate"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(I,{size:"sm",variant:"outline",children:[s.jsx(Rt,{className:"h-4 w-4 mr-1"}),"Preview"]}),s.jsx(I,{size:"sm",variant:"ghost",children:"Edit"})]})]})},w.id))})})]}),c==="issue"&&s.jsxs($,{children:[s.jsxs(fe,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Issue Certificates"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students, courses...",value:u,onChange:w=>f(w.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"})]})})]}),h.size>0&&s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-green-50 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium",children:[h.size," enrollment",h.size!==1?"s":""," ","selected"]}),s.jsxs(I,{onClick:j,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(tt,{className:"h-4 w-4 mr-2"}),"Issue ",h.size," Certificate",h.size!==1?"s":""]})]})]}),s.jsx(F,{children:_.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(vt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No completed courses"}),s.jsx("p",{className:"text-gray-600",children:"No completed courses are waiting for certificate issuance."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:h.size===_.length&&_.length>0,onChange:N,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(w=>{var v,x,A;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:h.has(w.id),onChange:()=>b(w.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:(v=w.student)==null?void 0:v.full_name}),s.jsx("div",{className:"text-sm text-gray-500",children:w.student_id})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:(x=w.course)==null?void 0:x.title}),s.jsx("div",{className:"text-sm text-gray-500",children:(A=w.course)==null?void 0:A.course_number})]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.completed_at?ds(w.completed_at):"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs(I,{size:"sm",onClick:()=>y(w.id),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(bt,{className:"h-4 w-4 mr-1"}),"Issue Certificate"]})})]},w.id)})})]})})})]})]})}function s_(){const[t,e]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(""),[u,f]=m.useState("all"),[h,g]=m.useState("all"),[p,y]=m.useState("pages"),[j,b]=m.useState(!1),[N,_]=m.useState(null),[w,v]=m.useState(null),[x,A]=m.useState({title:"",slug:"",type:"page",status:"draft",content:"",meta_description:""}),[S,M]=m.useState(!1),[B,J]=m.useState(!1),[L,z]=m.useState(null),[ne,W]=m.useState({name:"",href:"",icon:"",parent_id:"",is_active:!0}),[ye,le]=m.useState(!1);m.useEffect(()=>{C()},[]),m.useEffect(()=>{E()},[t,c,u,h]),m.useEffect(()=>{x.title&&!N&&A(R=>({...R,slug:va(x.title)}))},[x.title,N]);const C=async()=>{l(!0);try{await new Promise(je=>setTimeout(je,500));const R=[{id:"1",title:"About eYogi Gurukul",slug:"about",type:"page",status:"published",author:"Admin",content:"<h1>About Us</h1><p>Welcome to eYogi Gurukul...</p>",meta_description:"Learn about eYogi Gurukul and our mission to connect ancient wisdom with modern learning.",created_at:"2025-01-15T10:00:00Z",updated_at:"2025-01-20T14:30:00Z",views:1250},{id:"2",title:"Hinduism Gurukul Landing",slug:"gurukuls/hinduism",type:"gurukul",status:"published",author:"Content Manager",content:"<h1>Hinduism Gurukul</h1><p>Explore Hindu traditions...</p>",meta_description:"Discover Hindu traditions, philosophy, and practices through our comprehensive courses.",created_at:"2025-01-10T09:00:00Z",updated_at:"2025-01-18T16:45:00Z",views:890},{id:"3",title:"Getting Started with Vedic Learning",slug:"blog/getting-started",type:"blog",status:"draft",author:"Dr. Priya Sharma",content:"<h1>Getting Started</h1><p>Your journey begins here...</p>",meta_description:"A comprehensive guide to starting your Vedic learning journey.",created_at:"2025-01-22T11:15:00Z",updated_at:"2025-01-22T11:15:00Z",views:0},{id:"4",title:"Contact Us",slug:"contact",type:"page",status:"published",author:"Admin",content:"<h1>Contact Us</h1><p>Get in touch with us...</p>",meta_description:"Contact eYogi Gurukul for questions about courses and enrollment.",created_at:"2025-01-05T08:30:00Z",updated_at:"2025-01-19T13:20:00Z",views:567}],q=[{id:"1",name:"Home",href:"/",order:1,is_active:!0,icon:"HomeIcon"},{id:"2",name:"Gurukuls",href:"/gurukuls",order:2,is_active:!0,icon:"GlobeAltIcon"},{id:"3",name:"Courses",href:"/courses",order:3,is_active:!0,icon:"AcademicCapIcon"},{id:"4",name:"About",href:"/about",order:4,is_active:!0,icon:"InformationCircleIcon"},{id:"5",name:"Contact",href:"/contact",order:5,is_active:!0,icon:"PhoneIcon"}];e(R),n(q)}catch(R){console.error("Error loading data:",R),D.error("Failed to load content data")}finally{l(!1)}},E=()=>{let R=t;c&&(R=R.filter(q=>q.title.toLowerCase().includes(c.toLowerCase())||q.slug.toLowerCase().includes(c.toLowerCase())||q.content.toLowerCase().includes(c.toLowerCase()))),u!=="all"&&(R=R.filter(q=>q.type===u)),h!=="all"&&(R=R.filter(q=>q.status===h)),i(R)},se=()=>{A({title:"",slug:"",type:"page",status:"draft",content:"",meta_description:""}),b(!1),_(null),v(null)},ie=async R=>{R.preventDefault(),M(!0);try{if(await new Promise(q=>setTimeout(q,500)),N){const q=t.map(je=>je.id===N.id?{...je,...x,updated_at:new Date().toISOString()}:je);e(q),D.success("Page updated successfully")}else{const q={id:Math.random().toString(36).substr(2,9),...x,author:"Admin",views:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};e([...t,q]),D.success("Page created successfully")}se()}catch(q){console.error("Error saving page:",q),D.error("Failed to save page")}finally{M(!1)}},Me=R=>{_(R),A({title:R.title,slug:R.slug,type:R.type,status:R.status,content:R.content,meta_description:R.meta_description}),b(!0)},Ye=R=>{v(R)},Xe=async R=>{if(confirm("Are you sure you want to delete this page? This action cannot be undone."))try{await new Promise(je=>setTimeout(je,300));const q=t.filter(je=>je.id!==R);e(q),D.success("Page deleted successfully")}catch(q){console.error("Error deleting page:",q),D.error("Failed to delete page")}},$e=()=>{W({name:"",href:"",icon:"",parent_id:"",is_active:!0}),J(!1),z(null)},Ke=async R=>{R.preventDefault(),le(!0);try{if(await new Promise(q=>setTimeout(q,500)),L){const q=r.map(je=>je.id===L.id?{...je,...ne,order:je.order}:je);n(q),D.success("Menu item updated successfully")}else{const q={id:Math.random().toString(36).substr(2,9),...ne,order:r.length+1};n([...r,q]),D.success("Menu item created successfully")}$e()}catch(q){console.error("Error saving menu item:",q),D.error("Failed to save menu item")}finally{le(!1)}},et=R=>{z(R),W({name:R.name,href:R.href,icon:R.icon||"",parent_id:R.parent_id||"",is_active:R.is_active}),J(!0)},dt=async R=>{if(confirm("Are you sure you want to delete this menu item? This action cannot be undone."))try{await new Promise(je=>setTimeout(je,300));const q=r.filter(je=>je.id!==R);n(q),D.success("Menu item deleted successfully")}catch(q){console.error("Error deleting menu item:",q),D.error("Failed to delete menu item")}},Ct=async(R,q)=>{try{await new Promise(mt=>setTimeout(mt,200));const je=r.map(mt=>mt.id===R?{...mt,is_active:!q}:mt);n(je),D.success(`Menu item ${q?"deactivated":"activated"} successfully`)}catch(je){console.error("Error updating menu item status:",je),D.error("Failed to update menu item status")}},T=R=>{const q={published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",archived:"bg-gray-100 text-gray-800"};return q[R]||q.draft},X=R=>{switch(R){case"page":return bt;case"blog":return um;case"gurukul":return rn;default:return bt}},he=[{value:"HomeIcon",label:"Home"},{value:"GlobeAltIcon",label:"Globe"},{value:"AcademicCapIcon",label:"Academic"},{value:"InformationCircleIcon",label:"Info"},{value:"PhoneIcon",label:"Phone"},{value:"BookOpenIcon",label:"Book"},{value:"UserGroupIcon",label:"Users"}],xe={totalPages:t.length,published:t.filter(R=>R.status==="published").length,draft:t.filter(R=>R.status==="draft").length,archived:t.filter(R=>R.status==="archived").length,totalViews:t.reduce((R,q)=>R+q.views,0),totalMenuItems:r.length,activeMenuItems:r.filter(R=>R.is_active).length};return o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner w-8 h-8 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading content..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:xe.totalPages}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Pages"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:xe.published}),s.jsx("div",{className:"text-sm text-gray-600",children:"Published"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:xe.draft}),s.jsx("div",{className:"text-sm text-gray-600",children:"Drafts"})]})}),s.jsx($,{children:s.jsxs(F,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:xe.totalViews.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Views"})]})})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsxs("button",{onClick:()=>y("pages"),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${p==="pages"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(bt,{className:"h-5 w-5"}),s.jsx("span",{children:"Pages & Content"})]}),s.jsxs("button",{onClick:()=>y("menu"),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${p==="menu"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Fn,{className:"h-5 w-5"}),s.jsx("span",{children:"Header Menu"})]})]})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Page Preview"}),s.jsx(I,{variant:"ghost",onClick:()=>v(null),children:s.jsx(_t,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Page Information"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Title:"})," ",w.title]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Slug:"})," /",w.slug]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",s.jsx(Re,{className:T(w.type),children:w.type})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",s.jsx(Re,{className:T(w.status),children:w.status})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Author:"})," ",w.author]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Views:"})," ",w.views.toLocaleString()]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Meta Description"}),s.jsx("p",{className:"text-sm text-gray-600",children:w.meta_description})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Content Preview"}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 max-h-64 overflow-y-auto",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:w.content}})})]})]})]})})}),p==="pages"&&s.jsxs("div",{className:"space-y-6",children:[j&&s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:N?"Edit Page":"Create New Page"}),s.jsx(I,{variant:"ghost",onClick:se,children:s.jsx(_t,{className:"h-5 w-5"})})]})}),s.jsx(F,{children:s.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(ee,{label:"Page Title",value:x.title,onChange:R=>A(q=>({...q,title:R.target.value})),required:!0}),s.jsx(ee,{label:"URL Slug",value:x.slug,onChange:R=>A(q=>({...q,slug:R.target.value})),required:!0,helperText:"URL-friendly identifier"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Page Type"}),s.jsxs("select",{value:x.type,onChange:R=>A(q=>({...q,type:R.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[s.jsx("option",{value:"page",children:"Page"}),s.jsx("option",{value:"blog",children:"Blog Post"}),s.jsx("option",{value:"gurukul",children:"Gurukul Page"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsxs("select",{value:x.status,onChange:R=>A(q=>({...q,status:R.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"archived",children:"Archived"})]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),s.jsx("textarea",{value:x.meta_description,onChange:R=>A(q=>({...q,meta_description:R.target.value})),rows:2,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",placeholder:"Brief description for search engines..."})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content"}),s.jsx("textarea",{value:x.content,onChange:R=>A(q=>({...q,content:R.target.value})),rows:10,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",placeholder:"Page content (HTML supported)...",required:!0})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs(I,{type:"submit",loading:S,children:[s.jsx(Qi,{className:"h-4 w-4 mr-2"}),N?"Update Page":"Create Page"]}),s.jsx(I,{type:"button",variant:"outline",onClick:se,children:"Cancel"})]})]})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Pages & Content"}),s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search pages...",value:c,onChange:R=>d(R.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"})]}),s.jsxs("select",{value:u,onChange:R=>f(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"page",children:"Pages"}),s.jsx("option",{value:"blog",children:"Blog Posts"}),s.jsx("option",{value:"gurukul",children:"Gurukul Pages"})]}),s.jsxs("select",{value:h,onChange:R=>g(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"archived",children:"Archived"})]}),s.jsxs(I,{onClick:()=>b(!0),children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"New Page"]})]})]})}),s.jsx(F,{children:a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No pages found"}),s.jsx("p",{className:"text-gray-600",children:"No pages match your current filters."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(R=>{const q=X(R.type);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(q,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:["/",R.slug]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"capitalize text-sm text-gray-600",children:R.type})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(Re,{className:T(R.status),children:R.status})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:R.author}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:R.views.toLocaleString()}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:ds(R.updated_at)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(I,{size:"sm",variant:"ghost",onClick:()=>Ye(R),children:s.jsx(Rt,{className:"h-4 w-4"})}),s.jsx(I,{size:"sm",variant:"ghost",onClick:()=>Me(R),children:s.jsx(nn,{className:"h-4 w-4"})}),s.jsx(I,{size:"sm",variant:"danger",onClick:()=>Xe(R.id),children:s.jsx(gr,{className:"h-4 w-4"})})]})})]},R.id)})})]})})})]})]}),p==="menu"&&s.jsxs("div",{className:"space-y-6",children:[B&&s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:L?"Edit Menu Item":"Create New Menu Item"}),s.jsx(I,{variant:"ghost",onClick:$e,children:s.jsx(_t,{className:"h-5 w-5"})})]})}),s.jsx(F,{children:s.jsxs("form",{onSubmit:Ke,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(ee,{label:"Menu Name",value:ne.name,onChange:R=>W(q=>({...q,name:R.target.value})),required:!0}),s.jsx(ee,{label:"Link URL",value:ne.href,onChange:R=>W(q=>({...q,href:R.target.value})),required:!0,placeholder:"/page-url"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Icon"}),s.jsxs("select",{value:ne.icon,onChange:R=>W(q=>({...q,icon:R.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[s.jsx("option",{value:"",children:"No Icon"}),he.map(R=>s.jsx("option",{value:R.value,children:R.label},R.value))]})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[s.jsx("input",{type:"checkbox",id:"is_active",checked:ne.is_active,onChange:R=>W(q=>({...q,is_active:R.target.checked})),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),s.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Active in Menu"})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs(I,{type:"submit",loading:ye,children:[s.jsx(Qi,{className:"h-4 w-4 mr-2"}),L?"Update Menu Item":"Create Menu Item"]}),s.jsx(I,{type:"button",variant:"outline",onClick:$e,children:"Cancel"})]})]})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Header Menu Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage navigation menu items"})]}),s.jsxs(I,{onClick:()=>J(!0),children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Add Menu Item"]})]})}),s.jsx(F,{children:r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Fn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No menu items"}),s.jsx("p",{className:"text-gray-600",children:"Create your first menu item to get started."})]}):s.jsx("div",{className:"space-y-4",children:r.sort((R,q)=>R.order-q.order).map(R=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fn,{className:"h-4 w-4 text-gray-400 cursor-move"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["#",R.order]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[R.icon&&s.jsx("div",{className:"h-8 w-8 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(eo,{className:"h-4 w-4 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:R.name}),s.jsx("p",{className:"text-sm text-gray-500",children:R.href})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Re,{className:R.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:R.is_active?"Active":"Inactive"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(I,{size:"sm",variant:"ghost",onClick:()=>et(R),children:s.jsx(nn,{className:"h-4 w-4"})}),s.jsx(I,{size:"sm",variant:R.is_active?"ghost":"secondary",onClick:()=>Ct(R.id,R.is_active),children:R.is_active?"Deactivate":"Activate"}),s.jsx(I,{size:"sm",variant:"danger",onClick:()=>dt(R.id),children:s.jsx(gr,{className:"h-4 w-4"})})]})]})]},R.id))})})]})]})]})}const r_=({children:t})=>{const{isSuperAdmin:e,loading:r}=Mt(),n=ua();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?s.jsx(s.Fragment,{children:t}):s.jsx(yt,{to:"/admin/login",state:{from:n},replace:!0})};function Ln({children:t,requiredRole:e,redirectTo:r="/auth/signin"}){const{user:n,loading:a,isSuperAdmin:i}=Mt(),{user:o,loading:l}=ws(),c=ua();if(a||l)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(!(i||!!o))return s.jsx(yt,{to:r,state:{from:c},replace:!0});if(i)return s.jsx(s.Fragment,{children:t});if(e&&(o==null?void 0:o.role)!==e){const u=o!=null&&o.role?`/dashboard/${o.role}`:"/dashboard";return s.jsx(yt,{to:u,replace:!0})}return s.jsx(s.Fragment,{children:t})}function n_(){const{slug:t}=wd(),[e,r]=m.useState(null),[n,a]=m.useState([]),[i,o]=m.useState(!0);m.useEffect(()=>{t&&l()},[t]);const l=async()=>{try{const d=await i2(t);if(d){r(d);const u=await Fs({gurukul_id:d.id});a(u)}}catch(d){console.error("Error loading gurukul:",d)}finally{o(!1)}};if(i)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner w-8 h-8 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading Gurukul..."})]})});if(!e)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gurukul Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The Gurukul you're looking for doesn't exist."}),s.jsx(Ee,{to:"/gurukuls",children:s.jsx(I,{children:"Browse All Gurukuls"})})]})});const c=n.reduce((d,u)=>(d[u.level]=(d[u.level]||0)+1,d),{});return s.jsxs(s.Fragment,{children:[s.jsx($s,{title:e?`${e.name} - Traditional Hindu Education Center`:"Hindu Gurukul",description:e?`${e.description} Learn authentic Hindu traditions and Vedic wisdom through expert-led courses in our specialized ${e.name}.`:"Explore our Hindu Gurukul for traditional Vedic education.",keywords:e?[`${e.name} Online`,`${e.name.replace(" Gurukul","")} Education`,`Hindu ${e.name.replace(" Gurukul","")} Learning`,`Vedic ${e.name.replace(" Gurukul","")} Courses`,`Sanatan Dharma ${e.name.replace(" Gurukul","")}`,`Traditional ${e.name.replace(" Gurukul","")} Education`,`Authentic Hindu ${e.name.replace(" Gurukul","")}`,`${e.name.replace(" Gurukul","")} Online Classes`,"Hindu Gurukul Online","Vedic Learning Center","Traditional Hindu Education"]:[],canonicalUrl:e?`/gurukuls/${e.slug}`:"/gurukuls",structuredData:e?[wr([{name:"Home",url:"/"},{name:"Hindu Gurukuls",url:"/gurukuls"},{name:e.name,url:`/gurukuls/${e.slug}`}]),{"@context":"https://schema.org","@type":"EducationalOrganization",name:e.name,description:e.description,url:`https://eyogi-gurukul.vercel.app/gurukuls/${e.slug}`,parentOrganization:{"@type":"EducationalOrganization",name:"eYogi Gurukul",url:"https://eyogi-gurukul.vercel.app"},hasOfferCatalog:{"@type":"OfferCatalog",name:`${e.name} Courses`,itemListElement:n.map(d=>({"@type":"Course",name:d.title,courseCode:d.course_number}))},about:[{"@type":"Thing",name:"Hindu Religion"},{"@type":"Thing",name:"Vedic Philosophy"},{"@type":"Thing",name:"Sanatan Dharma"}]}]:[]}),s.jsxs("div",{className:"min-h-screen bg-gray-50 page-with-header",children:[s.jsx("section",{className:"bg-gradient-to-r from-orange-50 to-red-50",children:s.jsx("div",{className:"container-max section-padding",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ee,{to:"/gurukuls",className:"text-orange-600 hover:text-orange-700",children:"← Back to Gurukuls"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:e.name}),s.jsx("p",{className:"text-xl text-gray-600 leading-relaxed mb-6",children:e.description})]}),s.jsxs("div",{className:"flex items-center space-x-8 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pe,{className:"h-5 w-5 text-orange-500"}),s.jsxs("span",{children:[n.length," Courses"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{children:"All Levels"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(We,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{children:"Expert Teachers"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(Ee,{to:`/courses?gurukul=${e.id}`,children:s.jsxs(I,{size:"lg",children:["View All Courses",s.jsx(Qo,{className:"ml-2 h-5 w-5"})]})}),s.jsx(Ee,{to:"/auth/signup",children:s.jsx(I,{variant:"outline",size:"lg",children:"Start Learning"})})]})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden shadow-2xl",children:s.jsx("img",{src:e.image_url||"https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=600&h=600&fit=crop",alt:e.name,className:"w-full h-full object-cover"})})})]})})}),s.jsx("section",{className:"section-padding bg-white",children:s.jsx("div",{className:"container-max",children:s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:n.length}),s.jsx("div",{className:"text-gray-600",children:"Total Courses"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:c.elementary||0}),s.jsx("div",{className:"text-gray-600",children:"Elementary"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:c.basic||0}),s.jsx("div",{className:"text-gray-600",children:"Basic"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:c.intermediate+c.advanced||0}),s.jsx("div",{className:"text-gray-600",children:"Advanced"})]})]})})}),s.jsx("section",{className:"section-padding",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Available Courses"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Explore our comprehensive curriculum designed for all learning levels"})]}),n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Pe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses available"}),s.jsx("p",{className:"text-gray-600",children:"Courses for this Gurukul are coming soon."})]}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(d=>s.jsxs($,{className:"card-hover overflow-hidden",children:[s.jsx("div",{className:"aspect-video bg-gradient-to-r from-orange-100 to-red-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-white font-bold text-lg",children:d.course_number.slice(-2)})}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:d.course_number})]})}),s.jsxs(F,{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsx(Re,{className:Os(d.level),children:d.level})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 line-clamp-2",children:d.title}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:d.description}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(We,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Ages ",Zr(d.age_group_min,d.age_group_max)]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:[d.duration_weeks," weeks"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ca,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:hn(d.price)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[d.delivery_method==="remote"&&"🌐 Online",d.delivery_method==="physical"&&"🏫 In-person",d.delivery_method==="hybrid"&&"🔄 Hybrid"]}),s.jsx(Ee,{to:Jr(d),children:s.jsx(I,{size:"sm",children:"View Details"})})]})]})]},d.id))})]})}),s.jsx("section",{className:"section-padding gradient-bg text-white",children:s.jsxs("div",{className:"container-max text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Learning?"}),s.jsxs("p",{className:"text-xl mb-8 opacity-90 max-w-2xl mx-auto",children:["Join thousands of students worldwide in discovering the wisdom of"," ",e.name.toLowerCase(),"."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Ee,{to:"/auth/signup",children:s.jsx(I,{variant:"secondary",size:"lg",className:"bg-white text-orange-600 hover:bg-gray-100",children:"Create Account"})}),s.jsx(Ee,{to:`/courses?gurukul=${e.id}`,children:s.jsx(I,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white hover:text-orange-600",children:"Browse Courses"})})]})]})})]})]})}const bd=({courseId:t,studentId:e,onPrerequisiteCheck:r,showFullDetails:n=!0})=>{const[a,i]=m.useState(null),[o,l]=m.useState([]),[c,d]=m.useState(!0),[u,f]=m.useState(null);return m.useEffect(()=>{t&&e&&(async()=>{try{d(!0),f(null);const[g,p]=await Promise.all([_m(t,e),b2(t)]);i(g),l(p),r&&r(g)}catch(g){f("Failed to check prerequisites"),console.error("Error checking prerequisites:",g)}finally{d(!1)}})()},[t,e,r]),c?s.jsxs("div",{className:"flex items-center justify-center p-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Checking prerequisites..."})]}):u?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(xc,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"ml-2 text-sm text-red-700",children:u})]})}):a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`border rounded-lg p-4 ${a.canEnroll?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center",children:[a.canEnroll?s.jsx(Ti,{className:"h-5 w-5 text-green-500"}):s.jsx(xc,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:`ml-2 font-medium ${a.canEnroll?"text-green-700":"text-red-700"}`,children:a.canEnroll?"Ready to Enroll":"Prerequisites Not Met"})]}),s.jsx("p",{className:`mt-2 text-sm ${a.canEnroll?"text-green-600":"text-red-600"}`,children:a.message})]}),n&&(o.length>0||a.missingPrerequisites.skills.length>0)&&s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Course Prerequisites"}),o.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(dh,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Required Courses"})]}),s.jsx("div",{className:"space-y-2",children:o.map(h=>{const g=a.missingPrerequisites.courses.find(y=>y.id===h.id),p=!g;return s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${p?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[s.jsxs("div",{className:"flex items-center",children:[p?s.jsx(Ti,{className:"h-4 w-4 text-green-500"}):s.jsx(_y,{className:"h-4 w-4 text-yellow-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Level: ",h.level," | Duration: ",h.duration_weeks," weeks"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p?"Completed":g==null?void 0:g.completion_status.replace("_"," ")})})]},h.id)})})]}),a.missingPrerequisites.skills.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Fo,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Required Skills"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.missingPrerequisites.skills.map((h,g)=>s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:h},g))})]}),a.missingPrerequisites.level&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(jy,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Minimum Level"})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:["Required:"," ",s.jsx("span",{className:"font-medium",children:a.missingPrerequisites.level.required})," | ","Current:"," ",s.jsx("span",{className:"font-medium",children:a.missingPrerequisites.level.current})]})})]})]})]}):null};function a_(){var y,j,b;const{id:t}=wd(),{user:e}=ws(),[r,n]=m.useState(null),[a,i]=m.useState(0),[o,l]=m.useState(!0),[c,d]=m.useState(!1),[u,f]=m.useState(null),h=m.useCallback(async()=>{if(!t){console.error("No course ID provided"),l(!1);return}try{const[N,_]=await Promise.all([vm(t),s2(t)]);n(N),i(_)}catch(N){console.error("Error loading course:",N),D.error("Failed to load course details")}finally{l(!1)}},[t]);m.useEffect(()=>{t&&h()},[t,h]);const g=async()=>{if(!e){D.error("Please sign in to enroll in courses");return}if(e.role!=="student"){D.error("Only students can enroll in courses");return}d(!0);try{await Nm(r.id,e.id),D.success("Enrollment request submitted! You will receive confirmation once approved.")}catch(N){console.error("Error enrolling:",N),D.error("Failed to enroll in course")}finally{d(!1)}};if(o)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner w-8 h-8 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading course details..."})]})});if(!r)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Course Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The course you're looking for doesn't exist."}),s.jsx(Ee,{to:"/courses",children:s.jsx(I,{children:"Browse All Courses"})})]})});const p=r==null?void 0:r.syllabus;return s.jsxs(s.Fragment,{children:[s.jsx($s,{title:r?`${r.title} - Hindu Course | ${(y=r.gurukul)==null?void 0:y.name}`:"Hindu Course Details",description:r?`${r.description} Learn authentic Hindu traditions and Vedic wisdom in this ${r.level} level course. Duration: ${r.duration_weeks} weeks. Ages ${r.age_group_min}-${r.age_group_max}.`:"Explore detailed Hindu course information and enroll in authentic Vedic education.",keywords:r?[`${r.title} Online`,`Hindu ${r.title}`,`Vedic ${r.title}`,`${(j=r.gurukul)==null?void 0:j.name} Course`,`Hindu ${r.level} Course`,`Sanatan Dharma ${r.title}`,`Traditional Hindu ${r.title}`,`${r.course_number} Course`,`Hindu Education ${r.level}`,"Hindu Course Online","Vedic Learning Course","Sanatan Dharma Education"]:[],canonicalUrl:r?Jr(r):"/courses",structuredData:r?[Z1(r),wr([{name:"Home",url:"/"},{name:"Hindu Courses",url:"/courses"},{name:r.title,url:Jr(r)}])]:[]}),s.jsxs("div",{className:"min-h-screen bg-gray-50 page-with-header",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-red-50",children:s.jsx("div",{className:"container-max section-padding",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(Ee,{to:"/courses",className:"text-orange-600 hover:text-orange-700",children:"← Back to Courses"}),s.jsx(Re,{className:Os(r.level),children:r.level}),s.jsx("span",{className:"text-sm text-gray-500",children:r.course_number})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:r.title}),s.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:r.description})]}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(We,{className:"h-5 w-5 mr-2"}),s.jsxs("span",{children:["Ages ",Zr(r.age_group_min,r.age_group_max)]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(vt,{className:"h-5 w-5 mr-2"}),s.jsxs("span",{children:[r.duration_weeks," weeks"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ut,{className:"h-5 w-5 mr-2"}),s.jsxs("span",{children:[a," enrolled"]})]})]}),r.gurukul&&s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx(Pe,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:r.gurukul.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.gurukul.description})]})]})})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs($,{className:"sticky top-8",children:[s.jsx(fe,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:hn(r.price)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[r.delivery_method==="remote"&&"🌐 Online Course",r.delivery_method==="physical"&&"🏫 In-person Course",r.delivery_method==="hybrid"&&"🔄 Hybrid Course"]})]})}),s.jsxs(F,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[r.duration_weeks," weeks"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Max Students:"}),s.jsx("span",{className:"font-medium",children:r.max_students})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Enrolled:"}),s.jsx("span",{className:"font-medium",children:a})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Available:"}),s.jsx("span",{className:"font-medium",children:r.max_students-a})]})]}),e?e.role==="student"?s.jsxs("div",{className:"space-y-4",children:[s.jsx(bd,{courseId:r.id,studentId:e.id,onPrerequisiteCheck:f,showFullDetails:!1}),s.jsx(I,{className:"w-full",onClick:g,loading:c,disabled:a>=r.max_students||!!(u&&!u.canEnroll),children:a>=r.max_students?"Course Full":u&&!u.canEnroll?"Prerequisites Not Met":"Enroll Now"})]}):s.jsx("div",{className:"text-center text-sm text-gray-600",children:"Only students can enroll in courses"}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{to:"/auth/signin",children:s.jsx(I,{className:"w-full",children:"Sign In to Enroll"})}),s.jsxs("p",{className:"text-xs text-center text-gray-600",children:["Don't have an account?"," ",s.jsx(Ee,{to:"/auth/signup",className:"text-orange-600 hover:text-orange-700",children:"Sign up"})]})]})]})]})})]})})}),s.jsx("div",{className:"container-max section-padding",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h2",{className:"text-2xl font-bold",children:"What You'll Learn"})}),s.jsx(F,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.learning_outcomes.map((N,_)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(tt,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:N})]},_))})})]}),(p==null?void 0:p.classes)&&s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h2",{className:"text-2xl font-bold",children:"Course Syllabus"})}),s.jsx(F,{children:s.jsx("div",{className:"space-y-4",children:p.classes.map((N,_)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-semibold text-lg",children:["Class ",N.number,": ",N.title]}),s.jsx("span",{className:"text-sm text-gray-500",children:N.duration})]}),s.jsx("ul",{className:"space-y-1",children:N.topics.map((w,v)=>s.jsxs("li",{className:"text-gray-600 text-sm",children:["• ",w]},v))})]},_))})})]}),e&&e.role==="student"&&s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h2",{className:"text-2xl font-bold",children:"Prerequisites"})}),s.jsx(F,{children:s.jsx(bd,{courseId:r.id,studentId:e.id,onPrerequisiteCheck:f,showFullDetails:!0})})]}),(!e||e.role!=="student")&&r.prerequisites&&s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h2",{className:"text-2xl font-bold",children:"Prerequisites"})}),s.jsx(F,{children:s.jsx("p",{className:"text-gray-700",children:r.prerequisites})})]})]}),s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.teacher&&s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Your Instructor"})}),s.jsx(F,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:((b=r.teacher.full_name)==null?void 0:b.charAt(0))||"T"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:r.teacher.full_name||"Teacher"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Certified Instructor"})]})]})})]}),s.jsxs($,{children:[s.jsx(fe,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Course Details"})}),s.jsxs(F,{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Level:"}),s.jsx(Re,{className:Os(r.level),children:r.level})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Age Group:"}),s.jsx("span",{children:Zr(r.age_group_min,r.age_group_max)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Duration:"}),s.jsxs("span",{children:[r.duration_weeks," weeks"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Delivery:"}),s.jsx("span",{className:"capitalize",children:r.delivery_method})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Certificate:"}),s.jsx("span",{children:"Yes"})]})]})]})]})]})}),s.jsx(Am,{initialMessage:r?`Tell me more about ${r.title}`:void 0})]})]})}const i_=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-white to-red-50",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}),s.jsx("p",{className:"text-gray-600 animate-pulse",children:"Loading eYogi Gurukul..."})]})});function o_(){const[t,e]=m.useState(!1),[r,n]=m.useState("signin"),a=(i="signin")=>{n(i),e(!0)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50",children:[s.jsx(kw,{onOpenAuthModal:a}),s.jsx("main",{className:"pt-16 lg:pt-20",children:s.jsx(m.Suspense,{fallback:s.jsx(i_,{}),children:s.jsxs(Vm,{children:[s.jsx(Ce,{path:"/",element:s.jsx(X1,{})}),s.jsx(Ce,{path:"/about",element:s.jsx(Q1,{})}),s.jsx(Ce,{path:"/contact",element:s.jsx(t2,{})}),s.jsx(Ce,{path:"/courses",element:s.jsx(c2,{})}),s.jsx(Ce,{path:"/gurukuls",element:s.jsx(d2,{})}),s.jsx(Ce,{path:"/auth/*",element:s.jsx(Y1,{openModal:a})}),s.jsx(Ce,{path:"/dashboard",element:s.jsx(Ln,{children:s.jsx(D2,{})})}),s.jsx(Ce,{path:"/dashboard/student",element:s.jsx(Ln,{requiredRole:"student",children:s.jsx(R2,{})})}),s.jsx(Ce,{path:"/dashboard/teacher",element:s.jsx(Ln,{requiredRole:"teacher",children:s.jsx(O2,{})})}),s.jsx(Ce,{path:"/dashboard/business_admin",element:s.jsx(Ln,{requiredRole:"business_admin",children:s.jsx(yd,{})})}),s.jsx(Ce,{path:"/admin/login",element:s.jsx(I2,{})}),s.jsxs(Ce,{path:"/admin/*",element:s.jsx(r_,{children:s.jsx(F2,{})}),children:[s.jsx(Ce,{index:!0,element:s.jsx(yt,{to:"dashboard",replace:!0})}),s.jsx(Ce,{path:"dashboard",element:s.jsx(yd,{})}),s.jsx(Ce,{path:"users",element:s.jsx(q2,{})}),s.jsx(Ce,{path:"permissions",element:s.jsx(W2,{})}),s.jsx(Ce,{path:"courses",element:s.jsx(Y2,{})}),s.jsx(Ce,{path:"course-assignments",element:s.jsx(J2,{})}),s.jsx(Ce,{path:"enrollments",element:s.jsx(X2,{})}),s.jsx(Ce,{path:"gurukuls",element:s.jsx(Q2,{})}),s.jsx(Ce,{path:"certificates",element:s.jsx(t_,{})}),s.jsx(Ce,{path:"content",element:s.jsx(s_,{})}),s.jsx(Ce,{path:"analytics",element:s.jsx(e_,{})})]}),s.jsx(Ce,{path:"/courses/:id",element:s.jsx(a_,{})}),s.jsx(Ce,{path:"/gurukuls/:slug",element:s.jsx(n_,{})}),s.jsx(Ce,{path:"*",element:s.jsx(yt,{to:"/",replace:!0})})]})})}),s.jsx(Mf,{position:"top-right",toastOptions:{style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"}}}),s.jsx(W1,{isOpen:t,onClose:()=>e(!1),initialMode:r,redirectAfterAuth:!1})]})}const l_=({children:t})=>{const[e,r]=m.useState(null),[n,a]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(!1),d=async y=>{try{const{data:j,error:b}=await Cr.from("profiles").select("*").eq("id",y).single();return b?(console.error("Error fetching profile:",b),null):j}catch(j){return console.error("Error fetching profile:",j),null}};m.useEffect(()=>{let y=!0;(async()=>{try{const{data:{session:N}}=await Cr.auth.getSession();if(!y)return;const _=(N==null?void 0:N.user)??null;if(r(_),_){const w=await d(_.id);a(w)}else a(null);o(!1),c(!0)}catch(N){console.error("Error getting initial session:",N),y&&(o(!1),c(!0))}})();const{data:{subscription:b}}=Cr.auth.onAuthStateChange(async(N,_)=>{if(!y)return;const w=(_==null?void 0:_.user)??null;if(r(w),w){const v=await d(w.id);a(v)}else a(null);o(!1),c(!0)});return()=>{y=!1,b.unsubscribe()}},[]);const u=async(y,j)=>{try{const{error:b}=await Cr.auth.signInWithPassword({email:y,password:j});return{error:b}}catch(b){return{error:b}}},f=async()=>{try{await Cr.auth.signOut(),r(null),a(null),window.location.href="/ssh-app/admin/login"}catch{}},h=!!e&&!!n&&["admin","business_admin","super_admin"].includes(n.role),p={user:e,profile:n,loading:i,initialized:l,signIn:u,signOut:f,isSuperAdmin:h,canAccess:()=>h};return s.jsx(Nh.Provider,{value:p,children:t})};window.addEventListener("error",t=>{t.message.includes("prototype")&&console.error("🔍 Prototype error detected:",t.message)});window.addEventListener("unhandledrejection",t=>{console.error("🚨 Unhandled promise rejection:",t.reason)});ai.createRoot(document.getElementById("root")).render(s.jsx(Je.StrictMode,{children:s.jsx($m,{basename:"/ssh-app",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(l_,{children:s.jsx(jw,{children:s.jsx(h2,{children:s.jsx(o_,{})})})})})}));
