import{R as e,r as i,j as s,u as t,z as n,a,b as r,P as c,c as o,C as m,T as l,L as d,d as u,e as N,X as x,Y as h,f as g,B as y,g as b}from"./vendor-react-DCALsXS8.js";import{t as p,c as f,C as S,p as D,g as j}from"./vendor-misc-Dxs4t1yE.js";import{F as v,I as A,V as I,M as E,X as T,S as P,U as W,G as H,L as V,a as w,C as _,E as k,b as M,c as C,d as G,e as U,f as R,g as z,h as L,i as B,j as F,k as O,l as $,m as q,n as Z,o as K,p as Y,q as J,r as X,s as Q,t as ee,u as ie,v as se,w as te,x as ne,y as ae,z as re}from"./vendor-ui-Bmdc4IWn.js";import{C as ce,a as oe}from"./admin-misc-9vir4T6x.js";import{c as me}from"./vendor-supabase-EmK__MhW.js";const le={},de=function(e,i,s){let t=Promise.resolve();if(i&&i.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),n=s?.nonce||s?.getAttribute("nonce");t=e(i.map(e=>{if((e=function(e){return"/ssh-app/"+e}(e))in le)return;le[e]=!0;const i=e.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const t=document.createElement("link");return t.rel=i?"stylesheet":"modulepreload",i||(t.as="script"),t.crossOrigin="",t.href=e,n&&t.setAttribute("nonce",n),document.head.appendChild(t),i?new Promise((i,s)=>{t.addEventListener("load",i),t.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=e,window.dispatchEvent(i),!i.defaultPrevented)throw e}return t.then(i=>{for(const e of i||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};function ue(...e){return p(f(e))}function Ne(e,i="EUR"){return null==e||isNaN(e)?new Intl.NumberFormat("en-IE",{style:"currency",currency:i}).format(0):new Intl.NumberFormat("en-IE",{style:"currency",currency:i}).format(e)}function xe(e){return new Intl.DateTimeFormat("en-IE",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))}function he(e){return new Intl.DateTimeFormat("en-IE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}function ge(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function ye(e,i){return`${e}-${i} years`}function be(e){const i={elementary:"bg-green-100 text-green-800",basic:"bg-blue-100 text-blue-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"};return i[e]||i.basic}function pe(e){const i={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-gray-100 text-gray-800"};return i[e]||i.pending}function fe(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}function Se(e){return ge(e.title)}function De(e){return`/courses/${e.slug||Se(e)}`}const je=e.forwardRef(({className:t,variant:n="primary",size:a="md",loading:r=!1,disabled:c,children:o,...m},l)=>{const d=i.useRef(null);e.useEffect(()=>{l&&("function"==typeof l?l(d.current):l.current=d.current)},[l]);const u=m.onMouseDown,N=m.onKeyDown,x={primary:"rgba(255,165,0,0.28)",secondary:"rgba(59,130,246,0.20)",outline:"rgba(99,102,241,0.08)",ghost:"rgba(0,0,0,0.08)",danger:"rgba(239,68,68,0.22)"},h=(e,i)=>{const s=d.current;if(!s)return;const t=s.getBoundingClientRect(),a=.5*Math.max(t.width,t.height),r=document.createElement("span");r.style.position="absolute",r.style.borderRadius="50%",r.style.pointerEvents="none",r.style.width=r.style.height=`${a}px`,r.style.left=e-t.left-a/2+"px",r.style.top=i-t.top-a/2+"px";const c=x[n]||"rgba(255,255,255,0.28)";r.style.background=c,r.style.transform="scale(0)",r.style.opacity="1",r.style.transition="transform 350ms cubic-bezier(.22,.9,.31,1), opacity 350ms ease-out",r.style.zIndex="10",s.appendChild(r),requestAnimationFrame(()=>{r.style.transform="scale(3)",r.style.opacity="0"});const o=()=>{try{r.remove()}catch{}};r.addEventListener("transitionend",o),setTimeout(o,400)};return s.jsxDEV("button",{ref:d,onMouseDown:e=>{u?.(e),h(e.clientX,e.clientY)},onKeyDown:e=>{if(N?.(e),"Enter"===e.key||" "===e.key||"Spacebar"===e.key){const e=d.current;if(!e)return;const i=e.getBoundingClientRect(),s=i.left+i.width/2,t=i.top+i.height/2;h(s,t)}},className:ue("inline-flex items-center justify-center rounded font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none cursor-pointer relative overflow-hidden","hover:shadow-[0_20px_40px_rgba(255,165,0,0.18)] active:scale-[0.99] transition-transform",{primary:"bg-orange-600 text-white hover:bg-orange-700 focus:ring-orange-500",secondary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-orange-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-orange-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[n],{sm:"px-2.5 py-1.5 text-xs min-h-[32px]",md:"px-3 py-1.5 text-sm min-h-[36px]",lg:"px-4 py-2 text-sm min-h-[40px]"}[a],t),disabled:c||r,...m,children:[r&&s.jsxDEV("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Button.tsx",lineNumber:134,columnNumber:13},void 0),s.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Button.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Button.tsx",lineNumber:133,columnNumber:11},void 0),o]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Button.tsx",lineNumber:116,columnNumber:7},void 0)});je.displayName="Button";const ve="https://fxhmipivmuqgdtwzpeni.supabase.co",Ae=me(ve,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4aG1pcGl2bXVxZ2R0d3pwZW5pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxMDA1MzAsImV4cCI6MjA3MzY3NjUzMH0.Y65Muw42omwVOTi1KiOFaDbNkiITiFS9KlsWy9Nc4xk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1,storageKey:"eyogi-ssh-app-auth"},global:{headers:{"X-Client-Info":"eyogi-ssh-app"}},db:{schema:"public"},realtime:{timeout:6e4}}),Ie=me(ve,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4aG1pcGl2bXVxZ2R0d3pwZW5pIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1ODEwMDUzMCwiZXhwIjoyMDczNjc2NTMwfQ.qds4eDB5fOwa-9i7iwD2qeqD5YBFWQqj5eZajaiUMzw",{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1,storageKey:"eyogi-ssh-app-auth"},global:{headers:{"X-Client-Info":"eyogi-ssh-admin"}},db:{schema:"public"},realtime:{timeout:6e4}}),Ee=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ae,supabaseAdmin:Ie},Symbol.toStringTag,{value:"Module"})),Te={STATIC_MEDIA:31536e3,IMAGES:31536e3,VIDEOS:31536e3,DOCUMENTS:31536e3,COURSES:604800,GURUKULS:604800,BLOG_POSTS:604800,ENROLLMENTS:3600,CERTIFICATES:86400,ANNOUNCEMENTS:7200,COMPLIANCE:86400,DASHBOARD:600,USER_PROFILE:300,NOTIFICATIONS:300,USER_AVATAR:86400,MESSAGES:0,PRESENCE:0,LIVE_UPDATES:60};const Pe=new class{constructor(){this.hits=0,this.misses=0,this.errors=0}recordHit(){this.hits++}recordMiss(){this.misses++}recordError(){this.errors++}getHitRate(){const e=this.hits+this.misses;return e>0?this.hits/e*100:0}getStats(){return{hits:this.hits,misses:this.misses,errors:this.errors,hitRate:this.getHitRate(),total:this.hits+this.misses}}reset(){this.hits=0,this.misses=0,this.errors=0}log(){const e=this.getStats();console.log("Cache Statistics:",{"Hit Rate":`${e.hitRate.toFixed(2)}%`,Hits:e.hits,Misses:e.misses,Errors:e.errors,"Total Requests":e.total})}};const We=new class{constructor(){this.cache=new Map,this.memoryLimit=100}async get(e,i,s=Te.ENROLLMENTS){try{return await i()}catch(a){throw Pe.recordError(),a}const t=this.cache.get(e),n=Date.now();if(t&&n-t.timestamp<1e3*t.ttl)return Pe.recordHit(),t.data;Pe.recordMiss();try{const t=await i();return this.set(e,t,s),t}catch(a){throw Pe.recordError(),a}}set(e,i,s=Te.ENROLLMENTS){if(this.cache.size>=this.memoryLimit){const e=this.cache.keys().next().value;e&&this.cache.delete(e)}this.cache.set(e,{data:i,timestamp:Date.now(),ttl:s})}invalidate(e){this.cache.delete(e)}invalidatePattern(e){const i=new RegExp(e),s=[];for(const t of this.cache.keys())i.test(t)&&s.push(t);s.forEach(e=>this.cache.delete(e))}clear(){this.cache.clear()}size(){return this.cache.size}has(e){const i=this.cache.get(e);if(!i)return!1;const s=Date.now()-i.timestamp<1e3*i.ttl;return s||this.cache.delete(e),s}};const He=new class{constructor(){this.urlCache=new Map}getCacheBustedUrl(e,i){const s=new URL(e),t=i||Date.now();return s.searchParams.set("v",String(t)),s.toString()}getUrl(e,i,s=Te.IMAGES){const t=this.urlCache.get(e),n=Date.now();if(t&&n-t.timestamp<1e3*s)return t.url;const a=i();return this.urlCache.set(e,{url:a,timestamp:n}),a}invalidate(e){this.urlCache.delete(e)}clear(){this.urlCache.clear()}};const Ve=new class{constructor(){this.cache=new Map}async get(e,i,s){const t=this.cache.get(e);if(t){Pe.recordHit();const n=t;return i().then(i=>{this.cache.set(e,i),s&&s(i)}).catch(e=>{console.error("SWR background fetch failed:",e),Pe.recordError()}),n}Pe.recordMiss();const n=await i();return this.cache.set(e,n),n}invalidate(e){this.cache.delete(e)}clear(){this.cache.clear()}};const we=new class{constructor(){this.prefix="ssh-cache:"}get(e){try{const i=localStorage.getItem(this.prefix+e);if(!i)return null;const{data:s,timestamp:t,ttl:n}=JSON.parse(i);return Date.now()-t<1e3*n?(Pe.recordHit(),s):(this.remove(e),Pe.recordMiss(),null)}catch(i){return console.error("PersistentCache get error:",i),Pe.recordError(),null}}set(e,i,s=Te.ENROLLMENTS){try{const t={data:i,timestamp:Date.now(),ttl:s};localStorage.setItem(this.prefix+e,JSON.stringify(t))}catch(t){console.error("PersistentCache set error:",t),Pe.recordError()}}remove(e){try{localStorage.removeItem(this.prefix+e)}catch(i){console.error("PersistentCache remove error:",i)}}clear(){try{const e=[];for(let i=0;i<localStorage.length;i++){const s=localStorage.key(i);s&&s.startsWith(this.prefix)&&e.push(s)}e.forEach(e=>localStorage.removeItem(e))}catch(e){console.error("PersistentCache clear error:",e)}}},_e=(...e)=>e.filter(Boolean).join(":"),ke=()=>{We.clear(),He.clear(),Ve.clear(),we.clear(),Pe.reset(),console.log("All caches cleared")},Me=()=>{console.log("=== Cache Statistics ==="),Pe.log(),console.log("Query Cache Size:",We.size()),console.log("=======================")};var Ce={};const Ge=void 0!==import.meta&&{}?"eY0g1_Guru_Kul_2024_Encrypt!0n_K3y_F0r_GDPR_C0mpl1ance":"undefined"!=typeof process&&Ce&&Ce.VITE_ENCRYPTION_KEY||"";function Ue(e,i){if(!e||""===e.trim())return null;try{const s=i||Ge;if(!s)return console.error("Encryption key not available"),e;return S.AES.encrypt(e,s).toString()}catch(s){return console.error("Encryption error:",s),null}}function Re(e){if(!e)return null;const i="string"==typeof e?e:String(e);if(""===i.trim())return null;if(!i.startsWith("U2FsdGVkX1"))return i;try{if(!Ge)return console.warn("âš ï¸ Encryption key not available, returning null"),null;const e=S.AES.decrypt(i,Ge).toString(S.enc.Utf8);return e||null}catch(s){return console.warn("âš ï¸ Decryption failed, returning null"),null}}function ze(e,i){const s={...e};if(e.full_name&&(s.full_name=Ue(e.full_name,i)),e.phone&&(s.phone=Ue(e.phone,i)),e.date_of_birth){const t="string"==typeof e.date_of_birth?e.date_of_birth:String(e.date_of_birth);s.date_of_birth=Ue(t,i)}return null!==e.age&&void 0!==e.age&&(s.age=Ue(e.age.toString(),i)),e.emergency_contact&&(s.emergency_contact=Ue("string"==typeof e.emergency_contact?e.emergency_contact:JSON.stringify(e.emergency_contact),i)),e.address_line_1&&(s.address_line_1=Ue(e.address_line_1,i)),e.address_line_2&&(s.address_line_2=Ue(e.address_line_2,i)),e.city&&(s.city=Ue(e.city,i)),e.zip_code&&(s.zip_code=Ue(e.zip_code,i)),s}function Le(e){const i={...e};if(e.full_name){const s=Re(e.full_name);i.full_name=s||e.full_name}if(e.phone){const s=Re(e.phone);i.phone=s||e.phone}if(e.date_of_birth){const s=Re(e.date_of_birth);i.date_of_birth=s||null}if(null!==e.age&&void 0!==e.age){const s=Re(e.age);s&&!isNaN(parseInt(s,10))?i.age=parseInt(s,10):i.age=null}if(e.emergency_contact){const s=Re(e.emergency_contact);if(s)try{i.emergency_contact=JSON.parse(s)}catch{"object"==typeof e.emergency_contact?i.emergency_contact=e.emergency_contact:i.emergency_contact=null}else i.emergency_contact=e.emergency_contact}if(e.address_line_1){const s=Re(e.address_line_1);i.address_line_1=s||null}if(e.address_line_2){const s=Re(e.address_line_2);i.address_line_2=s||null}if(e.city){const s=Re(e.city);i.city=s||null}if(e.zip_code){const s=Re(e.zip_code);i.zip_code=s||null}return i}Ge?(console.log("âœ… Encryption key loaded successfully"),console.log(`ðŸ”‘ Key length: ${Ge.length} characters`)):(console.error("âŒ CRITICAL: VITE_ENCRYPTION_KEY not set!"),console.error("âš ï¸  Encrypted data will NOT be decrypted."),console.error("ðŸ“– See ENCRYPTION_SETUP_GUIDE.md for setup instructions."),console.error("ðŸ”§ Action required: Set VITE_ENCRYPTION_KEY in Vercel environment variables and redeploy."));const Be=e.forwardRef(({className:e,label:i,error:t,helperText:n,id:a,...r},c)=>{const o=a||("string"==typeof i?i.toLowerCase().replace(/\s+/g,"-"):void 0);return s.jsxDEV("div",{className:"space-y-1",children:[i&&s.jsxDEV("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700",children:i},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Input.tsx",lineNumber:18,columnNumber:11},void 0),s.jsxDEV("input",{ref:c,id:o,className:ue("block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm px-3 py-2",t&&"border-red-300 focus:border-red-500 focus:ring-red-500",e),...r},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Input.tsx",lineNumber:22,columnNumber:9},void 0),t&&s.jsxDEV("p",{className:"text-sm text-red-600",children:t},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Input.tsx",lineNumber:32,columnNumber:19},void 0),n&&!t&&s.jsxDEV("p",{className:"text-sm text-gray-500",children:n},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Input.tsx",lineNumber:33,columnNumber:34},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Input.tsx",lineNumber:16,columnNumber:7},void 0)});function Fe({className:e,children:i,onClick:t}){return s.jsxDEV("div",{className:ue("relative overflow-hidden rounded-lg","bg-gradient-to-br from-white/30 via-white/10 to-white/5 border border-white/20 backdrop-blur-md","shadow-[0_8px_30px_rgba(16,24,40,0.08)]",e),onClick:t,children:[s.jsxDEV("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:s.jsxDEV("div",{className:"card-sheen"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Card.tsx",lineNumber:20,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Card.tsx",lineNumber:19,columnNumber:7},this),i]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Card.tsx",lineNumber:17,columnNumber:5},this)}function Oe({className:e,children:i}){return s.jsxDEV("div",{className:ue("px-6 py-4 border-b border-gray-200",e),children:i},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Card.tsx",lineNumber:27,columnNumber:10},this)}function $e({className:e,children:i,...t}){return s.jsxDEV("div",{className:ue("px-6 py-4",e),...t,children:i},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Card.tsx",lineNumber:35,columnNumber:5},this)}function qe({className:e,children:i}){return s.jsxDEV("h3",{className:ue("text-lg font-semibold leading-none tracking-tight",e),children:i},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Card.tsx",lineNumber:42,columnNumber:5},this)}function Ze({className:e,children:i}){return s.jsxDEV("p",{className:ue("text-sm text-gray-600",e),children:i},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Card.tsx",lineNumber:48,columnNumber:10},this)}function Ke({variant:e="default",size:i="md",className:t,children:n}){return s.jsxDEV("span",{className:ue("inline-flex items-center font-medium rounded-md break-words text-center",{default:"bg-gray-100 text-gray-800",secondary:"bg-gray-200 text-gray-700",outline:"border border-gray-300 text-gray-700 bg-white",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[e],{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-xs sm:px-3 sm:py-1 sm:text-sm max-w-xs sm:max-w-none"}[i],t),children:n},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/Badge.tsx",lineNumber:33,columnNumber:5},this)}Be.displayName="Input";const Ye={GURUKUL_COVER:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDYwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iNDAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjMwMCIgY3k9IjIwMCIgcj0iODAiIGZpbGw9IiNGQjdzM2YiIG9wYWNpdHk9IjAuMyIvPgo8L3N2Zz4K",TEAM_MEMBER:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRTVFN0VCIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjcwIiByPSI0MCIgZmlsbD0iIzlDQTNBRiIvPgo8cGF0aCBkPSJNNjAgMTQwSDEwMEMxMzAuMzMgMTQwIDE1MCAxNjAgMTUwIDE5MCIgc3Ryb2tlPSIjOUNBM0FGIiBzdHJva2Utd2lkdGg9IjgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K",PLACEHOLDER:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjwvcmVjdD4K"};async function Je(){const e=_e("gurukuls","active");return We.get(e,async()=>{try{const{data:e,error:i}=await Ie.from("gurukuls").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});return i?[]:e||[]}catch{return[]}},Te.GURUKULS)}async function Xe(){const e=_e("gurukuls","all");return We.get(e,async()=>{try{const{data:e,error:i}=await Ie.from("gurukuls").select("*").order("created_at",{ascending:!1});return i?[]:e||[]}catch{return[]}},Te.GURUKULS)}async function Qe(e){const i=_e("gurukuls","slug",e);return We.get(i,async()=>{try{const{data:i,error:s}=await Ie.from("gurukuls").select("*").eq("slug",e).eq("is_active",!0).single();return s?null:i}catch{return null}},Te.GURUKULS)}async function ei(e,i){try{const{data:s,error:t}=await Ie.from("gurukuls").update({...i,updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(t)throw new Error("Failed to update gurukul");return We.invalidatePattern("gurukuls:.*"),s}catch(s){throw s}}async function ii(){const e=_e("gurukuls","with-stats");return We.get(e,async()=>{try{const{data:e,error:i}=await Ie.from("gurukuls").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(i)return[];if(!e||0===e.length)return[];const{data:s,error:t}=await Ie.from("courses").select("gurukul_id").eq("is_active",!0),{data:n,error:a}=await Ie.from("enrollments").select("\n        course_id,\n        courses!inner (\n          gurukul_id\n        )\n      ").eq("status","approved");if(t||a)return e.map(e=>({...e,courses:0,students:0,image:e.cover_image_url||e.image_url||Ye.GURUKUL_COVER}));const r=(s||[]).reduce((e,i)=>(e[i.gurukul_id]=(e[i.gurukul_id]||0)+1,e),{}),c=(n||[]).reduce((e,i)=>{const s=i.courses,t=s?.gurukul_id;return t&&(e[t]=(e[t]||0)+1),e},{});return e.map(e=>({...e,courses:r[e.id]||0,students:c[e.id]||0,image:e.cover_image_url||e.image_url||Ye.GURUKUL_COVER}))}catch{return[]}},Te.GURUKULS)}function si(e,i){if(!e)return"";return D.sanitize(e,{ALLOWED_TAGS:["b","i","em","strong","a","p","br","ul","ol","li","h1","h2","h3","h4","h5","h6","blockquote","code","pre","hr","div","span","img","table","thead","tbody","tr","td","th"],ALLOWED_ATTR:["href","src","alt","title","class","id","target","rel"],ALLOW_DATA_ATTR:!1,FORBID_TAGS:["script","style","iframe","object","embed"],FORBID_ATTR:["onerror","onload","onclick","onmouseover"]})}function ti(e){if(!e)return"";return D.sanitize(e,{ALLOWED_TAGS:["b","i","em","strong","a","p","br","ul","ol","li","h1","h2","h3","h4","h5","h6","blockquote","code","pre","hr","div","span","img","table","thead","tbody","tr","td","th","video","audio"],ALLOWED_ATTR:["href","src","alt","title","class","id","target","rel","width","height","controls","poster"],ALLOW_DATA_ATTR:!1,FORBID_TAGS:["script","style","iframe","object","embed"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onsubmit"]})}async function ni(e,i,s){try{const{data:t,error:n}=await Ie.from("gurukuls").select("name").eq("id",e).single();if(n||!t)throw new Error("Gurukul not found");const a=function(e){const i=e.replace(/[^a-zA-Z]/g,"");if(i.length<2)throw new Error("Gurukul name must contain at least 2 letters");return i.substring(0,2).toUpperCase()}(t.name),r=function(e){const i=e.replace(/[^a-zA-Z]/g,"");if(i.length<1)throw new Error("Course title must contain at least 1 letter");return i.charAt(0).toUpperCase()}(i),c=`${a}${r}`,{data:o,error:m}=await Ie.from("courses").select("course_number").ilike("course_number",`${c}%`).order("course_number",{ascending:!1});if(m)throw m;let l=1;if(o&&o.length>0){const e=o.map(e=>{const i=e.course_number.match(new RegExp(`^${c}(\\d+)`));return i?parseInt(i[1],10):0}).filter(e=>!isNaN(e)&&e>0);e.length>0&&(l=Math.max(...e)+1)}let d=`${c}${l}`;if(s&&s.trim()){const e=s.trim().toUpperCase().charAt(0);/[A-Z]/.test(e)&&(d+=e)}return d}catch(t){throw console.error("Error generating course number:",t),t}}async function ai(e){try{const i=_e("courses",e?.gurukul_id||"all",e?.level||"all",e?.search||"all",e?.teacher_id||"all");if(!e?.search)return await We.get(i,async()=>{let i=Ie.from("courses").select("*, gurukul:gurukuls(*)");e?.gurukul_id&&(i=i.eq("gurukul_id",e.gurukul_id)),e?.level&&(i=i.eq("level",e.level));const{data:s,error:t}=await i.order("created_at",{ascending:!1});if(t)throw t;return(s||[]).map(e=>({...e,teacher:null}))},Te.COURSES);let s=Ie.from("courses").select("*, gurukul:gurukuls(*)");e?.gurukul_id&&(s=s.eq("gurukul_id",e.gurukul_id)),e?.level&&(s=s.eq("level",e.level)),e?.search&&(s=s.or(`title.ilike.%${e.search}%,description.ilike.%${e.search}%`));const{data:t,error:n}=await s.order("created_at",{ascending:!1});if(n)return[];const a=[...new Set((t||[]).map(e=>e.teacher_id).filter(Boolean))];let r=new Map;if(a.length>0){const{data:e}=await Ie.from("profiles").select("*").in("teacher_id",a);e&&e.forEach(e=>{r.set(e.teacher_id,Le(e))})}return(t||[]).map(e=>({...e,teacher:e.teacher_id&&r.get(e.teacher_id)||null}))}catch{return[]}}async function ri(e){try{return await We.get(_e("course",e),async()=>{const{data:i,error:s}=await Ie.from("courses").select("*, gurukul:gurukuls(*)").eq("id",e).single();if(s)throw s;if(i){}return i},Te.COURSES)}catch{return null}}async function ci(e){try{if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))return ri(e);const{data:i,error:s}=await Ie.from("courses").select("*, gurukul:gurukuls(*)");if(s)return null;if(!i||0===i.length)return null;const t=i.filter(i=>Se(i)===e);t.length;const n=t[0]||null;if(n){}return n||null}catch{return null}}async function oi(e){try{let i=e;if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)){const s=await ci(e);if(!s)return 0;i=s.id}const{count:s,error:t}=await Ie.from("enrollments").select("*",{count:"exact",head:!0}).eq("course_id",i).eq("status","active");return t?0:s||0}catch{return 0}}async function mi(e){try{const i=crypto.randomUUID(),s=e.slug||ge(e.title),t=e.course_number||await ni(e.gurukul_id,e.title,e.part),{part:n,...a}=e,r={...a,id:i,slug:s,course_number:t,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{data:c,error:o}=await Ie.from("courses").insert(r).select().single();if(o)throw o;return We.invalidatePattern("courses:.*"),c}catch(i){throw i}}async function li(e,i){try{const{data:s,error:t}=await Ie.from("courses").select("title, gurukul_id, course_number").eq("id",e).single();if(t||!s)throw new Error("Course not found");let n={...i};const a=s.course_number.replace(/[A-Z]$/,""),r=i.title&&i.title!==s.title,c=i.gurukul_id&&i.gurukul_id!==s.gurukul_id;if(r||c){const e=i.title||s.title,t=i.gurukul_id||s.gurukul_id,a=await ni(t,e,i.part);n.course_number=a}else if(void 0!==i.part)if(i.part&&i.part.trim()){const e=i.part.trim().toUpperCase().charAt(0);n.course_number=`${a}${e}`}else n.course_number=a;const{part:o,regenerateCourseNumber:m,...l}=n,{data:d,error:u}=await Ie.from("courses").update({...l,updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(u)throw console.error("Supabase update error:",u),new Error(`Failed to update course: ${u.message}`);return We.invalidate(_e("course",e)),We.invalidatePattern("courses:.*"),d}catch(s){throw s}}async function di(e){try{const{error:i}=await Ie.from("courses").delete().eq("id",e);if(i)throw new Error("Failed to delete course");We.invalidate(_e("course",e)),We.invalidatePattern("courses:.*")}catch(i){throw i}}async function ui(e){try{const{data:i,error:s}=await Ie.from("course_assignments").select("\n        course_id,\n        courses!inner(*)\n      ").eq("teacher_id",e).eq("is_active",!0);if(s)return console.error("Error fetching course assignments:",s),[];if(!i||0===i.length)return console.log("No course assignments found for teacher profile:",e),[];return i.map(e=>e.courses).filter(Boolean)}catch(i){return console.error("Error in getTeacherCourses:",i),[]}}async function Ni(e,i){try{let s=Ie.from("courses").select("id",{count:"exact",head:!0}).eq("slug",e);i&&(s=s.neq("id",i));const{count:t,error:n}=await s;return n?(console.error("Error checking slug:",n),!1):(t||0)>0}catch(s){return console.error("Error checking slug:",s),!1}}const xi=()=>{const e="http://localhost:3000/api/uploadthing";return console.log("UploadThing URL (development):",e),e},hi=xi();console.log("Initializing UploadThing client with URL:",hi);const{uploadFiles:gi}=j({url:hi});function yi(e){try{const i=e.match(/\/f\/([^/?]+)/);return i?i[1]:null}catch(i){return console.error("Error extracting UploadThing key:",i),null}}async function bi(e){try{const i=yi(e);if(!i)return console.error("Could not extract file key from URL:",e),!1;console.log("Deleting from UploadThing:",i);const s=await fetch(`${xi()}?actionType=delete&fileKey=${i}`,{method:"DELETE"});return s.ok?(console.log("Successfully deleted from UploadThing:",i),!0):(console.error("Failed to delete from UploadThing:",s.status,s.statusText),!1)}catch(i){return console.error("Error deleting from UploadThing:",i),!1}}async function pi(e){console.log("uploadFilesToUploadThing called with",e.length,"files");const i=[];if(!e||0===e.length)return console.warn("No files provided to upload"),i;try{console.log("Starting UploadThing upload...");const s=await gi("imageUploader",{files:e});if(console.log("UploadThing upload completed:",s),!s||0===s.length)throw new Error("UploadThing returned no results");for(let t=0;t<s.length;t++){const n=s[t],a=e[t];if(!n){console.error(`Upload result ${t} is null/undefined`);continue}const r=n.ufsUrl||n.url;if(!r){console.error("No file URL in upload result:",n);continue}console.log("File uploaded successfully to UploadThing:",r);const c=e=>e.startsWith("image/")?"image":e.startsWith("video/")?"video":e.startsWith("audio/")?"audio":"document",o=`${Date.now()}-${n.name}`;console.log("Finding valid user ID from profiles table...");const{data:m,error:l}=await Ie.from("profiles").select("id").limit(1);let d=null;l?console.warn("Could not fetch profiles:",l):m&&m.length>0?(d=m[0].id,console.log("Using user ID:",d)):console.log("No profiles found in database"),console.log("Saving file metadata to database...");const u={filename:o,original_name:n.name,file_type:a.type,file_category:c(a.type),mime_type:a.type,file_size:n.size,file_url:r,title:n.name.split(".")[0],alt_text:n.name.split(".")[0],...d&&{uploaded_by:d},metadata:{uploadType:"uploadthing",originalName:n.name,uploadedAt:(new Date).toISOString()}};console.log("Database record to insert:",u);const{data:N,error:x}=await Ie.from("media_files").insert(u).select().single();if(x)throw console.error("Database insertion error:",x),new Error(`Failed to save ${n.name} to database: ${x.message}`);if(!N)throw new Error(`Failed to save ${n.name}: No data returned from database`);console.log("Database record saved:",N);const h={id:N.id,filename:n.name,url:r,size:n.size,type:a.type};console.log("File upload result:",h),i.push(h)}}catch(s){throw console.error("Error during upload process:",s),s}return console.log("All files processed successfully:",i),i}const fi=Object.freeze(Object.defineProperty({__proto__:null,deleteFromUploadThing:bi,extractUploadThingKey:yi,uploadFilesToUploadThing:pi,uploadWatermarkedFilesToUploadThing:async function(e){console.log("uploadWatermarkedFilesToUploadThing called with",e.length,"files");const i=[];try{console.log("Starting UploadThing watermark upload...");const s=await gi("watermarkUploader",{files:e});console.log("UploadThing watermark upload completed:",s);for(let t=0;t<s.length;t++){const n=s[t],a=e[t];i.push({id:n.key||`watermark-${Date.now()}-${t}`,filename:n.name,url:n.ufsUrl||n.url,size:n.size,type:a.type})}}catch(s){throw console.error("Error during watermark upload process:",s),s}return console.log("All watermarked files processed successfully:",i),i}},Symbol.toStringTag,{value:"Module"}));async function Si(e={}){try{const i=e.page||1,s=e.limit||20;let t=Ie.from("media_files").select("*",{count:"exact"}).order("created_at",{ascending:!1});e.category&&"all"!==e.category&&(t=t.eq("file_category",e.category)),e.search&&(t=t.or(`filename.ilike.%${e.search}%,original_name.ilike.%${e.search}%,title.ilike.%${e.search}%`)),e.userId&&(t=t.eq("uploaded_by",e.userId));const n=(i-1)*s;t=t.range(n,n+s-1);const{data:a,error:r,count:c}=await t;if(r)throw console.error("Supabase error:",r),new Error(`Database error: ${r.message}`);return{media:a||[],pagination:{page:i,limit:s,total:c||0,totalPages:Math.ceil((c||0)/s)}}}catch(i){throw console.error("Error fetching media files:",i),new Error("Failed to fetch media files")}}async function Di(e,i){try{const s={...i,updated_at:(new Date).toISOString()},{data:t,error:n}=await Ie.from("media_files").update(s).eq("id",e).select().single();if(n)throw console.error("Supabase update error:",n),new Error(`Failed to update media file: ${n.message}`);if(!t)throw new Error("Media file not found");return t}catch(s){throw console.error("Error updating media file:",s),new Error("Failed to update media file")}}async function ji(e){try{const{data:i,error:s}=await Ie.from("media_files").select("file_url, original_name").eq("id",e).single();if(s)throw console.error("Error fetching media file for deletion:",s),new Error(`Failed to fetch media file: ${s.message}`);if(!i)throw new Error("Media file not found");console.log("Deleting file from UploadThing:",i.original_name);await bi(i.file_url)||console.warn("Failed to delete from UploadThing, but continuing with database deletion");const{error:t}=await Ie.from("media_files").delete().eq("id",e);if(t)throw console.error("Supabase delete error:",t),new Error(`Failed to delete media file: ${t.message}`);console.log("Successfully deleted media file:",i.original_name)}catch(i){throw console.error("Error deleting media file:",i),new Error("Failed to delete media file")}}async function vi(e){try{const{data:i,error:s}=await Ie.from("media_files").select("id, file_url, original_name").in("id",e);if(s)throw console.error("Error fetching media files for bulk deletion:",s),new Error(`Failed to fetch media files: ${s.message}`);if(!i||0===i.length)throw new Error("No media files found for deletion");console.log(`Deleting ${i.length} files from UploadThing`);const t=i.map(async e=>{const i=await bi(e.file_url);return i||console.warn(`Failed to delete ${e.original_name} from UploadThing`),{id:e.id,deleted:i}});await Promise.all(t);const{error:n}=await Ie.from("media_files").delete().in("id",e);if(n)throw console.error("Supabase bulk delete error:",n),new Error(`Failed to delete media files: ${n.message}`);console.log(`Successfully deleted ${i.length} media files`)}catch(i){throw console.error("Error bulk deleting media files:",i),new Error("Failed to delete media files")}}async function Ai(){try{const{count:e,error:i}=await Ie.from("media_files").select("*",{count:"exact",head:!0});if(i)throw new Error(`Failed to get total count: ${i.message}`);const{data:s,error:t}=await Ie.from("media_files").select("file_category");if(t)throw new Error(`Failed to get category stats: ${t.message}`);const n=s?.reduce((e,i)=>(e[i.file_category]=(e[i.file_category]||0)+1,e),{})||{},{data:a,error:r}=await Ie.from("media_files").select("file_size");if(r)throw new Error(`Failed to get size stats: ${r.message}`);return{total:e||0,by_category:n,total_size:a?.reduce((e,i)=>e+(i.file_size||0),0)||0}}catch(e){throw console.error("Error fetching media statistics:",e),new Error("Failed to fetch media statistics")}}function Ii(e){if(0===e)return"0 Bytes";const i=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,i)).toFixed(2))+" "+["Bytes","KB","MB","GB"][i]}function Ei(e){if(e.thumbnail_url)return e.thumbnail_url;if("image"===e.file_category){const i=e.file_url;return"https://uploadthing-prod-sea1.s3.us-west-2.amazonaws.com/"===i?(console.warn("Broken UploadThing URL detected for file:",e.original_name),"/placeholder-gallery.png"):i}return"/placeholder-gallery.png"}function Ti(e){return"image"===e.file_category||"video"===e.file_category||"audio"===e.file_category||"application/pdf"===e.mime_type}const Pi=Object.freeze(Object.defineProperty({__proto__:null,bulkDeleteMediaFiles:vi,canPreview:Ti,deleteMediaFile:ji,formatFileSize:Ii,getMediaFiles:Si,getMediaStats:Ai,getThumbnailUrl:Ei,updateMediaFile:Di,watermarkMediaFiles:async function(e,i={}){try{const s=async e=>{try{const{data:s,error:t}=await Ie.from("media_files").select("*").eq("id",e).single();if(t||!s)return{mediaId:e,success:!1,error:"Media file not found"};if(!["image/jpeg","image/jpg","image/png","image/webp","image/tiff","image/bmp"].includes(s.mime_type.toLowerCase()))return{mediaId:e,success:!1,error:"File type not supported for watermarking"};const n=await fetch(s.file_url);if(!n.ok)return{mediaId:e,success:!1,error:"Could not download original file"};const a=await n.arrayBuffer(),r="/api/watermark/preview",c=await fetch(r,{method:"POST",headers:{"Content-Type":s.mime_type,"X-Watermark-Options":JSON.stringify({opacity:.3,position:"bottom-right",margin:20,maxSize:15,...i})},body:a});if(!c.ok)return{mediaId:e,success:!1,error:"Failed to generate watermark on server"};const o=await c.arrayBuffer(),{deleteFromUploadThing:m,uploadWatermarkedFilesToUploadThing:l}=await de(async()=>{const{deleteFromUploadThing:e,uploadWatermarkedFilesToUploadThing:i}=await Promise.resolve().then(()=>fi);return{deleteFromUploadThing:e,uploadWatermarkedFilesToUploadThing:i}},void 0);console.log("Deleting original file from UploadThing before uploading watermarked version:",s.original_name);await m(s.file_url)||console.warn("Failed to delete original file from UploadThing, but continuing with watermark upload");const d=new Blob([o],{type:s.mime_type}),u=new File([d],s.original_name,{type:s.mime_type}),N=await l([u]);if(N.length>0&&N[0].url){const{error:t}=await Ie.from("media_files").update({file_url:N[0].url,metadata:{...s.metadata,watermarked:!0,watermarked_at:(new Date).toISOString(),watermark_options:i,original_file_url:s.file_url},updated_at:(new Date).toISOString()}).eq("id",e);return t?{mediaId:e,success:!1,error:"Failed to update database"}:{mediaId:e,success:!0,message:"Watermark added and original file replaced successfully"}}return{mediaId:e,success:!1,error:"Failed to upload watermarked image"}}catch(s){return console.error(`Error processing media ${e}:`,s),{mediaId:e,success:!1,error:s instanceof Error?s.message:"Unknown error"}}};return await Promise.all(e.map(s))}catch(s){throw console.error("Error in watermark function:",s),new Error("Failed to process watermarks")}}},Symbol.toStringTag,{value:"Module"})),Wi=({fileType:e,className:i="",size:t=48})=>{const{extension:n,color:a,textColor:r}=(c=e).startsWith("image/")?{extension:"IMG",color:"bg-green-500",textColor:"text-white"}:c.startsWith("video/")?{extension:"MP4",color:"bg-red-500",textColor:"text-white"}:c.startsWith("audio/")?{extension:"MP3",color:"bg-purple-500",textColor:"text-white"}:c.includes("pdf")?{extension:"PDF",color:"bg-red-600",textColor:"text-white"}:c.includes("word")||c.includes("document")||c.includes("msword")||c.includes("wordprocessingml")?{extension:"DOC",color:"bg-blue-600",textColor:"text-white"}:c.includes("sheet")||c.includes("excel")||c.includes("spreadsheetml")||c.includes("ms-excel")?{extension:"XLS",color:"bg-green-600",textColor:"text-white"}:c.includes("presentation")||c.includes("powerpoint")||c.includes("presentationml")||c.includes("ms-powerpoint")?{extension:"PPT",color:"bg-orange-600",textColor:"text-white"}:c.startsWith("text/")?{extension:"TXT",color:"bg-gray-500",textColor:"text-white"}:c.includes("zip")||c.includes("rar")||c.includes("archive")?{extension:"ZIP",color:"bg-yellow-600",textColor:"text-white"}:{extension:"FILE",color:"bg-gray-400",textColor:"text-white"};var c;const o=t||48,m=Math.max(8,Math.min(12,.25*o)),l=Math.max(2,.08*o);return s.jsxDEV("div",{className:`relative flex flex-col items-center justify-center ${a} ${r} font-bold shadow-lg ${i}`,style:{width:`${o}px`,height:`${o}px`,borderRadius:`${l}px`,fontSize:`${m}px`},"aria-label":`${Hi(e)} file`,children:[s.jsxDEV("div",{className:"absolute top-0 right-0 bg-white opacity-20",style:{width:.2*o+"px",height:.2*o+"px",clipPath:"polygon(100% 0, 0 100%, 100% 100%)"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/FileIcon.tsx",lineNumber:94,columnNumber:7},void 0),s.jsxDEV("span",{className:"font-bold leading-none tracking-tight",children:n},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/FileIcon.tsx",lineNumber:104,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/FileIcon.tsx",lineNumber:83,columnNumber:5},void 0)};function Hi(e){return e.startsWith("image/")?"Image":e.startsWith("video/")?"Video":e.startsWith("audio/")?"Audio":e.includes("pdf")?"PDF":e.includes("word")||e.includes("document")?"Word Document":e.includes("sheet")||e.includes("excel")?"Excel Spreadsheet":e.includes("presentation")||e.includes("powerpoint")?"PowerPoint Presentation":e.startsWith("text/")?"Text":"File"}const Vi=[{value:"all",label:"All Files",icon:v},{value:"image",label:"Images",icon:A},{value:"video",label:"Videos",icon:I},{value:"audio",label:"Audio",icon:E},{value:"document",label:"Documents",icon:v}];function wi({multiple:e=!1,maxSelection:n,accept:a,compact:r=!1,showUpload:c=!0,onSelect:o,onClose:m,initialSelection:l=[],title:d="Select Media",emptyMessage:u="No media files found",className:N=""}){const[x,h]=i.useState([]),[g,y]=i.useState(!0),[b,p]=i.useState(!1),f=i.useRef(null),[S,D]=i.useState(new Set(l.map(e=>e.id))),[j,v]=i.useState("grid"),[I,E]=i.useState(null),[k,M]=i.useState({page:1,limit:r?12:24,category:"all",search:""}),[C,G]=i.useState({page:1,limit:r?12:24,total:0,totalPages:0}),U=i.useCallback(async()=>{try{y(!0);let e=k.category;if(a&&a.length>0){const i=a.map(e=>e.includes("/")?e.split("/")[0]:e).filter(e=>["image","video","audio","document"].includes(e));1===i.length&&(e=i[0])}const i=await Si({...k,category:e});let s=i.media;a&&a.some(e=>e.includes("/"))&&(s=i.media.filter(e=>a.some(i=>i.endsWith("/*")?e.mime_type.startsWith(i.replace("/*","/")):e.mime_type===i))),h(s),G(i.pagination)}catch(e){console.error("Error loading media:",e),t.error("Failed to load media files")}finally{y(!1)}},[k,a]);i.useEffect(()=>{U()},[U]);const R=i=>{D(s=>{const a=new Set(s);if(a.has(i.id))a.delete(i.id);else{if(e){if(n&&a.size>=n)return t.warning(`You can only select up to ${n} files`),s}else a.clear();a.add(i.id)}return a})},z=e=>{M(i=>({...i,page:e}))},L=a?Vi.filter(e=>"all"===e.value||a.some(i=>i.includes(e.value)||i===e.value)):Vi,B=S.size,F=B>0&&(!n||B<=n);return s.jsxDEV("div",{className:`bg-white ${N}`,onClick:e=>e.stopPropagation(),children:[s.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxDEV("div",{className:"flex items-center space-x-2",children:[s.jsxDEV("h2",{className:"text-lg font-semibold",children:d},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:325,columnNumber:11},this),B>0&&s.jsxDEV(Ke,{variant:"secondary",children:[B," selected",n&&` of ${n}`]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:327,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:324,columnNumber:9},this),s.jsxDEV("div",{className:"flex items-center space-x-2",children:m&&s.jsxDEV(je,{variant:"ghost",size:"sm",onClick:m,children:s.jsxDEV(T,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:336,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:335,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:333,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:323,columnNumber:7},this),s.jsxDEV("div",{className:"p-4 border-b bg-gray-50",children:[s.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0",children:[s.jsxDEV("div",{className:"flex items-center space-x-3",children:[s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:348,columnNumber:15},this),s.jsxDEV(Be,{placeholder:"Search media...",className:"pl-10 w-48",value:k.search||"",onChange:e=>{return i=e.target.value,void M(e=>({...e,search:i,page:1}));var i}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:349,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:347,columnNumber:13},this),c&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV("input",{ref:f,type:"file",multiple:!0,className:"hidden",onChange:e=>(async e=>{if(e&&0!==e.length){p(!0);try{const i=Array.from(e);console.log("Starting upload of",i.length,"files");const s=await pi(i);if(console.log("Upload results:",s),!s)throw new Error("Upload failed: No results returned from server");if(0===s.length)return void t.error("Upload failed: No files were processed");t.success(`Successfully uploaded ${i.length} file(s)`),console.log("Reloading media list..."),await U(),console.log("Media list reloaded");const n=new Set(S);s.forEach(e=>{e&&e.id&&(console.log("Adding to selected files:",e.id),n.add(e.id))}),D(n);const a=s.filter(e=>null!=e).map(e=>({id:e.id,filename:e.filename,original_name:e.filename,file_url:e.url,file_size:e.size,mime_type:e.type,file_category:e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":"document",title:e.filename.split(".")[0],alt_text:e.filename.split(".")[0],uploaded_by:null,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}));console.log("Converted media for selection:",a),a.length>0?(console.log("Calling onSelect with",a.length,"files"),o(a)):t.error("Upload succeeded but files could not be processed"),f.current&&(f.current.value="")}catch(i){console.error("Upload error:",i);const e=i instanceof Error?i.message:"Upload failed";t.error(e)}finally{p(!1)}}})(e.target.files)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:360,columnNumber:17},this),s.jsxDEV(je,{variant:"outline",size:"sm",onClick:()=>{f.current?.click()},disabled:b,children:[s.jsxDEV(W,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:373,columnNumber:19},this),b?"Uploading...":"Upload"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:367,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:359,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:345,columnNumber:11},this),s.jsxDEV("div",{className:"flex items-center space-x-2",children:!r&&s.jsxDEV("div",{className:"flex border rounded-lg",children:[s.jsxDEV(je,{variant:"grid"===j?"primary":"ghost",size:"sm",onClick:()=>v("grid"),children:s.jsxDEV(H,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:389,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:384,columnNumber:17},this),s.jsxDEV(je,{variant:"list"===j?"primary":"ghost",size:"sm",onClick:()=>v("list"),children:s.jsxDEV(V,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:396,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:391,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:383,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:380,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:344,columnNumber:9},this),L.length>1&&s.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-3",children:L.map(e=>{const i=e.icon;return s.jsxDEV(je,{variant:k.category===e.value?"primary":"outline",size:"sm",onClick:()=>(e=>{M(i=>({...i,category:e,page:1}))})(e.value),children:[s.jsxDEV(i,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:415,columnNumber:19},this),e.label]},e.value,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:409,columnNumber:17},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:405,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:343,columnNumber:7},this),s.jsxDEV("div",{className:`p-4 ${r?"max-h-96":"max-h-[60vh]"} overflow-auto`,children:g?s.jsxDEV("div",{className:"flex items-center justify-center py-12",children:[s.jsxDEV(w,{className:"h-8 w-8 animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:428,columnNumber:13},this),s.jsxDEV("span",{className:"ml-2",children:"Loading media files..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:429,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:427,columnNumber:11},this):0===x.length?s.jsxDEV("div",{className:"text-center py-12",children:[s.jsxDEV(A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:433,columnNumber:13},this),s.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:434,columnNumber:13},this),s.jsxDEV("p",{className:"text-gray-600",children:k.search||"all"!==k.category?"Try adjusting your search or filters":"Upload your first media file to get started"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:435,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:432,columnNumber:11},this):s.jsxDEV(s.Fragment,{children:["grid"===j||r?s.jsxDEV("div",{className:"grid gap-3 "+(r?"grid-cols-3 md:grid-cols-4":"grid-cols-2 md:grid-cols-4 lg:grid-cols-6"),children:x.map(e=>s.jsxDEV(_i,{file:e,selected:S.has(e.id),onSelect:()=>R(e),onPreview:()=>E(e),compact:r},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:452,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:444,columnNumber:15},this):s.jsxDEV("div",{className:"space-y-2",children:x.map(e=>s.jsxDEV(ki,{file:e,selected:S.has(e.id),onSelect:()=>R(e),onPreview:()=>E(e)},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:465,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:463,columnNumber:15},this),!r&&C.totalPages>1&&s.jsxDEV("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[s.jsxDEV("div",{className:"text-sm text-gray-600",children:["Showing ",(C.page-1)*C.limit+1," to"," ",Math.min(C.page*C.limit,C.total)," of"," ",C.total," files"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:479,columnNumber:17},this),s.jsxDEV("div",{className:"flex space-x-2",children:[s.jsxDEV(je,{variant:"outline",size:"sm",disabled:1===C.page,onClick:()=>z(C.page-1),children:"Previous"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:485,columnNumber:19},this),Array.from({length:Math.min(5,C.totalPages)},(e,i)=>{const t=i+Math.max(1,C.page-2);return t>C.totalPages?null:s.jsxDEV(je,{variant:t===C.page?"primary":"outline",size:"sm",onClick:()=>z(t),children:t},t,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:497,columnNumber:23},this)}),s.jsxDEV(je,{variant:"outline",size:"sm",disabled:C.page===C.totalPages,onClick:()=>z(C.page+1),children:"Next"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:507,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:484,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:478,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:442,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:425,columnNumber:7},this),s.jsxDEV("div",{className:"flex items-center justify-between p-4 border-t bg-gray-50",children:[s.jsxDEV("div",{className:"text-sm text-gray-600",children:e?s.jsxDEV(s.Fragment,{children:[B," file",1!==B?"s":""," selected",n&&` (max ${n})`]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:526,columnNumber:13},this):B>0?"1 file selected":"Select a file"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:524,columnNumber:9},this),s.jsxDEV("div",{className:"flex space-x-2",children:[m&&s.jsxDEV(je,{variant:"outline",onClick:m,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:539,columnNumber:13},this),s.jsxDEV(je,{onClick:()=>{const e=x.filter(e=>S.has(e.id));o(e)},disabled:!F,children:[s.jsxDEV(_,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:544,columnNumber:13},this),e?`Select ${B}`:"Select"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:543,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:537,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:523,columnNumber:7},this),I&&s.jsxDEV(Mi,{media:I,onClose:()=>E(null)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:552,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:321,columnNumber:5},this)}function _i({file:e,selected:i,onSelect:t,onPreview:n,compact:a=!1}){const r=Ei(e),c="image"===e.file_category;return s.jsxDEV("div",{className:"relative group border-2 rounded-lg overflow-hidden transition-all cursor-pointer "+(i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:t,children:[s.jsxDEV("div",{className:"absolute top-2 left-2 z-10",children:s.jsxDEV("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors "+(i?"bg-blue-500 border-blue-500":"bg-white border-gray-300 group-hover:border-gray-400"),children:i&&s.jsxDEV(_,{className:"h-3 w-3 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:593,columnNumber:24},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:586,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:585,columnNumber:7},this),s.jsxDEV("div",{className:"aspect-square bg-gray-100 flex items-center justify-center overflow-hidden "+(a?"min-h-[80px]":"min-h-[120px]"),children:[c?s.jsxDEV("img",{src:r,alt:e.alt_text||e.title||e.original_name,className:"w-full h-full object-cover"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:604,columnNumber:11},this):s.jsxDEV("div",{className:"flex items-center justify-center w-full h-full",children:s.jsxDEV(Wi,{fileType:e.file_type,size:a?32:48,className:"text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:611,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:610,columnNumber:11},this),Ti(e)&&s.jsxDEV("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",onClick:e=>{e.stopPropagation(),n()},children:s.jsxDEV(je,{size:"sm",variant:"secondary",children:s.jsxDEV(k,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:629,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:628,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:621,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:598,columnNumber:7},this),!a&&s.jsxDEV("div",{className:"p-2",children:[s.jsxDEV("div",{className:"text-xs font-medium text-gray-900 truncate",title:e.title||e.original_name,children:e.title||e.original_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:638,columnNumber:11},this),s.jsxDEV("div",{className:"text-xs text-gray-500",children:Ii(e.file_size)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:644,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:637,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:578,columnNumber:5},this)}function ki({file:e,selected:i,onSelect:t,onPreview:n}){return s.jsxDEV("div",{className:"flex items-center space-x-3 p-3 rounded border transition-all cursor-pointer "+(i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:t,children:[s.jsxDEV("div",{className:"w-5 h-5 rounded border-2 flex items-center justify-center transition-colors "+(i?"bg-blue-500 border-blue-500":"bg-white border-gray-300"),children:i&&s.jsxDEV(_,{className:"h-3 w-3 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:673,columnNumber:22},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:668,columnNumber:7},this),s.jsxDEV("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:"image"===e.file_category?s.jsxDEV("img",{src:Ei(e),alt:e.alt_text||e.title||e.original_name,className:"w-full h-full object-cover rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:679,columnNumber:11},this):s.jsxDEV("div",{className:"flex items-center justify-center w-full h-full",children:s.jsxDEV(Wi,{fileType:e.file_type,size:24,className:"text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:686,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:685,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:677,columnNumber:7},this),s.jsxDEV("div",{className:"flex-1 min-w-0",children:[s.jsxDEV("div",{className:"font-medium text-gray-900 truncate",children:e.title||e.original_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:693,columnNumber:9},this),s.jsxDEV("div",{className:"text-sm text-gray-500",children:[Ii(e.file_size)," â€¢ ",e.file_category]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:694,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:692,columnNumber:7},this),Ti(e)&&s.jsxDEV(je,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),n()},children:s.jsxDEV(k,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:709,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:701,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:661,columnNumber:5},this)}function Mi({media:e,onClose:i}){return s.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:s.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl max-h-full overflow-auto",children:[s.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsxDEV("h3",{className:"text-lg font-medium truncate",children:e.title||e.original_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:727,columnNumber:11},this),s.jsxDEV(je,{variant:"ghost",size:"sm",onClick:i,children:s.jsxDEV(T,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:729,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:728,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:726,columnNumber:9},this),s.jsxDEV("div",{className:"p-4",children:["image"===e.file_category&&s.jsxDEV("img",{src:e.file_url,alt:e.alt_text||e.title||e.original_name,className:"max-w-full h-auto mx-auto"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:735,columnNumber:13},this),"video"===e.file_category&&s.jsxDEV("video",{controls:!0,className:"max-w-full h-auto mx-auto",children:[s.jsxDEV("source",{src:e.file_url,type:e.mime_type},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:744,columnNumber:15},this),"Your browser does not support the video tag."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:743,columnNumber:13},this),"audio"===e.file_category&&s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"flex justify-center mb-4",children:s.jsxDEV(Wi,{fileType:e.file_type,size:72,className:"text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:752,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:751,columnNumber:15},this),s.jsxDEV("audio",{controls:!0,className:"mx-auto",children:[s.jsxDEV("source",{src:e.file_url,type:e.mime_type},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:755,columnNumber:17},this),"Your browser does not support the audio tag."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:754,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:750,columnNumber:13},this),s.jsxDEV("div",{className:"mt-4 text-sm text-gray-600 space-y-1",children:[s.jsxDEV("div",{children:[s.jsxDEV("strong",{children:"Size:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:763,columnNumber:15},this)," ",Ii(e.file_size)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:762,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("strong",{children:"Type:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:766,columnNumber:15},this)," ",e.mime_type]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:765,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("strong",{children:"Uploaded:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:769,columnNumber:15},this)," ",new Date(e.created_at).toLocaleString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:768,columnNumber:13},this),e.description&&s.jsxDEV("div",{children:[s.jsxDEV("strong",{children:"Description:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:773,columnNumber:17},this)," ",e.description]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:772,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:761,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:733,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:725,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/MediaSelector.tsx",lineNumber:724,columnNumber:5},this)}const Ci=({isOpen:e,title:i,message:t,confirmText:n="Confirm",cancelText:a="Cancel",onConfirm:r,onCancel:c,variant:o="danger",loading:m=!1})=>{if(!e)return null;return s.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm",children:s.jsxDEV("div",{className:"w-full max-w-md mx-4 bg-white rounded-lg shadow-xl",children:s.jsxDEV(Fe,{className:"bg-white",children:[s.jsxDEV(Oe,{children:s.jsxDEV(qe,{className:"text-lg font-semibold",children:i},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:46,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:45,columnNumber:11},void 0),s.jsxDEV($e,{className:"space-y-4",children:[s.jsxDEV("p",{className:"text-gray-600",children:t},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:49,columnNumber:13},void 0),s.jsxDEV("div",{className:"flex justify-end space-x-2",children:[s.jsxDEV(je,{variant:"outline",onClick:c,disabled:m,children:a},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:51,columnNumber:15},void 0),s.jsxDEV(je,{variant:(()=>{switch(o){case"danger":return"danger";case"warning":return"secondary";default:return"primary"}})(),onClick:r,disabled:m,children:m?"Processing...":n},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:54,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:48,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:44,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:43,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/ui/ConfirmDialog.tsx",lineNumber:42,columnNumber:5},void 0)};const Gi=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[t,r]=i.useState([]),[c,o]=i.useState({}),[m,l]=i.useState([]),[d,u]=i.useState(!0),[N,x]=i.useState(""),[h,g]=i.useState("all"),[y,b]=i.useState(!1),[p,f]=i.useState(null),[S,D]=i.useState(null),[j,v]=i.useState({name:"",slug:"",description:"",image_url:"",cover_image_url:"",selected_cover_media_id:void 0,selected_content_media_id:void 0}),[A,I]=i.useState(!1),[E,T]=i.useState(!1),P=e.useRef(null),[W,H]=i.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});i.useEffect(()=>{V()},[]),i.useEffect(()=>{j.name&&!p&&v(e=>({...e,slug:ge(j.name)}))},[j.name,p]);const V=async()=>{try{const[e,i]=await Promise.all([Xe(),ai()]);r(e);const s={};i.forEach(e=>{s[e.gurukul_id]=(s[e.gurukul_id]||0)+1}),o(s)}catch{n.error("Failed to load gurukul data")}finally{u(!1)}},w=e.useCallback(()=>{let e=t;if(N&&(e=e.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())||e.slug.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase()))),"all"!==h){const i="active"===h;e=e.filter(e=>e.is_active===i)}l(e)},[t,N,h]);i.useEffect(()=>{w()},[w]);const _=()=>{v({name:"",slug:"",description:"",image_url:"",cover_image_url:"",selected_cover_media_id:void 0,selected_content_media_id:void 0}),b(!1),f(null)},k=async e=>{const i=t.find(i=>i.id===e);i&&H({isOpen:!0,title:"Delete Gurukul",message:`Are you sure you want to delete "${i.name}"? This action cannot be undone.`,onConfirm:async()=>{try{await async function(e){try{const{error:i}=await Ie.from("gurukuls").update({is_active:!1}).eq("id",e);if(i)throw new Error("Failed to delete gurukul");We.invalidatePattern("gurukuls:.*")}catch(i){throw i}}(e),await V(),n.success("Gurukul deleted successfully")}catch{n.error("Failed to delete gurukul")}H(e=>({...e,isOpen:!1}))}})},O={total:t.length,active:t.filter(e=>e.is_active).length,inactive:t.filter(e=>!1===e.is_active).length,totalCourses:Object.values(c).reduce((e,i)=>e+i,0)};return d?s.jsxDEV("div",{className:"flex items-center justify-center py-12",children:s.jsxDEV("div",{className:"spinner w-8 h-8"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:211,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:210,columnNumber:7},this):s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-4 text-center",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:O.total},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:221,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600",children:"Total Gurukuls"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:222,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:220,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:219,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-4 text-center",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:O.active},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:227,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:226,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:225,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-4 text-center",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-gray-600",children:O.inactive},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:233,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600",children:"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:232,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:231,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-4 text-center",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:O.totalCourses},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:239,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600",children:"Total Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:240,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:238,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:237,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:218,columnNumber:7},this),y&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("h3",{className:"text-lg font-semibold",children:p?"Edit Gurukul":"Create New Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:249,columnNumber:15},this),s.jsxDEV(je,{variant:"ghost",onClick:_,children:s.jsxDEV(M,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:253,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:252,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:248,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:247,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("form",{onSubmit:async e=>{e.preventDefault(),I(!0);try{const{selected_cover_media_id:e,selected_content_media_id:i,...s}=j;p?(await ei(p.id,s),n.success("Gurukul updated successfully")):(await async function(e){try{const{data:i,error:s}=await Ie.from("gurukuls").insert({...e,id:crypto.randomUUID(),created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}).select().single();if(s)throw new Error("Failed to create gurukul");return We.invalidatePattern("gurukuls:.*"),i}catch(i){throw i}}({...s,is_active:!0,sort_order:0}),n.success("Gurukul created successfully")),await V(),_()}catch{n.error("Failed to save gurukul")}finally{I(!1)}},className:"space-y-4",children:[s.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxDEV(Be,{label:"Gurukul Name",value:j.name,onChange:e=>v(i=>({...i,name:e.target.value})),required:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:260,columnNumber:17},this),s.jsxDEV(Be,{label:"Slug",value:j.slug,onChange:e=>v(i=>({...i,slug:e.target.value})),required:!0,helperText:"URL-friendly identifier"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:266,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:259,columnNumber:15},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Image/Video"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:276,columnNumber:17},this),s.jsxDEV("div",{className:"flex items-center space-x-2",children:[s.jsxDEV(je,{type:"button",variant:"outline",size:"sm",onClick:()=>T(!0),className:"flex items-center space-x-2",children:[s.jsxDEV(C,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:287,columnNumber:21},this),s.jsxDEV("span",{children:"Select Media"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:288,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:280,columnNumber:19},this),j.cover_image_url&&s.jsxDEV("span",{className:"text-xs text-gray-500",children:"âœ“ Media selected"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:291,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:279,columnNumber:17},this),j.selected_cover_media_id&&j.cover_image_url&&s.jsxDEV("div",{className:"mt-2",children:s.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[s.jsxDEV("div",{className:"flex items-center space-x-2",children:[s.jsxDEV("img",{src:j.cover_image_url,alt:"Selected cover media",className:"w-8 h-8 object-cover rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:300,columnNumber:25},this),s.jsxDEV("span",{className:"text-sm text-gray-600",children:"Cover media selected"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:305,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:299,columnNumber:23},this),s.jsxDEV("button",{type:"button",onClick:()=>v(e=>({...e,selected_cover_media_id:void 0,cover_image_url:""})),className:"text-red-500 hover:text-red-700",children:s.jsxDEV(M,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:318,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:307,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:298,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:297,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:275,columnNumber:15},this),s.jsxDEV("div",{className:"space-y-1",children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:327,columnNumber:17},this),s.jsxDEV(a,{ref:P,value:j.description,onChange:e=>v(i=>({...i,description:e})),placeholder:"Enter Gurukul description",className:"bg-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:328,columnNumber:17},this),s.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:"Rich text description with support for formatting"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:337,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:326,columnNumber:15},this),s.jsxDEV("div",{className:"flex space-x-4",children:[s.jsxDEV(je,{type:"submit",loading:A,children:[s.jsxDEV(G,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:343,columnNumber:19},this),p?"Update Gurukul":"Create Gurukul"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:342,columnNumber:17},this),s.jsxDEV(je,{type:"button",variant:"danger",onClick:_,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:346,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:341,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:258,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:257,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:246,columnNumber:9},this),s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:s.jsxDEV("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:361,columnNumber:17},this),s.jsxDEV("input",{type:"text",placeholder:"Search gurukuls...",value:N,onChange:e=>x(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:362,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:360,columnNumber:15},this),s.jsxDEV("select",{value:h,onChange:e=>g(e.target.value),className:"px-2.5 py-1.5 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[s.jsxDEV("option",{value:"all",children:"All Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:376,columnNumber:17},this),s.jsxDEV("option",{value:"active",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:377,columnNumber:17},this),s.jsxDEV("option",{value:"inactive",children:"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:378,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:371,columnNumber:15},this),s.jsxDEV(je,{onClick:()=>b(!0),children:[s.jsxDEV(C,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:381,columnNumber:17},this),"New Gurukul"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:380,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:358,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:357,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:356,columnNumber:9},this),s.jsxDEV($e,{children:0===m.length?s.jsxDEV("div",{className:"text-center py-8",children:[s.jsxDEV(R,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:390,columnNumber:15},this),s.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No gurukuls found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:391,columnNumber:15},this),s.jsxDEV("p",{className:"text-gray-600",children:"No gurukuls match your current filters."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:392,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:389,columnNumber:13},this):s.jsxDEV("div",{className:"overflow-x-auto",children:s.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsxDEV("thead",{className:"bg-gray-50",children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:399,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Slug"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:402,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:405,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:408,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:411,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:414,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:398,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:397,columnNumber:17},this),s.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>s.jsxDEV("tr",{className:"hover:bg-gray-50",children:[s.jsxDEV("td",{className:"px-6 py-4",children:s.jsxDEV("div",{className:"flex items-center",children:[s.jsxDEV(R,{className:"h-5 w-5 text-gray-400 mr-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:424,columnNumber:27},this),s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:426,columnNumber:29},this),s.jsxDEV("div",{className:"text-sm text-gray-500 line-clamp-2",children:s.jsxDEV("div",{dangerouslySetInnerHTML:{__html:si(e.description)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:428,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:427,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:425,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:423,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:422,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-600 font-mono",children:["/",e.slug]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:437,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4",children:s.jsxDEV("div",{className:"flex items-center",children:[s.jsxDEV(z,{className:"h-4 w-4 text-gray-400 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:440,columnNumber:27},this),s.jsxDEV("span",{className:"text-sm text-gray-600",children:[c[e.id]||0," courses"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:441,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:439,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:438,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4",children:s.jsxDEV(Ke,{className:e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",size:"sm",children:e.is_active?"Active":"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:447,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:446,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:xe(e.created_at)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:458,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4",children:s.jsxDEV("div",{className:"flex gap-2",children:[s.jsxDEV(je,{size:"sm",variant:"ghost",onClick:()=>D(e),title:"View Gurukul Details",children:s.jsxDEV(L,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:469,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:463,columnNumber:27},this),s.jsxDEV(je,{size:"sm",variant:"ghost",onClick:()=>(e=>{f(e),v({name:e.name,slug:e.slug,description:e.description,image_url:e.image_url||"",cover_image_url:e.cover_image_url||"",selected_cover_media_id:void 0,selected_content_media_id:void 0}),b(!0)})(e),children:s.jsxDEV(B,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:472,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:471,columnNumber:27},this),s.jsxDEV(je,{size:"sm",variant:e.is_active?"ghost":"secondary",onClick:()=>(async(e,i)=>{try{await ei(e,{is_active:!i}),await V(),n.success(`Gurukul ${i?"deactivated":"activated"} successfully`)}catch{n.error("Failed to update gurukul status")}})(e.id,e.is_active),children:e.is_active?"Deactivate":"Activate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:474,columnNumber:27},this),s.jsxDEV(je,{size:"sm",variant:"danger",onClick:()=>k(e.id),children:s.jsxDEV(F,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:486,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:481,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:462,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:461,columnNumber:23},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:421,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:419,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:396,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:395,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:387,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:355,columnNumber:7},this),S&&s.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 flex items-center justify-center z-50 p-4",children:s.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl border border-gray-300",children:[s.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-500 to-purple-600",children:[s.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Gurukul Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:503,columnNumber:15},this),s.jsxDEV("button",{onClick:()=>D(null),className:"p-2 hover:bg-white/20 rounded-lg text-white/80 hover:text-white",children:s.jsxDEV(M,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:508,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:504,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:502,columnNumber:13},this),s.jsxDEV("div",{className:"p-6 overflow-y-auto",children:s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"flex flex-col md:flex-row gap-6 mb-6",children:[s.jsxDEV("div",{className:"flex-1",children:[s.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:516,columnNumber:21},this),s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:519,columnNumber:25},this),s.jsxDEV("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:520,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:518,columnNumber:23},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:525,columnNumber:25},this),s.jsxDEV(Ke,{className:S.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",size:"sm",children:S.is_active?"Active":"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:526,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:524,columnNumber:23},this),s.jsxDEV("div",{children:[s.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Sort Order"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:538,columnNumber:25},this),s.jsxDEV("p",{className:"mt-1 text-sm text-gray-900",children:S.sort_order||"Not set"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:541,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:537,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:517,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:515,columnNumber:19},this),(S.cover_image_url||S.image_url)&&s.jsxDEV("div",{className:"flex-shrink-0",children:s.jsxDEV("img",{src:S.cover_image_url||S.image_url,alt:S.name,className:"w-48 h-32 object-cover rounded-lg border shadow-sm",onError:e=>{e.target.style.display="none"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:549,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:548,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:514,columnNumber:17},this),s.jsxDEV("div",{children:[s.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:563,columnNumber:19},this),s.jsxDEV("div",{className:"text-sm text-gray-900 leading-relaxed",children:S.description?s.jsxDEV("div",{dangerouslySetInnerHTML:{__html:si(S.description)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:566,columnNumber:23},this):"No description provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:564,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:562,columnNumber:17},this),s.jsxDEV("div",{children:[s.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics & Performance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:578,columnNumber:19},this),s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxDEV("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:s.jsxDEV("div",{className:"flex items-center",children:[s.jsxDEV(z,{className:"h-8 w-8 text-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:584,columnNumber:25},this),s.jsxDEV("div",{className:"ml-3",children:[s.jsxDEV("p",{className:"text-sm font-medium text-blue-900",children:"Total Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:586,columnNumber:27},this),s.jsxDEV("p",{className:"text-2xl font-bold text-blue-600",children:c[S.id]||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:587,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:585,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:583,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:582,columnNumber:21},this),s.jsxDEV("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:s.jsxDEV("div",{className:"flex items-center",children:[s.jsxDEV(R,{className:"h-8 w-8 text-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:595,columnNumber:25},this),s.jsxDEV("div",{className:"ml-3",children:[s.jsxDEV("p",{className:"text-sm font-medium text-green-900",children:"Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:597,columnNumber:27},this),s.jsxDEV("p",{className:"text-lg font-bold text-green-600",children:S.is_active?"Live":"Offline"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:598,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:596,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:594,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:593,columnNumber:21},this),s.jsxDEV("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:s.jsxDEV("div",{className:"flex items-center",children:[s.jsxDEV("div",{className:"h-8 w-8 bg-orange-600 rounded-full flex items-center justify-center",children:s.jsxDEV("span",{className:"text-white font-bold text-sm",children:"#"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:607,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:606,columnNumber:25},this),s.jsxDEV("div",{className:"ml-3",children:[s.jsxDEV("p",{className:"text-sm font-medium text-orange-900",children:"Priority"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:610,columnNumber:27},this),s.jsxDEV("p",{className:"text-lg font-bold text-orange-600",children:S.sort_order||"Not set"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:611,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:609,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:605,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:604,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:581,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:577,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:512,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:511,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:501,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:500,columnNumber:9},this),E&&s.jsxDEV("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Select Cover Media"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:630,columnNumber:15},this),s.jsxDEV("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:[s.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:635,columnNumber:17},this),"âœ•"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:631,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:629,columnNumber:13},this),s.jsxDEV(wi,{multiple:!1,accept:["image","video"],compact:!1,showUpload:!0,onSelect:e=>{if(e.length>0){const i=e[0];v(e=>({...e,selected_cover_media_id:i.id,cover_image_url:i.file_url}))}T(!1)},title:"Select Cover Media",emptyMessage:"No images or videos found. Upload some media first.",className:"w-full"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:638,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:628,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:627,columnNumber:9},this),s.jsxDEV(Ci,{isOpen:W.isOpen,title:W.title,message:W.message,onConfirm:W.onConfirm,onCancel:()=>H(e=>({...e,isOpen:!1})),variant:"danger"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:663,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/GurukulManagement.tsx",lineNumber:216,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"}));async function Ui(e,i){try{let i=Ie.from("profiles").select("*").eq("role","student").gte("created_at",e.start).lte("created_at",e.end);const{data:s}=await Ie.from("profiles").select("*").eq("role","student"),t=s?.map(e=>Le(e)),{data:n}=await i,a=n?.map(e=>Le(e)),r=(t||[]).reduce((e,i)=>{if(i.age){const s=i.age<6?"0-5":i.age<13?"6-12":i.age<18?"13-17":i.age<25?"18-24":"25+";e[s]=(e[s]||0)+1}return e},{}),c=Object.entries(r).map(([e,i])=>({ageGroup:e,count:i})),o=new Map;(t||[]).forEach(e=>{if(e.city||e.state||e.country){const i=`${e.city||"Unknown"},${e.state||"Unknown"},${e.country||"Unknown"}`;o.set(i,(o.get(i)||0)+1)}});const m=Array.from(o.entries()).map(([e,i])=>{const[s,t,n]=e.split(",");return{city:s,state:t,country:n,count:i}}).sort((e,i)=>i.count-e.count).slice(0,10),l=new Map;(t||[]).forEach(e=>{const i=e.status||"active";l.set(i,(l.get(i)||0)+1)});const d=Array.from(l.entries()).map(([e,i])=>({status:e,count:i})),{data:u}=await Ie.from("enrollments").select("student_id, status").eq("status","completed"),{data:N}=await Ie.from("certificates").select("student_id"),{data:x}=await Ie.from("attendance_records").select("student_id, status"),h=new Map;(u||[]).forEach(e=>{const i=h.get(e.student_id)||{coursesCompleted:0,certificatesEarned:0,totalClasses:0,presentClasses:0};i.coursesCompleted++,h.set(e.student_id,i)}),(N||[]).forEach(e=>{const i=h.get(e.student_id)||{coursesCompleted:0,certificatesEarned:0,totalClasses:0,presentClasses:0};i.certificatesEarned++,h.set(e.student_id,i)}),(x||[]).forEach(e=>{const i=h.get(e.student_id)||{coursesCompleted:0,certificatesEarned:0,totalClasses:0,presentClasses:0};i.totalClasses++,"present"===e.status&&i.presentClasses++,h.set(e.student_id,i)});const g=Array.from(h.entries()).map(([e,i])=>{const s=t?.find(i=>i.id===e);return{id:e,name:s?.full_name||"Unknown",coursesCompleted:i.coursesCompleted,certificatesEarned:i.certificatesEarned,attendanceRate:i.totalClasses>0?Math.round(i.presentClasses/i.totalClasses*100):0}}).sort((e,i)=>i.coursesCompleted-e.coursesCompleted).slice(0,10);return{totalStudents:t?.length||0,activeStudents:t?.filter(e=>"active"===e.status).length||0,newStudents:a?.length||0,studentsByAgeGroup:c,studentsByLocation:m,studentsByStatus:d,topStudents:g}}catch(s){throw console.error("Error fetching student analytics:",s),s}}async function Ri(e,i){try{let s=Ie.from("enrollments").select("*, course:courses(title, gurukul_id)");const{data:t}=await s,n=i?t?.filter(e=>e.course?.gurukul_id===i):t,a=(n?.filter(i=>i.created_at>=e.start&&i.created_at<=e.end),new Map);(n||[]).forEach(e=>{a.set(e.status,(a.get(e.status)||0)+1)});const r=Array.from(a.entries()).map(([e,i])=>({status:e,count:i})),c=new Date;c.setDate(c.getDate()-30);const o=new Map;(n||[]).forEach(e=>{const i=new Date(e.created_at);if(i>=c){const e=i.toISOString().split("T")[0];o.set(e,(o.get(e)||0)+1)}});const m=Array.from(o.entries()).map(([e,i])=>({date:e,count:i})).sort((e,i)=>e.date.localeCompare(i.date)),l=n?.filter(e=>"completed"===e.status).length||0,d=n?.length||1,u=Math.round(l/d*100),N=n?.filter(e=>"completed"===e.status&&e.completed_at)||[],x=N.reduce((e,i)=>{const s=new Date(i.enrolled_at),t=new Date(i.completed_at);return e+Math.floor((t.getTime()-s.getTime())/864e5)},0),h=N.length>0?Math.round(x/N.length):0,g=new Map;(n||[]).forEach(e=>{const i=e.course_id,s=e.course?.title||"Unknown",t=g.get(i)||{courseId:i,courseName:s,count:0};t.count++,g.set(i,t)});const y=Array.from(g.values()).sort((e,i)=>i.count-e.count).slice(0,10);return{totalEnrollments:n?.length||0,enrollmentsByStatus:r,enrollmentTrends:m,completionRate:u,averageTimeToComplete:h,enrollmentsByCourse:y}}catch(s){throw console.error("Error fetching enrollment analytics:",s),s}}async function zi(e,i){try{let e=Ie.from("courses").select("*");const{data:i}=await e,s=i?.filter(e=>e.is_active).length||0,{data:t}=await Ie.from("enrollments").select("course_id, status"),n=new Map;(t||[]).forEach(e=>{const i=n.get(e.course_id)||{enrollments:0,completions:0};i.enrollments++,"completed"===e.status&&i.completions++,n.set(e.course_id,i)});const a=(i||[]).map(e=>{const i=n.get(e.id)||{enrollments:0,completions:0};return{id:e.id,title:e.title,enrollments:i.enrollments,completions:i.completions,completionRate:i.enrollments>0?Math.round(i.completions/i.enrollments*100):0}}).sort((e,i)=>i.enrollments-e.enrollments).slice(0,10),r=new Map;(i||[]).forEach(e=>{r.set(e.level,(r.get(e.level)||0)+1)});const c=Array.from(r.entries()).map(([e,i])=>({level:e,count:i})),o=new Map;(i||[]).forEach(e=>{o.set(e.delivery_method,(o.get(e.delivery_method)||0)+1)});const m=Array.from(o.entries()).map(([e,i])=>({method:e,count:i})),l=(i||[]).map(e=>{const i=(n.get(e.id)||{enrollments:0}).enrollments,s=e.max_students||1;return{courseId:e.id,courseName:e.title,enrolled:i,maxStudents:s,utilizationRate:Math.round(i/s*100)}}).sort((e,i)=>i.utilizationRate-e.utilizationRate).slice(0,10);return{totalCourses:i?.length||0,activeCourses:s,popularCourses:a,coursesByLevel:c,coursesByDeliveryMethod:m,capacityUtilization:l}}catch(s){throw console.error("Error fetching course analytics:",s),s}}async function Li(e,i){try{const{data:e}=await Ie.from("profiles").select("*").eq("role","teacher"),i=e?.map(e=>Le(e)),s=i?.filter(e=>"active"===e.status).length||0,{data:t}=await Ie.from("course_assignments").select("teacher_id, course:courses(id, title)").eq("is_active",!0),{data:n}=await Ie.from("batches").select("teacher_id, students:batch_students(count)").eq("is_active",!0),{data:a}=await Ie.from("certificates").select("teacher_id"),r=new Map;(t||[]).forEach(e=>{if(e.teacher_id){const i=r.get(e.teacher_id)||{studentCount:0,courseCount:0,batchCount:0,certificatesIssued:0};i.courseCount++,r.set(e.teacher_id,i)}}),(n||[]).forEach(e=>{if(e.teacher_id){const i=r.get(e.teacher_id)||{studentCount:0,courseCount:0,batchCount:0,certificatesIssued:0};i.batchCount++,i.studentCount+=e.students?.[0]?.count||0,r.set(e.teacher_id,i)}}),(a||[]).forEach(e=>{if(e.teacher_id){const i=r.get(e.teacher_id)||{studentCount:0,courseCount:0,batchCount:0,certificatesIssued:0};i.certificatesIssued++,r.set(e.teacher_id,i)}});const c=(i||[]).map(e=>{const i=r.get(e.id)||{studentCount:0,courseCount:0,batchCount:0,certificatesIssued:0};return{teacherId:e.id,teacherName:e.full_name||"Unknown",studentCount:i.studentCount,courseCount:i.courseCount,batchCount:i.batchCount,certificatesIssued:i.certificatesIssued}}).filter(e=>e.studentCount>0||e.courseCount>0).sort((e,i)=>i.studentCount-e.studentCount),o=c.slice(0,10).map(e=>({teacherId:e.teacherId,teacherName:e.teacherName,metric:"students",value:e.studentCount}));return{totalTeachers:i?.length||0,activeTeachers:s,teacherWorkload:c,topTeachers:o}}catch(s){throw console.error("Error fetching teacher analytics:",s),s}}async function Bi(e,i){try{let e=Ie.from("batches").select("*, gurukul:gurukuls(name), students:batch_students(count), progress:batch_progress(*)");const{data:i}=await e,s=(i||[]).map(e=>e.id);let t=Ie.from("batch_courses").select("batch_id, course:courses(duration_weeks)").in("batch_id",s).eq("is_active",!0);const{data:n}=await t,a=new Map;n?.forEach(e=>{e.course&&!a.has(e.batch_id)&&a.set(e.batch_id,e.course)});const r=new Map;(i||[]).forEach(e=>{r.set(e.status,(r.get(e.status)||0)+1)});const c=Array.from(r.entries()).map(([e,i])=>({status:e,count:i})),o=(i||[]).reduce((e,i)=>e+(i.students?.[0]?.count||0),0),m=i?.length?Math.round(o/i.length):0,l=(i||[]).map(e=>{const i=e.progress||[],s=a.get(e.id),t=s?.duration_weeks||0,n=i.filter(e=>e.is_completed).length;return{batchId:e.id,batchName:e.name,totalWeeks:t,completedWeeks:n,progressPercentage:t>0?Math.round(n/t*100):0}}).sort((e,i)=>i.progressPercentage-e.progressPercentage).slice(0,10),d=new Map;(i||[]).forEach(e=>{const i=e.gurukul_id,s=e.gurukul?.name||"Unknown",t=d.get(i)||{gurukulId:i,gurukulName:s,count:0};t.count++,d.set(i,t)});const u=Array.from(d.values());return{totalBatches:i?.length||0,batchesByStatus:c,averageBatchSize:m,batchProgress:l,batchesByGurukul:u}}catch(s){throw console.error("Error fetching batch analytics:",s),s}}async function Fi(e,i){try{const{data:s}=await Ie.from("attendance_records").select("*, student:profiles(full_name), batch:batches(gurukul_id)").gte("class_date",e.start).lte("class_date",e.end),t=s?.map(e=>({...e,student:e.student?Le(e.student):null})),n=i?t?.filter(e=>e.batch?.gurukul_id===i):t,a=n?.length||1,r=new Map;(n||[]).forEach(e=>{r.set(e.status,(r.get(e.status)||0)+1)});const c=Array.from(r.entries()).map(([e,i])=>({status:e,count:i,percentage:Math.round(i/a*100)})),o=r.get("present")||0,m=Math.round(o/a*100),l=new Map;(n||[]).forEach(e=>{const i=e.class_date,s=l.get(i)||{date:i,presentCount:0,absentCount:0,lateCount:0,excusedCount:0};"present"===e.status&&s.presentCount++,"absent"===e.status&&s.absentCount++,"late"===e.status&&s.lateCount++,"excused"===e.status&&s.excusedCount++,l.set(i,s)});const d=Array.from(l.values()).sort((e,i)=>e.date.localeCompare(i.date)).slice(-30),u=new Map;(n||[]).forEach(e=>{const i=e.student_id,s=u.get(i)||{studentId:i,studentName:e.student?.full_name||"Unknown",totalClasses:0,presentCount:0};s.totalClasses++,"present"===e.status&&s.presentCount++,u.set(i,s)});const N=Array.from(u.values()).map(e=>({...e,attendanceRate:e.totalClasses>0?Math.round(e.presentCount/e.totalClasses*100):0})).filter(e=>e.attendanceRate<75&&e.totalClasses>=5).sort((e,i)=>e.attendanceRate-i.attendanceRate).slice(0,10);return{overallAttendanceRate:m,attendanceByStatus:c,attendanceTrends:d,lowAttendanceStudents:N,perfectAttendanceStudents:Array.from(u.values()).filter(e=>e.totalClasses===e.presentCount&&e.totalClasses>=5).map(e=>({studentId:e.studentId,studentName:e.studentName,totalClasses:e.totalClasses})).slice(0,10)}}catch(s){throw console.error("Error fetching attendance analytics:",s),s}}async function Oi(e,i){try{const{data:e}=await Ie.from("certificates").select("*, course:courses(title, gurukul_id), teacher:profiles!certificates_teacher_id_fkey(full_name)"),s=e?.map(e=>({...e,teacher:e.teacher?Le(e.teacher):null})),t=i?s?.filter(e=>e.course?.gurukul_id===i):s,n=new Date,a=new Date(n.getTime()-6048e5),r=new Date(n.getTime()-2592e6),c=t?.filter(e=>new Date(e.created_at)>=a).length||0,o=t?.filter(e=>new Date(e.created_at)>=r).length||0,m=new Map;(t||[]).forEach(e=>{const i=e.course_id,s=e.course?.title||"Unknown",t=m.get(i)||{courseId:i,courseName:s,count:0};t.count++,m.set(i,t)});const l=Array.from(m.values()).sort((e,i)=>i.count-e.count).slice(0,10),d=new Map;(t||[]).forEach(e=>{const i=e.course?.gurukul_id||"unknown",s=d.get(i)||{gurukulId:i,gurukulName:"Gurukul",count:0};s.count++,d.set(i,s)});const u=Array.from(d.values()),N=new Map;(t||[]).forEach(e=>{if(e.teacher_id){const i=e.teacher_id,s=e.teacher?.full_name||"Unknown",t=N.get(i)||{teacherId:i,teacherName:s,count:0};t.count++,N.set(i,t)}});const x=Array.from(N.values()).sort((e,i)=>i.count-e.count).slice(0,10),h=new Map,g=new Date(n.getTime()-2592e6);(t||[]).forEach(e=>{const i=new Date(e.created_at);if(i>=g){const e=i.toISOString().split("T")[0];h.set(e,(h.get(e)||0)+1)}});const y=Array.from(h.entries()).map(([e,i])=>({date:e,count:i})).sort((e,i)=>e.date.localeCompare(i.date)),{data:b}=await Ie.from("enrollments").select("enrolled_at, completed_at").eq("status","completed").not("completed_at","is",null),p=(b||[]).reduce((e,i)=>{const s=new Date(i.enrolled_at),t=new Date(i.completed_at);return e+Math.floor((t.getTime()-s.getTime())/864e5)},0),f=b?.length?Math.round(p/b.length):0;return{totalCertificates:t?.length||0,certificatesThisMonth:o,certificatesThisWeek:c,certificatesByCourse:l,certificatesByGurukul:u,certificatesByTeacher:x,certificateTrends:y,averageTimeToComplete:f}}catch(s){throw console.error("Error fetching certificate analytics:",s),s}}async function $i(e){try{const{data:e}=await Ie.from("gurukuls").select("*"),{data:i}=await Ie.from("courses").select("id, gurukul_id"),{data:s}=await Ie.from("enrollments").select("id, course_id, student_id, status"),{data:t}=await Ie.from("certificates").select("id, course_id"),{data:n}=await Ie.from("batch_students").select("student_id, batch:batches(gurukul_id)"),a=new Map;(i||[]).forEach(e=>{e.id&&e.gurukul_id&&a.set(e.id,e.gurukul_id)});return{gurukulPerformance:(e||[]).map(e=>{const r=i?.filter(i=>i.gurukul_id===e.id)||[],c=(new Set(r.map(e=>e.id)),s?.filter(i=>{if(!i.course_id)return!1;return a.get(i.course_id)===e.id})||[]),o=t?.filter(i=>{if(!i.course_id)return!1;return a.get(i.course_id)===e.id})||[],m=new Set;n?.forEach(i=>{i.batch?.gurukul_id===e.id&&i.student_id&&m.add(i.student_id)}),c.forEach(e=>{e.student_id&&m.add(e.student_id)});const l=c.filter(e=>"completed"===e.status).length,d=c.length||1;return{gurukulId:e.id,gurukulName:e.name,courseCount:r.length,studentCount:m.size,enrollmentCount:c.length,certificateCount:o.length,completionRate:Math.round(l/d*100)}})}}catch(i){throw console.error("Error fetching gurukul analytics:",i),i}}async function qi(e){try{const{data:i}=await Ie.from("page_analytics").select("*").gte("created_at",e.start).lte("created_at",e.end),s=new Map,t=new Map,n=new Map;(i||[]).forEach(e=>{const i=e.page_path;s.set(i,(s.get(i)||0)+1),t.has(i)||t.set(i,new Set),e.user_id&&t.get(i).add(e.user_id),e.duration_seconds&&(n.has(i)||n.set(i,[]),n.get(i).push(e.duration_seconds))});const a=Array.from(s.entries()).map(([e,i])=>{const s=t.get(e)?.size||0,a=n.get(e)||[];return{pagePath:e,views:i,uniqueUsers:s,averageDuration:a.length>0?Math.round(a.reduce((e,i)=>e+i,0)/a.length):0}}).sort((e,i)=>i.views-e.views).slice(0,20),r=new Map;(i||[]).forEach(e=>{const i=new Date(e.created_at).toISOString().split("T")[0],s=r.get(i)||{date:i,activeUsers:new Set,sessions:0};e.user_id&&s.activeUsers.add(e.user_id),e.session_id&&s.sessions++,r.set(i,s)});const c=Array.from(r.values()).map(({date:e,activeUsers:i,sessions:s})=>({date:e,activeUsers:i.size,sessions:s})).sort((e,i)=>e.date.localeCompare(i.date)),o=new Map,m=i?.length||1;(i||[]).forEach(e=>{const i=e.device_type||"unknown";o.set(i,(o.get(i)||0)+1)});const l=Array.from(o.entries()).map(([e,i])=>({deviceType:e,count:i,percentage:Math.round(i/m*100)})),d=new Map,u=new Map;(i||[]).forEach(e=>{if(e.referrer){d.set(e.referrer,(d.get(e.referrer)||0)+1);const i=function(e){if(!e)return"Direct";try{const i=new URL(e).hostname.toLowerCase();return i.includes("facebook.com")||i.includes("fb.com")?"Facebook":i.includes("twitter.com")||i.includes("t.co")?"Twitter":i.includes("linkedin.com")?"LinkedIn":i.includes("instagram.com")?"Instagram":i.includes("youtube.com")?"YouTube":i.includes("pinterest.com")?"Pinterest":i.includes("reddit.com")?"Reddit":i.includes("tiktok.com")?"TikTok":i.includes("google.com")||i.includes("google.")?"Google":i.includes("bing.com")?"Bing":i.includes("yahoo.com")?"Yahoo":i.includes("duckduckgo.com")?"DuckDuckGo":i.includes("baidu.com")?"Baidu":i.includes("mail.")||i.includes("outlook.")||i.includes("gmail.")?"Email":"External"}catch{return"Unknown"}}(e.referrer);u.set(i,(u.get(i)||0)+1)}else u.set("Direct",(u.get("Direct")||0)+1)});const N=Array.from(d.entries()).map(([e,i])=>({referrer:e,count:i})).sort((e,i)=>i.count-e.count).slice(0,10),x=Array.from(u.entries()).map(([e,s])=>({source:e,count:s,percentage:Math.round(s/(i?.length||1)*100)})).sort((e,i)=>i.count-e.count),h=new Map;(i||[]).forEach(e=>{e.country&&h.set(e.country,(h.get(e.country)||0)+1)});const g=Array.from(h.entries()).map(([e,s])=>({country:e,count:s,percentage:Math.round(s/(i?.length||1)*100)})).sort((e,i)=>i.count-e.count).slice(0,15),y=new Map;(i||[]).forEach(e=>{e.browser&&y.set(e.browser,(y.get(e.browser)||0)+1)});return{pageViews:a,userActivity:c,deviceTypes:l,browserStats:Array.from(y.entries()).map(([e,s])=>({browser:e,count:s,percentage:Math.round(s/(i?.length||1)*100)})).sort((e,i)=>i.count-e.count),topReferrers:N,trafficSources:x,locationData:g}}catch(i){return console.error("Error fetching site analytics:",i),{pageViews:[],userActivity:[],deviceTypes:[],browserStats:[],topReferrers:[],trafficSources:[],locationData:[]}}}function Zi({data:e,formatNumber:i}){const{studentData:t,enrollmentData:n,courseData:a,teacherData:r,batchData:c,certificateData:o,attendanceData:m}=e,l=[{title:"Total Students",value:t?.totalStudents||0,change:`${t?.newStudents||0} new`,icon:q,color:"bg-blue-500",changeColor:"text-green-600"},{title:"Active Courses",value:a?.activeCourses||0,change:`${a?.totalCourses||0} total`,icon:z,color:"bg-green-500",changeColor:"text-gray-600"},{title:"Total Enrollments",value:n?.totalEnrollments||0,change:`${n?.completionRate||0}% completion`,icon:Y,color:"bg-yellow-500",changeColor:"text-orange-600"},{title:"Certificates Issued",value:o?.totalCertificates||0,change:`${o?.certificatesThisMonth||0} this month`,icon:J,color:"bg-purple-500",changeColor:"text-purple-600"},{title:"Total Teachers",value:r?.totalTeachers||0,change:`${r?.activeTeachers||0} active`,icon:Z,color:"bg-indigo-500",changeColor:"text-indigo-600"},{title:"Active Batches",value:c?.totalBatches||0,change:`${c?.averageBatchSize||0} avg size`,icon:K,color:"bg-pink-500",changeColor:"text-pink-600"},{title:"Attendance Rate",value:`${m?.overallAttendanceRate||0}%`,change:"Overall average",icon:ee,color:"bg-emerald-500",changeColor:"text-emerald-600"},{title:"Completion Rate",value:`${n?.completionRate||0}%`,change:"Course completion",icon:ie,color:"bg-orange-500",changeColor:"text-orange-600"}];return s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((e,t)=>s.jsxDEV(Fe,{className:"card-hover",children:s.jsxDEV($e,{className:"p-6",children:s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:e.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:351,columnNumber:19},this),s.jsxDEV("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"number"==typeof e.value?i(e.value):e.value},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:352,columnNumber:19},this),s.jsxDEV("p",{className:`text-sm mt-2 ${e.changeColor}`,children:e.change},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:355,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:350,columnNumber:17},this),s.jsxDEV("div",{className:`p-3 rounded-lg ${e.color}`,children:s.jsxDEV(e.icon,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:358,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:357,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:349,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:348,columnNumber:13},this)},t,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:347,columnNumber:11},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:345,columnNumber:7},this),n&&n.enrollmentTrends.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Enrollment Trends (Last 30 Days)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:370,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:369,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"h-64 flex items-end justify-between space-x-1",children:n.enrollmentTrends.slice(-30).map((e,i)=>{const t=Math.max(...n.enrollmentTrends.map(e=>e.count)),a=t>0?e.count/t*240:0;return s.jsxDEV("div",{className:"flex-1 flex flex-col items-center group",children:[s.jsxDEV("div",{className:"w-full bg-gradient-to-t from-orange-500 to-orange-300 rounded-t-md transition-all duration-300 hover:from-orange-600 hover:to-orange-400 relative",style:{height:`${a}px`,minHeight:e.count>0?"4px":"0"},children:s.jsxDEV("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[e.count," enrollments"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:385,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:381,columnNumber:21},this),s.jsxDEV("div",{className:"mt-2 text-xs text-gray-600 text-center",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:389,columnNumber:21},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:380,columnNumber:19},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:373,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:372,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:368,columnNumber:9},this),s.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:n?.averageTimeToComplete||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:408,columnNumber:15},this),s.jsxDEV("div",{className:"text-sm text-gray-600",children:"Days to Complete"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:411,columnNumber:15},this),s.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:"Average course duration"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:412,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:407,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:406,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:405,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:t?.activeStudents||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:419,columnNumber:15},this),s.jsxDEV("div",{className:"text-sm text-gray-600",children:"Active Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:422,columnNumber:15},this),s.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:"Currently enrolled"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:423,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:418,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:417,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:416,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:c?.averageBatchSize||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:430,columnNumber:15},this),s.jsxDEV("div",{className:"text-sm text-gray-600",children:"Avg Batch Size"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:433,columnNumber:15},this),s.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:"Students per batch"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:434,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:429,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:428,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:427,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:o?.certificatesThisWeek||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:441,columnNumber:15},this),s.jsxDEV("div",{className:"text-sm text-gray-600",children:"This Week"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:444,columnNumber:15},this),s.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:"Certificates issued"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:445,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:440,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:439,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:438,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:404,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:343,columnNumber:5},this)}function Ki({data:e,enrollmentData:i,formatNumber:t}){return e?s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-blue-600",children:t(e.totalStudents)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:467,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Total Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:470,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:466,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:465,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-green-600",children:t(e.activeStudents)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:475,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Active Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:478,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:474,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:473,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-orange-600",children:t(e.newStudents)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:483,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"New Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:486,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:482,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:481,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:464,columnNumber:7},this),e.studentsByAgeGroup&&e.studentsByAgeGroup.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Students by Age Group"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:495,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:494,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"space-y-4",children:e.studentsByAgeGroup.map((i,t)=>{const n=i.count/e.totalStudents*100;return s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsxDEV("span",{className:"text-sm font-medium text-gray-900 w-16",children:i.ageGroup},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:504,columnNumber:23},this),s.jsxDEV("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:s.jsxDEV("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all",style:{width:`${n}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:508,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:507,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:503,columnNumber:21},this),s.jsxDEV("span",{className:"text-sm font-semibold text-gray-900 ml-4",children:i.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:514,columnNumber:21},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:502,columnNumber:19},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:498,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:497,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:493,columnNumber:9},this),e.topStudents&&e.topStudents.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Top Performing Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:527,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:526,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"overflow-x-auto",children:s.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsxDEV("thead",{className:"bg-gray-50",children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:534,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:537,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Courses Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:540,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:543,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Attendance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:546,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:533,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:532,columnNumber:17},this),s.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.topStudents.map((e,i)=>s.jsxDEV("tr",{className:"hover:bg-gray-50",children:[s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"flex items-center",children:i<3?s.jsxDEV(ie,{className:"h-5 w-5 "+(0===i?"text-yellow-500":1===i?"text-gray-400":"text-orange-600")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:557,columnNumber:29},this):s.jsxDEV("span",{className:"text-sm text-gray-500",children:["#",i+1]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:561,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:555,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:554,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:566,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:565,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.coursesCompleted},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:569,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:568,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.certificatesEarned},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:572,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:571,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV(Ke,{className:e.attendanceRate>=90?"bg-green-100 text-green-800":e.attendanceRate>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[e.attendanceRate,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:575,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:574,columnNumber:23},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:553,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:551,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:531,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:530,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:529,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:525,columnNumber:9},this),e.studentsByLocation&&e.studentsByLocation.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(se,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:601,columnNumber:15},this),"Student Locations"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:600,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:599,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"space-y-3",children:e.studentsByLocation.slice(0,10).map((e,i)=>s.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxDEV("div",{className:"flex items-center space-x-3",children:[s.jsxDEV("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:s.jsxDEV(se,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:614,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:613,columnNumber:21},this),s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium text-gray-900",children:[e.city,", ",e.state]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:617,columnNumber:23},this),s.jsxDEV("p",{className:"text-xs text-gray-600",children:e.country},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:620,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:616,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:612,columnNumber:19},this),s.jsxDEV("div",{className:"text-right",children:s.jsxDEV("p",{className:"font-semibold text-gray-900",children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:624,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:623,columnNumber:19},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:608,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:606,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:605,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:598,columnNumber:9},this),i&&i.enrollmentsByStatus&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Enrollment Status Distribution"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:637,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:636,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.enrollmentsByStatus.map((e,i)=>s.jsxDEV("div",{className:`p-4 rounded-lg border ${{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-blue-100 text-blue-800 border-blue-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",rejected:"bg-gray-100 text-gray-800 border-gray-200"}[e.status]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:[s.jsxDEV("div",{className:"text-2xl font-bold",children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:654,columnNumber:21},this),s.jsxDEV("div",{className:"text-sm",children:e.status.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:655,columnNumber:21},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:650,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:640,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:639,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:635,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:462,columnNumber:5},this):s.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No data available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:459,columnNumber:21},this)}function Yi({data:e,formatNumber:i}){return e?s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-blue-600",children:i(e.totalCourses)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:688,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Total Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:691,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:687,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:686,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-green-600",children:i(e.activeCourses)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:696,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Active Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:699,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:695,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:694,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:685,columnNumber:7},this),e.popularCourses&&e.popularCourses.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Most Popular Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:708,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:707,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"overflow-x-auto",children:s.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsxDEV("thead",{className:"bg-gray-50",children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:715,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:718,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:721,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Completions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:724,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Completion Rate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:727,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:714,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:713,columnNumber:17},this),s.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.popularCourses.map((e,i)=>s.jsxDEV("tr",{className:"hover:bg-gray-50",children:[s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("span",{className:"text-sm font-semibold text-gray-900",children:["#",i+1]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:736,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:735,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4",children:s.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:739,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:738,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.enrollments},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:742,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:741,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.completions},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:745,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:744,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV(Ke,{className:e.completionRate>=70?"bg-green-100 text-green-800":e.completionRate>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[e.completionRate,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:748,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:747,columnNumber:23},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:734,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:732,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:712,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:711,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:710,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:706,columnNumber:9},this),e.coursesByLevel&&e.coursesByLevel.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Courses by Level"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:773,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:772,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.coursesByLevel.map((e,i)=>{const t=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500"];return s.jsxDEV("div",{className:"text-center p-4 bg-white border rounded-lg",children:[s.jsxDEV("div",{className:`inline-flex items-center justify-center w-16 h-16 ${t[i%t.length]} rounded-full text-white text-2xl font-bold mb-2`,children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:781,columnNumber:21},this),s.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.level.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:786,columnNumber:21},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:780,columnNumber:19},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:776,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:775,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:771,columnNumber:9},this),e.capacityUtilization&&e.capacityUtilization.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Course Capacity Utilization"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:807,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:806,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"space-y-4",children:e.capacityUtilization.map((e,i)=>s.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxDEV("div",{className:"flex-1",children:[s.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:e.courseName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:817,columnNumber:21},this),s.jsxDEV("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsxDEV("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsxDEV("div",{className:"h-2 rounded-full transition-all "+(e.utilizationRate>=90?"bg-red-500":e.utilizationRate>=70?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(e.utilizationRate,100)}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:820,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:819,columnNumber:23},this),s.jsxDEV("span",{className:"text-xs text-gray-600 min-w-[60px]",children:[e.enrolled,"/",e.maxStudents]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:831,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:818,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:816,columnNumber:19},this),s.jsxDEV(Ke,{className:"ml-4 "+(e.utilizationRate>=90?"bg-red-100 text-red-800":e.utilizationRate>=70?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.utilizationRate,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:836,columnNumber:19},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:812,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:810,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:809,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:805,columnNumber:9},this),e.coursesByDeliveryMethod&&e.coursesByDeliveryMethod.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Courses by Delivery Method"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:858,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:857,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:e.coursesByDeliveryMethod.map((e,i)=>s.jsxDEV("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:864,columnNumber:19},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-1",children:e.method.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:865,columnNumber:19},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:863,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:861,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:860,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:856,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:683,columnNumber:5},this):s.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No data available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:680,columnNumber:21},this)}function Ji({data:e,formatNumber:i}){return e?s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-blue-600",children:i(e.totalTeachers)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:897,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Total Teachers"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:900,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:896,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:895,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-green-600",children:i(e.activeTeachers)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:905,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Active Teachers"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:908,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:904,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:903,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:894,columnNumber:7},this),e.teacherWorkload&&e.teacherWorkload.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Teacher Workload Distribution"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:917,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:916,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"overflow-x-auto",children:s.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsxDEV("thead",{className:"bg-gray-50",children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:924,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:927,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:930,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:933,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:936,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:923,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:922,columnNumber:17},this),s.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.teacherWorkload.map(e=>s.jsxDEV("tr",{className:"hover:bg-gray-50",children:[s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.teacherName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:945,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:944,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.studentCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:950,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:949,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.courseCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:953,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:952,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.batchCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:956,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:955,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.certificatesIssued},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:959,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:958,columnNumber:23},this)]},e.teacherId,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:943,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:941,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:921,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:920,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:919,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:915,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:892,columnNumber:5},this):s.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No data available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:889,columnNumber:21},this)}function Xi({data:e,formatNumber:i}){return e?s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-blue-600",children:i(e.totalBatches)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:986,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Total Batches"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:989,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:985,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:984,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-green-600",children:i(e.averageBatchSize)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:994,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Average Batch Size"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:997,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:993,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:992,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:983,columnNumber:7},this),e.batchesByStatus&&e.batchesByStatus.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Batches by Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1006,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1005,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.batchesByStatus.map((e,i)=>s.jsxDEV("div",{className:`p-4 rounded-lg border ${{not_started:"bg-gray-100 text-gray-800 border-gray-200",active:"bg-green-100 text-green-800 border-green-200",in_progress:"bg-blue-100 text-blue-800 border-blue-200",completed:"bg-purple-100 text-purple-800 border-purple-200",archived:"bg-orange-100 text-orange-800 border-orange-200"}[e.status]||"bg-gray-100"}`,children:[s.jsxDEV("div",{className:"text-2xl font-bold",children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1023,columnNumber:21},this),s.jsxDEV("div",{className:"text-sm",children:e.status.replace("_"," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1024,columnNumber:21},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1019,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1009,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1008,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1004,columnNumber:9},this),e.batchProgress&&e.batchProgress.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Batch Progress Tracking"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1046,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1045,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"space-y-4",children:e.batchProgress.map((e,i)=>s.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[s.jsxDEV("span",{className:"font-medium text-gray-900",children:e.batchName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1053,columnNumber:21},this),s.jsxDEV(Ke,{className:e.progressPercentage>=80?"bg-green-100 text-green-800":e.progressPercentage>=50?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:[e.progressPercentage,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1054,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1052,columnNumber:19},this),s.jsxDEV("div",{className:"flex items-center space-x-2",children:[s.jsxDEV("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsxDEV("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all",style:{width:`${e.progressPercentage}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1068,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1067,columnNumber:21},this),s.jsxDEV("span",{className:"text-xs text-gray-600 min-w-[80px]",children:[e.completedWeeks,"/",e.totalWeeks," weeks"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1073,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1066,columnNumber:19},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1051,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1049,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1048,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1044,columnNumber:9},this),e.batchesByGurukul&&e.batchesByGurukul.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Batches by Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1088,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1087,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"space-y-3",children:e.batchesByGurukul.map((e,i)=>s.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxDEV("span",{className:"font-medium text-gray-900",children:e.gurukulName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1097,columnNumber:19},this),s.jsxDEV(Ke,{children:[e.count," batches"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1098,columnNumber:19},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1093,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1091,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1090,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1086,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:981,columnNumber:5},this):s.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No data available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:978,columnNumber:21},this)}function Qi({data:e,formatNumber:i}){return e?s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"text-5xl font-bold text-green-600",children:[e.overallAttendanceRate,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1122,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Overall Attendance Rate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1123,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1121,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1120,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1119,columnNumber:7},this),e.attendanceByStatus&&e.attendanceByStatus.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Attendance Distribution"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1132,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1131,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.attendanceByStatus.map((e,i)=>s.jsxDEV("div",{className:`p-4 rounded-lg border ${{present:"bg-green-100 text-green-800 border-green-200",absent:"bg-red-100 text-red-800 border-red-200",late:"bg-yellow-100 text-yellow-800 border-yellow-200",excused:"bg-blue-100 text-blue-800 border-blue-200"}[e.status]}`,children:[s.jsxDEV("div",{className:"text-2xl font-bold",children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1148,columnNumber:21},this),s.jsxDEV("div",{className:"text-sm",children:e.status.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1149,columnNumber:21},this),s.jsxDEV("div",{className:"text-xs mt-1",children:[e.percentage,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1158,columnNumber:21},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1144,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1135,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1134,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1130,columnNumber:9},this),e.attendanceTrends&&e.attendanceTrends.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Attendance Trends (Last 30 Days)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1171,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1170,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"h-64 flex items-end justify-between space-x-1",children:e.attendanceTrends.slice(-30).map((i,t)=>{const n=i.presentCount+i.absentCount+i.lateCount+i.excusedCount,a=Math.max(...e.attendanceTrends.map(e=>e.presentCount+e.absentCount+e.lateCount+e.excusedCount)),r=a>0?n/a*240:0,c=n>0?i.presentCount/n*100:0;return s.jsxDEV("div",{className:"flex-1 flex flex-col items-center group",children:[s.jsxDEV("div",{className:"w-full rounded-t-md transition-all duration-300 relative",style:{height:`${r}px`,minHeight:n>0?"4px":"0",background:`linear-gradient(to top,\n                          rgb(34, 197, 94) 0%,\n                          rgb(34, 197, 94) ${c}%,\n                          rgb(239, 68, 68) ${c}%,\n                          rgb(239, 68, 68) 100%)`},children:s.jsxDEV("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[s.jsxDEV("div",{children:["Present: ",i.presentCount]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1200,columnNumber:25},this),s.jsxDEV("div",{children:["Absent: ",i.absentCount]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1201,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1199,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1187,columnNumber:21},this),s.jsxDEV("div",{className:"mt-2 text-xs text-gray-600 text-center",children:new Date(i.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1204,columnNumber:21},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1186,columnNumber:19},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1174,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1173,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1169,columnNumber:9},this),e.lowAttendanceStudents&&e.lowAttendanceStudents.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(te,{className:"h-5 w-5 mr-2 text-red-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1223,columnNumber:15},this),"Students with Low Attendance (<75%)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1222,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1221,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"space-y-3",children:e.lowAttendanceStudents.map(e=>s.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium text-gray-900",children:e.studentName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1235,columnNumber:21},this),s.jsxDEV("p",{className:"text-xs text-gray-600",children:[e.presentCount,"/",e.totalClasses," classes"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1236,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1234,columnNumber:19},this),s.jsxDEV(Ke,{className:"bg-red-100 text-red-800",children:[e.attendanceRate,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1240,columnNumber:19},this)]},e.studentId,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1230,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1228,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1227,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1220,columnNumber:9},this),e.perfectAttendanceStudents&&e.perfectAttendanceStudents.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(ee,{className:"h-5 w-5 mr-2 text-green-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1253,columnNumber:15},this),"Perfect Attendance Students"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1252,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1251,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"space-y-3",children:e.perfectAttendanceStudents.map(e=>s.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium text-gray-900",children:e.studentName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1265,columnNumber:21},this),s.jsxDEV("p",{className:"text-xs text-gray-600",children:[e.totalClasses," classes"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1266,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1264,columnNumber:19},this),s.jsxDEV(Ke,{className:"bg-green-100 text-green-800",children:"100%"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1268,columnNumber:19},this)]},e.studentId,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1260,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1258,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1257,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1250,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1117,columnNumber:5},this):s.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No data available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1114,columnNumber:21},this)}function es({data:e,formatNumber:i}){return e?s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-purple-600",children:i(e.totalCertificates)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1292,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Total Certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1295,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1291,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1290,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-blue-600",children:i(e.certificatesThisMonth)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1300,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"This Month"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1303,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1299,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1298,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6 text-center",children:[s.jsxDEV("div",{className:"text-3xl font-bold text-green-600",children:i(e.certificatesThisWeek)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1308,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"This Week"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1311,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1307,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1306,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1289,columnNumber:7},this),e.certificateTrends&&e.certificateTrends.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Certificate Issuance Trends (Last 30 Days)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1320,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1319,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"h-64 flex items-end justify-between space-x-1",children:e.certificateTrends.slice(-30).map((i,t)=>{const n=Math.max(...e.certificateTrends.map(e=>e.count)),a=n>0?i.count/n*240:0;return s.jsxDEV("div",{className:"flex-1 flex flex-col items-center group",children:[s.jsxDEV("div",{className:"w-full bg-gradient-to-t from-purple-500 to-purple-300 rounded-t-md transition-all duration-300 hover:from-purple-600 hover:to-purple-400 relative",style:{height:`${a}px`,minHeight:i.count>0?"4px":"0"},children:s.jsxDEV("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[i.count," certificates"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1333,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1329,columnNumber:21},this),s.jsxDEV("div",{className:"mt-2 text-xs text-gray-600 text-center",children:new Date(i.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1337,columnNumber:21},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1328,columnNumber:19},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1323,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1322,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1318,columnNumber:9},this),e.certificatesByCourse&&e.certificatesByCourse.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Certificates by Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1355,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1354,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"space-y-3",children:e.certificatesByCourse.map((i,t)=>{const n=i.count/e.totalCertificates*100;return s.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxDEV("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:i.courseName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1367,columnNumber:23},this),s.jsxDEV("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsxDEV("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all",style:{width:`${n}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1369,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1368,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1366,columnNumber:21},this),s.jsxDEV("span",{className:"text-sm font-semibold text-gray-900 ml-4",children:i.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1375,columnNumber:21},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1362,columnNumber:19},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1358,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1357,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1353,columnNumber:9},this),e.certificatesByTeacher&&e.certificatesByTeacher.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Certificates Issued by Teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1388,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1387,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.certificatesByTeacher.map((e,i)=>s.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"font-medium text-gray-900",children:e.teacherName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1398,columnNumber:21},this),s.jsxDEV("p",{className:"text-xs text-gray-600",children:"Teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1399,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1397,columnNumber:19},this),s.jsxDEV("div",{className:"text-2xl font-bold text-purple-600",children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1401,columnNumber:19},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1393,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1391,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1390,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1386,columnNumber:9},this),s.jsxDEV(Fe,{children:s.jsxDEV($e,{className:"p-6",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"text-4xl font-bold text-blue-600",children:e.averageTimeToComplete},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1413,columnNumber:13},this),s.jsxDEV("div",{className:"text-sm text-gray-600 mt-2",children:"Average Days to Complete Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1414,columnNumber:13},this),s.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:"From enrollment to certificate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1415,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1412,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1411,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1410,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1287,columnNumber:5},this):s.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No data available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1284,columnNumber:21},this)}function is({data:e,formatNumber:i}){return e&&e.gurukulPerformance?s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold",children:"Gurukul Performance Comparison"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1435,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1434,columnNumber:9},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"overflow-x-auto",children:s.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsxDEV("thead",{className:"bg-gray-50",children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1442,columnNumber:19},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1445,columnNumber:19},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1448,columnNumber:19},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1451,columnNumber:19},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1454,columnNumber:19},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Completion Rate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1457,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1441,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1440,columnNumber:15},this),s.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.gurukulPerformance.map(e=>s.jsxDEV("tr",{className:"hover:bg-gray-50",children:[s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.gurukulName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1466,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1465,columnNumber:21},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.courseCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1469,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1468,columnNumber:21},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.studentCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1472,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1471,columnNumber:21},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.enrollmentCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1475,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1474,columnNumber:21},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:e.certificateCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1478,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1477,columnNumber:21},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV(Ke,{className:e.completionRate>=70?"bg-green-100 text-green-800":e.completionRate>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[e.completionRate,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1481,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1480,columnNumber:21},this)]},e.gurukulId,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1464,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1462,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1439,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1438,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1437,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1433,columnNumber:7},this),s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.gurukulPerformance.map(e=>s.jsxDEV(Fe,{className:"card-hover",children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:e.gurukulName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1506,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1505,columnNumber:13},this),s.jsxDEV($e,{children:[s.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxDEV("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:e.courseCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1511,columnNumber:19},this),s.jsxDEV("div",{className:"text-xs text-gray-600",children:"Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1512,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1510,columnNumber:17},this),s.jsxDEV("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:e.studentCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1515,columnNumber:19},this),s.jsxDEV("div",{className:"text-xs text-gray-600",children:"Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1516,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1514,columnNumber:17},this),s.jsxDEV("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-yellow-600",children:e.enrollmentCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1519,columnNumber:19},this),s.jsxDEV("div",{className:"text-xs text-gray-600",children:"Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1522,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1518,columnNumber:17},this),s.jsxDEV("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsxDEV("div",{className:"text-2xl font-bold text-purple-600",children:e.certificateCount},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1525,columnNumber:19},this),s.jsxDEV("div",{className:"text-xs text-gray-600",children:"Certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1528,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1524,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1509,columnNumber:15},this),s.jsxDEV("div",{className:"mt-4 text-center",children:[s.jsxDEV("div",{className:"text-sm text-gray-600",children:"Completion Rate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1532,columnNumber:17},this),s.jsxDEV("div",{className:"text-3xl font-bold text-orange-600 mt-1",children:[e.completionRate,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1533,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1531,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1508,columnNumber:13},this)]},e.gurukulId,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1504,columnNumber:11},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1502,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1432,columnNumber:5},this):s.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No data available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1429,columnNumber:12},this)}function ss({data:e,formatNumber:i}){if(!e)return s.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No site analytics data available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1551,columnNumber:12},this);if(!(e.pageViews?.length>0||e.userActivity?.length>0||e.deviceTypes?.length>0))return s.jsxDEV("div",{className:"text-center py-12",children:[s.jsxDEV(L,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1559,columnNumber:9},this),s.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No site analytics data available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1560,columnNumber:9},this),s.jsxDEV("p",{className:"text-gray-600",children:"Site analytics data will appear here once page tracking is enabled and users accept cookie consent."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1561,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1558,columnNumber:7},this);const t=["#f97316","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#14b8a6","#f43f5e"];return s.jsxDEV("div",{className:"space-y-6",children:[e.trafficSources&&e.trafficSources.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(ne,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1588,columnNumber:15},this),"Traffic Sources"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1587,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1586,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxDEV("div",{className:"h-80",children:s.jsxDEV(r,{width:"100%",height:"100%",children:s.jsxDEV(c,{children:[s.jsxDEV(o,{data:e.trafficSources,dataKey:"count",nameKey:"source",cx:"50%",cy:"50%",outerRadius:100,label:e=>`${e.source}: ${e.percentage}%`,children:e.trafficSources.map((e,i)=>s.jsxDEV(m,{fill:t[i%t.length]},`cell-${i}`,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1608,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1598,columnNumber:21},this),s.jsxDEV(l,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1614,columnNumber:21},this),s.jsxDEV(d,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1615,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1597,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1596,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1595,columnNumber:15},this),s.jsxDEV("div",{className:"space-y-3",children:e.trafficSources.map((e,i)=>s.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxDEV("div",{className:"flex items-center space-x-3",children:[s.jsxDEV("div",{className:"w-4 h-4 rounded",style:{backgroundColor:t[i%t.length]}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1628,columnNumber:23},this),s.jsxDEV("span",{className:"font-medium text-gray-900",children:e.source},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1632,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1627,columnNumber:21},this),s.jsxDEV("div",{className:"flex items-center space-x-3",children:[s.jsxDEV("span",{className:"text-sm text-gray-600",children:[e.percentage,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1635,columnNumber:23},this),s.jsxDEV(Ke,{children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1636,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1634,columnNumber:21},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1623,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1621,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1593,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1592,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1585,columnNumber:9},this),e.userActivity&&e.userActivity.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(Z,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1651,columnNumber:15},this),"User Activity Over Time"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1650,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1649,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"h-80",children:s.jsxDEV(r,{width:"100%",height:"100%",children:s.jsxDEV(u,{data:e.userActivity,children:[s.jsxDEV(N,{strokeDasharray:"3 3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1659,columnNumber:19},this),s.jsxDEV(x,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1660,columnNumber:19},this),s.jsxDEV(h,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1666,columnNumber:19},this),s.jsxDEV(l,{labelFormatter:e=>new Date(e).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1667,columnNumber:19},this),s.jsxDEV(d,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1668,columnNumber:19},this),s.jsxDEV(g,{type:"monotone",dataKey:"activeUsers",stroke:"#f97316",name:"Active Users",strokeWidth:2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1669,columnNumber:19},this),s.jsxDEV(g,{type:"monotone",dataKey:"sessions",stroke:"#3b82f6",name:"Sessions",strokeWidth:2},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1676,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1658,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1657,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1656,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1655,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1648,columnNumber:9},this),e.locationData&&e.locationData.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(se,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1695,columnNumber:15},this),"Visitors by Country"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1694,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1693,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxDEV("div",{className:"h-80",children:s.jsxDEV(r,{width:"100%",height:"100%",children:s.jsxDEV(y,{data:e.locationData.slice(0,10),children:[s.jsxDEV(N,{strokeDasharray:"3 3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1705,columnNumber:21},this),s.jsxDEV(x,{dataKey:"country",angle:-45,textAnchor:"end",height:80},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1706,columnNumber:21},this),s.jsxDEV(h,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1707,columnNumber:21},this),s.jsxDEV(l,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1708,columnNumber:21},this),s.jsxDEV(b,{dataKey:"count",fill:"#10b981"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1709,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1704,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1703,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1702,columnNumber:15},this),s.jsxDEV("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:e.locationData.map((e,i)=>s.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxDEV("span",{className:"font-medium text-gray-900",children:e.country},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1721,columnNumber:21},this),s.jsxDEV("div",{className:"flex items-center space-x-3",children:[s.jsxDEV("span",{className:"text-sm text-gray-600",children:[e.percentage,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1723,columnNumber:23},this),s.jsxDEV(Ke,{children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1724,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1722,columnNumber:21},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1717,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1715,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1700,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1699,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1692,columnNumber:9},this),s.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.deviceTypes&&e.deviceTypes.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(ae,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1741,columnNumber:17},this),"Device Distribution"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1740,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1739,columnNumber:13},this),s.jsxDEV($e,{children:[s.jsxDEV("div",{className:"h-64",children:s.jsxDEV(r,{width:"100%",height:"100%",children:s.jsxDEV(c,{children:[s.jsxDEV(o,{data:e.deviceTypes,dataKey:"count",nameKey:"deviceType",cx:"50%",cy:"50%",outerRadius:80,label:e=>`${e.deviceType}: ${e.percentage}%`,children:e.deviceTypes.map((e,i)=>s.jsxDEV(m,{fill:t[i%t.length]},`cell-${i}`,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1759,columnNumber:25},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1749,columnNumber:21},this),s.jsxDEV(l,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1765,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1748,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1747,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1746,columnNumber:15},this),s.jsxDEV("div",{className:"mt-4 space-y-2",children:e.deviceTypes.map((e,i)=>s.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxDEV("span",{className:"text-sm text-gray-900",children:e.deviceType.charAt(0).toUpperCase()+e.deviceType.slice(1).toLowerCase()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1775,columnNumber:21},this),s.jsxDEV("div",{className:"flex items-center space-x-2",children:[s.jsxDEV("span",{className:"text-sm text-gray-600",children:[e.percentage,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1780,columnNumber:23},this),s.jsxDEV(Ke,{variant:"outline",children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1781,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1779,columnNumber:21},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1771,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1769,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1745,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1738,columnNumber:11},this),e.browserStats&&e.browserStats.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(re,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1795,columnNumber:17},this),"Browser Statistics"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1794,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1793,columnNumber:13},this),s.jsxDEV($e,{children:[s.jsxDEV("div",{className:"h-64",children:s.jsxDEV(r,{width:"100%",height:"100%",children:s.jsxDEV(y,{data:e.browserStats,layout:"vertical",children:[s.jsxDEV(N,{strokeDasharray:"3 3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1803,columnNumber:21},this),s.jsxDEV(x,{type:"number"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1804,columnNumber:21},this),s.jsxDEV(h,{dataKey:"browser",type:"category",width:80},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1805,columnNumber:21},this),s.jsxDEV(l,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1806,columnNumber:21},this),s.jsxDEV(b,{dataKey:"count",fill:"#3b82f6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1807,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1802,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1801,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1800,columnNumber:15},this),s.jsxDEV("div",{className:"mt-4 space-y-2",children:e.browserStats.map((e,i)=>s.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxDEV("span",{className:"text-sm text-gray-900",children:e.browser},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1817,columnNumber:21},this),s.jsxDEV("div",{className:"flex items-center space-x-2",children:[s.jsxDEV("span",{className:"text-sm text-gray-600",children:[e.percentage,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1819,columnNumber:23},this),s.jsxDEV(Ke,{variant:"outline",children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1820,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1818,columnNumber:21},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1813,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1811,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1799,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1792,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1735,columnNumber:7},this),e.pageViews&&e.pageViews.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(L,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1835,columnNumber:15},this),"Top Pages"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1834,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1833,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"overflow-x-auto",children:s.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsxDEV("thead",{className:"bg-gray-50",children:s.jsxDEV("tr",{children:[s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Page"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1844,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Views"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1847,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Unique Users"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1850,columnNumber:21},this),s.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Duration"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1853,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1843,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1842,columnNumber:17},this),s.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.pageViews.slice(0,10).map((e,t)=>s.jsxDEV("tr",{className:"hover:bg-gray-50",children:[s.jsxDEV("td",{className:"px-6 py-4",children:s.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:"/"===e.pagePath?"Home":e.pagePath},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1862,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1861,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:i(e.views)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1867,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1866,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:i(e.uniqueUsers)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1870,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1869,columnNumber:23},this),s.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxDEV("div",{className:"text-sm text-gray-900",children:[e.averageDuration,"s"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1875,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1874,columnNumber:23},this)]},t,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1860,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1858,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1841,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1840,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1839,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1832,columnNumber:9},this),e.topReferrers&&e.topReferrers.length>0&&s.jsxDEV(Fe,{children:[s.jsxDEV(Oe,{children:s.jsxDEV("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsxDEV(ne,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1891,columnNumber:15},this),"Top Referrers (Detailed)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1890,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1889,columnNumber:11},this),s.jsxDEV($e,{children:s.jsxDEV("div",{className:"space-y-3",children:e.topReferrers.map((e,i)=>s.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxDEV("span",{className:"text-sm text-gray-900 truncate flex-1 font-mono",children:e.referrer},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1902,columnNumber:19},this),s.jsxDEV(Ke,{children:e.count},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1905,columnNumber:19},this)]},i,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1898,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1896,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1895,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1888,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:1582,columnNumber:5},this)}const ts=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[e,t]=i.useState("overview"),[a,r]=i.useState("30d"),[c,o]=i.useState(!1),[m,l]=i.useState(null),[d,u]=i.useState(null),[N,x]=i.useState(null),[h,g]=i.useState(null),[y,b]=i.useState(null),[p,f]=i.useState(null),[S,D]=i.useState(null),[j,v]=i.useState(null),[A,I]=i.useState(null);i.useEffect(()=>{E()},[a]);const E=async()=>{o(!0);try{const e=function(e){const i=new Date,s=new Date;switch(e){case"7d":s.setDate(s.getDate()-7);break;case"30d":default:s.setDate(s.getDate()-30);break;case"90d":s.setDate(s.getDate()-90);break;case"1y":s.setFullYear(s.getFullYear()-1)}return{start:s.toISOString(),end:i.toISOString()}}(a),[i,s,t,n,r,c,o,m,d]=await Promise.all([Ui(e),Ri(e),zi(),Li(),Bi(),Fi(e),Oi(),$i(),qi(e)]);l(i),u(s),x(t),g(n),b(r),f(c),D(o),v(m),I(d)}catch(e){console.error("Error loading analytics:",e),n.error("Failed to load analytics data")}finally{o(!1)}},T=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),P=[{id:"overview",name:"Overview",icon:$},{id:"students",name:"Students",icon:q},{id:"courses",name:"Courses",icon:z},{id:"teachers",name:"Teachers",icon:Z},{id:"batches",name:"Batches",icon:K},{id:"attendance",name:"Attendance",icon:Y},{id:"certificates",name:"Certificates",icon:J},{id:"gurukuls",name:"Gurukuls",icon:z},{id:"site",name:"Site Analytics",icon:L},{id:"consent",name:"Consent",icon:X},{id:"system",name:"System",icon:Q}];return c&&!m?s.jsxDEV("div",{className:"flex items-center justify-center py-12",children:s.jsxDEV("div",{className:"text-center",children:[s.jsxDEV("div",{className:"spinner w-8 h-8 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:170,columnNumber:11},this),s.jsxDEV("p",{className:"text-gray-600",children:"Loading analytics..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:171,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:169,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:168,columnNumber:7},this):s.jsxDEV("div",{className:"space-y-6",children:[s.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxDEV("div",{children:s.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:182,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:181,columnNumber:9},this),s.jsxDEV("div",{className:"flex items-center space-x-4",children:[s.jsxDEV("select",{value:a,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[s.jsxDEV("option",{value:"7d",children:"Last 7 days"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:190,columnNumber:13},this),s.jsxDEV("option",{value:"30d",children:"Last 30 days"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:191,columnNumber:13},this),s.jsxDEV("option",{value:"90d",children:"Last 90 days"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:192,columnNumber:13},this),s.jsxDEV("option",{value:"1y",children:"Last year"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:193,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:185,columnNumber:11},this),s.jsxDEV(je,{variant:"outline",size:"sm",onClick:E,children:s.jsxDEV(O,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:196,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:195,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:184,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:180,columnNumber:7},this),s.jsxDEV("div",{className:"border-b border-gray-200 overflow-x-auto",children:s.jsxDEV("nav",{className:"-mb-px flex space-x-8",children:P.map(i=>s.jsxDEV("button",{onClick:()=>t(i.id),className:"flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm cursor-pointer whitespace-nowrap "+(e===i.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[s.jsxDEV(i.icon,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:214,columnNumber:15},this),s.jsxDEV("span",{children:i.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:215,columnNumber:15},this)]},i.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:205,columnNumber:13},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:203,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:202,columnNumber:7},this),"overview"===e&&s.jsxDEV(Zi,{data:{studentData:m,enrollmentData:d,courseData:N,teacherData:h,batchData:y,certificateData:S,attendanceData:p},formatNumber:T},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:223,columnNumber:9},this),"students"===e&&s.jsxDEV(Ki,{data:m,enrollmentData:d,formatNumber:T},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:237,columnNumber:9},this),"courses"===e&&s.jsxDEV(Yi,{data:N,formatNumber:T},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:243,columnNumber:35},this),"teachers"===e&&s.jsxDEV(Ji,{data:h,formatNumber:T},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:244,columnNumber:36},this),"batches"===e&&s.jsxDEV(Xi,{data:y,formatNumber:T},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:245,columnNumber:35},this),"attendance"===e&&s.jsxDEV(Qi,{data:p,formatNumber:T},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:247,columnNumber:9},this),"certificates"===e&&s.jsxDEV(es,{data:S,formatNumber:T},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:250,columnNumber:9},this),"gurukuls"===e&&s.jsxDEV(is,{data:j,formatNumber:T},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:252,columnNumber:36},this),"site"===e&&s.jsxDEV(ss,{data:A,formatNumber:T},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:253,columnNumber:32},this),"consent"===e&&s.jsxDEV(ce,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:254,columnNumber:35},this),"system"===e&&s.jsxDEV(oe,{},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:255,columnNumber:34},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/AdminAnalytics.tsx",lineNumber:178,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"}));export{ci as $,di as A,je as B,Te as C,mi as D,ti as E,Ae as F,he as G,De as H,Be as I,ui as J,ke as K,Me as L,wi as M,pi as N,ji as O,bi as P,Si as Q,Ai as R,Di as S,vi as T,Wi as U,Ti as V,Ze as W,ii as X,Ye as Y,Qe as Z,de as _,Le as a,oi as a0,Ee as a1,Pi as a2,Gi as a3,ts as a4,Fe as b,_e as c,Re as d,ze as e,$e as f,Ke as g,Ci as h,ai as i,si as j,be as k,Je as l,ri as m,Oe as n,pe as o,xe as p,We as q,qe as r,Ie as s,fe as t,Ei as u,Ii as v,Ne as w,ye as x,Ni as y,li as z};
