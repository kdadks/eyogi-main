const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/admin-analytics-BUJUGyzI.js","assets/vendor-react-DCALsXS8.js","assets/vendor-misc-Dxs4t1yE.js","assets/vendor-react-D32Un0ak.css","assets/vendor-ui-Bmdc4IWn.js","assets/admin-misc-9vir4T6x.js","assets/admin-assignments-Cx7DOfUV.js","assets/admin-batch-BFzGO27E.js","assets/admin-content-LS_eLhwS.js","assets/admin-resources-DlJorqJM.js","assets/vendor-jspdf-DcFMtNGo.js","assets/vendor-pdfjs-D7jtXKOJ.js","assets/vendor-forms-B0kmz9hl.js","assets/admin-finance-3P7fiBd4.js","assets/admin-misc-DT1vlic3.css","assets/vendor-supabase-EmK__MhW.js"])))=>i.map(i=>d[i]);
import{r as e,z as n,j as a,l as t,q as s,h as i}from"./vendor-react-DCALsXS8.js";import{i as m,l as r,b as o,f as c,B as l,g as d,t as u,p as N,I as g,n as x,h as S,s as h,N as b,_ as D,O as p,P as j}from"./admin-analytics-BUJUGyzI.js";import{B as f,H as v,I as y,J as T,f as V,K as E,h as P}from"./admin-assignments-Cx7DOfUV.js";import{i as I,a as W}from"./admin-batch-BFzGO27E.js";import{h as H,i as M,j as w,k as _,l as C,m as k,n as A,o as z}from"./admin-misc-9vir4T6x.js";import{m as L,t as O,c as R,r as B,H as q,l as F,g as $,h as U,aI as G,e as J,aA as K,b as Q,A as X,q as Y,i as Z,o as ee,aJ as ne,j as ae,D as te,aH as se,N as ie,w as me,aK as re,a8 as oe}from"./vendor-ui-Bmdc4IWn.js";import{b as ce,a as le}from"./admin-finance-3P7fiBd4.js";function de(e){return{student:"bg-blue-100 text-blue-800",teacher:"bg-green-100 text-green-800",admin:"bg-purple-100 text-purple-800",business_admin:"bg-orange-100 text-orange-800",super_admin:"bg-red-100 text-red-800",parent:"bg-yellow-100 text-yellow-800"}[e]||"bg-gray-100 text-gray-800"}const ue=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[t,s]=e.useState([]),[i,h]=e.useState([]),[b,D]=e.useState([]),[p,j]=e.useState([]),[y,T]=e.useState([]),[V,E]=e.useState(new Map),[P,te]=e.useState(!1),[se,ie]=e.useState(null),[me,re]=e.useState(""),[oe,ce]=e.useState(!0),[le,ue]=e.useState("overview"),[Ne,ge]=e.useState(""),[xe,Se]=e.useState("all"),[he,be]=e.useState("all"),[De,pe]=e.useState("all"),[je,fe]=e.useState("all"),[ve,ye]=e.useState("all"),[Te,Ve]=e.useState("all"),[Ee,Pe]=e.useState(null),[Ie,We]=e.useState(null),[He,Me]=e.useState(!1),[we,_e]=e.useState(!1),[Ce,ke]=e.useState(null),[Ae,ze]=e.useState(!1),[Le,Oe]=e.useState({full_name:"",email:"",age:16,phone:"",address:"",parent_guardian_name:"",parent_guardian_email:"",parent_guardian_phone:"",role:"student"}),[Re,Be]=e.useState(!1),[qe,Fe]=e.useState(new Set),[$e,Ue]=e.useState(!1),[Ge,Je]=e.useState({subject:"",message:"",type:"email"}),[Ke,Qe]=e.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});e.useEffect(()=>{Xe()},[]),e.useEffect(()=>{(()=>{let e=t;if(Ne&&(e=e.filter(e=>e.full_name?.toLowerCase().includes(Ne.toLowerCase())||e.email?.toLowerCase().includes(Ne.toLowerCase())||e.student_id?.toLowerCase().includes(Ne.toLowerCase())||e.phone?.toLowerCase().includes(Ne.toLowerCase()))),"all"!==xe&&(e=e.filter(e=>e.enrollments.some(e=>e.course_id===xe))),"all"!==he&&(e=e.filter(e=>e.enrollments.some(e=>e.status===he))),"all"!==De&&(e=e.filter(e=>e.status===De)),"all"!==je){const[n,a]=je.split("-").map(Number);e=e.filter(e=>e.age&&e.age>=n&&e.age<=a)}"all"!==ve&&(e=e.filter(e=>e.enrollments.some(e=>e.course?.gurukul_id===ve))),"all"!==Te&&(e=e.filter(e=>{const n=V.get(e.id);return"given"===Te?n?.consent_given&&!n?.withdrawn:"not_given"===Te?!n?.consent_given:"withdrawn"!==Te||n?.withdrawn})),T(e)})()},[t,Ne,xe,he,De,je,ve,Te,V]);const Xe=async()=>{try{const[e,n,a,t,i]=await Promise.all([f(),m(),I(),r(),H()]);h(n),D(t),j(i);const o=e.filter(e=>"student"===e.role),c=await Promise.all(o.map(async e=>{const n=a.filter(n=>n.student_id===e.id),t=n.filter(e=>"completed"===e.status).length,s=n.filter(e=>"pending"===e.status).length,i=n.reduce((e,n)=>e+(n.course?.price||0),0),m=await M(e.id),r=m.length>0?m.reduce((e,n)=>e+n.stats.attendance_percentage,0)/m.length:0,o=await W(e.id),c=Object.values(o),l=c.length>0?c.reduce((e,n)=>e+n,0)/c.length:0;return{...e,enrollments:n,total_enrollments:n.length,completed_courses:t,pending_enrollments:s,total_spent:i,attendance_summaries:m,overall_attendance_percentage:r,course_progress:o,average_course_progress:l}}));if(s(c),o.length>0){const e=o.map(e=>e.id),n=await w(e),a=new Map;n.forEach(e=>{e&&a.set(e.student_id,e)}),E(a)}}catch{n.error("Failed to load student data")}finally{ce(!1)}},Ye=e=>{Pe(e)},Ze=e=>{We(e),Oe({full_name:e.full_name||"",email:e.email,age:e.age||16,phone:e.phone||"",address:[e.address_line_1,e.city,e.state,e.zip_code,e.country].filter(Boolean).join(", ")||"",parent_guardian_name:e.parent_guardian_name||"",parent_guardian_email:e.parent_guardian_email||"",parent_guardian_phone:e.parent_guardian_phone||"",role:e.role}),Me(!0)},en=e=>{ke(e),_e(!0)},nn=e=>{const n=new Set(qe);n.has(e)?n.delete(e):n.add(e),Fe(n)},an=()=>{0!==qe.size?Ue(!0):n.error("Please select students to communicate with")},tn=()=>{Oe({full_name:"",email:"",age:16,phone:"",address:"",parent_guardian_name:"",parent_guardian_email:"",parent_guardian_phone:"",role:"student"}),Me(!1),We(null)},sn={totalStudents:t.length,activeStudents:t.filter(e=>"active"===e.status).length,newStudents:t.filter(e=>{const n=new Date;return n.setDate(n.getDate()-7),new Date(e.created_at)>n}).length,studentsWithCertificates:t.filter(e=>e.enrollments.some(n=>{return a=e.id,t=n.course_id,p.some(e=>e.student_id===a&&e.course_id===t);var a,t})).length,averageAge:t.length>0&&t.some(e=>e.age)?Math.round(t.reduce((e,n)=>e+(n.age||0),0)/t.filter(e=>e.age).length):0,completionRate:t.length>0&&t.reduce((e,n)=>e+n.total_enrollments,0)>0?Math.round(t.reduce((e,n)=>e+n.completed_courses,0)/t.reduce((e,n)=>e+n.total_enrollments,0)*100):0};return oe?a.jsxDEV("div",{className:"flex items-center justify-center py-12",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"spinner w-8 h-8 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:480,columnNumber:11},this),a.jsxDEV("p",{className:"text-gray-600",children:"Loading student data..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:481,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:479,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:478,columnNumber:7},this):a.jsxDEV("div",{className:"flex flex-col gap-6",children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsxDEV(o,{className:"card-hover",children:a.jsxDEV(c,{className:"p-4 text-center",children:[a.jsxDEV(L,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:492,columnNumber:13},this),a.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:sn.totalStudents},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:493,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Total Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:494,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:491,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:490,columnNumber:9},this),a.jsxDEV(o,{className:"card-hover",children:a.jsxDEV(c,{className:"p-4 text-center",children:[a.jsxDEV(O,{className:"h-6 w-6 text-green-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:499,columnNumber:13},this),a.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:sn.activeStudents},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:500,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Active Students"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:501,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:498,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:497,columnNumber:9},this),a.jsxDEV(o,{className:"card-hover",children:a.jsxDEV(c,{className:"p-4 text-center",children:[a.jsxDEV(R,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:506,columnNumber:13},this),a.jsxDEV("div",{className:"text-2xl font-bold text-purple-600",children:sn.newStudents},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:507,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"New (7 days)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:508,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:505,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:504,columnNumber:9},this),a.jsxDEV(o,{className:"card-hover",children:a.jsxDEV(c,{className:"p-4 text-center",children:[a.jsxDEV(B,{className:"h-6 w-6 text-orange-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:513,columnNumber:13},this),a.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:sn.studentsWithCertificates},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:514,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"With Certificates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:517,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:512,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:511,columnNumber:9},this),a.jsxDEV(o,{className:"card-hover",children:a.jsxDEV(c,{className:"p-4 text-center",children:[a.jsxDEV(q,{className:"h-6 w-6 text-indigo-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:522,columnNumber:13},this),a.jsxDEV("div",{className:"text-2xl font-bold text-indigo-600",children:sn.averageAge},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:523,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Average Age"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:524,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:521,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:520,columnNumber:9},this),a.jsxDEV(o,{className:"card-hover",children:a.jsxDEV(c,{className:"p-4 text-center",children:[a.jsxDEV(F,{className:"h-6 w-6 text-emerald-600 mx-auto mb-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:529,columnNumber:13},this),a.jsxDEV("div",{className:"text-2xl font-bold text-emerald-600",children:[sn.completionRate,"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:530,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Completion Rate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:531,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:528,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:527,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:489,columnNumber:7},this),a.jsxDEV("div",{className:"border-b border-gray-200",children:a.jsxDEV("nav",{className:"-mb-px flex gap-8",children:[{id:"overview",name:"Student Overview",icon:L},{id:"by-course",name:"Students by Course",icon:$},{id:"details",name:"Detailed View",icon:U},{id:"communication",name:"Communication",icon:G}].map(e=>a.jsxDEV("button",{onClick:()=>ue(e.id),className:"flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm cursor-pointer "+(le===e.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[a.jsxDEV(e.icon,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:555,columnNumber:15},this),a.jsxDEV("span",{children:e.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:556,columnNumber:15},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:544,columnNumber:13},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:537,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:536,columnNumber:7},this),a.jsxDEV(o,{children:a.jsxDEV(c,{className:"p-4",children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxDEV("div",{className:"lg:col-span-2",children:a.jsxDEV("div",{className:"relative",children:[a.jsxDEV(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:567,columnNumber:17},this),a.jsxDEV("input",{type:"text",placeholder:"Search students...",value:Ne,onChange:e=>ge(e.target.value),className:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:568,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:566,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:565,columnNumber:13},this),a.jsxDEV("select",{value:ve,onChange:e=>ye(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[a.jsxDEV("option",{value:"all",children:"All Gurukuls"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:582,columnNumber:15},this),b.map(e=>a.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:584,columnNumber:17},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:577,columnNumber:13},this),a.jsxDEV("select",{value:xe,onChange:e=>Se(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[a.jsxDEV("option",{value:"all",children:"All Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:594,columnNumber:15},this),i.map(e=>a.jsxDEV("option",{value:e.id,children:[e.course_number," - ",e.title]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:596,columnNumber:17},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:589,columnNumber:13},this),a.jsxDEV("select",{value:je,onChange:e=>fe(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[a.jsxDEV("option",{value:"all",children:"All Ages"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:606,columnNumber:15},this),[{value:"4-7",label:"Elementary (4-7)"},{value:"8-11",label:"Basic (8-11)"},{value:"12-15",label:"Intermediate (12-15)"},{value:"16-19",label:"Advanced (16-19)"},{value:"20-100",label:"Adult (20+)"}].map(e=>a.jsxDEV("option",{value:e.value,children:e.label},e.value,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:608,columnNumber:17},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:601,columnNumber:13},this),a.jsxDEV("select",{value:he,onChange:e=>be(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[a.jsxDEV("option",{value:"all",children:"All Enrollment Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:618,columnNumber:15},this),a.jsxDEV("option",{value:"pending",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:619,columnNumber:15},this),a.jsxDEV("option",{value:"approved",children:"Approved"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:620,columnNumber:15},this),a.jsxDEV("option",{value:"completed",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:621,columnNumber:15},this),a.jsxDEV("option",{value:"rejected",children:"Rejected"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:622,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:613,columnNumber:13},this),a.jsxDEV("select",{value:De,onChange:e=>pe(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[a.jsxDEV("option",{value:"all",children:"All Student Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:629,columnNumber:15},this),a.jsxDEV("option",{value:"active",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:630,columnNumber:15},this),a.jsxDEV("option",{value:"inactive",children:"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:631,columnNumber:15},this),a.jsxDEV("option",{value:"suspended",children:"Suspended"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:632,columnNumber:15},this),a.jsxDEV("option",{value:"pending_verification",children:"Pending Verification"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:633,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:624,columnNumber:13},this),a.jsxDEV("select",{value:Te,onChange:e=>Ve(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[a.jsxDEV("option",{value:"all",children:"All Consent Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:640,columnNumber:15},this),a.jsxDEV("option",{value:"given",children:"Consent Given"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:641,columnNumber:15},this),a.jsxDEV("option",{value:"not_given",children:"No Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:642,columnNumber:15},this),a.jsxDEV("option",{value:"withdrawn",children:"Withdrawn"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:643,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:635,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:564,columnNumber:11},this),a.jsxDEV("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxDEV("p",{className:"text-sm text-gray-600",children:["Showing ",y.length," of ",t.length," students"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:647,columnNumber:13},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(l,{size:"sm",variant:"outline",onClick:()=>{y.map(e=>({"Student ID":e.student_id,"Full Name":e.full_name,Email:e.email,Age:e.age,Phone:e.phone,"Total Enrollments":e.total_enrollments,"Completed Courses":e.completed_courses,"Pending Enrollments":e.pending_enrollments,"Total Spent":`€${e.total_spent}`,"Joined Date":N(e.created_at)})),n.success("Student data exported successfully")},children:[a.jsxDEV(K,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:652,columnNumber:17},this),"Export CSV"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:651,columnNumber:15},this),a.jsxDEV(l,{size:"sm",onClick:()=>{ge(""),Se("all"),be("all"),pe("all"),fe("all"),ye("all"),Ve("all")},children:"Clear Filters"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:655,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:650,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:646,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:563,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:562,columnNumber:7},this),Ee&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxDEV("div",{className:"p-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold",children:"Student Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:679,columnNumber:17},this),a.jsxDEV(l,{variant:"ghost",onClick:()=>Pe(null),children:a.jsxDEV(Q,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:681,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:680,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:678,columnNumber:15},this),a.jsxDEV("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"font-semibold mb-4 flex items-center",children:[a.jsxDEV(X,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:688,columnNumber:21},this),"Personal Information"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:687,columnNumber:19},this),a.jsxDEV("div",{className:"flex flex-col gap-3 text-sm",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsxDEV(X,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:694,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:693,columnNumber:23},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"font-medium text-lg",children:Ee.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:697,columnNumber:25},this),a.jsxDEV("p",{className:"text-gray-600",children:Ee.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:698,columnNumber:25},this),a.jsxDEV("p",{className:"text-xs text-gray-500",children:["ID: ",Ee.student_id]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:699,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:696,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:692,columnNumber:21},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-600",children:"Age:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:704,columnNumber:25},this),a.jsxDEV("p",{className:"font-medium",children:Ee.age||"Not specified"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:705,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:703,columnNumber:23},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-600",children:"Role:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:708,columnNumber:25},this),a.jsxDEV(d,{className:de(Ee.role),size:"sm",children:u(Ee.role)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:709,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:707,columnNumber:23},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-600",children:"Phone:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:714,columnNumber:25},this),a.jsxDEV("p",{className:"font-medium",children:Ee.phone||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:715,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:713,columnNumber:23},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-600",children:"Joined:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:718,columnNumber:25},this),a.jsxDEV("p",{className:"font-medium",children:N(Ee.created_at)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:719,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:717,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:702,columnNumber:21},this),(Ee.address_line_1||Ee.city)&&a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-600",children:"Address:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:724,columnNumber:25},this),a.jsxDEV("p",{className:"font-medium",children:[Ee.address_line_1,Ee.address_line_2,Ee.city,Ee.state,Ee.zip_code,Ee.country].filter(Boolean).join(", ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:725,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:723,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:691,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:686,columnNumber:17},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"font-semibold mb-4 flex items-center",children:[a.jsxDEV(Y,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:744,columnNumber:21},this),"Enrollment Summary"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:743,columnNumber:19},this),a.jsxDEV("div",{className:"flex flex-col gap-4",children:[a.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxDEV("div",{className:"bg-blue-50 p-3 rounded-lg text-center",children:[a.jsxDEV("div",{className:"text-xl font-bold text-blue-600",children:Ee.total_enrollments},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:750,columnNumber:25},this),a.jsxDEV("div",{className:"text-xs text-blue-800",children:"Total Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:753,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:749,columnNumber:23},this),a.jsxDEV("div",{className:"bg-green-50 p-3 rounded-lg text-center",children:[a.jsxDEV("div",{className:"text-xl font-bold text-green-600",children:Ee.completed_courses},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:756,columnNumber:25},this),a.jsxDEV("div",{className:"text-xs text-green-800",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:759,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:755,columnNumber:23},this),a.jsxDEV("div",{className:"bg-yellow-50 p-3 rounded-lg text-center",children:[a.jsxDEV("div",{className:"text-xl font-bold text-yellow-600",children:Ee.pending_enrollments},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:762,columnNumber:25},this),a.jsxDEV("div",{className:"text-xs text-yellow-800",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:765,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:761,columnNumber:23},this),a.jsxDEV("div",{className:"bg-purple-50 p-3 rounded-lg text-center",children:[a.jsxDEV("div",{className:"text-xl font-bold text-purple-600",children:["€",Ee.total_spent]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:768,columnNumber:25},this),a.jsxDEV("div",{className:"text-xs text-purple-800",children:"Total Spent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:771,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:767,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:748,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-medium mb-2",children:"Course Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:775,columnNumber:23},this),a.jsxDEV("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:Ee.enrollments.map(e=>a.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("p",{className:"text-sm font-medium",children:e.course?.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:783,columnNumber:31},this),a.jsxDEV("p",{className:"text-xs text-gray-600",children:[e.course?.course_number," •"," ",e.course?.gurukul?.name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:784,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:782,columnNumber:29},this),a.jsxDEV(d,{className:""+("completed"===e.status?"bg-green-100 text-green-800":"approved"===e.status?"bg-blue-100 text-blue-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),size:"sm",children:u(e.status)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:789,columnNumber:29},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:778,columnNumber:27},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:776,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:774,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:747,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:742,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:684,columnNumber:15},this),Ee.age&&Ee.age<18&&(Ee.parent_guardian_name||Ee.parent_guardian_email)&&a.jsxDEV("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[a.jsxDEV("h3",{className:"font-semibold mb-4 flex items-center",children:[a.jsxDEV(X,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:816,columnNumber:23},this),"Parent/Guardian Information"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:815,columnNumber:21},this),a.jsxDEV("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-600",children:"Name:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:821,columnNumber:25},this),a.jsxDEV("p",{className:"font-medium",children:Ee.parent_guardian_name||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:822,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:820,columnNumber:23},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-600",children:"Email:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:827,columnNumber:25},this),a.jsxDEV("p",{className:"font-medium",children:Ee.parent_guardian_email||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:828,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:826,columnNumber:23},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-gray-600",children:"Phone:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:833,columnNumber:25},this),a.jsxDEV("p",{className:"font-medium",children:Ee.parent_guardian_phone||"Not provided"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:834,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:832,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:819,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:814,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:677,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:676,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:675,columnNumber:9},this),He&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxDEV("div",{className:"p-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold",children:Ie?"Edit Student":"Add New Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:851,columnNumber:17},this),a.jsxDEV(l,{variant:"ghost",onClick:tn,children:a.jsxDEV(Q,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:855,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:854,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:850,columnNumber:15},this),a.jsxDEV("form",{onSubmit:async e=>{e.preventDefault(),Be(!0);try{Ie?(n.success("Student updated successfully"),await Xe()):(n.success("Student created successfully"),await Xe()),tn()}catch{n.error("Failed to save student")}finally{Be(!1)}},className:"flex flex-col gap-6",children:[a.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxDEV(g,{label:"Full Name",value:Le.full_name,onChange:e=>Oe(n=>({...n,full_name:e.target.value})),required:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:860,columnNumber:19},this),a.jsxDEV(g,{label:"Email Address",type:"email",value:Le.email,onChange:e=>Oe(n=>({...n,email:e.target.value})),required:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:868,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:859,columnNumber:17},this),a.jsxDEV("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxDEV(g,{label:"Age",type:"number",value:Le.age,onChange:e=>Oe(n=>({...n,age:parseInt(e.target.value)})),required:!0,min:"4",max:"100"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:879,columnNumber:19},this),a.jsxDEV(g,{label:"Phone",type:"tel",value:Le.phone,onChange:e=>Oe(n=>({...n,phone:e.target.value}))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:890,columnNumber:19},this),a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Role"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:899,columnNumber:21},this),a.jsxDEV("select",{value:Le.role,onChange:e=>Oe(n=>({...n,role:e.target.value})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",children:[a.jsxDEV("option",{value:"student",children:"Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:910,columnNumber:23},this),a.jsxDEV("option",{value:"teacher",children:"Teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:911,columnNumber:23},this),a.jsxDEV("option",{value:"admin",children:"Admin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:912,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:900,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:898,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:878,columnNumber:17},this),a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Address"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:917,columnNumber:19},this),a.jsxDEV("textarea",{value:Le.address,onChange:e=>Oe(n=>({...n,address:e.target.value})),rows:2,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:918,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:916,columnNumber:17},this),Le.age<18&&a.jsxDEV("div",{className:"border-t pt-6",children:[a.jsxDEV("h4",{className:"font-medium mb-4",children:"Parent/Guardian Information"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:930,columnNumber:21},this),a.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxDEV(g,{label:"Parent/Guardian Name",value:Le.parent_guardian_name,onChange:e=>Oe(n=>({...n,parent_guardian_name:e.target.value}))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:932,columnNumber:23},this),a.jsxDEV(g,{label:"Parent/Guardian Email",type:"email",value:Le.parent_guardian_email,onChange:e=>Oe(n=>({...n,parent_guardian_email:e.target.value}))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:942,columnNumber:23},this),a.jsxDEV(g,{label:"Parent/Guardian Phone",type:"tel",value:Le.parent_guardian_phone,onChange:e=>Oe(n=>({...n,parent_guardian_phone:e.target.value}))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:953,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:931,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:929,columnNumber:19},this),a.jsxDEV("div",{className:"flex gap-4",children:[a.jsxDEV(l,{type:"submit",loading:Re,children:Ie?"Update Student":"Create Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:968,columnNumber:19},this),a.jsxDEV(l,{type:"button",variant:"danger",onClick:tn,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:971,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:967,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:858,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:849,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:848,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:847,columnNumber:9},this),$e&&a.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full",children:a.jsxDEV("div",{className:"p-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[a.jsxDEV("h2",{className:"text-2xl font-bold",children:"Send Communication"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:986,columnNumber:17},this),a.jsxDEV(l,{variant:"ghost",onClick:()=>Ue(!1),children:a.jsxDEV(Q,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:988,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:987,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:985,columnNumber:15},this),a.jsxDEV("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:a.jsxDEV("p",{className:"text-sm text-blue-800",children:["Sending to ",qe.size," selected student",1!==qe.size?"s":""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:992,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:991,columnNumber:15},this),a.jsxDEV("div",{className:"flex flex-col gap-4",children:[a.jsxDEV("div",{className:"flex gap-4",children:[a.jsxDEV("label",{className:"flex items-center",children:[a.jsxDEV("input",{type:"radio",value:"email",checked:"email"===Ge.type,onChange:e=>Je(n=>({...n,type:e.target.value})),className:"mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1e3,columnNumber:21},this),"Email"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:999,columnNumber:19},this),a.jsxDEV("label",{className:"flex items-center",children:[a.jsxDEV("input",{type:"radio",value:"sms",checked:"sms"===Ge.type,onChange:e=>Je(n=>({...n,type:e.target.value})),className:"mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1015,columnNumber:21},this),"SMS"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1014,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:998,columnNumber:17},this),"email"===Ge.type&&a.jsxDEV(g,{label:"Subject",value:Ge.subject,onChange:e=>Je(n=>({...n,subject:e.target.value})),required:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1031,columnNumber:19},this),a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Message"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1041,columnNumber:19},this),a.jsxDEV("textarea",{value:Ge.message,onChange:e=>Je(n=>({...n,message:e.target.value})),rows:5,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-base px-4 py-3",required:!0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1042,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1040,columnNumber:17},this),a.jsxDEV("div",{className:"flex gap-4",children:[a.jsxDEV(l,{onClick:async()=>{try{await new Promise(e=>setTimeout(e,1e3)),n.success(`${"email"===Ge.type?"Email":"SMS"} sent to ${qe.size} students`),Ue(!1),Fe(new Set),Je({subject:"",message:"",type:"email"})}catch{n.error("Failed to send communication")}},children:["Send ","email"===Ge.type?"Email":"SMS"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1053,columnNumber:19},this),a.jsxDEV(l,{variant:"danger",onClick:()=>Ue(!1),children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1056,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1052,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:997,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:984,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:983,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:982,columnNumber:9},this),"overview"===le&&a.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.slice(0,12).map(e=>a.jsxDEV(o,{className:"card-hover",children:a.jsxDEV(c,{className:"p-6",children:[a.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[a.jsxDEV("div",{className:"flex items-center space-x-3",children:[a.jsxDEV("div",{className:"h-12 w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsxDEV(X,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1074,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1073,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"font-semibold",children:e.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1077,columnNumber:23},this),a.jsxDEV("p",{className:"text-sm text-gray-600",children:e.student_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1078,columnNumber:23},this),a.jsxDEV("p",{className:"text-xs text-gray-500",children:e.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1079,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1076,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1072,columnNumber:19},this),a.jsxDEV(d,{className:de(e.role),size:"sm",children:u(e.role)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1082,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1071,columnNumber:17},this),a.jsxDEV("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center",children:[a.jsxDEV("div",{className:"bg-gray-50 p-2 rounded",children:[a.jsxDEV("div",{className:"text-sm font-bold",children:e.total_enrollments},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1088,columnNumber:21},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Enrolled"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1089,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1087,columnNumber:19},this),a.jsxDEV("div",{className:"bg-gray-50 p-2 rounded",children:[a.jsxDEV("div",{className:"text-sm font-bold",children:e.completed_courses},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1092,columnNumber:21},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1093,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1091,columnNumber:19},this),a.jsxDEV("div",{className:"bg-gray-50 p-2 rounded",children:[a.jsxDEV("div",{className:"text-sm font-bold",children:["€",e.total_spent]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1096,columnNumber:21},this),a.jsxDEV("div",{className:"text-xs text-gray-600",children:"Spent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1097,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1095,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1086,columnNumber:17},this),a.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[a.jsxDEV(l,{size:"sm",onClick:()=>Ye(e),children:[a.jsxDEV(U,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1102,columnNumber:21},this),"View"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1101,columnNumber:19},this),a.jsxDEV(l,{size:"sm",variant:"outline",onClick:()=>Ze(e),children:[a.jsxDEV(Z,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1106,columnNumber:21},this),"Edit"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1105,columnNumber:19},this),a.jsxDEV(l,{size:"sm",variant:"outline",onClick:()=>en(e),children:[a.jsxDEV(ee,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1110,columnNumber:21},this),"Batches"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1109,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1100,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1070,columnNumber:15},this)},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1069,columnNumber:13},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1067,columnNumber:9},this),"by-course"===le&&a.jsxDEV("div",{className:"flex flex-col gap-6",children:Object.entries((()=>{const e={};return y.forEach(n=>{n.enrollments.forEach(a=>{if(a.course){const t=a.course.id;e[t]||(e[t]={course:a.course,students:[]}),e[t].students.find(e=>e.id===n.id)||e[t].students.push(n)}})}),e})()).map(([e,{course:n,students:t}])=>a.jsxDEV(o,{children:[a.jsxDEV(x,{children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV($,{className:"h-6 w-6 text-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1126,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"text-lg font-semibold",children:n.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1128,columnNumber:23},this),a.jsxDEV("p",{className:"text-sm text-gray-600",children:[n.course_number," • ",n.gurukul?.name," • ",t.length," students"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1129,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1127,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1125,columnNumber:19},this),a.jsxDEV(d,{className:""+("elementary"===n.level?"bg-green-100 text-green-800":"basic"===n.level?"bg-blue-100 text-blue-800":"intermediate"===n.level?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),size:"sm",children:u(n.level)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1134,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1124,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1123,columnNumber:15},this),a.jsxDEV(c,{children:a.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(n=>{const t=n.enrollments.find(n=>n.course_id===e);return a.jsxDEV("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsxDEV(X,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1161,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1160,columnNumber:27},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"font-medium text-sm",children:n.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1164,columnNumber:29},this),a.jsxDEV("p",{className:"text-xs text-gray-600",children:n.student_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1165,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1163,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1159,columnNumber:25},this),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(d,{className:""+("completed"===t?.status?"bg-green-100 text-green-800":"approved"===t?.status?"bg-blue-100 text-blue-800":"pending"===t?.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),size:"sm",children:u(t?.status||"")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1169,columnNumber:27},this),a.jsxDEV(l,{size:"sm",variant:"ghost",onClick:()=>Ye(n),children:a.jsxDEV(U,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1188,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1183,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1168,columnNumber:25},this)]},n.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1155,columnNumber:23},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1151,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1150,columnNumber:15},this)]},e,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1122,columnNumber:13},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1120,columnNumber:9},this),"details"===le&&a.jsxDEV(o,{children:[a.jsxDEV(x,{children:a.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxDEV("h2",{className:"text-xl font-bold",children:"Detailed Student Management"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1204,columnNumber:15},this),a.jsxDEV("div",{className:"flex gap-2",children:[qe.size>0&&a.jsxDEV(a.Fragment,{children:[a.jsxDEV(l,{onClick:an,children:[a.jsxDEV(G,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1209,columnNumber:23},this),"Message Selected (",qe.size,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1208,columnNumber:21},this),a.jsxDEV(l,{variant:"outline",onClick:()=>ze(!0),children:[a.jsxDEV(ee,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1213,columnNumber:23},this),"Assign to Batches (",qe.size,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1212,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1207,columnNumber:19},this),a.jsxDEV(l,{onClick:()=>Me(!0),children:[a.jsxDEV(R,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1219,columnNumber:19},this),"Add Student"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1218,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1205,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1203,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1202,columnNumber:11},this),a.jsxDEV(c,{children:0===y.length?a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV(X,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1228,columnNumber:17},this),a.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No students found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1229,columnNumber:17},this),a.jsxDEV("p",{className:"text-gray-600",children:"No students match your current filters."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1230,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1227,columnNumber:15},this):a.jsxDEV("div",{className:"overflow-x-auto",children:a.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsxDEV("thead",{className:"bg-gray-50",children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{className:"px-6 py-3 text-left",children:a.jsxDEV("input",{type:"checkbox",checked:qe.size===y.length&&y.length>0,onChange:()=>{qe.size===y.length?Fe(new Set):Fe(new Set(y.map(e=>e.id)))},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1238,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1237,columnNumber:23},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1248,columnNumber:23},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1251,columnNumber:23},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1254,columnNumber:23},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1257,columnNumber:23},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1260,columnNumber:23},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Consent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1263,columnNumber:23},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1266,columnNumber:23},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1269,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1236,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1235,columnNumber:19},this),a.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(e=>a.jsxDEV("tr",{className:"hover:bg-gray-50",children:[a.jsxDEV("td",{className:"px-6 py-4",children:a.jsxDEV("input",{type:"checkbox",checked:qe.has(e.id),onChange:()=>nn(e.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1278,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1277,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4",children:a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV("div",{className:"h-10 w-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsxDEV(X,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1288,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1287,columnNumber:29},this),a.jsxDEV("div",{className:"ml-4",children:[a.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.full_name||"Unknown"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1291,columnNumber:31},this),a.jsxDEV("div",{className:"text-sm text-gray-500",children:["ID: ",e.student_id]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1294,columnNumber:31},this),a.jsxDEV("div",{className:"text-xs text-gray-400",children:["Age: ",e.age||"N/A"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1295,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1290,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1286,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1285,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4",children:a.jsxDEV("div",{className:"text-sm",children:[a.jsxDEV("div",{className:"flex items-center text-gray-900 mb-1",children:[a.jsxDEV(G,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1304,columnNumber:31},this),e.email]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1303,columnNumber:29},this),e.phone&&a.jsxDEV("div",{className:"flex items-center text-gray-600",children:[a.jsxDEV(ne,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1309,columnNumber:33},this),e.phone]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1308,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1302,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1301,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4",children:a.jsxDEV("div",{className:"text-sm",children:[a.jsxDEV("div",{className:"font-medium",children:[e.total_enrollments," total"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1317,columnNumber:29},this),a.jsxDEV("div",{className:"text-gray-600",children:[e.completed_courses," completed"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1318,columnNumber:29},this),e.pending_enrollments>0&&a.jsxDEV("div",{className:"text-yellow-600",children:[e.pending_enrollments," pending"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1322,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1316,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1315,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4",children:a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:a.jsxDEV("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:(e.total_enrollments>0?e.completed_courses/e.total_enrollments*100:0)+"%"}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1333,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1332,columnNumber:31},this),a.jsxDEV("span",{className:"text-xs text-gray-600",children:[e.total_enrollments>0?Math.round(e.completed_courses/e.total_enrollments*100):0,"% done"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1340,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1331,columnNumber:29},this),e.course_progress&&Object.keys(e.course_progress).length>0&&a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:a.jsxDEV("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${e.average_course_progress||0}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1354,columnNumber:37},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1353,columnNumber:35},this),a.jsxDEV("span",{className:"text-xs text-gray-600",children:[Math.round(e.average_course_progress||0),"% avg"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1361,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1352,columnNumber:33},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1329,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1328,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4",children:e.attendance_summaries&&e.attendance_summaries.length>0?a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:a.jsxDEV("div",{className:"h-2 rounded-full "+((e.overall_attendance_percentage||0)>=75?"bg-green-500":(e.overall_attendance_percentage||0)>=50?"bg-yellow-500":"bg-red-500"),style:{width:`${e.overall_attendance_percentage||0}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1373,columnNumber:33},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1372,columnNumber:31},this),a.jsxDEV("span",{className:"text-sm text-gray-600",children:[Math.round(e.overall_attendance_percentage||0),"%"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1386,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1371,columnNumber:29},this):a.jsxDEV("span",{className:"text-sm text-gray-400",children:"No data"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1391,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1368,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4",children:a.jsxDEV(_,{consentGiven:V.get(e.id)?.consent_given||!1,withdrawn:V.get(e.id)?.withdrawn||!1,size:"sm",showLabel:!1,onClick:async()=>{const a=await C(e.id);a?(ie(a),re(e.full_name||"Unknown"),te(!0)):n.error("No consent record found for this student")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1395,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1394,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:N(e.created_at)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1412,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4",children:a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(l,{size:"sm",variant:"ghost",onClick:()=>Ye(e),title:"View Details",children:a.jsxDEV(U,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1423,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1417,columnNumber:29},this),a.jsxDEV(l,{size:"sm",variant:"ghost",onClick:()=>Ze(e),title:"Edit Student",children:a.jsxDEV(Z,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1431,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1425,columnNumber:29},this),a.jsxDEV(l,{size:"sm",variant:"ghost",onClick:()=>en(e),title:"Manage Batches",children:a.jsxDEV(ee,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1439,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1433,columnNumber:29},this),a.jsxDEV(l,{size:"sm",variant:"danger",onClick:()=>(async e=>{const a=t.find(n=>n.id===e);a&&Qe({isOpen:!0,title:"Delete Student",message:`Are you sure you want to delete "${a.full_name||a.email}"? This will also remove all their enrollments and cannot be undone.`,onConfirm:async()=>{try{await v(e),await Xe(),n.success("Student deleted successfully")}catch{n.error("Failed to delete student")}Qe(e=>({...e,isOpen:!1}))}})})(e.id),title:"Delete Student",children:a.jsxDEV(ae,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1447,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1441,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1416,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1415,columnNumber:25},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1276,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1274,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1234,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1233,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1225,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1201,columnNumber:9},this),"communication"===le&&a.jsxDEV(o,{children:[a.jsxDEV(x,{children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("h2",{className:"text-xl font-bold",children:"Student Communication"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1464,columnNumber:15},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(l,{onClick:()=>Fe(new Set(y.map(e=>e.id))),children:"Select All Visible"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1466,columnNumber:17},this),a.jsxDEV(l,{onClick:()=>Fe(new Set),children:"Clear Selection"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1471,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1465,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1463,columnNumber:13},this),qe.size>0&&a.jsxDEV("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-sm font-medium text-blue-900",children:[qe.size," student",1!==qe.size?"s":""," selected"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1477,columnNumber:19},this),a.jsxDEV(l,{onClick:an,children:[a.jsxDEV(G,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1481,columnNumber:21},this),"Send Message"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1480,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1476,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1475,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1462,columnNumber:11},this),a.jsxDEV(c,{children:a.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(e=>a.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("input",{type:"checkbox",checked:qe.has(e.id),onChange:()=>nn(e.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1497,columnNumber:23},this),a.jsxDEV("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsxDEV(X,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1504,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1503,columnNumber:23},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"font-medium text-sm",children:e.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1507,columnNumber:25},this),a.jsxDEV("p",{className:"text-xs text-gray-600",children:e.student_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1508,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1506,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1496,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1495,columnNumber:19},this),a.jsxDEV("div",{className:"flex flex-col gap-1 text-xs text-gray-600",children:[a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV(G,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1514,columnNumber:23},this),e.email]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1513,columnNumber:21},this),e.phone&&a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV(ne,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1519,columnNumber:25},this),e.phone]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1518,columnNumber:23},this),a.jsxDEV("div",{className:"flex items-center",children:[a.jsxDEV(Y,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1524,columnNumber:23},this),e.total_enrollments," enrollments"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1523,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1512,columnNumber:19},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1491,columnNumber:17},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1489,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1488,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1461,columnNumber:9},this),we&&Ce&&a.jsxDEV(k,{student:Ce,onClose:()=>{_e(!1),ke(null)},onSuccess:()=>{Xe()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1536,columnNumber:9},this),Ae&&qe.size>0&&a.jsxDEV(A,{students:y.filter(e=>qe.has(e.id)),onClose:()=>{ze(!1)},onSuccess:()=>{Fe(new Set),Xe()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1550,columnNumber:9},this),a.jsxDEV(S,{isOpen:Ke.isOpen,title:Ke.title,message:Ke.message,onConfirm:Ke.onConfirm,onCancel:()=>Qe(e=>({...e,isOpen:!1})),variant:"danger"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1563,columnNumber:7},this),P&&se&&a.jsxDEV(z,{consent:se,studentName:me,onClose:()=>{te(!1),ie(null),re("")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:1574,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/StudentManagement.tsx",lineNumber:487,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"}));const Ne=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[s,i]=e.useState([]),[m,r]=e.useState([]),[u,N]=e.useState(!0),[g,S]=e.useState(""),[b,D]=e.useState("all"),[p,j]=e.useState(new Set),[f,v]=e.useState(!1);e.useEffect(()=>{V()},[]),e.useEffect(()=>{E()},[s,g,b]);const V=async()=>{try{N(!0);const e=await y();if(0===e.length)return void i([]);const n=e.map(e=>e.id),[a,t,s]=await Promise.all([h.from("course_assignments").select("*, courses(*)").in("teacher_id",n).eq("is_active",!0).then(e=>e.data||[]),h.from("compliance_items").select("*").eq("target_role","teacher").eq("is_active",!0).then(e=>e.data||[]),h.from("compliance_submissions").select("*").in("user_id",n).then(e=>e.data||[])]),m=new Map;a.forEach(e=>{const n=m.get(e.teacher_id)||[];m.set(e.teacher_id,[...n,e])});const r=new Map;s.forEach(e=>{const n=r.get(e.user_id)||[];r.set(e.user_id,[...n,e])});const o=e.map(e=>{const n=(m.get(e.id)||[]).map(e=>e.courses).filter(Boolean),a=t.length,s=r.get(e.id)||[],i=s.filter(e=>"approved"===e.status).length,o={total_items:a,completed_items:i,pending_items:s.filter(e=>"pending"===e.status||"submitted"===e.status||"rejected"===e.status).length,overdue_items:t.filter(e=>{const n=s.find(n=>n.compliance_item_id===e.id);return e.due_date&&new Date(e.due_date)<new Date&&"approved"!==n?.status}).length,completion_percentage:a>0?Math.round(i/a*100):0};return{...e,complianceStats:o,assignedCourses:n}});i(o)}catch(e){console.error("Error loading teachers:",e),n.error("Failed to load teachers")}finally{N(!1)}},E=()=>{let e=[...s];g&&(e=e.filter(e=>e.full_name?.toLowerCase().includes(g.toLowerCase())||e.email?.toLowerCase().includes(g.toLowerCase()))),"all"!==b&&(e=e.filter(e=>{if(!e.complianceStats)return"pending"===b;const n=e.complianceStats.completed_items===e.complianceStats.total_items;return"compliant"===b?n:!n})),r(e)};return u?a.jsxDEV("div",{className:"flex items-center justify-center h-64",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:229,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:228,columnNumber:7},this):a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxDEV(o,{children:a.jsxDEV(c,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm text-gray-600",children:"Total Teachers"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:242,columnNumber:17},this),a.jsxDEV("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:s.length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:243,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:241,columnNumber:15},this),a.jsxDEV(X,{className:"h-12 w-12 text-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:240,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:239,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:238,columnNumber:9},this),a.jsxDEV(o,{children:a.jsxDEV(c,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm text-gray-600",children:"Compliant"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:254,columnNumber:17},this),a.jsxDEV("p",{className:"text-3xl font-bold text-green-600 mt-2",children:s.filter(e=>e.complianceStats&&e.complianceStats.completed_items===e.complianceStats.total_items).length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:255,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:253,columnNumber:15},this),a.jsxDEV(O,{className:"h-12 w-12 text-green-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:265,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:252,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:251,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:250,columnNumber:9},this),a.jsxDEV(o,{children:a.jsxDEV(c,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm text-gray-600",children:"Pending Compliance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:274,columnNumber:17},this),a.jsxDEV("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:s.filter(e=>!e.complianceStats||e.complianceStats.completed_items<e.complianceStats.total_items).length},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:275,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:273,columnNumber:15},this),a.jsxDEV(te,{className:"h-12 w-12 text-yellow-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:272,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:271,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:270,columnNumber:9},this),a.jsxDEV(o,{children:a.jsxDEV(c,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm text-gray-600",children:"Active Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:294,columnNumber:17},this),a.jsxDEV("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:s.reduce((e,n)=>e+(n.assignedCourses?.length||0),0)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:295,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:293,columnNumber:15},this),a.jsxDEV(Y,{className:"h-12 w-12 text-purple-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:299,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:292,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:291,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:290,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:237,columnNumber:7},this),a.jsxDEV(o,{children:a.jsxDEV(c,{className:"p-6",children:a.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxDEV("div",{className:"flex-1",children:a.jsxDEV("div",{className:"relative",children:[a.jsxDEV(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:312,columnNumber:17},this),a.jsxDEV("input",{type:"text",placeholder:"Search by name or email...",value:g,onChange:e=>S(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:313,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:311,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:310,columnNumber:13},this),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(se,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:325,columnNumber:15},this),a.jsxDEV("select",{value:b,onChange:e=>D(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[a.jsxDEV("option",{value:"all",children:"All Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:333,columnNumber:17},this),a.jsxDEV("option",{value:"compliant",children:"Compliant"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:334,columnNumber:17},this),a.jsxDEV("option",{value:"pending",children:"Pending"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:335,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:326,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:324,columnNumber:13},this),a.jsxDEV(l,{onClick:()=>v(!0),disabled:0===p.size,className:"flex items-center gap-2 bg-orange-600 hover:bg-orange-700 text-white",children:[a.jsxDEV(ie,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:345,columnNumber:15},this),"Assign Courses (",p.size,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:340,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:308,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:307,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:306,columnNumber:7},this),a.jsxDEV(o,{children:[a.jsxDEV(x,{children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("h2",{className:"text-sm font-medium text-gray-700",children:["Teachers (",m.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:356,columnNumber:13},this),a.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsxDEV("input",{type:"checkbox",checked:m.length>0&&m.every(e=>p.has(e.id)),onChange:()=>{p.size===m.length?j(new Set):j(new Set(m.map(e=>e.id)))},className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:360,columnNumber:15},this),a.jsxDEV("span",{className:"text-sm text-gray-600",children:"Select All"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:369,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:359,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:355,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:354,columnNumber:9},this),a.jsxDEV(c,{children:0===m.length?a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV(X,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:376,columnNumber:15},this),a.jsxDEV("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No teachers found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:377,columnNumber:15},this),a.jsxDEV("p",{className:"mt-1 text-sm text-gray-500",children:g||"all"!==b?"Try adjusting your filters":"No teachers have been added yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:378,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:375,columnNumber:13},this):a.jsxDEV("div",{className:"overflow-x-auto",children:a.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsxDEV("thead",{className:"bg-gray-50",children:a.jsxDEV("tr",{children:[a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:389,columnNumber:21},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Compliance"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:392,columnNumber:21},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:395,columnNumber:21},this),a.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:398,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:388,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:387,columnNumber:17},this),a.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>{const n=(e=>{if(!e||0===e.total_items)return{label:"Not Started",color:"bg-gray-100 text-gray-800",icon:te};const n=e.completed_items/e.total_items*100;return 100===n?{label:"Done",color:"bg-green-100 text-green-800",icon:O}:n>0?{label:`${Math.round(n)}% Complete`,color:"bg-yellow-100 text-yellow-800",icon:te}:{label:"Pending",color:"bg-red-100 text-red-800",icon:me}})(e.complianceStats),s=n.icon;return a.jsxDEV("tr",{className:"hover:bg-gray-50",children:[a.jsxDEV("td",{className:"px-6 py-4",children:a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("input",{type:"checkbox",checked:p.has(e.id),onChange:()=>(e=>{const n=new Set(p);n.has(e)?n.delete(e):n.add(e),j(n)})(e.id),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:412,columnNumber:29},this),a.jsxDEV("div",{children:[a.jsxDEV(t,{to:`/admin/teachers/${e.id}`,className:"text-sm font-medium text-gray-900 hover:text-orange-600",children:e.full_name||"Unnamed Teacher"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:419,columnNumber:31},this),a.jsxDEV("div",{className:"text-sm text-gray-500",children:e.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:425,columnNumber:31},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:418,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:411,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:410,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4",children:a.jsxDEV(d,{className:n.color,children:[a.jsxDEV(s,{className:"h-4 w-4 mr-1 inline"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:431,columnNumber:29},this),n.label]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:430,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:429,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4",children:[a.jsxDEV("div",{className:"text-sm text-gray-900",children:[e.assignedCourses?.length||0," course",1!==e.assignedCourses?.length?"s":""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:436,columnNumber:27},this),e.assignedCourses&&e.assignedCourses.length>0&&a.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:e.assignedCourses.map(e=>e.course_number).join(", ")},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:441,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:435,columnNumber:25},this),a.jsxDEV("td",{className:"px-6 py-4 text-sm font-medium",children:a.jsxDEV(t,{to:`/admin/teachers/${e.id}`,className:"text-orange-600 hover:text-orange-900",children:"View Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:447,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:446,columnNumber:25},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:409,columnNumber:23},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:403,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:386,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:385,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:373,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:353,columnNumber:7},this),f&&a.jsxDEV(T,{teacherIds:s.filter(e=>p.has(e.id)).map(e=>e.id).filter(e=>null!=e),teacherNames:s.filter(e=>p.has(e.id)).map(e=>e.full_name||e.email),onClose:()=>v(!1),onSuccess:()=>{j(new Set),V()}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:466,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherManagement.tsx",lineNumber:235,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"}));const ge=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{teacherId:m}=s(),r=i(),l=e.useRef(null),[u,N]=e.useState(null),[g,S]=e.useState(null),[h,f]=e.useState([]),[v,y]=e.useState([]),[T,I]=e.useState(!0),[W,H]=e.useState(!1);e.useEffect(()=>{m&&M()},[m]);const M=async()=>{if(m)try{I(!0);const e=await V(m),[n,a,t]=await Promise.all([ce(m,"teacher"),le(m,"teacher"),E(m)]),s=t.map(e=>e.courses).filter(Boolean);N(e),S(n),f(a),y(s)}catch(e){console.error("Error loading teacher details:",e),n.error("Failed to load teacher details")}finally{I(!1)}};if(T)return a.jsxDEV("div",{className:"flex items-center justify-center h-64",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:197,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:196,columnNumber:7},this);if(!u)return a.jsxDEV("div",{className:"text-center py-12",children:[a.jsxDEV("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Teacher not found"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:205,columnNumber:9},this),a.jsxDEV("div",{className:"mt-6",children:a.jsxDEV(t,{to:"/admin/teachers",className:"text-orange-600 hover:text-orange-900",children:"← Back to Teachers"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:207,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:206,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:204,columnNumber:7},this);const w=g?(e=>{if(0===e.total_items)return{label:"Not Started",color:"bg-gray-100 text-gray-800",icon:te};const n=e.completed_items/e.total_items*100;return 100===n?{label:"Done",color:"bg-green-100 text-green-800",icon:O}:n>0?{label:`${Math.round(n)}% Complete`,color:"bg-yellow-100 text-yellow-800",icon:te}:{label:"Pending",color:"bg-red-100 text-red-800",icon:me}})(g):null,_=w?.icon;return a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:a.jsxDEV("button",{onClick:()=>r("/admin/teachers"),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900",children:[a.jsxDEV(re,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:226,columnNumber:11},this),"Back to Teachers"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:222,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:221,columnNumber:7},this),a.jsxDEV(o,{children:a.jsxDEV(c,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-start gap-6",children:[a.jsxDEV("div",{className:"relative group",children:[a.jsxDEV("input",{ref:l,type:"file",accept:"image/*",onChange:async e=>{const a=e.target.files?.[0];if(!a||!m)return;if(!a.type.startsWith("image/"))return void n.error("Please select an image file");if(a.size>2097152)n.error("Image size must be less than 2MB");else try{H(!0);const e=await b([a]);if(!e||0===e.length)throw new Error("Upload failed - no results returned");const t=e[0].url;if(!t)throw new Error("Upload failed - no URL returned");await P(m,{avatar_url:t}),N(e=>e?{...e,avatar_url:t}:null),n.success("Photo uploaded successfully!"),l.current&&(l.current.value="")}catch(t){console.error("Error uploading photo:",t),n.error(t instanceof Error?t.message:"Failed to upload photo")}finally{H(!1)}},className:"hidden"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:236,columnNumber:15},this),a.jsxDEV("button",{onClick:()=>{l.current?.click()},disabled:W,className:"h-24 w-24 rounded-full overflow-hidden relative cursor-pointer border-2 border-gray-200 hover:border-gray-300 transition-colors "+(u.avatar_url?"bg-white":"bg-gradient-to-r from-orange-400 to-red-400"),title:"Click to upload photo",children:u.avatar_url?a.jsxDEV("img",{src:u.avatar_url,alt:u.full_name||"Teacher",className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:e=>{console.error("Image failed to load:",u.avatar_url,e)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:252,columnNumber:19},this):a.jsxDEV("span",{className:"text-white text-3xl font-semibold",children:u.full_name?.[0]?.toUpperCase()||"T"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:262,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:243,columnNumber:15},this),u.avatar_url&&!W&&a.jsxDEV("button",{onClick:async()=>{if(m&&u?.avatar_url)try{H(!0);const e=u.avatar_url,{data:a}=await D(()=>import("./admin-analytics-BUJUGyzI.js").then(e=>e.a1),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])).then(n=>n.supabaseAdmin.from("media_files").select("id").eq("file_url",e).single());a?.id?await p(a.id):await j(e),await P(m,{avatar_url:null}),N(e=>e?{...e,avatar_url:null}:null),n.success("Photo removed successfully!")}catch(e){console.error("Error removing photo:",e),n.error("Failed to remove photo")}finally{H(!1)}},className:"absolute -bottom-1 -right-1 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg transition-colors",title:"Remove photo",children:a.jsxDEV(ae,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:273,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:268,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:235,columnNumber:13},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"flex items-start justify-between",children:[a.jsxDEV("div",{children:a.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:u.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:280,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:279,columnNumber:17},this),w&&_&&a.jsxDEV(d,{className:w.color,children:[a.jsxDEV(_,{className:"h-4 w-4 mr-1 inline"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:284,columnNumber:21},this),w.label]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:283,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:278,columnNumber:15},this),a.jsxDEV("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsxDEV(G,{className:"h-4 w-4 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:293,columnNumber:19},this),a.jsxDEV("span",{className:"text-sm",children:u.email},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:294,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:292,columnNumber:17},this),u.phone&&a.jsxDEV("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsxDEV(ne,{className:"h-4 w-4 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:298,columnNumber:21},this),a.jsxDEV("span",{className:"text-sm",children:u.phone},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:299,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:297,columnNumber:19},this),a.jsxDEV("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsxDEV(q,{className:"h-4 w-4 flex-shrink-0"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:303,columnNumber:19},this),a.jsxDEV("span",{className:"text-sm",children:["Joined"," ",u.created_at?new Date(u.created_at).toLocaleDateString():"N/A"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:304,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:302,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:291,columnNumber:15},this),a.jsxDEV("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.teacher_code&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-medium text-gray-500",children:"Teacher Code"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:315,columnNumber:21},this),a.jsxDEV("p",{className:"mt-1 text-sm font-mono text-gray-900",children:u.teacher_code},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:316,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:314,columnNumber:19},this),u.date_of_birth&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-medium text-gray-500",children:"Date of Birth"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:321,columnNumber:21},this),a.jsxDEV("p",{className:"mt-1 text-sm text-gray-900",children:new Date(u.date_of_birth).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:322,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:320,columnNumber:19},this),u.student_id&&a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-medium text-gray-500",children:"ID"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:329,columnNumber:21},this),a.jsxDEV("p",{className:"mt-1 text-sm text-gray-900",children:u.student_id},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:330,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:328,columnNumber:19},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-xs font-medium text-gray-500",children:"Last Updated"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:334,columnNumber:19},this),a.jsxDEV("p",{className:"mt-1 text-sm text-gray-900",children:u.updated_at?new Date(u.updated_at).toLocaleDateString():"Not available"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:335,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:333,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:312,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:277,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:234,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:233,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:232,columnNumber:7},this),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxDEV(o,{children:[a.jsxDEV(x,{children:a.jsxDEV("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsxDEV(oe,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:352,columnNumber:15},this),"Compliance Checklist"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:351,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:350,columnNumber:11},this),a.jsxDEV(c,{children:[g&&a.jsxDEV("div",{className:"mb-4 space-y-3",children:[a.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[a.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Completion Status"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:362,columnNumber:21},this),a.jsxDEV("span",{className:"text-sm font-semibold text-gray-900",children:[g.completed_items," of ",g.total_items," approved"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:363,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:361,columnNumber:19},this),a.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsxDEV("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${g.completion_percentage}%`}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:368,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:367,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:360,columnNumber:17},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[a.jsxDEV("span",{className:"text-xs text-gray-600",children:"Approved"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:380,columnNumber:21},this),a.jsxDEV("span",{className:"text-sm font-semibold text-green-700",children:g.completed_items},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:381,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:379,columnNumber:19},this),a.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-yellow-50 rounded",children:[a.jsxDEV("span",{className:"text-xs text-gray-600",children:"Pending/In Review"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:386,columnNumber:21},this),a.jsxDEV("span",{className:"text-sm font-semibold text-yellow-700",children:g.pending_items},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:387,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:385,columnNumber:19},this),g.overdue_items>0&&a.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded col-span-2",children:[a.jsxDEV("span",{className:"text-xs text-gray-600",children:"Overdue"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:393,columnNumber:23},this),a.jsxDEV("span",{className:"text-sm font-semibold text-red-700",children:g.overdue_items},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:394,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:392,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:378,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:358,columnNumber:15},this),0===h.length?a.jsxDEV("p",{className:"text-gray-500 text-center py-8",children:"No compliance items assigned"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:404,columnNumber:15},this):a.jsxDEV("div",{className:"space-y-3",children:h.map(e=>{const n=e.due_date&&new Date(e.due_date)<new Date&&"approved"!==e.status;return a.jsxDEV("div",{className:"flex items-center justify-between p-3 border rounded-lg "+(n?"border-red-300 bg-red-50":"border-gray-200"),children:[a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("h4",{className:"font-medium text-gray-900",children:e.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:434,columnNumber:27},this),e.is_mandatory&&a.jsxDEV(d,{className:"bg-orange-100 text-orange-800 text-xs",children:"Required"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:436,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:433,columnNumber:25},this),a.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:e.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:441,columnNumber:25},this),e.due_date&&a.jsxDEV("p",{className:"text-xs mt-1 "+(n?"text-red-600 font-medium":"text-gray-500"),children:["Due: ",new Date(e.due_date).toLocaleDateString(),n&&" (Overdue)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:443,columnNumber:27},this),e.rejection_reason&&a.jsxDEV("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",e.rejection_reason]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:453,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:432,columnNumber:23},this),a.jsxDEV("div",{className:"ml-4",children:(()=>{switch(e.status){case"approved":return a.jsxDEV(d,{className:"bg-green-100 text-green-800",children:"Approved"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:415,columnNumber:32},this);case"submitted":return a.jsxDEV(d,{className:"bg-blue-100 text-blue-800",children:"In Review"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:417,columnNumber:32},this);case"rejected":return a.jsxDEV(d,{className:"bg-red-100 text-red-800",children:"Rejected"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:419,columnNumber:32},this);default:return a.jsxDEV(d,{className:"bg-gray-100 text-gray-800",children:"Not Started"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:421,columnNumber:32},this)}})()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:458,columnNumber:23},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:426,columnNumber:21},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:406,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:356,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:349,columnNumber:9},this),a.jsxDEV(o,{children:[a.jsxDEV(x,{children:a.jsxDEV("h2",{className:"text-base font-semibold flex items-center gap-2",children:[a.jsxDEV(Y,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:471,columnNumber:15},this),"Assigned Courses (",v.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:470,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:469,columnNumber:11},this),a.jsxDEV(c,{children:0===v.length?a.jsxDEV("p",{className:"text-gray-500 text-center py-4 text-sm",children:"No courses assigned yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:477,columnNumber:15},this):a.jsxDEV("div",{className:"space-y-3",children:v.map(e=>a.jsxDEV("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:a.jsxDEV("div",{className:"flex items-start justify-between",children:a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"font-medium text-gray-900 text-sm",children:e.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:487,columnNumber:25},this),a.jsxDEV("div",{className:"text-sm text-gray-600 mt-1 line-clamp-2 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:e.description||""}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:488,columnNumber:25},this),a.jsxDEV("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxDEV(d,{className:"bg-blue-100 text-blue-800 text-xs",children:e.level},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:493,columnNumber:27},this),a.jsxDEV("span",{className:"text-xs text-gray-500",children:[e.duration_weeks," weeks"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:496,columnNumber:27},this),a.jsxDEV("span",{className:"text-xs text-gray-500",children:e.course_number},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:499,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:492,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:486,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:485,columnNumber:21},this)},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:481,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:479,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:475,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:468,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:347,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/TeacherDetailView.tsx",lineNumber:219,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"}));export{ue as S,Ne as T,ge as a};
