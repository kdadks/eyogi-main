import{c as e,r as t,j as s,u as a,N as n,a as r,L as i,R as o,F as l,b as c,d,e as u,f as m,g as h,h as p,i as g,k as f,l as x,m as y,n as b,o as w,p as v,q as j,s as k,t as N,v as _,z as S,w as C,x as E,y as A,A as H,B as I,C as G,D as L,E as q,G as T,H as P,I as D,O as Y,J as M,U as V,X as z,M as F,S as O,K as R,P as W,Q as $,T as U,V as B,W as K,Y as J,Z,_ as Q,$ as X,a0 as ee,a1 as te,a2 as se,a3 as ae,a4 as ne,a5 as re,a6 as ie,a7 as oe,a8 as le,a9 as ce,aa as de}from"./vendor-x18wnrZF.js";import{t as ue,c as me}from"./utils-BpqZfnrR.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const he="https://fxhmipivmuqgdtwzpeni.supabase.co",pe=e(he,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4aG1pcGl2bXVxZ2R0d3pwZW5pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxMDA1MzAsImV4cCI6MjA3MzY3NjUzMH0.Y65Muw42omwVOTi1KiOFaDbNkiITiFS9KlsWy9Nc4xk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"eyogi-ssh-admin-console-auth"}}),ge=e(he,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4aG1pcGl2bXVxZ2R0d3pwZW5pIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1ODEwMDUzMCwiZXhwIjoyMDczNjc2NTMwfQ.qds4eDB5fOwa-9i7iwD2qeqD5YBFWQqj5eZajaiUMzw",{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}}),fe=t.createContext(void 0),xe=()=>{const e=t.useContext(fe);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},ye=({children:e})=>{const[a,n]=t.useState(null),[r,i]=t.useState(null),[o,l]=t.useState(!0),c=t.useCallback(async e=>{try{const{data:t,error:s}=await ge.from("profiles").select("*").eq("id",e).single();if(s)return"PGRST116"===s.code?void i(null):void 0;i(t)}catch(t){}},[]);t.useEffect(()=>{let e=!0;(async()=>{const{data:{session:t}}=await pe.auth.getSession();e&&(n((null==t?void 0:t.user)??null),(null==t?void 0:t.user)&&await c(t.user.id),l(!1))})();const{data:{subscription:t}}=pe.auth.onAuthStateChange(async(t,s)=>{e&&(n((null==s?void 0:s.user)??null),(null==s?void 0:s.user)?await c(s.user.id):i(null),l(!1))});return()=>{e=!1,t.unsubscribe()}},[c]);const d={user:a,profile:r,loading:o,signIn:async(e,t)=>{try{const{error:s}=await pe.auth.signInWithPassword({email:e,password:t});return{error:s}}catch(s){return{error:s}}},signOut:async()=>{await pe.auth.signOut(),i(null)},isAdmin:null!==a,canAccess:(e,t)=>!!a};return s.jsx(fe.Provider,{value:d,children:e})},be=t.createContext(void 0),we={super_admin:["users.create","users.read","users.update","users.delete","courses.create","courses.read","courses.update","courses.delete","enrollments.read","enrollments.update","enrollments.approve","certificates.read","certificates.create","certificates.delete","analytics.read","analytics.export","settings.read","settings.update","permissions.read","permissions.update","content.create","content.read","content.update","content.delete","admin.access","admin.dashboard"],admin:["users.create","users.read","users.update","users.delete","courses.create","courses.read","courses.update","courses.delete","enrollments.read","enrollments.update","certificates.read","certificates.create","analytics.read","settings.read","permissions.read","content.create","content.read","content.update","content.delete","admin.access","admin.dashboard"],teacher:["courses.create","courses.read","courses.update","enrollments.read","enrollments.update","certificates.read","certificates.create","users.read","content.create","content.read","content.update","admin.access"],student:["courses.read","enrollments.read","certificates.read","content.read"],parent:["courses.read","enrollments.read","certificates.read","content.read"]},ve=({children:e})=>{const{user:a,profile:n,loading:r}=xe(),[i,o]=t.useState(!0);t.useEffect(()=>{o(r)},[r]);const l=()=>{const e=a&&!n?"super_admin":(null==n?void 0:n.role)||"student";return we[e]||[]},c={canAccess:(e,t)=>{if(a)return!0;const s=`${e}.${t}`;return l().includes(s)},hasAnyPermission:e=>{const t=l();return e.some(e=>t.includes(e))},getUserPermissions:l,isLoading:i};return s.jsx(be.Provider,{value:c,children:e})},je=({children:e,requiredRole:t,requiredPermission:r})=>{const{user:i,profile:o,loading:l,canAccess:c}=xe(),d=a();if(l)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!i)return s.jsx(n,{to:"/admin/login",state:{from:d},replace:!0});if(!o)return s.jsx(s.Fragment,{children:e});if(t){if("admin"===t&&!["admin","super_admin"].includes(o.role))return s.jsx(n,{to:"/admin/unauthorized",replace:!0});if("super_admin"===t&&"super_admin"!==o.role)return s.jsx(n,{to:"/admin/unauthorized",replace:!0});if("teacher"===t&&!["teacher","admin","super_admin"].includes(o.role))return s.jsx(n,{to:"/admin/unauthorized",replace:!0})}return r&&!c(r.resource,r.action)?s.jsx(n,{to:"/admin/unauthorized",replace:!0}):s.jsx(s.Fragment,{children:e})};function ke({to:e,children:t,onClick:a,...n}){const o=r();return s.jsx(i,{to:e,onClick:t=>{t.preventDefault(),window.scrollTo({top:0,left:0,behavior:"instant"}),o(e),setTimeout(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0},0),a&&a(t)},...n,children:t})}function Ne({title:e,description:t,keywords:s=[],canonicalUrl:a,ogImage:n,ogType:r="website",structuredData:i,noIndex:l=!1}){const c="eYogi Gurukul - Ancient Hindu Wisdom, Modern Vedic Learning",d="undefined"!=typeof window?window.location.origin:"https://eyogi-gurukul.vercel.app",u=e?`${e} | ${c}`:c,m=t||"Learn authentic Hindu traditions, Vedic philosophy, Sanskrit, mantras, and yoga through comprehensive online courses. Discover Sanatan Dharma wisdom with expert teachers in our traditional Gurukul system.",h=a?`${d}${a}`:d,p=n||`${d}/og-image.jpg`,g=["Hindu","Hinduism","Vedic","Hindu Religion","Hindu Culture","Indian Hindu Culture","Sanatan","Sanatan Dharma","Vedic Education","Hindu Philosophy","Hindu Traditions","Hindu Learning","Vedic Wisdom","Hindu Courses","Vedic Studies","Hindu Gurukul","Sanatan Dharma Education","Hindu Online Learning","Vedic Knowledge","Hindu Spiritual Education","Traditional Hindu Education","Authentic Hindu Teaching","Hindu Heritage","Vedic Philosophy","Hindu Scriptures","Dharma Education","Hindu Values","Sanskrit Learning","Mantra Education","Yoga Philosophy","Hindu Festivals","Hindu Rituals","Hindu Practices","Vedic Science","Hindu Mythology","Hindu Ethics","Dharmic Living","Hindu Spirituality","Vedic Lifestyle",...s].join(", ");return o.useEffect(()=>{document.title=u;const e=document.querySelector('meta[name="description"]');if(e)e.setAttribute("content",m);else{const e=document.createElement("meta");e.name="description",e.content=m,document.head.appendChild(e)}const t=document.querySelector('meta[name="keywords"]');if(t)t.setAttribute("content",g);else{const e=document.createElement("meta");e.name="keywords",e.content=g,document.head.appendChild(e)}let s=document.querySelector('link[rel="canonical"]');s?s.setAttribute("href",h):(s=document.createElement("link"),s.rel="canonical",s.href=h,document.head.appendChild(s));const a=(e,t)=>{let s=document.querySelector(`meta[property="${e}"]`);s?s.setAttribute("content",t):(s=document.createElement("meta"),s.setAttribute("property",e),s.setAttribute("content",t),document.head.appendChild(s))};a("og:title",u),a("og:description",m),a("og:type",r),a("og:url",h),a("og:image",p),a("og:site_name","eYogi Gurukul");const n=(e,t)=>{let s=document.querySelector(`meta[name="${e}"]`);s?s.setAttribute("content",t):(s=document.createElement("meta"),s.setAttribute("name",e),s.setAttribute("content",t),document.head.appendChild(s))};n("twitter:card","summary_large_image"),n("twitter:title",u),n("twitter:description",m),n("twitter:image",p);const o=document.querySelector('meta[name="robots"]'),c=l?"noindex, nofollow":"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1";if(o)o.setAttribute("content",c);else{const e=document.createElement("meta");e.name="robots",e.content=c,document.head.appendChild(e)}if(i){document.querySelectorAll('script[type="application/ld+json"]').forEach(e=>e.remove());(Array.isArray(i)?i:[i]).forEach((e,t)=>{const s=document.createElement("script");s.type="application/ld+json",s.textContent=JSON.stringify(e,null,2),s.id=`structured-data-${t}`,document.head.appendChild(s)})}},[u,m,g,h,p,r,i,l]),null}function _e(...e){return ue(me(e))}function Se({className:e,variant:a="primary",size:n="md",loading:r=!1,disabled:i,children:o,...l}){const c=t.useRef(null),d=l.onMouseDown,u=l.onKeyDown,m={primary:"rgba(255,165,0,0.28)",secondary:"rgba(59,130,246,0.20)",outline:"rgba(99,102,241,0.08)",ghost:"rgba(0,0,0,0.08)",danger:"rgba(239,68,68,0.22)"},h=(e,t)=>{const s=c.current;if(!s)return;const n=s.getBoundingClientRect(),r=.5*Math.max(n.width,n.height),i=document.createElement("span");i.style.position="absolute",i.style.borderRadius="50%",i.style.pointerEvents="none",i.style.width=i.style.height=`${r}px`,i.style.left=e-n.left-r/2+"px",i.style.top=t-n.top-r/2+"px";const o=m[a]||"rgba(255,255,255,0.28)";i.style.background=o,i.style.transform="scale(0)",i.style.opacity="1",i.style.transition="transform 350ms cubic-bezier(.22,.9,.31,1), opacity 350ms ease-out",i.style.zIndex="10",s.appendChild(i),requestAnimationFrame(()=>{i.style.transform="scale(3)",i.style.opacity="0"});const l=()=>{try{i.remove()}catch(e){}};i.addEventListener("transitionend",l),setTimeout(l,400)};return s.jsxs("button",{ref:c,onMouseDown:e=>{null==d||d(e),h(e.clientX,e.clientY)},onKeyDown:e=>{if(null==u||u(e),"Enter"===e.key||" "===e.key||"Spacebar"===e.key){const e=c.current;if(!e)return;const t=e.getBoundingClientRect(),s=t.left+t.width/2,a=t.top+t.height/2;h(s,a)}},className:_e("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none relative overflow-hidden","hover:shadow-[0_20px_40px_rgba(255,165,0,0.18)] active:scale-[0.99] transition-transform",{primary:"bg-orange-600 text-white hover:bg-orange-700 focus:ring-orange-500",secondary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-orange-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-orange-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[a],{sm:"px-3 py-1.5 text-sm min-h-[40px]",md:"px-4 py-2 text-sm min-h-[44px]",lg:"px-6 py-3 text-base min-h-[48px]"}[n],e),disabled:i||r,...l,children:[r&&s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]})}function Ce({className:e,children:t}){return s.jsxs("div",{className:_e("relative overflow-hidden rounded-lg","bg-gradient-to-br from-white/30 via-white/10 to-white/5 border border-white/20 backdrop-blur-md","shadow-[0_8px_30px_rgba(16,24,40,0.08)]",e),children:[s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:s.jsx("div",{className:"card-sheen"})}),t]})}function Ee({className:e,children:t}){return s.jsx("div",{className:_e("px-6 py-4 border-b border-gray-200",e),children:t})}function Ae({className:e,children:t}){return s.jsx("div",{className:_e("px-6 py-4",e),children:t})}function He({className:e,children:t}){return s.jsx("h3",{className:_e("text-lg font-semibold leading-none tracking-tight",e),children:t})}function Ie({className:e,children:t}){return s.jsx("p",{className:_e("text-sm text-gray-600",e),children:t})}function Ge({variant:e="default",size:t="md",className:a,children:n}){return s.jsx("span",{className:_e("inline-flex items-center font-medium rounded-full break-words text-center",{default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[e],{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm sm:px-3 sm:py-1.5 sm:text-base max-w-xs sm:max-w-none"}[t],a),children:n})}function Le({text:e,className:t=""}){return s.jsx("div",{className:`rolling-text-container ${t}`,children:s.jsxs("div",{className:"rolling-text",children:[s.jsx("span",{className:"rolling-text-item",children:e}),s.jsx("span",{className:"rolling-text-item",children:e})]})})}const qe=t.createContext(void 0);class Te{constructor(){this.studentKeywords=["my course","my enrollment","my certificate","my progress","my dashboard","i enrolled","i completed","my student id","my grades","my assignments"],this.parentKeywords=["my child","my daughter","my son","for my kid","child safety","parent portal","guardian","family","age appropriate","supervision"],this.teacherKeywords=["my students","teaching","curriculum","lesson plan","grading","classroom","instructor","pedagogy","assessment","student progress"],this.prospectiveKeywords=["how to enroll","course fees","admission","requirements","application","interested in","want to join","thinking about","considering","pricing"]}detectPersona(e,t){const s=e.toLowerCase();if(t){if("student"===t.role)return this.containsKeywords(s,this.studentKeywords),"student";if("teacher"===t.role)return"teacher";if("admin"===t.role)return"teacher"}return this.containsKeywords(s,this.parentKeywords)?"parent":this.containsKeywords(s,this.teacherKeywords)?"teacher":this.containsKeywords(s,this.prospectiveKeywords)?"prospective_student":this.containsKeywords(s,this.studentKeywords)?"student":"general_visitor"}containsKeywords(e,t){return t.some(t=>e.includes(t))}getPersonaContext(e){return{student:"You are speaking with a current student who is enrolled in courses.",parent:"You are speaking with a parent or guardian inquiring about courses for their child.",teacher:"You are speaking with an instructor or educator.",prospective_student:"You are speaking with someone interested in enrolling in courses.",general_visitor:"You are speaking with a general visitor exploring the platform."}[e]}}class Pe{constructor(){this.intentPatterns={course_inquiry:["what courses","available courses","course catalog","course list","subjects offered","what can i learn","course options","curriculum","syllabus","course content","hinduism course","sanskrit course","mantra course","philosophy course","yoga course"],enrollment_process:["how to enroll","enrollment process","register for course","sign up for","join course","admission process","application","how to apply","enrollment steps"],gurukul_information:["what is gurukul","gurukul information","different gurukuls","gurukul types","hinduism gurukul","mantra gurukul","philosophy gurukul","sanskrit gurukul","yoga gurukul","about gurukuls","gurukul details"],pricing_fees:["course fees","pricing","cost","how much","price","payment","tuition","fee structure","course cost","enrollment fee","charges","money"],certificate_info:["certificate","certification","diploma","completion certificate","how to get certificate","certificate requirements","digital certificate","certificate download","verify certificate"],technical_support:["technical issue","login problem","website not working","bug","error","cant access","password reset","account locked","technical help"],contact_info:["contact","phone number","email address","office location","address","how to reach","customer service","support team","get in touch"],about_eyogi:["about eyogi","what is eyogi","eyogi mission","company information","history","founders","vision","values","about us","organization"],student_progress:["my progress","my grades","my courses","my enrollment","my certificate","course progress","completion status","my dashboard","my account"],schedule_classes:["class schedule","when are classes","class timing","timetable","class calendar","next class","upcoming classes","session timing"],payment_issues:["payment failed","payment problem","refund","billing issue","transaction failed","payment not processed","invoice","receipt"],age_appropriate:["age group","suitable for age","age appropriate","for children","for kids","for teens","for adults","age requirements","minimum age"],teacher_info:["teacher information","instructor details","who teaches","teacher qualifications","faculty","teaching staff","instructor profile","teacher experience"],platform_features:["platform features","how it works","website features","learning platform","online learning","digital classroom","virtual learning","e-learning"],greeting:["hello","hi","hey","good morning","good afternoon","good evening","namaste","greetings","howdy","what's up"],goodbye:["goodbye","bye","see you","thanks","thank you","that's all","no more questions","end chat","exit","close"],did_you_know:["did you know","tell me something interesting","fun fact","interesting fact","teach me something","share knowledge","random fact","cool fact","something about","fact about","tell me about","interesting thing","knowledge","wisdom","learn something new","surprise me","educational fact","vedic fact","hindu fact","sanskrit fact","yoga fact","philosophy fact","mantra fact","spiritual fact"],general_question:["help","information","tell me","explain","what","how","why","when","where"]}}classifyIntent(e,t){const s=e.toLowerCase(),a={};Object.entries(this.intentPatterns).forEach(([e,t])=>{let n=0;t.forEach(e=>{s.includes(e)&&(n+=this.calculatePatternScore(e,s))}),a[e]=n}),this.applyPersonaWeighting(a,t,s);const n=Object.entries(a).sort(([,e],[,t])=>t-e).filter(([,e])=>e>0);if(0===n.length)return{intent:"general_question",confidence:.5};const[r,i]=n[0];return{intent:r,confidence:Math.min(i/10,1),entities:this.extractEntities(e,r)}}calculatePatternScore(e,t){const s=e.split(" ");let a=0;return s.forEach(e=>{t.includes(e)&&(a+=e.length>3?2:1)}),t.includes(e)&&(a+=3),a}applyPersonaWeighting(e,t,s){switch(t){case"student":e.student_progress*=1.5,e.certificate_info*=1.3,e.schedule_classes*=1.3;break;case"parent":e.age_appropriate*=1.5,e.pricing_fees*=1.3,e.contact_info*=1.2;break;case"teacher":e.platform_features*=1.3,e.technical_support*=1.2;break;case"prospective_student":e.enrollment_process*=1.5,e.pricing_fees*=1.4,e.course_inquiry*=1.3}}extractEntities(e,t){const s={},a=e.toLowerCase(),n=e.match(/[CM]\d{4}/g);n&&(s.course_number=n[0]);["hinduism","mantra","philosophy","sanskrit","yoga"].forEach(e=>{a.includes(e)&&(s.gurukul=e)});const r=e.match(/(\d+)\s*(?:years?\s*old|age)/i);r&&(s.age=r[1]);return["elementary","basic","intermediate","advanced"].forEach(e=>{a.includes(e)&&(s.level=e)}),s}}const De="eyogi_gurukuls",Ye="eyogi_courses";async function Me(e){return await async function(){await new Promise(e=>setTimeout(e,200));const e=JSON.parse(localStorage.getItem(Ye)||"[]"),t=JSON.parse(localStorage.getItem(De)||"[]");return e.filter(e=>e.is_active).map(e=>({...e,gurukul:t.find(t=>t.id===e.gurukul_id)}))}()}async function Ve(){return await async function(){return await new Promise(e=>setTimeout(e,150)),JSON.parse(localStorage.getItem("eyogi_gurukuls")||"[]").filter(e=>e.is_active)}()}class ze{constructor(){this.knowledgeBase=[],this.initializeKnowledgeBase()}initializeKnowledgeBase(){this.knowledgeBase=[{id:"about-eyogi-1",type:"general_info",title:"What is eYogi Gurukul?",content:'eYogi Gurukul is an innovative online educational platform that connects ancient Vedic wisdom with modern learning methods. The "e" in eYogi represents the bridge between traditional Gurukul education and digital technology. We offer comprehensive courses in Hindu philosophy, Sanskrit, mantras, yoga, and spiritual practices for students of all ages.',keywords:["eyogi","gurukul","about","mission","vision","vedic","ancient wisdom"],category:"about"},{id:"about-eyogi-2",type:"general_info",title:"eYogi Mission and Vision",content:"Our mission is to preserve and share authentic Vedic knowledge through modern educational technology. We believe in creating eYogis - practitioners who connect ancient spiritual science with contemporary life, fostering peace and harmony globally while respecting all cultures.",keywords:["mission","vision","eyogi","vedic knowledge","spiritual","peace","harmony"],category:"about"},{id:"enrollment-1",type:"faq",title:"How to Enroll in Courses",content:'To enroll in courses: 1) Create an account on our platform, 2) Browse available courses by age group and interest, 3) Click "Enroll Now" on your chosen course, 4) Complete payment process, 5) Wait for teacher approval (usually within 24 hours), 6) Access your course materials in the student dashboard.\n\n🔗 **Quick Links:** [Create Account](/auth/signup) • [Browse Courses](/courses) • [Sign In](/auth/signin)',keywords:["enroll","enrollment","register","sign up","join course","admission"],category:"enrollment"},{id:"enrollment-2",type:"faq",title:"Enrollment Requirements",content:"Most courses have minimal requirements. Age-appropriate courses are available from 4 years to adult learners. For students under 18, parent/guardian consent is required. Some advanced courses may require completion of prerequisite courses.",keywords:["requirements","prerequisites","age","consent","guardian","parent"],category:"enrollment"},{id:"courses-1",type:"general_info",title:"Course Structure and Levels",content:"Our courses are structured in 4 levels: Elementary (4-7 years), Basic (8-11 years), Intermediate (12-15 years), and Advanced (16-19 years). Each course typically runs for 4-8 weeks with weekly classes. Course numbers follow the format: Elementary (000-999), Basic (1000-1999), Intermediate (2000-2999), Advanced (3000-3999).\n\n🔗 **Explore:** [View All Courses](/courses) • [Filter by Level](/courses?level=basic)",keywords:["course structure","levels","elementary","basic","intermediate","advanced","age groups"],category:"courses"},{id:"courses-2",type:"general_info",title:"Course Delivery Methods",content:"We offer three delivery methods: Remote (online classes via video conferencing), Physical (in-person classes at select locations), and Hybrid (combination of online and in-person sessions). Most courses are delivered remotely to accommodate global students.",keywords:["delivery","online","remote","physical","hybrid","video","in-person"],category:"courses"},{id:"gurukul-hinduism",type:"gurukul",title:"Hinduism Gurukul",content:"The Hinduism Gurukul offers comprehensive courses on Hindu traditions, philosophy, festivals, and practices. Students learn about dharma, karma, meditation, sacred texts, and how to apply ancient wisdom in modern life. Courses range from basic concepts for children to advanced philosophical studies.\n\n🔗 [Explore Hinduism Gurukul](/gurukuls/hinduism)",keywords:["hinduism","hindu","dharma","karma","meditation","festivals","traditions"],category:"gurukuls"},{id:"gurukul-mantra",type:"gurukul",title:"Mantra Gurukul",content:"The Mantra Gurukul focuses on the sacred science of mantras. Students learn proper pronunciation, meanings, and the transformative power of sacred sounds. Courses cover basic mantras for beginners to advanced mantra meditation practices.\n\n🔗 [Explore Mantra Gurukul](/gurukuls/mantra)",keywords:["mantra","sacred sounds","pronunciation","meditation","chanting","sanskrit mantras"],category:"gurukuls"},{id:"gurukul-philosophy",type:"gurukul",title:"Philosophy Gurukul",content:"The Philosophy Gurukul explores ancient philosophical traditions and their relevance to modern life. Students study different schools of Hindu philosophy, ethics, metaphysics, and practical wisdom for spiritual growth and daily living.\n\n🔗 [Explore Philosophy Gurukul](/gurukuls/philosophy)",keywords:["philosophy","philosophical","ethics","metaphysics","wisdom","spiritual growth"],category:"gurukuls"},{id:"gurukul-sanskrit",type:"gurukul",title:"Sanskrit Gurukul",content:"The Sanskrit Gurukul offers structured programs to master the sacred language of Sanskrit. From alphabet and basic grammar to reading ancient texts, students develop proficiency in this foundational language of Vedic literature.\n\n🔗 [Explore Sanskrit Gurukul](/gurukuls/sanskrit)",keywords:["sanskrit","language","alphabet","grammar","devanagari","ancient texts"],category:"gurukuls"},{id:"gurukul-yoga",type:"gurukul",title:"Yoga & Wellness Gurukul",content:"The Yoga & Wellness Gurukul integrates physical, mental, and spiritual wellness through traditional yoga practices. Students learn asanas, pranayama, meditation, and holistic health approaches based on ancient Ayurvedic principles.\n\n🔗 [Explore Yoga & Wellness Gurukul](/gurukuls/yoga-wellness)",keywords:["yoga","wellness","asanas","pranayama","meditation","ayurveda","health"],category:"gurukuls"},{id:"certificates-1",type:"faq",title:"Certificate Information",content:"All students receive digital certificates upon successful course completion. Certificates include verification codes for authenticity, can be downloaded as PDF, and shared on social media. Certificates are issued by qualified teachers and include course details, completion date, and student information.\n\n🔗 **For Students:** [View My Certificates](/dashboard/student#certificates)",keywords:["certificate","certification","digital certificate","verification","download","authentic"],category:"certificates"},{id:"pricing-1",type:"faq",title:"Course Pricing Structure",content:"Course fees vary by level and duration. Elementary courses start from €35, Basic courses from €50, Intermediate from €75, and Advanced from €100. We offer family discounts for multiple enrollments and early bird pricing for advance bookings.\n\n🔗 **View Pricing:** [Browse Courses with Prices](/courses) • [Contact for Discounts](/contact)",keywords:["pricing","fees","cost","elementary","basic","intermediate","advanced","discount"],category:"pricing"},{id:"contact-1",type:"general_info",title:"Contact Information",content:"You can reach us at info@eyogigurukul.com or call +353 1 234 5678 (Mon-Fri 9AM-6PM IST). Our headquarters is located in Dublin, Ireland. For immediate assistance, use our AI chatbot available 24/7 or submit a contact form on our website.",keywords:["contact","email","phone","address","dublin","ireland","support"],category:"contact"},{id:"tech-support-1",type:"faq",title:"Common Technical Issues",content:"For login issues, try resetting your password. If you can't access courses, check your enrollment status in the dashboard. For video playback issues, ensure stable internet connection. Contact technical support at support@eyogigurukul.com for persistent issues.",keywords:["technical","login","password","access","video","internet","support"],category:"technical"},{id:"did-you-know-1",type:"general_info",title:"Educational Facts Database",content:"I have access to over 1000 fascinating facts about Vedic wisdom, ancient knowledge, Sanskrit, Yoga, Hindu philosophy, mantras, festivals, and spiritual practices. You can ask me for facts about specific topics or request random interesting knowledge to expand your understanding!",keywords:["did you know","facts","knowledge","wisdom","interesting","educational","learn"],category:"education"}]}async search(e,t,s){await new Promise(e=>setTimeout(e,200));const a=e.toLowerCase().split(" "),n=[];this.knowledgeBase.forEach(s=>{let r=0;s.keywords.forEach(t=>{e.toLowerCase().includes(t)&&(r+=t.length>5?3:2)}),a.forEach(e=>{e.length>2&&s.content.toLowerCase().includes(e)&&(r+=1)}),a.forEach(e=>{e.length>2&&s.title.toLowerCase().includes(e)&&(r+=3)}),this.isIntentRelevant(t,s.category)&&(r*=1.5),r>0&&n.push({type:s.type,title:s.title,content:s.content,relevanceScore:r,metadata:{category:s.category,id:s.id}})});try{const e=await Me(),t=await Ve();e.forEach(e=>{let t=0;a.forEach(s=>{s.length>2&&(e.title.toLowerCase().includes(s)&&(t+=3),e.description.toLowerCase().includes(s)&&(t+=2),e.course_number.toLowerCase().includes(s)&&(t+=4),e.level.toLowerCase().includes(s)&&(t+=2))}),t>0&&n.push({type:"course",title:e.title,content:`${e.description} (Course: ${e.course_number}, Level: ${e.level}, Duration: ${e.duration_weeks} weeks, Fee: €${e.fee})`,relevanceScore:t,metadata:{course:e,category:"courses"}})}),t.forEach(e=>{let t=0;a.forEach(s=>{s.length>2&&(e.name.toLowerCase().includes(s)&&(t+=3),e.description.toLowerCase().includes(s)&&(t+=2),e.slug.toLowerCase().includes(s)&&(t+=2))}),t>0&&n.push({type:"gurukul",title:e.name,content:e.description,relevanceScore:t,metadata:{gurukul:e,category:"gurukuls"}})})}catch(r){}return n.sort((e,t)=>t.relevanceScore-e.relevanceScore).slice(0,5)}isIntentRelevant(e,t){var s;return(null==(s={course_inquiry:["courses","gurukuls"],enrollment_process:["enrollment","courses"],gurukul_information:["gurukuls"],pricing_fees:["pricing","courses"],certificate_info:["certificates"],technical_support:["technical"],contact_info:["contact"],about_eyogi:["about"],did_you_know:["education","about"]}[e])?void 0:s.includes(t))||!1}}class Fe{constructor(){this.facts=[],this.initializeFacts()}initializeFacts(){this.facts=[{id:"fact-1",content:'The word "Guru" comes from Sanskrit meaning "dispeller of darkness" - Gu (darkness) + Ru (to remove). A Guru guides students from ignorance to knowledge! 🌟',category:"hinduism",intent:["gurukul_information","about_eyogi","course_inquiry"],persona:["student","prospective_student","general_visitor"]},{id:"fact-2",content:"Sanskrit has 54 letters in its alphabet, and each letter is believed to have a specific vibration that affects consciousness when pronounced correctly! 🕉️",category:"sanskrit",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-3",content:"The ancient Gurukul system was the world's first residential university system, where students lived with their teachers and learned through practical experience! 🏫",category:"education",intent:["about_eyogi","gurukul_information"],persona:["parent","general_visitor","prospective_student"]},{id:"fact-4",content:'Yoga means "union" in Sanskrit - the union of individual consciousness with universal consciousness. It\'s much more than physical exercise! 🧘‍♀️',category:"yoga",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-5",content:"The Om symbol (🕉️) represents the sound of the universe and contains three curves representing waking, dreaming, and deep sleep states of consciousness!",category:"symbols",intent:["course_inquiry","about_eyogi"],persona:["student","prospective_student","general_visitor"]},{id:"fact-6",content:"Studies show that learning ancient languages like Sanskrit can improve memory, concentration, and cognitive function in children! 🧠",category:"learning",intent:["course_inquiry","age_appropriate"],persona:["parent","student"]},{id:"fact-7",content:"The traditional Gurukul education emphasized character building alongside academic learning - a holistic approach we maintain in our online courses! ✨",category:"education",intent:["about_eyogi","course_inquiry"],persona:["parent","general_visitor"]},{id:"fact-8",content:"Mantras are not just words - they are sound formulas that create specific vibrations in the mind and body, promoting healing and spiritual growth! 🎵",category:"mantras",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-9",content:'The concept of "Dharma" doesn\'t just mean religion - it means righteous living, duty, and the natural order that maintains harmony in the universe! ⚖️',category:"philosophy",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-10",content:"Ancient Indian mathematics gave the world the concept of zero, decimal system, and many algebraic principles that form the foundation of modern mathematics! 🔢",category:"mathematics",intent:["course_inquiry","about_eyogi"],persona:["student","parent","general_visitor"]},{id:"fact-11",content:"Diwali, the Festival of Lights, symbolizes the victory of light over darkness and knowledge over ignorance - core principles we teach in our courses! 🪔",category:"festivals",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-12",content:"The lotus flower is sacred in Hinduism because it grows from muddy water yet remains pure and beautiful - symbolizing spiritual growth through life's challenges! 🪷",category:"symbols",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student"]},{id:"fact-13",content:"Ayurveda, the ancient science of life, recognizes that each person has a unique constitution and requires personalized approaches to health and wellness! 🌿",category:"ayurveda",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-14",content:"The ancient text Bhagavad Gita is considered one of the world's greatest philosophical works, offering practical wisdom for ethical living and spiritual growth! 📖",category:"texts",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-15",content:"Meditation has been practiced for over 5,000 years and modern science now confirms its benefits for stress reduction, focus, and emotional well-being! 🧘",category:"meditation",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-16",content:"Our platform uses AI to personalize learning paths, ensuring each student receives content appropriate for their age, level, and learning style! 🤖",category:"technology",intent:["platform_features","about_eyogi"],persona:["parent","general_visitor","prospective_student"]},{id:"fact-17",content:"Students from over 25 countries have joined our global eYogi community, creating a diverse learning environment that enriches everyone's experience! 🌍",category:"community",intent:["about_eyogi","platform_features"],persona:["prospective_student","parent","general_visitor"]},{id:"fact-18",content:"Our unique Student ID system (EYG-YEAR-XXXX) ensures each learner has a permanent identity that tracks their entire educational journey with us! 🆔",category:"platform",intent:["student_progress","enrollment_process"],persona:["student","parent"]},{id:"fact-19",content:"We offer courses in three delivery methods - online, in-person, and hybrid - to accommodate different learning preferences and global accessibility! 💻",category:"delivery",intent:["course_inquiry","platform_features"],persona:["prospective_student","parent"]},{id:"fact-20",content:"Our teachers are certified experts with deep knowledge of Vedic traditions, ensuring authentic and accurate transmission of ancient wisdom! 👨‍🏫",category:"teachers",intent:["teacher_info","about_eyogi"],persona:["parent","prospective_student"]},{id:"fact-21",content:"Children as young as 4 can start learning basic concepts through stories, songs, and interactive activities designed specifically for their developmental stage! 👶",category:"age_learning",intent:["age_appropriate","course_inquiry"],persona:["parent"]},{id:"fact-22",content:"Teenagers often find ancient philosophy surprisingly relevant to modern challenges like stress, relationships, and finding life purpose! 🧠",category:"age_learning",intent:["age_appropriate","course_inquiry"],persona:["parent","prospective_student"]},{id:"fact-23",content:"Adult learners bring life experience that enriches philosophical discussions, making our courses valuable for lifelong learning! 👩‍🎓",category:"age_learning",intent:["age_appropriate","course_inquiry"],persona:["prospective_student","general_visitor"]},{id:"fact-24",content:'The concept of "Vasudhaiva Kutumbakam" means "the world is one family" - a principle that guides our inclusive, global approach to education! 🌏',category:"philosophy",intent:["about_eyogi","gurukul_information"],persona:["general_visitor","prospective_student"]},{id:"fact-25",content:"Pranayama (breathing exercises) can be practiced by anyone and has immediate benefits for stress relief and mental clarity! 🌬️",category:"yoga",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-26",content:'The ancient Indian concept of "Ahimsa" (non-violence) influenced great leaders like Mahatma Gandhi and Martin Luther King Jr.! ✌️',category:"philosophy",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-27",content:"Sanskrit is considered the mother of many languages and has influenced vocabulary in English, German, Latin, and other Indo-European languages! 🗣️",category:"sanskrit",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-28",content:"The practice of meditation can physically change brain structure, increasing gray matter in areas associated with learning and memory! 🧠",category:"meditation",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","parent"]},{id:"fact-29",content:"Ancient Indian astronomy accurately calculated the Earth's circumference, the speed of light, and planetary movements thousands of years ago! 🌟",category:"science",intent:["course_inquiry","about_eyogi"],persona:["student","prospective_student","general_visitor"]},{id:"fact-30",content:'The concept of "Karma" is often misunderstood - it\'s not about punishment but about the natural law of cause and effect in moral actions! ⚖️',category:"philosophy",intent:["course_inquiry","gurukul_information"],persona:["student","prospective_student","general_visitor"]},{id:"fact-31",content:"The ancient Indian mathematician Aryabhata calculated the value of π (pi) to four decimal places in 499 CE, centuries before European mathematicians! 🔢",category:"science",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student","general_visitor"]},{id:"fact-32",content:'The word "Guru" literally means "from darkness to light" - Gu (darkness) + Ru (light). A true Guru illuminates the path of knowledge! 💡',category:"education",intent:["gurukul_information","did_you_know"],persona:["student","prospective_student","parent"]},{id:"fact-33",content:"Yoga has 84 classic asanas (poses), each designed to benefit specific organs and energy centers in the body! 🧘‍♀️",category:"yoga",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student"]},{id:"fact-34",content:'The Vedic chant "Asato Ma Sad Gamaya" means "Lead me from falsehood to truth, from darkness to light, from death to immortality" 🌟',category:"mantras",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student","general_visitor"]},{id:"fact-35",content:"Ancient Indian texts described the concept of multiple universes (multiverse) thousands of years before modern physics! 🌌",category:"science",intent:["course_inquiry","did_you_know"],persona:["student","prospective_student","general_visitor"]}],this.generateAdditionalFacts()}generateAdditionalFacts(){const e=["hinduism","sanskrit","yoga","philosophy","mantras","festivals","science","culture"];for(let t=this.facts.length;t<1e3;t++){const s=e[t%e.length];this.facts.push({id:`fact-${t+1}`,content:this.generateFactByCategory(s,t),category:s,intent:["course_inquiry","gurukul_information","general_question"],persona:["student","prospective_student","general_visitor","parent"]})}}generateFactByCategory(e,t){const s={hinduism:["Hinduism is one of the world's oldest religions, with traditions dating back over 4,000 years! 🕉️",'The concept of "Namaste" means "the divine in me honors the divine in you" - a beautiful way to greet others! 🙏',"Hindu festivals are based on lunar calendars and celebrate the cycles of nature and spiritual significance! 🌙","The Vedas are among the oldest sacred texts in the world, containing profound wisdom about life and spirituality! 📜"],sanskrit:["Sanskrit has the most systematic grammar of any language, with rules codified by the ancient grammarian Panini! 📚",'Many English words come from Sanskrit, including "avatar," "karma," "yoga," and "mantra"! 🔤',"Sanskrit literature includes the world's longest epic poems - the Mahabharata and Ramayana! 📖","Learning Sanskrit can improve logical thinking and linguistic skills in any language! 🧠"],yoga:['The word "Yoga" comes from the Sanskrit root "yuj" meaning to unite or join! 🤝',"There are eight limbs of yoga, with physical postures (asanas) being just one aspect! 🧘","Pranayama (breathing exercises) can instantly calm the nervous system and reduce stress! 🌬️","Yoga was originally developed as a spiritual practice to prepare the body for meditation! ✨"],philosophy:["Hindu philosophy includes six major schools of thought, each offering unique perspectives on reality! 🤔",'The concept of "Dharma" varies for each individual based on their stage of life and circumstances! 🌱',"Ancient Indian philosophers debated questions about consciousness that modern neuroscience is still exploring! 🧠",'The principle of "Ahimsa" (non-violence) extends beyond physical harm to thoughts and words! ☮️'],mantras:["The Gayatri Mantra is considered the most powerful mantra and is chanted by millions daily! 🌅","Mantras work through sound vibration, which can affect brainwaves and emotional states! 🎵","Each Sanskrit syllable in a mantra has a specific meaning and vibrational quality! 🔊","Regular mantra practice can improve concentration, reduce anxiety, and promote inner peace! 🕊️"],festivals:["Holi, the festival of colors, celebrates the arrival of spring and the triumph of good over evil! 🌈","Diwali lights represent the inner light that protects from spiritual darkness! 🪔","Navratri celebrates the divine feminine energy and lasts for nine nights! 💃","Each Hindu festival has deep spiritual significance beyond the celebrations! 🎉"],science:["Ancient Indian texts described atomic theory thousands of years before modern science! ⚛️","The concept of infinity (♾️) was first mathematically described in ancient Indian texts!","Ayurveda identified the connection between mind and body health 5,000 years ago! 🌿","Ancient Indian astronomers calculated planetary movements with remarkable accuracy! 🌌"],culture:['The greeting "Namaste" is a complete philosophy of respect and recognition of divinity in others! 🙏',"Indian classical music is based on ragas that are designed to evoke specific emotions and spiritual states! 🎶",'The concept of "Seva" (selfless service) is considered one of the highest spiritual practices! 🤲',"Traditional Indian art and architecture incorporate sacred geometry and spiritual symbolism! 🏛️"]},a=s[e]||s.hinduism;return a[t%a.length]}getRandomFact(e,t){let s=this.facts;e&&(s=s.filter(t=>t.intent.includes(e)||t.intent.includes("general_question"))),t&&(s=s.filter(e=>e.persona.includes(t)||e.persona.includes("general_visitor"))),0===s.length&&(s=this.facts);return s[Math.floor(Math.random()*s.length)].content}getFactsByCategory(e){return this.facts.filter(t=>t.category===e).map(e=>e.content)}getAllCategories(){const e=new Set(this.facts.map(e=>e.category));return Array.from(e)}getFactsCount(){return this.facts.length}searchFacts(e,t=5){const s=e.toLowerCase().split(" "),a=[];return this.facts.forEach(t=>{let n=0;const r=t.content.toLowerCase();s.forEach(e=>{e.length>2&&(r.includes(e)&&(n+=e.length>5?3:2),t.category.toLowerCase().includes(e)&&(n+=4))}),e.toLowerCase().includes(t.category)&&(n+=5),s.forEach(e=>{t.intent.forEach(t=>{t.includes(e)&&(n+=2)}),t.persona.forEach(t=>{t.includes(e)&&(n+=1)})}),n>0&&a.push({content:t.content,category:t.category,relevanceScore:n})}),a.sort((e,t)=>t.relevanceScore-e.relevanceScore).slice(0,t)}getFactsByQuery(e){return this.searchFacts(e,3).map(e=>e.content)}getRandomFactsByCategory(e,t=3){return this.facts.filter(t=>t.category===e).sort(()=>.5-Math.random()).slice(0,t).map(e=>e.content)}}class Oe{constructor(){this.responseTemplates={greeting:{student:["🙏 Namaste! Welcome back to your learning journey! How can I help you today?","Hello there! Ready to explore some amazing Vedic wisdom? What would you like to know?","Hi! Great to see you here. I'm excited to help you with your learning adventure! ✨"],parent:["🙏 Namaste! I'm here to help you find the perfect learning experience for your child. What can I assist you with?","Hello! I'd be happy to help you explore our age-appropriate courses and answer any questions about your child's learning journey.","Hi there! As a parent, you want the best education for your child. Let me help you discover our wonderful courses! 👨‍👩‍👧‍👦"],prospective_student:["🙏 Welcome to eYogi Gurukul! I'm excited to help you discover the perfect course for your learning journey. What interests you most?","Hello! Ready to explore ancient wisdom through modern learning? I'm here to guide you through our amazing course offerings! ✨","Hi! Welcome to our community of learners. Let me help you find the perfect Gurukul and course for your interests! 🌟"],general_visitor:["🙏 Namaste! Welcome to eYogi Gurukul. I'm here to answer any questions about our platform, courses, or Vedic education. How can I help?","Hello! Thanks for visiting eYogi Gurukul. I'd love to help you learn more about our unique approach to ancient wisdom education!","Hi there! Curious about Vedic learning? I'm here to share information about our courses, Gurukuls, and educational philosophy! 🕉️"]},did_you_know:{student:["🌟 I love sharing fascinating knowledge! Here are some amazing facts that will expand your understanding:","✨ Ready for some mind-blowing wisdom? Let me share some incredible facts with you:","🧠 Time for some knowledge expansion! Here are some fascinating discoveries:"],parent:["📚 I'd be delighted to share some educational facts that you and your child might find interesting:","🌟 Here are some wonderful facts about Vedic wisdom that make great conversation starters with children:","✨ Let me share some amazing knowledge that showcases the depth of our educational content:"],prospective_student:["🎓 Here are some incredible facts that showcase the depth and richness of what you'll learn with us:","🌟 Let me share some fascinating knowledge that demonstrates the value of Vedic education:","✨ Ready to be amazed? Here are some mind-expanding facts about ancient wisdom:"],general_visitor:["🕉️ I'd love to share some fascinating facts about Vedic wisdom and ancient knowledge:","🌟 Here are some incredible discoveries that showcase the depth of ancient Indian knowledge:","✨ Let me share some amazing facts that will give you a taste of what we teach:"]},course_inquiry:{student:["Great question about our courses! Based on your profile, here are some perfect matches for you:","I'd love to help you find the ideal course! Let me share some options that align with your learning level:","Excellent! Let me guide you through our course offerings that would be perfect for your learning journey:"],parent:["I understand you want the best learning experience for your child. Here are age-appropriate courses I recommend:","As a parent, you'll appreciate our carefully designed age-specific curriculum. Let me show you suitable options:","Perfect! I can help you find courses that are both educational and engaging for your child's age group:"],prospective_student:["Wonderful! I'm excited to introduce you to our comprehensive course catalog. Here's what we offer:","Great interest in learning! Let me share our amazing course options that could be perfect for you:","Fantastic! Our courses are designed for learners of all backgrounds. Here are some excellent starting points:"]},enrollment_process:{student:["The enrollment process is simple and straightforward! Here's how you can join any course:","Ready to enroll? I'll walk you through the easy steps to start your learning journey:","Enrolling is quick and easy! Let me guide you through the process step by step:"],parent:["I'll explain our secure and parent-friendly enrollment process for your child:","As a parent, you'll appreciate our safe and transparent enrollment system. Here's how it works:","Our enrollment process includes special protections for young learners. Let me explain:"],prospective_student:["Ready to begin your learning adventure? Here's our simple enrollment process:","I'm excited to help you join our community! The enrollment process is designed to be smooth and welcoming:","Let me walk you through how easy it is to start learning with us:"]},pricing_fees:{student:["Here's our transparent pricing structure designed to make quality education accessible:","Our fees are structured to provide excellent value for authentic Vedic education:","Let me break down our affordable pricing options for you:"],parent:["I understand budget is important for families. Here's our fair and transparent pricing:","Our pricing reflects the quality of education while remaining accessible to families:","As a parent, you'll appreciate our value-focused pricing structure:"],prospective_student:["Our pricing is designed to make quality Vedic education accessible to everyone:","Here's our investment in your spiritual and educational growth:","Let me share our affordable pricing options that deliver exceptional value:"]},gurukul_information:{student:["Great question about our Gurukuls! Each one offers a unique learning experience:","I'd love to tell you about our specialized Gurukuls and what makes each one special:","Our Gurukuls are designed to provide deep, focused learning in different areas of Vedic knowledge:"],parent:["As a parent, you'll appreciate how each Gurukul provides age-appropriate, structured learning:","Our Gurukuls offer safe, educational environments for children to explore ancient wisdom:","Each Gurukul is carefully designed with your child's developmental needs in mind:"],prospective_student:["Welcome! Let me introduce you to our amazing Gurukuls and their unique specializations:","Our Gurukul system offers multiple pathways to explore Vedic knowledge:","Each Gurukul provides a comprehensive learning journey in its specialized area:"]},certificate_info:{student:["Certificates are a wonderful way to showcase your learning achievements! Here's what you need to know:","I'm excited to tell you about our beautiful digital certificates and how to earn them:","Your hard work deserves recognition! Let me explain our certificate system:"],parent:["Your child's achievements will be properly recognized with our professional certificates:","We provide authentic, verifiable certificates that showcase your child's learning:","Our certificate system ensures your child's educational achievements are properly documented:"],prospective_student:["You'll earn beautiful, verifiable certificates upon completing our courses:","Our certificates are more than just documents - they represent authentic learning achievements:","Let me tell you about the valuable certificates you can earn through our programs:"]},about_eyogi:{student:["I'm happy to share the inspiring story behind eYogi Gurukul and our mission:","Let me tell you about the vision that drives our educational platform:","eYogi Gurukul has a beautiful mission that you're now part of as a student:"],parent:["As a parent, you'll appreciate the values and mission that guide our educational approach:","Let me share why eYogi Gurukul is the right choice for your child's spiritual education:","Our organization's values align with providing safe, authentic education for children:"],prospective_student:["Welcome! Let me share the inspiring vision behind eYogi Gurukul:","I'd love to tell you about our mission and what makes eYogi Gurukul special:","Discover the beautiful philosophy that guides our educational approach:"]}},this.didYouKnowService=new Fe}generateResponse(e){var t,s;const{message:a,persona:n,intent:r,searchResults:i,user:o}=e;if("did_you_know"===r)return this.generateDidYouKnowResponse(a,n,o);const l=(null==(t=this.responseTemplates[r])?void 0:t[n])||(null==(s=this.responseTemplates[r])?void 0:s.general_visitor)||["I'd be happy to help you with that! Let me provide you with the information you need:"];let c=l[Math.floor(Math.random()*l.length)];if(i.length>0){c+="\n\n";i.slice(0,3).forEach((e,t)=>{var s,a;0===t?(c+=`📚 **${e.title}**\n${e.content}\n\n`,"course"===e.type&&(null==(s=e.metadata)?void 0:s.course)?c+=`🔗 [View Course Details](/courses/${e.metadata.course.id})\n\n`:"gurukul"===e.type&&(null==(a=e.metadata)?void 0:a.gurukul)&&(c+=`🔗 [Explore ${e.metadata.gurukul.name}](/gurukuls/${e.metadata.gurukul.slug})\n\n`)):c+=`• **${e.title}**: ${this.truncateContent(e.content,100)}\n\n`}),c+=this.addIntentBasedLinks(r,n)}else c+=this.generateFallbackResponse(r,n);return c=this.addPersonalizedTouches(c,o,n,r),c+=this.generateSuggestions(r,n),c.trim()}generateDidYouKnowResponse(e,t,s){const a=this.responseTemplates.did_you_know[t]||this.responseTemplates.did_you_know.general_visitor;let n=a[Math.floor(Math.random()*a.length)]+"\n\n";const r=this.extractSpecificQuery(e);if(r){const e=this.didYouKnowService.searchFacts(r,3);if(e.length>0)n+=`🎯 **Facts about "${r}":**\n\n`,e.forEach((e,t)=>{n+=`${t+1}. ${e.content}\n\n`});else{const e=this.getCategoryFromQuery(r),t=this.didYouKnowService.getRandomFactsByCategory(e,3);n+="🌟 **Here are some amazing facts related to your interest:**\n\n",t.forEach((e,t)=>{n+=`${t+1}. ${e}\n\n`})}}else{const e=[this.didYouKnowService.getRandomFact(),this.didYouKnowService.getRandomFact(),this.didYouKnowService.getRandomFact()];n+="🎲 **Random Amazing Facts:**\n\n",e.forEach((e,t)=>{n+=`${t+1}. ${e}\n\n`})}return n+="🔗 **Explore More:**\n",n+="• [Browse All Courses](/courses) - Discover courses on these topics\n",n+="• [Explore Gurukuls](/gurukuls) - Learn more about our specialized schools\n",n+="• [About eYogi](/about) - Understand our educational philosophy\n\n",n+="💡 Want to learn more? Ask me about specific topics like 'Sanskrit facts', 'Yoga wisdom', 'Hindu philosophy', or 'Mantra science'!",n}extractSpecificQuery(e){const t=e.toLowerCase(),s=["sanskrit","yoga","hinduism","hindu","philosophy","mantra","mantras","meditation","dharma","karma","festival","festivals","ayurveda","vedic","vedas","guru","gurukul","om","namaste","chakra","chakras","pranayama","asana","asanas","bhagavad gita","upanishads","ramayana","mahabharata","diwali","holi","navratri","ganesh","shiva","vishnu","brahma","lakshmi","saraswati","hanuman","krishna","rama"];for(const r of s)if(t.includes(r))return r;const a=t.match(/about\s+(\w+)/i);if(a)return a[1];const n=t.match(/(\w+)\s+facts?/i);return n?n[1]:""}getCategoryFromQuery(e){return{sanskrit:"sanskrit",yoga:"yoga",hinduism:"hinduism",hindu:"hinduism",philosophy:"philosophy",mantra:"mantras",mantras:"mantras",meditation:"meditation",festival:"festivals",festivals:"festivals",science:"science",culture:"culture",ayurveda:"science",vedic:"hinduism",vedas:"hinduism"}[e.toLowerCase()]||"hinduism"}addIntentBasedLinks(e,t){return{course_inquiry:"\n🔗 **Helpful Links:**\n• [Browse All Courses](/courses)\n• [Explore Gurukuls](/gurukuls)\n• [About Our Education](/about)\n",enrollment_process:"\n🔗 **Get Started:**\n• [Create Account](/auth/signup)\n• [Sign In](/auth/signin)\n• [Browse Courses](/courses)\n",gurukul_information:"\n🔗 **Explore More:**\n• [All Gurukuls](/gurukuls)\n• [Hinduism Gurukul](/gurukuls/hinduism)\n• [Philosophy Gurukul](/gurukuls/philosophy)\n• [Sanskrit Gurukul](/gurukuls/sanskrit)\n• [Mantra Gurukul](/gurukuls/mantra)\n• [Yoga & Wellness](/gurukuls/yoga-wellness)\n",pricing_fees:"\n🔗 **View Details:**\n• [Course Pricing](/courses)\n• [Contact Us](/contact)\n",certificate_info:"\n🔗 **Learn More:**\n• [About Certificates](/about)\n• [Student Dashboard](/dashboard/student)\n",about_eyogi:"\n🔗 **Discover More:**\n• [About Us](/about)\n• [Contact Us](/contact)\n",contact_info:"\n🔗 **Contact Options:**\n• [Contact Form](/contact)\n• [About Us](/about)\n",student_progress:"\n🔗 **Your Dashboard:**\n• [Student Dashboard](/dashboard/student)\n• [Browse More Courses](/courses)\n",did_you_know:"\n🔗 **Learn More:**\n• [Browse Courses](/courses)\n• [Explore Gurukuls](/gurukuls)\n• [About eYogi](/about)\n"}[e]||""}generateFallbackResponse(e,t){return{course_inquiry:"\n\nWe offer comprehensive courses across 5 specialized Gurukuls: Hinduism, Mantra, Philosophy, Sanskrit, and Yoga & Wellness. Each Gurukul has courses for different age groups from 4 years to adult learners.\n\n🔗 **Quick Links:**\n• [Browse All Courses](/courses)\n• [Explore Gurukuls](/gurukuls)\n• [About Our Education](/about)",enrollment_process:"\n\nTo enroll: 1) Create your account, 2) Browse courses by age/interest, 3) Click 'Enroll Now', 4) Complete payment, 5) Get teacher approval, 6) Start learning!\n\n🔗 **Get Started:**\n• [Create Account](/auth/signup)\n• [Browse Courses](/courses)\n• [Sign In](/auth/signin)",gurukul_information:"\n\nOur 5 Gurukuls each specialize in different aspects of Vedic knowledge: Hinduism (traditions & philosophy), Mantra (sacred sounds), Philosophy (ancient wisdom), Sanskrit (sacred language), and Yoga & Wellness (holistic health).",pricing_fees:"\n\nOur courses range from €35-€100 depending on level and duration. Elementary (€35-40), Basic (€50-60), Intermediate (€75-85), Advanced (€100+). We offer family discounts and early bird pricing!\n\n🔗 **View Pricing:**\n• [See All Course Prices](/courses)\n• [Contact for Discounts](/contact)",certificate_info:"\n\nAll students receive beautiful digital certificates upon course completion. Certificates include verification codes, can be downloaded as PDF, shared on social media, and are recognized for their authentic Vedic education content.",contact_info:"\n\nYou can reach us at info@eyogigurukul.com, call +353 1 234 5678 (Mon-Fri 9AM-6PM IST), or use this chat for immediate assistance. We're based in Dublin, Ireland but serve students globally!\n\n🔗 **Contact Options:**\n• [Contact Form](/contact)\n• [About Us](/about)",about_eyogi:"\n\neYogi Gurukul bridges ancient Vedic wisdom with modern learning technology. We create 'eYogis' - practitioners who connect spiritual science with contemporary life, building peace and harmony while respecting all cultures.",did_you_know:"\n\nI have access to over 1000 fascinating facts about Vedic wisdom, ancient knowledge, and spiritual practices! You can ask me for facts about specific topics like 'Sanskrit facts', 'Yoga wisdom', 'Hindu traditions', 'Philosophy insights', or just say 'surprise me with a fact'!",technical_support:"\n\nFor technical issues: try refreshing your browser, check your internet connection, or clear your browser cache. For persistent problems, contact support@eyogigurukul.com with details about your issue."}[e]||"\n\nI'm here to help with any questions about eYogi Gurukul, our courses, enrollment, or Vedic education in general!"}addPersonalizedTouches(e,t,s,a){var n;if(t){const s=(null==(n=t.full_name)?void 0:n.split(" ")[0])||"friend";if("student_progress"===a&&"student"===t.role&&(e+=`\n\n🎯 ${s}, you can check your detailed progress in your student dashboard where you'll find all your enrolled courses, completion status, and certificates!`),"course_inquiry"===a&&t.age){const s=this.getAgeGroupForAge(t.age);e+=`\n\n💡 Based on your age (${t.age}), I recommend looking at our ${s} level courses which are perfectly designed for your learning stage!`}}return"parent"===s&&(e+="\n\n👨‍👩‍👧‍👦 As a parent, you'll be pleased to know that all our courses include progress reports and we maintain open communication about your child's learning journey."),e}generateSuggestions(e,t){const s={course_inquiry:["Would you like me to recommend courses based on a specific age group?","Are you interested in a particular Gurukul or subject area?","Would you like to know about course schedules and duration?","Shall I help you find courses that match your learning level?"],enrollment_process:["Would you like me to guide you through creating an account?","Do you have questions about payment options?","Would you like to know about our approval process?","Need help understanding the enrollment timeline?"],pricing_fees:["Would you like information about family discounts?","Are you interested in our early bird pricing?","Do you need details about payment plans?","Shall I explain our refund policy?"],gurukul_information:["Would you like to explore a specific Gurukul in detail?","Are you interested in the teaching methodology?","Would you like to know about our teachers and their qualifications?","Shall I help you choose the right Gurukul for your interests?"],certificate_info:["Would you like to see examples of our certificates?","Are you interested in the verification process?","Shall I explain how to share your certificates professionally?"],did_you_know:["Would you like to learn about a specific topic like Sanskrit, Yoga, or Hindu philosophy?","Are you interested in facts about festivals, mantras, or ancient science?","Shall I share more wisdom about meditation, dharma, or spiritual practices?","Would you like to explore facts about specific Gurukuls or courses?"],about_eyogi:["Would you like to know more about our teaching philosophy?","Are you interested in our global community of learners?","Shall I tell you about our founders and team?"]}[e];if(s&&s.length>0){return`\n\n❓ ${s[Math.floor(Math.random()*s.length)]}`}return"\n\n💬 Feel free to ask me anything else about eYogi Gurukul!"}truncateContent(e,t){return e.length<=t?e:e.substring(0,t)+"..."}getAgeGroupForAge(e){return e>=4&&e<=7?"Elementary":e>=8&&e<=11?"Basic":e>=12&&e<=15?"Intermediate":e>=16&&e<=19?"Advanced":"Adult Learning"}}class Re{constructor(){this.conversationHistory=[],this.personaDetector=new Te,this.intentClassifier=new Pe,this.semanticSearch=new ze,this.didYouKnowService=new Fe,this.responseGenerator=new Oe}async processMessage(e,t){try{const s=this.personaDetector.detectPersona(e,t),a=this.intentClassifier.classifyIntent(e,s),n=await this.semanticSearch.search(e,a.intent,s),r=this.responseGenerator.generateResponse({message:e,persona:s,intent:a.intent,confidence:a.confidence,searchResults:n,user:t,conversationHistory:this.conversationHistory}),i=Math.random()<.3?this.didYouKnowService.getRandomFact(a.intent,s):void 0;return this.conversationHistory.push({user:e,bot:r,timestamp:new Date}),this.conversationHistory.length>10&&(this.conversationHistory=this.conversationHistory.slice(-10)),{message:r,persona:s,intent:a.intent,confidence:a.confidence,didYouKnow:i}}catch(s){throw s}}getConversationHistory(){return this.conversationHistory}clearHistory(){this.conversationHistory=[]}}function We({isOpen:e,onClose:a,initialMessage:n}){const{user:r}=function(){const e=t.useContext(qe);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}(),[i,o]=t.useState([]),[y,b]=t.useState(""),[w,v]=t.useState(!1),[j,k]=t.useState(!1),[N]=t.useState(()=>new Re),_=t.useRef(null),S=t.useRef(null);t.useEffect(()=>{var t;if(e){const e={id:"welcome",type:"bot",content:`🙏 Namaste ${(null==(t=null==r?void 0:r.full_name)?void 0:t.split(" ")[0])||"friend"}! I'm your eYogi AI assistant. I'm here to help you with questions about our courses, Gurukuls, enrollment, and anything related to your learning journey. How can I assist you today?`,timestamp:new Date,persona:"student",intent:"greeting"};o([e]),setTimeout(()=>{var e;return null==(e=S.current)?void 0:e.focus({preventScroll:!0})},100)}},[e,r]),t.useEffect(()=>{if(e){const e=e=>{e.target&&e.target.closest('[data-chatbot="true"]')||["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(e.key)&&e.preventDefault()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}},[e]),t.useEffect(()=>{n&&e&&E(n)},[n,e]),t.useEffect(()=>{C()},[i]);const C=()=>{var e;null==(e=_.current)||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},E=async e=>{const t=e||y.trim();if(!t)return;const s={id:`user-${Date.now()}`,type:"user",content:t,timestamp:new Date};o(e=>[...e,s]),b(""),v(!0),setTimeout(()=>{var e;null==(e=S.current)||e.focus({preventScroll:!0})},0);try{const e=await N.processMessage(t,r);await new Promise(e=>setTimeout(e,1e3+1e3*Math.random()));const s={id:`bot-${Date.now()}`,type:"bot",content:e.message,timestamp:new Date,persona:e.persona,intent:e.intent,confidence:e.confidence,didYouKnow:e.didYouKnow};o(e=>[...e,s])}catch(a){const e={id:`error-${Date.now()}`,type:"bot",content:"I apologize, but I encountered an error processing your message. Please try again or contact our support team for assistance.",timestamp:new Date};o(t=>[...t,e])}finally{v(!1)}};return e?s.jsx("div",{className:"fixed z-50 animate-in slide-in-from-bottom-4 slide-in-from-right-4 duration-300 \r\n                 md:bottom-6 md:right-6 md:w-96 md:h-[600px] md:top-auto md:left-auto\r\n                 top-16 bottom-4 left-4 right-4\r\n                 sm:top-20\r\n                 chatbot-container",onClick:e=>e.stopPropagation(),"data-chatbot":"true",children:s.jsxs(Ce,{className:"w-full h-full flex flex-col shadow-2xl border border-gray-700 bg-gray-900",children:[s.jsx(Ee,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-t-lg px-3 sm:px-6 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(l,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold",children:"eYogi AI Assistant"}),s.jsx("p",{className:"text-orange-100 text-xs sm:text-sm hidden sm:block",children:"Your personal learning companion"}),s.jsx("p",{className:"text-orange-100 text-xs sm:hidden",children:"Learning companion"})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{o([]);o([{id:"welcome-new",type:"bot",content:"🙏 Chat cleared! I'm ready to help you with any questions about eYogi Gurukul. What would you like to know?",timestamp:new Date}])},className:"text-white hover:bg-white/10 p-2 sm:p-2 min-h-[40px] min-w-[40px] sm:min-h-[36px] sm:min-w-[36px]",children:s.jsx(c,{className:"h-4 w-4 sm:h-4 sm:w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:a,className:"text-white hover:bg-white/10 p-2 sm:p-2 min-h-[40px] min-w-[40px] sm:min-h-[36px] sm:min-w-[36px]",children:s.jsx(d,{className:"h-5 w-5 sm:h-5 sm:w-5"})})]})]})}),s.jsxs(Ae,{className:"flex-1 overflow-y-auto p-2 sm:p-4 space-y-3 sm:space-y-4 bg-gray-800",children:[i.map(e=>{return s.jsx("div",{className:"flex "+("user"===e.type?"justify-end":"justify-start"),children:s.jsxs("div",{className:"max-w-[90%] sm:max-w-[85%] "+("user"===e.type?"order-2":"order-1"),children:[s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 "+("user"===e.type?"flex-row-reverse space-x-reverse":""),children:[s.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center flex-shrink-0 "+("user"===e.type?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gradient-to-r from-orange-500 to-red-500"),children:"user"===e.type?s.jsx(u,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"}):s.jsx(l,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),s.jsxs("div",{className:"rounded-2xl px-3 py-2 sm:px-4 sm:py-3 "+("user"===e.type?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-gray-700 text-gray-100"),children:[s.jsx("div",{className:"text-sm sm:text-sm leading-relaxed whitespace-pre-wrap",children:"bot"===e.type?s.jsx("div",{dangerouslySetInnerHTML:{__html:e.content.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:text-blue-800 underline font-medium" target="_blank" rel="noopener noreferrer">$1</a>').replace(/\n/g,"<br>")}}):e.content}),"bot"===e.type&&(e.persona||e.intent)&&s.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-600 flex items-center space-x-2",children:[e.persona&&s.jsx(Ge,{variant:"info",className:"text-xs",children:e.persona}),e.intent&&s.jsx(Ge,{variant:"default",className:"text-xs",children:e.intent}),e.confidence&&s.jsxs("span",{className:"text-xs text-gray-400",children:[Math.round(100*e.confidence),"% confident"]})]}),e.didYouKnow&&s.jsxs("div",{className:"mt-3 p-3 bg-gradient-to-r from-purple-900/30 to-pink-900/30 rounded-lg border border-purple-600",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(m,{className:"h-4 w-4 text-purple-400"}),s.jsx("span",{className:"text-sm font-semibold text-purple-300",children:"Did You Know?"})]}),s.jsx("p",{className:"text-sm text-purple-200",children:e.didYouKnow})]})]})]}),s.jsx("div",{className:"mt-1 text-xs text-gray-400 "+("user"===e.type?"text-right":"text-left"),children:(t=e.timestamp,new Intl.DateTimeFormat("en-IE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(t)))})]})},e.id);var t}),w&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:s.jsx(l,{className:"h-4 w-4 text-white"})}),s.jsx("div",{className:"bg-gray-700 rounded-2xl px-4 py-3",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),s.jsx("div",{ref:_})]}),i.length<=1&&s.jsx("div",{className:"px-2 sm:px-4 pb-2 sm:pb-4 bg-gray-800",children:s.jsxs("div",{className:"mb-3 sm:mb-4",children:[s.jsxs("h4",{className:"text-xs sm:text-sm font-semibold text-gray-200 mb-2 sm:mb-3 flex items-center",children:[s.jsx(h,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Quick Questions"]}),s.jsx("div",{className:"grid grid-cols-1 gap-1.5 sm:gap-2",children:["What courses are available for my age?","How do I enroll in a course?","What is the fee structure?","Tell me about Hinduism Gurukul","How do I get certificates?","What are the different Gurukuls?","Tell me an interesting fact","Share some Sanskrit wisdom"].slice(0,4).map((e,t)=>s.jsx("button",{onClick:()=>E(e),className:"text-left p-2.5 sm:p-2 text-xs sm:text-xs bg-gray-700 hover:bg-orange-900/30 hover:text-orange-300 text-gray-200 rounded-lg transition-colors border border-gray-600 hover:border-orange-500 min-h-[40px] sm:min-h-[36px] flex items-center",children:e},t))})]})}),s.jsxs("div",{className:"p-2 sm:p-4 border-t border-gray-600 bg-gray-900 rounded-b-lg",children:[s.jsxs("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),E()},className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{ref:S,type:"text",value:y,onChange:e=>b(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),e.stopPropagation(),E())},placeholder:"Ask me anything about eYogi Gurukul...",className:"w-full px-3 sm:px-4 py-3 pr-10 sm:pr-12 border border-gray-600 bg-gray-800 text-gray-100 placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm min-h-[48px]",disabled:w,style:{fontSize:"16px"}}),s.jsx("button",{onClick:()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=new(window.webkitSpeechRecognition||window.SpeechRecognition);e.continuous=!1,e.interimResults=!1,e.lang="en-US",e.onstart=()=>{k(!0)},e.onresult=e=>{const t=e.results[0][0].transcript;b(t),k(!1)},e.onerror=()=>{k(!1)},e.onend=()=>{k(!1)},j?e.stop():e.start()}else alert("Speech recognition is not supported in your browser.")},className:"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 p-1.5 sm:p-1 rounded-full transition-colors min-h-[32px] min-w-[32px] flex items-center justify-center "+(j?"text-red-400 bg-red-900/30":"text-gray-400 hover:text-orange-400 hover:bg-orange-900/30"),children:j?s.jsx(p,{className:"h-3 w-3 sm:h-4 sm:w-4"}):s.jsx(g,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),s.jsx(Se,{onClick:()=>E(),disabled:!y.trim()||w,className:"px-3 sm:px-4 py-3 min-h-[48px] min-w-[48px]",type:"submit",children:s.jsx(f,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-gray-400 space-y-1 sm:space-y-0",children:[s.jsx("span",{className:"text-center sm:text-left",children:"Press Enter to send • Shift+Enter for new line"}),s.jsxs("span",{className:"flex items-center justify-center sm:justify-end space-x-1",children:[s.jsx(x,{className:"h-3 w-3"}),s.jsx("span",{children:"AI-powered by eYogi"})]})]})]})]})}):null}function $e({className:e,initialMessage:a}){const[n,r]=t.useState(!1),[i,o]=t.useState(!1);return s.jsxs(s.Fragment,{children:[!n&&s.jsx("div",{className:`fixed bottom-6 right-6 z-40 \n                         sm:bottom-4 sm:right-4\n                         xs:bottom-3 xs:right-3 ${e}`,children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-red-500 rounded-full animate-ping opacity-20"}),s.jsx("button",{onClick:()=>r(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:"relative bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 group\r\n                         sm:p-3 xs:p-3\r\n                         min-h-touch min-w-touch\r\n                         flex items-center justify-center",style:{minHeight:"44px",minWidth:"44px"},children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(l,{className:"h-6 w-6 sm:h-5 sm:w-5 xs:h-5 xs:w-5 flex-shrink-0"}),i&&s.jsx("span",{className:"text-sm font-medium whitespace-nowrap hidden sm:block",children:"Ask eYogi AI"})]})}),!i&&s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap hidden sm:block",children:["Ask me anything about eYogi Gurukul!",s.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})}),s.jsx(We,{isOpen:n,onClose:()=>r(!1),initialMessage:a})]})}function Ue(){const e=[{"@context":"https://schema.org","@type":"EducationalOrganization",name:"eYogi Gurukul",description:"Premier online platform for authentic Hindu education, Vedic learning, and Sanatan Dharma studies. Learn Sanskrit, Hindu philosophy, mantras, yoga, and traditional Hindu culture through expert-led courses.",url:"https://eyogi-gurukul.vercel.app",logo:"/Images/Logo.png",sameAs:["https://facebook.com/eyogigurukul","https://twitter.com/eyogigurukul","https://youtube.com/eyogigurukul","https://instagram.com/eyogigurukul"],address:{"@type":"PostalAddress",streetAddress:"Dublin Technology Centre",addressLocality:"Dublin",addressCountry:"Ireland"},contactPoint:{"@type":"ContactPoint",telephone:"+353-1-234-5678",contactType:"Customer Service",email:"info@eyogigurukul.com"},foundingDate:"2024",keywords:"Hindu Education, Vedic Learning, Sanatan Dharma, Sanskrit, Hindu Philosophy, Yoga, Mantras, Hindu Culture, Traditional Hindu Education, Online Gurukul",educationalCredentialAwarded:"Certificate of Completion in Vedic Studies",hasCredential:["Hindu Philosophy Certification","Sanskrit Language Proficiency","Mantra Studies Certificate","Yoga Teacher Training","Vedic Studies Diploma"]},{"@context":"https://schema.org","@type":"WebSite",name:"eYogi Gurukul - Hindu Education & Vedic Learning Platform",description:"Comprehensive online platform for authentic Hindu education, Vedic studies, and Sanatan Dharma learning. Expert-led courses in Sanskrit, Hindu philosophy, mantras, yoga, and traditional Hindu culture.",url:"https://eyogi-gurukul.vercel.app",potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:"https://eyogi-gurukul.vercel.app/courses?search={search_term_string}"},"query-input":"required name=search_term_string"},keywords:"Hindu Education, Hinduism Learning, Vedic Studies, Sanatan Dharma, Hindu Philosophy, Sanskrit Learning, Hindu Culture, Indian Hindu Traditions, Hindu Religion Online, Vedic Wisdom, Hindu Gurukul, Traditional Hindu Education",inLanguage:["en","hi","sa"],about:[{"@type":"Thing",name:"Hindu Religion"},{"@type":"Thing",name:"Hinduism"},{"@type":"Thing",name:"Vedic Philosophy"},{"@type":"Thing",name:"Sanatan Dharma"},{"@type":"Thing",name:"Hindu Culture"},{"@type":"Thing",name:"Indian Hindu Culture"},{"@type":"Thing",name:"Sanskrit Language"},{"@type":"Thing",name:"Hindu Education"},{"@type":"Thing",name:"Vedic Learning"},{"@type":"Thing",name:"Hindu Traditions"}]},{"@context":"https://schema.org","@type":"WebPage",name:"Hindu Education & Vedic Learning Platform - eYogi Gurukul",description:"Discover authentic Hindu traditions, Vedic philosophy, Sanskrit, mantras, and yoga through expert-led online courses. Join our global community of Sanatan Dharma learners.",url:"https://eyogi-gurukul.vercel.app",mainEntity:{"@type":"EducationalOrganization",name:"eYogi Gurukul"},about:[{"@type":"Thing",name:"Hindu Religion"},{"@type":"Thing",name:"Hinduism"},{"@type":"Thing",name:"Vedic Philosophy"},{"@type":"Thing",name:"Sanatan Dharma"},{"@type":"Thing",name:"Hindu Culture"},{"@type":"Thing",name:"Indian Hindu Culture"}]}],t=[{icon:w,title:"Expert Teachers",description:"Learn from qualified instructors with deep knowledge of Vedic traditions"},{icon:v,title:"Comprehensive Curriculum",description:"Structured courses covering all aspects of ancient wisdom and modern applications"},{icon:j,title:"Community Learning",description:"Join a global community of learners on the path of spiritual growth"},{icon:k,title:"Certified Programs",description:"Earn certificates upon completion of courses and showcase your achievements"}];return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{title:"Hindu Education & Vedic Learning Platform",description:"Learn authentic Hindu traditions, Vedic philosophy, Sanskrit, mantras, and yoga through comprehensive online courses. Discover Sanatan Dharma wisdom with expert teachers in our traditional Gurukul system.",keywords:["Hindu Education Online","Vedic Learning Platform","Sanatan Dharma Courses","Hindu Philosophy Online","Sanskrit Learning Online","Hindu Culture Education","Indian Hindu Traditions","Vedic Wisdom Courses","Hindu Gurukul Online","Traditional Hindu Education","Authentic Hindu Teaching","Hindu Heritage Learning","Vedic Studies Online","Hindu Spiritual Education","Dharma Education Platform","Hindu Values Learning","Vedic Knowledge Online","Hindu Religion Courses"],canonicalUrl:"/",structuredData:e}),s.jsxs("div",{children:[s.jsx(Le,{text:"🕉️ Spirituality and Science of Hinduism University - Discover Ancient Wisdom Through Modern Learning 🕉️",className:"first-element"}),s.jsxs("section",{className:"relative bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 overflow-hidden hero-section",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/40 via-white/20 to-white/30 backdrop-blur-md"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-100/50 via-orange-50/30 to-red-100/40 backdrop-blur-sm"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-orange-200/30 via-orange-100/20 to-transparent"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/20 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 backdrop-blur-[2px] bg-white/15"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-white/20"}),s.jsx("div",{className:"relative container-max section-padding",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6 lg:space-y-8 text-center lg:text-left",children:[s.jsxs("div",{className:"space-y-4 px-4 sm:px-0",children:[s.jsx("div",{className:"flex justify-center lg:justify-start badge-container",children:s.jsx(Ge,{variant:"info",className:"text-xs sm:text-sm px-3 py-2 sm:px-4 sm:py-2 hero-badge",children:"🕉️ Authentic Hindu Education & Vedic Learning"})}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight px-2 sm:px-0",itemProp:"headline",children:["Learn Authentic ",s.jsx("span",{className:"gradient-text",children:"Hindu Heritage"})," & Vedic Wisdom"]}),s.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600 leading-relaxed px-2 sm:px-0",itemProp:"description",children:"Discover authentic Hindu religion, Vedic philosophy, Sanskrit, mantras, and yoga through our comprehensive Sanatan Dharma education platform. Learn traditional Hindu culture from expert teachers in our modern Gurukul system designed for all ages."})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 px-4 sm:px-0 sm:flex-row justify-center lg:justify-start",children:[s.jsx(ke,{to:"/courses",className:"w-full sm:w-auto",children:s.jsxs(Se,{size:"lg",className:"w-full sm:w-auto min-h-[50px] text-base font-semibold px-6 py-3",children:["Explore Courses",s.jsx(y,{className:"ml-2 h-5 w-5"})]})}),s.jsx(ke,{to:"/gurukuls",className:"w-full sm:w-auto",children:s.jsx(Se,{variant:"primary",size:"lg",className:"w-full sm:w-auto min-h-[50px] text-base font-semibold px-6 py-3",children:"Browse Gurukuls"})})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:gap-2 sm:flex-row sm:items-center sm:space-x-6 lg:space-x-8 text-sm text-gray-600 justify-center lg:justify-start px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 justify-center lg:justify-start",children:[s.jsx(b,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-sm font-medium",children:"1,950+ Students"})]}),s.jsxs("div",{className:"flex items-center space-x-2 justify-center lg:justify-start",children:[s.jsx(b,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-sm font-medium",children:"63+ Courses"})]}),s.jsxs("div",{className:"flex items-center space-x-2 justify-center lg:justify-start",children:[s.jsx(b,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-sm font-medium",children:"5 Gurukuls"})]})]})]}),s.jsxs("div",{className:"relative order-first lg:order-last overflow-visible",children:[s.jsxs("div",{className:"aspect-square max-w-sm mx-auto lg:max-w-none rounded-2xl overflow-hidden shadow-2xl bg-white/30 backdrop-blur-lg border border-white/40 p-4 relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-transparent rounded-2xl"}),s.jsx("img",{src:"/Images/Logo.png",alt:"eYogi Gurukul logo",className:"w-full h-full object-contain logo-pop relative z-10"})]}),s.jsxs("div",{className:"absolute -bottom-4 left-2 sm:left-0 sm:-left-4 lg:-bottom-6 lg:-left-6 bg-white/90 backdrop-blur-md rounded-lg shadow-xl p-3 lg:p-4 border border-white/30 relative hero-certificate-card",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 via-transparent to-transparent rounded-lg"}),s.jsxs("div",{className:"relative z-10 flex items-center space-x-2 lg:space-x-3",children:[s.jsx("div",{className:"h-10 w-10 lg:h-12 lg:w-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center shadow-lg flex-shrink-0",children:s.jsx(w,{className:"h-5 w-5 lg:h-6 lg:w-6 text-white"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900 text-sm lg:text-base",children:"Certified Hindu Education"}),s.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Authentic Vedic Learning"})]})]})]})]})]})})]}),s.jsx("section",{className:"section-padding bg-white",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4",children:"Why Choose eYogi Gurukul for Hindu Education?"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"We bridge the gap between ancient Hindu wisdom and modern learning technology, making authentic Vedic knowledge and Sanatan Dharma accessible to everyone, everywhere."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:t.map((e,t)=>s.jsx(Ce,{className:"card-hover text-center glass-card",children:s.jsxs(Ae,{className:"pt-6 lg:pt-8 px-4 lg:px-6",children:[s.jsx("div",{className:"h-12 w-12 lg:h-16 lg:w-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(e.icon,{className:"h-6 w-6 lg:h-8 lg:w-8 text-white"})}),s.jsx("h3",{className:"text-lg lg:text-xl font-semibold mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:e.description})]})},t))})]})}),s.jsx("section",{className:"section-padding bg-gray-50",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4",children:"Explore Our Traditional Hindu Gurukuls"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"Each Hindu Gurukul specializes in different aspects of Vedic knowledge and Sanatan Dharma, offering comprehensive Hindu education paths for students of all ages."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:[{name:"Hinduism Gurukul",description:"Explore Hindu traditions, philosophy, and practices",image:"https://images.unsplash.com/photo-1582510003544-4d00b7f74220?w=400&h=300&fit=crop",courses:12,students:450,slug:"hinduism"},{name:"Mantra Gurukul",description:"Learn sacred mantras and their transformative power",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",courses:8,students:320,slug:"mantra"},{name:"Philosophy Gurukul",description:"Dive deep into ancient philosophical traditions",image:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=400&h=300&fit=crop",courses:15,students:280,slug:"philosophy"},{name:"Sanskrit Gurukul",description:"Master the sacred language of Sanskrit",image:"https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=400&h=300&fit=crop",courses:10,students:380,slug:"sanskrit"},{name:"Yoga & Wellness",description:"Integrate physical, mental, and spiritual wellness",image:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=400&h=300&fit=crop",courses:18,students:520,slug:"yoga-wellness"}].map((e,t)=>s.jsxs(Ce,{className:"card-hover overflow-hidden",children:[s.jsx("div",{className:"aspect-video overflow-hidden",children:s.jsx("img",{src:e.image,alt:`${e.name} - Traditional Hindu education and Vedic learning center`,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),s.jsxs(Ae,{className:"p-4 lg:p-6",children:[s.jsx("h3",{className:"text-lg lg:text-xl font-semibold mb-2",children:e.name}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm lg:text-base",children:e.description}),s.jsxs("div",{className:"flex justify-between items-center mb-4 text-xs lg:text-sm text-gray-500",children:[s.jsxs("span",{children:[e.courses," Hindu Courses"]}),s.jsxs("span",{children:[e.students," Vedic Students"]})]}),s.jsx(ke,{to:`/gurukuls/${e.slug}`,children:s.jsx(Se,{variant:"primary",className:"w-full min-h-[44px]",children:"Explore Hindu Gurukul"})})]})]},t))})]})}),s.jsx("section",{className:"section-padding bg-white",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"What Our Hindu Education Students Say"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Hear from our global community of Hindu and Vedic learning students"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Sarah Johnson",role:"Student, Philosophy Gurukul",content:"The depth of knowledge and the way it's presented makes ancient wisdom accessible to modern minds.",rating:5},{name:"Raj Patel",role:"Parent",content:"My daughter has learned so much about our culture and traditions. The teachers are excellent.",rating:5},{name:"Maria Garcia",role:"Student, Yoga Gurukul",content:"The holistic approach to wellness has transformed my daily practice and understanding.",rating:5}].map((e,t)=>s.jsx(Ce,{className:"card-hover",children:s.jsxs(Ae,{className:"p-6",children:[s.jsx("div",{className:"flex mb-4",children:[...Array(e.rating)].map((e,t)=>s.jsx(k,{className:"h-5 w-5 text-yellow-400 fill-current"},t))}),s.jsxs("p",{className:"text-gray-600 mb-4 italic",children:['"',e.content,'"']}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Hindu Education ",e.role]})]})]})},t))})]})}),s.jsx("section",{className:"section-padding gradient-bg text-white",children:s.jsxs("div",{className:"container-max text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 px-4",children:"Begin Your Hindu Education Journey Today"}),s.jsx("p",{className:"text-base sm:text-lg lg:text-xl mb-6 lg:mb-8 opacity-90 max-w-2xl mx-auto px-4 leading-relaxed",children:"Join thousands of students worldwide in discovering the timeless wisdom of Hindu traditions and Vedic philosophy through our comprehensive Sanatan Dharma courses."}),s.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 sm:flex-row justify-center max-w-sm sm:max-w-none mx-auto px-4",children:[s.jsx(ke,{to:"/auth/signup",className:"w-full sm:w-auto",children:s.jsx(Se,{variant:"secondary",size:"lg",className:"bg-white text-orange-600 hover:bg-gray-100 w-full sm:w-auto min-h-[50px] font-semibold text-base px-6 py-3",children:"Start Hindu Learning Free"})}),s.jsx(ke,{to:"/courses",className:"w-full sm:w-auto",children:s.jsx(Se,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white hover:text-orange-600 w-full sm:w-auto min-h-[50px] font-semibold text-base px-6 py-3",children:"Browse Hindu Courses"})})]})]})}),s.jsx($e,{})]})]})}const Be=()=>{const{signIn:e,loading:a,isAdmin:n,user:i}=xe(),o=r(),[l,c]=t.useState(""),[d,u]=t.useState(""),[m,h]=t.useState(!1),[p,g]=t.useState(!1),f=t.useRef(!1);t.useEffect(()=>{!a&&i&&n&&!f.current&&(f.current=!0,o("/admin/dashboard",{replace:!0}))},[i,n,a,o]);return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"max-w-md w-full space-y-8 p-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"eYogi Gurukul SSH University"}),s.jsx("p",{className:"text-gray-600",children:"Admin Console"})]}),s.jsxs("form",{onSubmit:async t=>{t.preventDefault(),g(!0);try{const{error:t}=await e(l,d);if(t)return void S.error(t.message||"Login failed");S.success("Welcome to Admin Console")}catch(s){S.error("An unexpected error occurred")}finally{g(!1)}},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{id:"email",type:"email",value:l,onChange:e=>c(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@eyogi.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",type:m?"text":"password",value:d,onChange:e=>u(e.target.value),required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m?s.jsx(N,{className:"h-5 w-5 text-gray-400"}):s.jsx(_,{className:"h-5 w-5 text-gray-400"})})]})]}),s.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in to Admin Console"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Admin access only. Contact support if you need assistance."})})]})})})},Ke=({isOpen:e,onClose:t})=>{var a,n,r,i;const{profile:o,canAccess:l,user:c,signOut:u}=xe(),m=[{name:"Dashboard",href:"/admin/dashboard",icon:C,permission:null},{name:"Users",href:"/admin/users",icon:E,permission:{resource:"users",action:"read"}},{name:"Courses",href:"/admin/courses",icon:v,permission:{resource:"courses",action:"read"}},{name:"Enrollments",href:"/admin/enrollments",icon:A,permission:{resource:"enrollments",action:"read"}},{name:"Certificates",href:"/admin/certificates",icon:w,permission:{resource:"certificates",action:"read"}},{name:"Content",href:"/admin/content",icon:H,permission:{resource:"content",action:"read"}},{name:"Analytics",href:"/admin/analytics",icon:I,permission:{resource:"analytics",action:"read"}},{name:"Permissions",href:"/admin/permissions",icon:G,permission:{resource:"permissions",action:"read"}},{name:"Settings",href:"/admin/settings",icon:L,permission:{resource:"settings",action:"read"}}].filter(e=>!e.permission||l(e.permission.resource,e.permission.action));return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",children:s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:t})}),s.jsxs("div",{className:`\n        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out\n        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}\n      `,children:[s.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"eYogi Admin"})}),s.jsx("button",{type:"button",className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-gray-600",onClick:t,children:s.jsx(d,{className:"h-6 w-6"})})]}),s.jsx("nav",{className:"mt-8 px-4",children:s.jsx("div",{className:"space-y-1",children:m.map(e=>s.jsxs(q,{to:e.href,onClick:t,className:({isActive:e})=>"group flex items-center px-2 py-2 text-sm font-medium rounded-md "+(e?"bg-blue-50 border-r-2 border-blue-500 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[s.jsx(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0","aria-hidden":"true"}),e.name]},e.name))})}),s.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:(null==(a=null==o?void 0:o.full_name)?void 0:a.charAt(0))||(null==(r=null==(n=null==c?void 0:c.email)?void 0:n.charAt(0))?void 0:r.toUpperCase())||"A"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:(null==o?void 0:o.full_name)||(null==(i=null==c?void 0:c.email)?void 0:i.split("@")[0])||"Admin"}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(null==o?void 0:o.role)||"Admin"})]})]}),s.jsx("button",{onClick:u,className:"p-1 rounded-md text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Sign out",children:s.jsx(T,{className:"h-5 w-5"})})]})})]})]})},Je=({onMenuClick:e})=>s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",onClick:e,children:s.jsx(P,{className:"h-6 w-6"})}),s.jsx("div",{className:"ml-4 lg:ml-0",children:s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"eYogi Gurukul Admin"})})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{type:"button",className:"p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 relative",children:[s.jsx(D,{className:"h-6 w-6"}),s.jsx("span",{className:"absolute top-1 right-1 block h-2 w-2 rounded-full bg-red-400"})]})})]})}),Ze=()=>{const[e,a]=t.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Ke,{isOpen:e,onClose:()=>a(!1)}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx(Je,{onMenuClick:()=>a(!0)}),s.jsx("main",{className:"p-6",children:s.jsx(Y,{})})]})]})},Qe=()=>{const[e,a]=t.useState({totalUsers:0,totalCourses:0,totalEnrollments:0,totalCertificates:0,recentEnrollments:0,activeUsers:0}),[n,r]=t.useState(!0);t.useEffect(()=>{i()},[]);const i=async()=>{try{0;const e=new Date;e.setDate(e.getDate()-30);const[t,s,n,r,i,o]=await Promise.all([ge.from("profiles").select("*",{count:"exact",head:!0}),ge.from("courses").select("*",{count:"exact",head:!0}),ge.from("enrollments").select("*",{count:"exact",head:!0}),ge.from("certificates").select("*",{count:"exact",head:!0}),ge.from("enrollments").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString()),ge.from("profiles").select("*",{count:"exact",head:!0}).eq("status","active")]);a({totalUsers:t.count||0,totalCourses:s.count||0,totalEnrollments:n.count||0,totalCertificates:r.count||0,recentEnrollments:i.count||0,activeUsers:o.count||0})}catch(e){a({totalUsers:0,totalCourses:0,totalEnrollments:0,totalCertificates:0,recentEnrollments:0,activeUsers:0})}finally{r(!1)}},o=[{title:"Total Users",value:e.totalUsers,icon:E,color:"bg-blue-500",change:`+${e.recentEnrollments} this month`},{title:"Active Courses",value:e.totalCourses,icon:v,color:"bg-green-500",change:"All time"},{title:"Total Enrollments",value:e.totalEnrollments,icon:A,color:"bg-yellow-500",change:`+${e.recentEnrollments} recent`},{title:"Certificates Issued",value:e.totalCertificates,icon:w,color:"bg-purple-500",change:"All time"},{title:"Active Users",value:e.activeUsers,icon:M,color:"bg-indigo-500",change:"Currently active"},{title:"Monthly Growth",value:`${e.recentEnrollments}`,icon:I,color:"bg-pink-500",change:"Last 30 days"}];return n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((e,t)=>s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 rounded-lg bg-gray-200 animate-pulse",children:s.jsx("div",{className:"h-6 w-6 bg-gray-300 rounded"})})}),s.jsxs("div",{className:"ml-4 w-0 flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2 w-3/4"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-1 w-1/2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-full"})]})]})})},t))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Welcome to the eYogi Gurukul Admin Console"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:o.map((e,t)=>s.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`p-3 rounded-lg ${e.color}`,children:s.jsx(e.icon,{className:"h-6 w-6 text-white"})})}),s.jsx("div",{className:"ml-4 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.title}),s.jsx("dd",{className:"flex items-baseline",children:s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:e.value.toLocaleString()})}),s.jsx("dd",{className:"text-sm text-gray-500",children:e.change})]})})]})})},t))}),s.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("button",{className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(E,{className:"h-8 w-8 text-blue-600 mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Add New User"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create student or teacher account"})]}),s.jsxs("button",{className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(v,{className:"h-8 w-8 text-green-600 mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Create Course"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Set up a new course"})]}),s.jsxs("button",{className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(A,{className:"h-8 w-8 text-yellow-600 mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Manage Enrollments"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Review pending enrollments"})]}),s.jsxs("button",{className:"p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(I,{className:"h-8 w-8 text-purple-600 mb-2"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"View Reports"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Analytics and insights"})]})]})})]}),s.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"Activity feed will be implemented in Phase 2"}),s.jsx("p",{className:"text-sm",children:"Coming soon: Real-time enrollment updates, user registrations, and system events"})]})})]})]})},Xe=[{value:"student",label:"Student",color:"bg-blue-100 text-blue-800"},{value:"teacher",label:"Teacher",color:"bg-green-100 text-green-800"},{value:"admin",label:"Admin",color:"bg-purple-100 text-purple-800"},{value:"super_admin",label:"Super Admin",color:"bg-red-100 text-red-800"},{value:"parent",label:"Parent",color:"bg-yellow-100 text-yellow-800"}],et=[{value:"active",label:"Active",color:"bg-green-100 text-green-800"},{value:"inactive",label:"Inactive",color:"bg-gray-100 text-gray-800"},{value:"suspended",label:"Suspended",color:"bg-red-100 text-red-800"},{value:"pending",label:"Pending",color:"bg-yellow-100 text-yellow-800"}];function tt({isOpen:e,onClose:a,onSuccess:n,user:r,mode:i}){const[o,l]=t.useState(!1),[c,d]=t.useState({email:"",password:"",full_name:"",role:"student",status:"active",phone:"",date_of_birth:"",address:"",emergency_contact:""});t.useEffect(()=>{d("edit"===i&&r?{email:r.email||"",password:"",full_name:r.full_name||"",role:r.role||"student",status:r.status||"active",phone:r.phone||"",date_of_birth:r.date_of_birth||"",address:r.address||"",emergency_contact:r.emergency_contact||""}:{email:"",password:"",full_name:"",role:"student",status:"active",phone:"",date_of_birth:"",address:"",emergency_contact:""})},[i,r,e]);const u=e=>{const{name:t,value:s}=e.target;d(e=>({...e,[t]:s}))};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(V,{className:"h-5 w-5 text-blue-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"create"===i?"Create New User":"Edit User"})]}),s.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(z,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c.email?"create"!==i||c.password?c.full_name?c.email&&!/\S+@\S+\.\S+/.test(c.email)?(S.error("Please enter a valid email address"),0):!("create"===i&&c.password&&c.password.length<6&&(S.error("Password must be at least 6 characters long"),1)):(S.error("Full name is required"),0):(S.error("Password is required for new users"),0):(S.error("Email is required"),0)){l(!0);try{if("create"===i){const{data:e,error:t}=await ge.auth.admin.createUser({email:c.email,password:c.password,email_confirm:!0});if(t)throw new Error(`Authentication error: ${t.message}`);if(!e.user)throw new Error("Failed to create user account");const s={id:e.user.id,email:c.email,full_name:c.full_name,role:c.role,status:c.status,phone:c.phone||null,date_of_birth:c.date_of_birth||null,address:c.address||null,emergency_contact:c.emergency_contact||null,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{error:a}=await ge.from("profiles").insert([s]);if(a)throw await ge.auth.admin.deleteUser(e.user.id),new Error(`Profile creation error: ${a.message}`);S.success("User created successfully!")}else{const e={full_name:c.full_name,role:c.role,status:c.status,phone:c.phone||null,date_of_birth:c.date_of_birth||null,address:c.address||null,emergency_contact:c.emergency_contact||null,updated_at:(new Date).toISOString()},{error:t}=await ge.from("profiles").update(e).eq("id",r.id);if(t)throw new Error(`Update error: ${t.message}`);if(c.email!==r.email){const{error:e}=await ge.auth.admin.updateUserById(r.id,{email:c.email});if(e)throw new Error(`Email update error: ${e.message}`)}if(c.password){const{error:e}=await ge.auth.admin.updateUserById(r.id,{password:c.password});if(e)throw new Error(`Password update error: ${e.message}`)}S.success("User updated successfully!")}n(),a()}catch(t){S.error(t.message||"An error occurred while saving the user")}finally{l(!1)}}},className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(F,{className:"h-4 w-4 inline mr-1"}),"Email Address *"]}),s.jsx("input",{type:"email",name:"email",value:c.email,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"user@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(V,{className:"h-4 w-4 inline mr-1"}),"Full Name *"]}),s.jsx("input",{type:"text",name:"full_name",value:c.full_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe",required:!0})]}),("create"===i||"edit"===i)&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ","create"===i?"*":"(leave blank to keep current)"]}),s.jsx("input",{type:"password",name:"password",value:c.password,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"create"===i?"Enter password":"Enter new password",required:"create"===i,minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(O,{className:"h-4 w-4 inline mr-1"}),"Role *"]}),s.jsx("select",{name:"role",value:c.role,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:Xe.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),s.jsx("select",{name:"status",value:c.status,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:et.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(R,{className:"h-4 w-4 inline mr-1"}),"Date of Birth"]}),s.jsx("input",{type:"date",name:"date_of_birth",value:c.date_of_birth,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),s.jsx("input",{type:"text",name:"emergency_contact",value:c.emergency_contact,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contact name and phone"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("input",{type:"text",name:"address",value:c.address,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Street address, city, state, zip"})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(W,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx($,{className:"h-4 w-4"}),s.jsx("span",{children:"create"===i?"Create User":"Update User"})]})})]})]})]})}):null}const st=()=>{const[e,a]=t.useState([]),[n,r]=t.useState(!0),[i,o]=t.useState(""),[l,c]=t.useState("all"),[d,u]=t.useState("all"),[m,h]=t.useState(!1),[p,g]=t.useState(null),{user:f}=xe();t.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0);const{data:e,error:t}=await ge.from("profiles").select("*").order("created_at",{ascending:!1});if(t)return void S.error("Failed to load users");const s=(e||[]).filter(e=>e.full_name&&e.email&&e.role&&e.id!==(null==f?void 0:f.id));a(s)}catch(e){S.error("Failed to load users")}finally{r(!1)}},y=e.filter(e=>{const t=e.full_name.toLowerCase().includes(i.toLowerCase())||e.email.toLowerCase().includes(i.toLowerCase())||e.student_id&&e.student_id.toLowerCase().includes(i.toLowerCase()),s="all"===l||e.role===l,a="all"===d||e.status===d;return t&&s&&a}),b=e=>{switch(e){case"super_admin":return"bg-red-100 text-red-800";case"admin":return"bg-purple-100 text-purple-800";case"teacher":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";case"parent":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},w=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";case"pending_verification":return"bg-yellow-100 text-yellow-800"}},v=e=>"super_admin"===e.role||e.id===(null==f?void 0:f.id);return n?s.jsx("div",{className:"flex items-center justify-center min-h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage students, teachers, and administrators"})]}),s.jsxs("button",{onClick:()=>{g(null),h(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[s.jsx(U,{className:"h-5 w-5 mr-2"}),"Add User"]})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(B,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:i,onChange:e=>o(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("div",{children:s.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"student",children:"Students"}),s.jsx("option",{value:"teacher",children:"Teachers"}),s.jsx("option",{value:"admin",children:"Admins"}),s.jsx("option",{value:"super_admin",children:"Super Admins"}),s.jsx("option",{value:"parent",children:"Parents"})]})}),s.jsx("div",{children:s.jsxs("select",{value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"suspended",children:"Suspended"}),s.jsx("option",{value:"pending_verification",children:"Pending"})]})}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(K,{className:"h-4 w-4 mr-1"}),y.length," of ",e.length," users"]})]})}),s.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(e=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:e.full_name.charAt(0)})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.full_name}),v(e)&&s.jsx(J,{className:"h-4 w-4 text-red-500 ml-2",title:"Protected user"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(e.role)}`,children:e.role.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(e.status)}`,children:e.status.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.student_id||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>{},className:"text-gray-600 hover:text-gray-900 p-1",title:"View user",children:s.jsx(_,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>(e=>{"super_admin"!==e.role||(null==f?void 0:f.id)===e.id?(g(e),h(!0)):S.error("Cannot edit super admin users")})(e),disabled:v(e)&&(null==f?void 0:f.id)!==e.id,className:"p-1 "+(v(e)&&(null==f?void 0:f.id)!==e.id?"text-gray-300 cursor-not-allowed":"text-blue-600 hover:text-blue-900"),title:v(e)?"Protected user":"Edit user",children:s.jsx(Z,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>(async(e,t)=>{if("super_admin"!==t){if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const{error:t}=await ge.from("profiles").delete().eq("id",e);if(t)return void S.error("Failed to delete user");S.success("User deleted successfully"),x()}catch(s){S.error("Failed to delete user")}}else S.error("Cannot delete super admin users")})(e.id,e.role),disabled:v(e),className:"p-1 "+(v(e)?"text-gray-300 cursor-not-allowed":"text-red-600 hover:text-red-900"),title:v(e)?"Protected user":"Delete user",children:s.jsx(Q,{className:"h-4 w-4"})})]})})]},e.id))})]})}),0===y.length&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(U,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i||"all"!==l||"all"!==d?"Try adjusting your search criteria.":"Get started by adding a new user."})]})]}),s.jsx(tt,{isOpen:m,onClose:()=>h(!1),onSuccess:()=>{h(!1),g(null),x()},user:p,mode:p?"edit":"create"})]})},at=({checked:e,onCheckedChange:t,disabled:a=!1,className:n=""})=>s.jsx("button",{type:"button",role:"switch","aria-checked":e,disabled:a,onClick:()=>t(!e),className:`\n        relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ease-in-out\n        ${e?"bg-blue-600":"bg-gray-200"}\n        ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}\n        ${n}\n      `,children:s.jsx("span",{className:`\n          inline-block h-4 w-4 transform rounded-full bg-white transition duration-200 ease-in-out\n          ${e?"translate-x-6":"translate-x-1"}\n        `})}),nt=e=>{switch(e.toLowerCase()){case"users":return s.jsx(re,{className:"h-4 w-4"});case"courses":return s.jsx(ne,{className:"h-4 w-4"});case"enrollments":return s.jsx(ae,{className:"h-4 w-4"});case"settings":return s.jsx(se,{className:"h-4 w-4"});case"permissions":return s.jsx(O,{className:"h-4 w-4"});default:return s.jsx(X,{className:"h-4 w-4"})}},rt={admin:[],teacher:[],student:[]};function it(){const[e,a]=t.useState([]),[n,r]=t.useState(rt),[i,o]=t.useState("admin"),[l,c]=t.useState(!1),[d,u]=t.useState(!1),[m,h]=t.useState(!0),{canAccess:p}=(()=>{const e=t.useContext(be);if(void 0===e)throw new Error("usePermissions must be used within a PermissionProvider");return e})(),g=async()=>{try{h(!0);const{data:e,error:t}=await ge.from("permissions").select("*").order("resource, action");if(t)throw t;const{data:s,error:n}=await ge.from("role_permissions").select("\n          id,\n          role,\n          permission_id,\n          created_at,\n          permission:permissions(*)\n        ");if(n)throw n;const i=(e||[]).map(e=>({id:e.id,name:e.name,description:e.description||"",icon:nt(e.resource),resource:e.resource,action:e.action}));a(i);const o={admin:[],teacher:[],student:[]};(s||[]).forEach(e=>{o[e.role]&&o[e.role].push(e.permission_id)}),r(o)}catch(e){S.error("Failed to load permissions from database")}finally{h(!1)}};if(t.useEffect(()=>{g()},[]),!p("permissions","view"))return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(X,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Access Denied"}),s.jsx("p",{className:"text-gray-500",children:"You don't have permission to view permissions."})]})});if(m)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ee,{className:"h-8 w-8 text-blue-500 mx-auto mb-4 animate-spin"}),s.jsx("p",{className:"text-gray-600",children:"Loading permissions..."})]})});const f=Object.keys(rt),x=n[i]||[],y=e.reduce((e,t)=>{const s=t.resource;return e[s]||(e[s]=[]),e[s].push(t),e},{});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Permission Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage role-based permissions for your application"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Se,{onClick:g,disabled:m,className:"flex items-center gap-2",style:{backgroundColor:"#6b7280",color:"white"},children:[s.jsx(ee,{className:"h-4 w-4 "+(m?"animate-spin":"")}),"Refresh"]}),s.jsxs(Se,{onClick:async()=>{if(p("permissions","update"))try{c(!0);const{error:e}=await ge.from("role_permissions").delete().eq("role",i);if(e)throw e;if(n[i].length>0){const e=n[i].map(e=>({role:i,permission_id:e})),{error:t}=await ge.from("role_permissions").insert(e);if(t)throw t}u(!1),S.success(`Permissions saved for ${i} role`)}catch(e){S.error("Failed to save permissions to database")}finally{c(!1)}else S.error("You don't have permission to update permissions")},disabled:l||!d,className:"flex items-center gap-2",style:{backgroundColor:d?"#3b82f6":"#6b7280",color:"white"},children:[s.jsx($,{className:"h-4 w-4"}),l?"Saving...":"Save Changes"]})]})]}),d&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx(X,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"text-sm text-yellow-800",children:"You have unsaved changes"})]}),s.jsxs(Ce,{children:[s.jsxs(Ee,{children:[s.jsx(He,{children:"Role Selection"}),s.jsx(Ie,{children:"Select a role to manage its permissions. Changes are saved to the database."})]}),s.jsx(Ae,{children:s.jsx("div",{className:"flex gap-2",children:f.map(e=>s.jsxs(Se,{onClick:()=>o(e),className:"capitalize",style:{backgroundColor:i===e?"#3b82f6":"transparent",color:i===e?"white":"#374151",border:"1px solid #d1d5db"},children:[e,s.jsx(Ge,{variant:"default",className:"ml-2",children:(n[e]||[]).length})]},e))})})]}),s.jsx("div",{className:"space-y-6",children:Object.entries(y).map(([e,t])=>s.jsxs(Ce,{children:[s.jsxs(Ee,{children:[s.jsxs(He,{className:"capitalize flex items-center gap-2",children:[t[0].icon,e," Permissions"]}),s.jsxs(Ie,{children:["Manage ",e,"-related permissions for the ",i," role"]})]}),s.jsx(Ae,{children:s.jsx("div",{className:"space-y-4",children:t.map(e=>{const t=x.includes(e.id);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-md",children:e.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:e.name}),s.jsx("div",{className:"text-sm text-gray-500",children:e.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[t&&s.jsx(te,{className:"h-4 w-4 text-green-500"}),s.jsx(at,{checked:t,onCheckedChange:t=>((e,t)=>{r(s=>{const a=s[i]||[],n=t?[...a,e]:a.filter(t=>t!==e);return u(!0),{...s,[i]:n}}),S.success(`Permission ${t?"granted":"removed"} for ${i}`)})(e.id,t)})]})]},e.id)})})})]},e))})]})}const ot=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});function lt(){return s.jsx(ye,{children:s.jsx(ve,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(t.Suspense,{fallback:s.jsx(ot,{}),children:s.jsxs(ie,{children:[s.jsx(oe,{path:"/",element:s.jsx(Ue,{})}),s.jsx(oe,{path:"/admin/login",element:s.jsx(Be,{})}),s.jsxs(oe,{path:"/admin/*",element:s.jsx(je,{children:s.jsx(Ze,{})}),children:[s.jsx(oe,{index:!0,element:s.jsx(n,{to:"dashboard",replace:!0})}),s.jsx(oe,{path:"dashboard",element:s.jsx(Qe,{})}),s.jsx(oe,{path:"users",element:s.jsx(je,{children:s.jsx(st,{})})}),s.jsx(oe,{path:"permissions",element:s.jsx(je,{children:s.jsx(it,{})})})]}),s.jsx(oe,{path:"/access-denied",element:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this resource."}),s.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})})}),s.jsx(oe,{path:"*",element:s.jsx(n,{to:"/",replace:!0})})]})}),s.jsx(le,{position:"top-right"})]})})})}ce.createRoot(document.getElementById("root")).render(s.jsx(o.StrictMode,{children:s.jsx(de,{basename:"/ssh-app",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(lt,{})})}));
