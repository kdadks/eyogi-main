import{r as e,j as i,z as a,u as t,R as s}from"./vendor-react-DCALsXS8.js";import{s as n,b as r,n as m,f as o,B as c,i as l,l as d,p as u,g as N,h as g,Q as x,R as b,v as f,I as h,N as p,S,O as D,T as j,u as y,U as v,V as E}from"./admin-analytics-BUJUGyzI.js";import{u as C,p as M,q as P,r as T,s as I,t as W,v as V,h as H,w,T as k,x as _,y as z,z as F,D as A,G as L,W as $}from"./admin-misc-9vir4T6x.js";import{i as U}from"./admin-batch-BFzGO27E.js";import{a as O}from"./admin-assignments-Cx7DOfUV.js";import{b as R,al as B,j as X,aA as Y,r as G,c as q,aH as J,h as Q,i as K,aw as Z,e as ee,t as ie,D as ae,aE as te,aL as se,aM as ne,a as re,U as me,aF as oe,aN as ce,S as le,G as de,L as ue,F as Ne,I as ge,V as xe,M as be,P as fe,E as he,aO as pe,X as Se,C as De,aP as je}from"./vendor-ui-Bmdc4IWn.js";async function ye(){try{const{data:e,error:i}=await n.from("social_media_links").select("*").order("sort_order",{ascending:!0});return i?(console.error("Error fetching social media links:",i.message||i.code||JSON.stringify(i)),[]):e||[]}catch(e){return console.error("Error in getSocialMediaLinksFromDB:",e),[]}}async function ve(e){try{for(const i of e){const{error:e}=await n.from("social_media_links").update({sort_order:i.sort_order}).eq("id",i.id);if(e)throw console.error("Error updating sort order:",e),e}}catch(i){throw console.error("Error in updateSocialMediaLinksSortOrder:",i),i}}const Ee=[{name:"student_name",label:"Student Name",fontSize:32,fontColor:"#1a5490"},{name:"student_id",label:"Student Number",fontSize:14,fontColor:"#666666"},{name:"course_name",label:"Course Name",fontSize:24,fontColor:"#d97706"},{name:"course_id",label:"Course Number",fontSize:14,fontColor:"#666666"},{name:"completion_date",label:"Completion Date",fontSize:16,fontColor:"#000000"},{name:"certificate_number",label:"Certificate Number",fontSize:12,fontColor:"#666666"}],Ce=["Arial","Georgia","Times New Roman","Courier New","Verdana","Trebuchet MS","League Spartan"];function Me({template:t,isOpen:s,onClose:l,onSave:d}){const[u,N]=e.useState(""),[g,x]=e.useState(null),[b,f]=e.useState(null),[h,p]=e.useState(!1),[S,D]=e.useState([]),[j,y]=e.useState(null),[v,E]=e.useState(null),[P,T]=e.useState({x:80,y:500,width:150,height:60,name:"President"}),[I,W]=e.useState({x:450,y:500,width:150,height:60,name:"Chancellor"}),[V,H]=e.useState({x:50,y:450,width:600,height:40,text:"This certifies successful completion of the above course",fontSize:35,fontColor:"#000000",fontFamily:"League Spartan",textAlign:"center",isBold:!1,isItalic:!1}),[w,k]=e.useState(null),[_,z]=e.useState({width:0,height:0}),F=e.useRef(null),A=e.useRef(null),L=e.useRef(null),$=e.useRef(null),U=e.useRef(null);e.useEffect(()=>{if(t){if(N(t.name),t.template_data?.template_image&&x(t.template_data.template_image),t.template_data?.dynamic_fields&&D(t.template_data.dynamic_fields),t.template_data?.signature_positions){const e=t.template_data.signature_positions;e.secretary&&T({...P,...e.secretary,name:t.template_data.signatures?.vice_chancellor_name||"President",image:t.template_data.signatures?.vice_chancellor_signature_data}),e.chancellor&&W({...I,...e.chancellor,name:t.template_data.signatures?.president_name||"Chancellor",image:t.template_data.signatures?.president_signature_data})}t.template_data?.text_message&&H(t.template_data.text_message)}else N(""),x(""),D([]),T({x:20,y:70,width:15,height:8,name:"President",image:""}),W({x:70,y:70,width:15,height:8,name:"Chancellor",image:""}),H("")},[t]),e.useEffect(()=>{const e=()=>{A.current&&z({width:A.current.offsetWidth,height:A.current.offsetHeight})};if(A.current){const i=A.current;return i.complete&&e(),i.addEventListener("load",e),window.addEventListener("resize",e),()=>{i.removeEventListener("load",e),window.removeEventListener("resize",e)}}},[g]);const O=(e,i)=>{const t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void a.error("Please select an image file");const s=new FileReader;s.onload=e=>{const t=e.target?.result;"secretary"===i?T({...P,image:t}):W({...I,image:t}),a.success(("secretary"===i?"Secretary":"Chancellor")+" signature uploaded")},s.readAsDataURL(t)},Y=(e,i,a)=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget.getBoundingClientRect(),s=F.current?.getBoundingClientRect();s?(k({type:i,id:a,offsetX:e.clientX-t.left,offsetY:e.clientY-t.top}),"field"===i&&a?(y(a),E(null)):"secretary"===i?(E("secretary"),y(null)):"chancellor"===i?(E("chancellor"),y(null)):"text"===i&&(E("text"),y(null))):console.warn("Container not found for drag start")},G=(e,i)=>{e.stopPropagation(),E(i),y(null)};e.useEffect(()=>{const e=e=>{if(!w||!F.current)return;const i=F.current.getBoundingClientRect(),a=e.clientX-i.left-w.offsetX,t=e.clientY-i.top-w.offsetY;"field"===w.type&&w.id?D(e=>e.map(e=>e.id===w.id?{...e,x:Math.max(0,Math.min(_.width-e.width,a)),y:Math.max(0,Math.min(_.height-30,t))}:e)):"secretary"===w.type?T(e=>({...e,x:Math.max(0,Math.min(_.width-e.width,a)),y:Math.max(0,Math.min(_.height-e.height,t))})):"chancellor"===w.type?W(e=>({...e,x:Math.max(0,Math.min(_.width-e.width,a)),y:Math.max(0,Math.min(_.height-e.height,t))})):"text"===w.type&&H(e=>({...e,x:Math.max(0,Math.min(_.width-e.width,a)),y:Math.max(0,Math.min(_.height-e.height,t))}))},i=()=>{k(null)};if(w)return document.addEventListener("mousemove",e),document.addEventListener("mouseup",i),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",i)}},[w,_]);const q=(e,i)=>{D(S.map(a=>a.id===e?{...a,...i}:a))},J=S.find(e=>e.id===j);return s?i.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 z-50 flex items-center justify-center p-4 overflow-y-auto",children:i.jsxDEV("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-7xl my-8",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-500 to-purple-600",children:[i.jsxDEV("h2",{className:"text-2xl font-bold text-white",children:[t?"Edit":"Create"," Certificate Template"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:501,columnNumber:11},this),i.jsxDEV("button",{onClick:l,className:"text-white/80 hover:text-white",disabled:h,children:i.jsxDEV(R,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:505,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:504,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:500,columnNumber:9},this),i.jsxDEV("div",{className:"p-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:i.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsxDEV("div",{className:"space-y-4",children:[i.jsxDEV(r,{children:[i.jsxDEV(m,{children:i.jsxDEV("h3",{className:"font-semibold text-sm",children:"1. Template Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:517,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:516,columnNumber:17},this),i.jsxDEV(o,{children:i.jsxDEV("input",{type:"text",value:u,onChange:e=>N(e.target.value),placeholder:"Certificate name",className:"w-full px-3 py-2 text-sm border rounded-md focus:ring-2 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:520,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:519,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:515,columnNumber:15},this),i.jsxDEV(r,{children:[i.jsxDEV(m,{children:i.jsxDEV("h3",{className:"font-semibold text-sm",children:"2. Upload Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:533,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:532,columnNumber:17},this),i.jsxDEV(o,{children:[i.jsxDEV("input",{ref:L,type:"file",accept:"image/*",onChange:e=>{const i=e.target.files?.[0];if(!i)return;if(!i.type.startsWith("image/"))return void a.error("Please select an image file");if(i.size>10485760)return void a.error("Image size should be less than 10MB");f(i);const t=new FileReader;t.onload=e=>{x(e.target?.result)},t.readAsDataURL(i)},className:"hidden"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:536,columnNumber:19},this),g?i.jsxDEV("div",{className:"space-y-2",children:[i.jsxDEV("img",{src:g,alt:"Template",className:"w-full rounded border"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:553,columnNumber:23},this),i.jsxDEV(c,{variant:"outline",size:"sm",onClick:()=>L.current?.click(),className:"w-full text-xs",children:"Change"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:554,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:552,columnNumber:21},this):i.jsxDEV("button",{onClick:()=>L.current?.click(),className:"w-full border-2 border-dashed rounded-lg p-4 hover:border-orange-500 flex flex-col items-center gap-2",children:[i.jsxDEV(B,{className:"w-8 h-8 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:548,columnNumber:23},this),i.jsxDEV("span",{className:"text-xs text-gray-600",children:"Upload Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:549,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:544,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:535,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:531,columnNumber:15},this),i.jsxDEV(r,{children:[i.jsxDEV(m,{children:i.jsxDEV("h3",{className:"font-semibold text-sm",children:"3. President"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:570,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:569,columnNumber:17},this),i.jsxDEV(o,{className:"space-y-2",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"text-xs font-medium",children:"Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:574,columnNumber:21},this),i.jsxDEV("input",{type:"text",value:P.name,onChange:e=>T({...P,name:e.target.value}),className:"w-full mt-1 px-2 py-1 text-sm border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:575,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:573,columnNumber:19},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"text-xs font-medium",children:"Signature Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:585,columnNumber:21},this),i.jsxDEV("input",{ref:$,type:"file",accept:"image/*",onChange:e=>O(e,"secretary"),className:"hidden"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:586,columnNumber:21},this),P.image?i.jsxDEV("div",{className:"mt-1",children:[i.jsxDEV("img",{src:P.image,alt:"President signature",className:"w-full h-12 object-contain border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:602,columnNumber:25},this),i.jsxDEV(c,{size:"sm",variant:"outline",onClick:()=>$.current?.click(),className:"w-full mt-1 text-xs",children:"Change"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:607,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:601,columnNumber:23},this):i.jsxDEV("button",{onClick:()=>$.current?.click(),className:"w-full mt-1 border border-dashed rounded p-2 text-xs hover:border-green-500",children:"Upload Signature"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:594,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:584,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:572,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:568,columnNumber:15},this),i.jsxDEV(r,{children:[i.jsxDEV(m,{children:i.jsxDEV("h3",{className:"font-semibold text-sm",children:"4. Chancellor"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:624,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:623,columnNumber:17},this),i.jsxDEV(o,{className:"space-y-2",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"text-xs font-medium",children:"Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:628,columnNumber:21},this),i.jsxDEV("input",{type:"text",value:I.name,onChange:e=>W({...I,name:e.target.value}),className:"w-full mt-1 px-2 py-1 text-sm border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:629,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:627,columnNumber:19},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"text-xs font-medium",children:"Signature Image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:639,columnNumber:21},this),i.jsxDEV("input",{ref:U,type:"file",accept:"image/*",onChange:e=>O(e,"chancellor"),className:"hidden"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:640,columnNumber:21},this),I.image?i.jsxDEV("div",{className:"mt-1",children:[i.jsxDEV("img",{src:I.image,alt:"Chancellor signature",className:"w-full h-12 object-contain border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:656,columnNumber:25},this),i.jsxDEV(c,{size:"sm",variant:"outline",onClick:()=>U.current?.click(),className:"w-full mt-1 text-xs",children:"Change"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:661,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:655,columnNumber:23},this):i.jsxDEV("button",{onClick:()=>U.current?.click(),className:"w-full mt-1 border border-dashed rounded p-2 text-xs hover:border-purple-500",children:"Upload Signature"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:648,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:638,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:626,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:622,columnNumber:15},this),i.jsxDEV(r,{children:[i.jsxDEV(m,{children:i.jsxDEV("h3",{className:"font-semibold text-sm",children:"5. Text Message"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:678,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:677,columnNumber:17},this),i.jsxDEV(o,{children:i.jsxDEV("textarea",{value:V.text,onChange:e=>H({...V,text:e.target.value}),rows:3,className:"w-full px-2 py-1 text-xs border rounded",placeholder:"Custom message on certificate"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:681,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:680,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:676,columnNumber:15},this),g&&i.jsxDEV(r,{children:[i.jsxDEV(m,{children:i.jsxDEV("h3",{className:"font-semibold text-sm",children:"6. Add Fields"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:695,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:694,columnNumber:19},this),i.jsxDEV(o,{className:"space-y-1",children:Ee.map(e=>{const t=S.some(i=>i.name===e.name);return i.jsxDEV(c,{onClick:()=>(e=>{const i={id:`field-${Date.now()}`,name:e.name,label:e.label,type:"text",x:100,y:100,width:300,height:40,fontSize:e.fontSize,fontColor:e.fontColor,fontFamily:"League Spartan",textAlign:"center",isBold:!0,isItalic:!1,isRequired:!0};D([...S,i]),a.success(`${e.label} added`)})(e),disabled:t,size:"sm",className:"w-full text-xs justify-start",variant:t?"outline":"primary",children:[t?"âœ“":"+"," ",e.label]},e.name,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:701,columnNumber:25},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:697,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:693,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:513,columnNumber:13},this),i.jsxDEV("div",{className:"lg:col-span-3 space-y-4",children:g?i.jsxDEV(i.Fragment,{children:[i.jsxDEV(r,{children:[i.jsxDEV(m,{children:[i.jsxDEV("h3",{className:"font-semibold",children:"7. Position Elements (Drag & Drop)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:724,columnNumber:23},this),i.jsxDEV("div",{className:"flex gap-3 text-xs mt-2",children:[i.jsxDEV("span",{className:"flex items-center gap-1",children:[i.jsxDEV("div",{className:"w-3 h-3 bg-orange-400 border border-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:727,columnNumber:27},this),"Fields"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:726,columnNumber:25},this),i.jsxDEV("span",{className:"flex items-center gap-1",children:[i.jsxDEV("div",{className:"w-3 h-3 bg-green-400 border border-green-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:731,columnNumber:27},this),"President"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:730,columnNumber:25},this),i.jsxDEV("span",{className:"flex items-center gap-1",children:[i.jsxDEV("div",{className:"w-3 h-3 bg-purple-400 border border-purple-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:735,columnNumber:27},this),"Chancellor"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:734,columnNumber:25},this),i.jsxDEV("span",{className:"flex items-center gap-1",children:[i.jsxDEV("div",{className:"w-3 h-3 bg-blue-400 border border-blue-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:739,columnNumber:27},this),"Text Message"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:738,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:725,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:723,columnNumber:21},this),i.jsxDEV(o,{children:i.jsxDEV("div",{ref:F,className:"relative bg-gray-50 rounded-lg border-2 overflow-hidden",style:{userSelect:"none",cursor:w?"grabbing":"default"},children:[i.jsxDEV("img",{ref:A,src:g,alt:"Certificate",className:"w-full h-auto pointer-events-none",draggable:!1},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:753,columnNumber:25},this),S.map(e=>i.jsxDEV("div",{className:`absolute cursor-move border-2 transition-all ${j===e.id?"border-blue-600 bg-blue-100 z-20 shadow-lg":"border-orange-400 bg-orange-50 hover:border-orange-600 z-10"} bg-opacity-70 flex items-center justify-center`,style:{left:`${e.x}px`,top:`${e.y}px`,width:`${e.width}px`,minHeight:"30px"},onMouseDown:i=>Y(i,"field",e.id),children:i.jsxDEV("span",{className:"text-xs font-semibold truncate px-2",children:e.label},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:778,columnNumber:29},this)},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:763,columnNumber:27},this)),i.jsxDEV("div",{className:`absolute cursor-move border-2 transition-all ${"secretary"===v?"border-green-800 bg-green-200 z-20 shadow-lg":"border-green-600 bg-green-100 hover:border-green-700 z-10"} bg-opacity-70 flex flex-col items-center justify-center p-1`,style:{left:`${P.x}px`,top:`${P.y}px`,width:`${P.width}px`,height:`${P.height}px`},onMouseDown:e=>Y(e,"secretary"),onClick:e=>G(e,"secretary"),children:P.image?i.jsxDEV("img",{src:P.image,alt:"President",className:"max-w-full max-h-full object-contain"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:801,columnNumber:29},this):i.jsxDEV("span",{className:"text-[10px] font-semibold text-center",children:"President"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:807,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:785,columnNumber:25},this),i.jsxDEV("div",{className:`absolute cursor-move border-2 transition-all ${"chancellor"===v?"border-purple-800 bg-purple-200 z-20 shadow-lg":"border-purple-600 bg-purple-100 hover:border-purple-700 z-10"} bg-opacity-70 flex flex-col items-center justify-center p-1`,style:{left:`${I.x}px`,top:`${I.y}px`,width:`${I.width}px`,height:`${I.height}px`},onMouseDown:e=>Y(e,"chancellor"),onClick:e=>G(e,"chancellor"),children:I.image?i.jsxDEV("img",{src:I.image,alt:"Chancellor",className:"max-w-full max-h-full object-contain"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:828,columnNumber:29},this):i.jsxDEV("span",{className:"text-[10px] font-semibold text-center",children:"Chancellor"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:834,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:812,columnNumber:25},this),i.jsxDEV("div",{className:`absolute cursor-move border-2 transition-all ${"text"===v?"border-blue-800 bg-blue-200 z-20 shadow-lg":"border-blue-600 bg-blue-100 hover:border-blue-700 z-10"} bg-opacity-70 flex items-center justify-center p-2`,style:{left:`${V.x}px`,top:`${V.y}px`,width:`${V.width}px`,minHeight:`${V.height}px`},onMouseDown:e=>Y(e,"text"),onClick:e=>G(e,"text"),children:i.jsxDEV("span",{className:"text-[10px] text-center line-clamp-2",children:V.text||"Text Message"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:856,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:841,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:745,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:744,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:722,columnNumber:19},this),J&&i.jsxDEV(r,{className:"bg-blue-50",children:[i.jsxDEV(m,{children:i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("h3",{className:"font-semibold text-sm",children:["Edit: ",J.label]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:869,columnNumber:27},this),i.jsxDEV(c,{variant:"danger",size:"sm",onClick:()=>{return e=J.id,D(S.filter(i=>i.id!==e)),j===e&&y(null),void a.success("Field removed");var e},children:i.jsxDEV(X,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:875,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:870,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:868,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:867,columnNumber:23},this),i.jsxDEV(o,{className:"grid grid-cols-4 gap-2 text-xs",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"X"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:881,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:J.x,onChange:e=>q(J.id,{x:parseInt(e.target.value)||0}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:882,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:880,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Y"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:892,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:J.y,onChange:e=>q(J.id,{y:parseInt(e.target.value)||0}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:893,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:891,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Width"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:903,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:J.width,onChange:e=>q(J.id,{width:parseInt(e.target.value)||100}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:904,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:902,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Font Size"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:916,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:J.fontSize,onChange:e=>q(J.id,{fontSize:parseInt(e.target.value)||12}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:917,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:915,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Color"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:929,columnNumber:27},this),i.jsxDEV("input",{type:"color",value:J.fontColor,onChange:e=>q(J.id,{fontColor:e.target.value}),className:"w-full h-8 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:930,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:928,columnNumber:25},this),i.jsxDEV("div",{className:"col-span-2",children:[i.jsxDEV("label",{className:"font-medium",children:"Font Family"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:940,columnNumber:27},this),i.jsxDEV("select",{value:J.fontFamily,onChange:e=>q(J.id,{fontFamily:e.target.value}),className:"w-full px-2 py-1 border rounded",children:Ce.map(e=>i.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:949,columnNumber:31},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:941,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:939,columnNumber:25},this),i.jsxDEV("div",{className:"col-span-2",children:[i.jsxDEV("label",{className:"font-medium",children:"Align"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:956,columnNumber:27},this),i.jsxDEV("select",{value:J.textAlign,onChange:e=>q(J.id,{textAlign:e.target.value}),className:"w-full px-2 py-1 border rounded",children:[i.jsxDEV("option",{value:"left",children:"Left"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:966,columnNumber:29},this),i.jsxDEV("option",{value:"center",children:"Center"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:967,columnNumber:29},this),i.jsxDEV("option",{value:"right",children:"Right"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:968,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:957,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:955,columnNumber:25},this),i.jsxDEV("div",{className:"col-span-2 flex gap-2 items-center pt-4",children:[i.jsxDEV("label",{className:"flex items-center gap-1",children:[i.jsxDEV("input",{type:"checkbox",checked:J.isBold,onChange:e=>q(J.id,{isBold:e.target.checked})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:973,columnNumber:29},this),"Bold"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:972,columnNumber:27},this),i.jsxDEV("label",{className:"flex items-center gap-1",children:[i.jsxDEV("input",{type:"checkbox",checked:J.isItalic,onChange:e=>q(J.id,{isItalic:e.target.checked})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:983,columnNumber:29},this),"Italic"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:982,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:971,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:879,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:866,columnNumber:21},this),"secretary"===v&&i.jsxDEV(r,{className:"bg-green-50",children:[i.jsxDEV(m,{children:i.jsxDEV("h3",{className:"font-semibold text-sm",children:"Edit: President Signature"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1001,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1e3,columnNumber:23},this),i.jsxDEV(o,{className:"grid grid-cols-4 gap-2 text-xs",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"X"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1005,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:P.x,onChange:e=>T({...P,x:parseInt(e.target.value)||0}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1006,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1004,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Y"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1019,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:P.y,onChange:e=>T({...P,y:parseInt(e.target.value)||0}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1020,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1018,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Width"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1033,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:P.width,onChange:e=>T({...P,width:parseInt(e.target.value)||100}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1034,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1032,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Height"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1047,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:P.height,onChange:e=>T({...P,height:parseInt(e.target.value)||40}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1048,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1046,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1003,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:999,columnNumber:21},this),"chancellor"===v&&i.jsxDEV(r,{className:"bg-purple-50",children:[i.jsxDEV(m,{children:i.jsxDEV("h3",{className:"font-semibold text-sm",children:"Edit: Chancellor Signature"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1068,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1067,columnNumber:23},this),i.jsxDEV(o,{className:"grid grid-cols-4 gap-2 text-xs",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"X"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1072,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:I.x,onChange:e=>W({...I,x:parseInt(e.target.value)||0}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1073,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1071,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Y"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1086,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:I.y,onChange:e=>W({...I,y:parseInt(e.target.value)||0}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1087,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1085,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Width"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1100,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:I.width,onChange:e=>W({...I,width:parseInt(e.target.value)||100}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1101,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1099,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Height"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1114,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:I.height,onChange:e=>W({...I,height:parseInt(e.target.value)||40}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1115,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1113,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1070,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1066,columnNumber:21},this),"text"===v&&i.jsxDEV(r,{className:"bg-blue-50",children:[i.jsxDEV(m,{children:i.jsxDEV("h3",{className:"font-semibold text-sm",children:"Edit: Text Message"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1135,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1134,columnNumber:23},this),i.jsxDEV(o,{className:"grid grid-cols-4 gap-2 text-xs",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"X"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1139,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:V.x,onChange:e=>H({...V,x:parseInt(e.target.value)||0}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1140,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1138,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Y"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1153,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:V.y,onChange:e=>H({...V,y:parseInt(e.target.value)||0}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1154,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1152,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Width"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1167,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:V.width,onChange:e=>H({...V,width:parseInt(e.target.value)||100}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1168,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1166,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Height"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1181,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:V.height,onChange:e=>H({...V,height:parseInt(e.target.value)||40}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1182,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1180,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Font Size"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1195,columnNumber:27},this),i.jsxDEV("input",{type:"number",value:V.fontSize,onChange:e=>H({...V,fontSize:parseInt(e.target.value)||12}),className:"w-full px-2 py-1 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1196,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1194,columnNumber:25},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"font-medium",children:"Font Color"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1209,columnNumber:27},this),i.jsxDEV("input",{type:"color",value:V.fontColor,onChange:e=>H({...V,fontColor:e.target.value}),className:"w-full h-8 border rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1210,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1208,columnNumber:25},this),i.jsxDEV("div",{className:"col-span-2",children:[i.jsxDEV("label",{className:"font-medium",children:"Font Family"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1223,columnNumber:27},this),i.jsxDEV("select",{value:V.fontFamily,onChange:e=>H({...V,fontFamily:e.target.value}),className:"w-full px-2 py-1 border rounded",children:Ce.map(e=>i.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1235,columnNumber:31},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1224,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1222,columnNumber:25},this),i.jsxDEV("div",{className:"col-span-2",children:[i.jsxDEV("label",{className:"font-medium",children:"Text Align"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1242,columnNumber:27},this),i.jsxDEV("select",{value:V.textAlign,onChange:e=>H({...V,textAlign:e.target.value}),className:"w-full px-2 py-1 border rounded",children:[i.jsxDEV("option",{value:"left",children:"Left"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1253,columnNumber:29},this),i.jsxDEV("option",{value:"center",children:"Center"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1254,columnNumber:29},this),i.jsxDEV("option",{value:"right",children:"Right"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1255,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1243,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1241,columnNumber:25},this),i.jsxDEV("div",{className:"col-span-4 flex items-center gap-4 pt-2",children:[i.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsxDEV("input",{type:"checkbox",checked:V.isBold,onChange:e=>H({...V,isBold:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1260,columnNumber:29},this),i.jsxDEV("span",{className:"font-bold",children:"Bold"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1271,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1259,columnNumber:27},this),i.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsxDEV("input",{type:"checkbox",checked:V.isItalic,onChange:e=>H({...V,isItalic:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1274,columnNumber:29},this),i.jsxDEV("span",{className:"italic",children:"Italic"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1285,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1273,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1258,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1137,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1133,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:721,columnNumber:17},this):i.jsxDEV("div",{className:"flex items-center justify-center h-96 bg-gray-50 rounded-lg border-2 border-dashed",children:i.jsxDEV("div",{className:"text-center",children:[i.jsxDEV(B,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1295,columnNumber:21},this),i.jsxDEV("p",{className:"text-gray-600",children:"Upload a template image to start"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1296,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1294,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1293,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:719,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:511,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:510,columnNumber:9},this),i.jsxDEV("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:[i.jsxDEV(c,{variant:"outline",onClick:l,disabled:h,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1306,columnNumber:11},this),i.jsxDEV(c,{onClick:async()=>{if(u.trim())if(g)if(0!==S.length){p(!0);try{let e=g;if(b){const i=t?.id||`temp-${Date.now()}`;e=await async function(e,i){try{const a=i.name.split(".").pop(),t=`${e}-${Date.now()}.${a}`,s=`certificate-templates/${t}`;console.log("Uploading template image:",{filePath:s,fileName:t,fileSize:i.size});const{data:r,error:m}=await n.storage.from("certificate-templates").upload(s,i,{cacheControl:"3600",upsert:!1});if(m)throw new Error(`Upload failed: ${m.message}`);console.log("File uploaded successfully:",{path:r.path});const{data:o}=n.storage.from("certificate-templates").getPublicUrl(r.path);return console.log("Public URL generated successfully:",{urlLength:o.publicUrl.length,url:o.publicUrl}),o.publicUrl}catch(a){throw console.error("Error uploading template image:",a),a}}(i,b)}const i={name:u,type:"student",is_active:!0,template_data:{template_image:e,dynamic_fields:S,signatures:{vice_chancellor_name:P.name,vice_chancellor_signature_data:P.image,president_name:I.name,president_signature_data:I.image},signature_positions:{secretary:{x:P.x,y:P.y,width:P.width,height:P.height},chancellor:{x:I.x,y:I.y,width:I.width,height:I.height}},text_message:V}};let s;t?.id?(s=await C(t.id,i),a.success("Template updated successfully")):(s=await M(i),a.success("Template created successfully")),d(s),l()}catch(e){console.error("Save error:",e),a.error("Failed to save template")}finally{p(!1)}}else a.error("Please add at least one field");else a.error("Please upload a certificate template image");else a.error("Please enter a template name")},disabled:h||!u||!g||0===S.length,className:"bg-orange-600 hover:bg-orange-700",children:[h?"Saving...":t?"Update":"Create"," Template"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1309,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:1305,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:498,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CompleteCertificateEditor.tsx",lineNumber:497,columnNumber:5},this):null}function Pe({isOpen:t,onClose:s,certificateData:n,template:r}){const[m,o]=e.useState(null),[l,d]=e.useState(!1),[u,N]=e.useState(!1),g=e.useCallback(async()=>{d(!0);try{const e=await P(n);o(e)}catch{a.error("Failed to generate certificate preview")}finally{d(!1)}},[n]);e.useEffect(()=>{t&&n&&g()},[t,n,g]);return t?i.jsxDEV("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 flex items-center justify-center z-50 p-4",children:i.jsxDEV("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col shadow-2xl border border-gray-300",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-500 to-purple-600",children:[i.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Certificate Preview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:67,columnNumber:11},this),i.jsxDEV("div",{className:"flex items-center space-x-2",children:[i.jsxDEV(c,{onClick:async()=>{N(!0);try{const e=await T(n,r),i=window.URL.createObjectURL(e),t=document.createElement("a");t.href=i,t.download=`certificate-${n.studentName.replace(/\s+/g,"-")}-${n.courseId}.pdf`,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(i),a.success("Certificate downloaded successfully")}catch{a.error("Failed to download certificate")}finally{N(!1)}},disabled:u||l,className:"bg-orange-600 hover:bg-orange-700",children:[i.jsxDEV(Y,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:74,columnNumber:15},this),u?"Downloading...":"Download PDF"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:69,columnNumber:13},this),i.jsxDEV("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsxDEV(R,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:78,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:68,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:66,columnNumber:9},this),i.jsxDEV("div",{className:"flex-1 overflow-auto",children:i.jsxDEV("div",{className:"p-6",children:[l?i.jsxDEV("div",{className:"flex items-center justify-center py-12",children:[i.jsxDEV("div",{className:"spinner w-8 h-8"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:88,columnNumber:17},this),i.jsxDEV("span",{className:"ml-3 text-gray-600",children:"Generating preview..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:89,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:87,columnNumber:15},this):m?i.jsxDEV("div",{className:"flex justify-center mb-6",children:i.jsxDEV("iframe",{src:m,className:"w-full min-h-[700px] border rounded-lg shadow-lg",title:"Certificate Preview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:93,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:92,columnNumber:15},this):i.jsxDEV("div",{className:"text-center py-12",children:[i.jsxDEV("p",{className:"text-gray-600",children:"Failed to generate preview"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:101,columnNumber:17},this),i.jsxDEV(c,{onClick:g,className:"mt-4",children:"Try Again"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:102,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:100,columnNumber:15},this),(m||!l)&&i.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxDEV("h3",{className:"font-semibold text-gray-900 mb-4",children:"Certificate Details"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:111,columnNumber:17},this),i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[i.jsxDEV("div",{className:"bg-white p-3 rounded border",children:[i.jsxDEV("span",{className:"text-gray-600 block text-xs font-medium",children:"Student:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:114,columnNumber:21},this),i.jsxDEV("span",{className:"font-medium text-gray-900",children:n.studentName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:115,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:113,columnNumber:19},this),i.jsxDEV("div",{className:"bg-white p-3 rounded border",children:[i.jsxDEV("span",{className:"text-gray-600 block text-xs font-medium",children:"Student ID:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:118,columnNumber:21},this),i.jsxDEV("span",{className:"font-medium text-gray-900",children:n.studentId},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:119,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:117,columnNumber:19},this),i.jsxDEV("div",{className:"bg-white p-3 rounded border",children:[i.jsxDEV("span",{className:"text-gray-600 block text-xs font-medium",children:"Course:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:122,columnNumber:21},this),i.jsxDEV("span",{className:"font-medium text-gray-900",children:n.courseName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:123,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:121,columnNumber:19},this),i.jsxDEV("div",{className:"bg-white p-3 rounded border",children:[i.jsxDEV("span",{className:"text-gray-600 block text-xs font-medium",children:"Course ID:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:126,columnNumber:21},this),i.jsxDEV("span",{className:"font-medium text-gray-900",children:n.courseId},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:127,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:125,columnNumber:19},this),i.jsxDEV("div",{className:"bg-white p-3 rounded border",children:[i.jsxDEV("span",{className:"text-gray-600 block text-xs font-medium",children:"Gurukul:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:130,columnNumber:21},this),i.jsxDEV("span",{className:"font-medium text-gray-900",children:n.gurukulName},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:131,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:129,columnNumber:19},this),i.jsxDEV("div",{className:"bg-white p-3 rounded border",children:[i.jsxDEV("span",{className:"text-gray-600 block text-xs font-medium",children:"Completion Date:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:134,columnNumber:21},this),i.jsxDEV("span",{className:"font-medium text-gray-900",children:new Date(n.completionDate).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:137,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:133,columnNumber:19},this),i.jsxDEV("div",{className:"bg-white p-3 rounded border",children:[i.jsxDEV("span",{className:"text-gray-600 block text-xs font-medium",children:"Certificate Number:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:142,columnNumber:21},this),i.jsxDEV("span",{className:"font-medium font-mono text-gray-900",children:n.certificateNumber},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:145,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:141,columnNumber:19},this),i.jsxDEV("div",{className:"bg-white p-3 rounded border",children:[i.jsxDEV("span",{className:"text-gray-600 block text-xs font-medium",children:"Verification Code:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:150,columnNumber:21},this),i.jsxDEV("span",{className:"font-medium font-mono text-gray-900",children:n.verificationCode},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:153,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:149,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:112,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:110,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:83,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:64,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificatePreviewModal.tsx",lineNumber:63,columnNumber:5},this):null}const Te=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{canManageCertificates:t,canAssignTemplates:s,profile:n}=O(),{canAccess:x,hasAnyPermission:b}=I(),f=t||x("certificates","read")||b(["certificates.read","certificates.create"]),[h,p]=e.useState([]),[S,D]=e.useState([]),[j,y]=e.useState([]),[v,E]=e.useState([]),[C,M]=e.useState([]),[P,L]=e.useState(!0),[$,R]=e.useState("certificates"),[B,te]=e.useState(""),[se,ne]=e.useState(new Set),[re,me]=e.useState(""),[oe,ce]=e.useState(""),[le,de]=e.useState(""),[ue,Ne]=e.useState(!1),[ge,xe]=e.useState(void 0),[be,fe]=e.useState(!1),[he,pe]=e.useState(null),[Se,De]=e.useState(!1),[je,ye]=e.useState([]),[ve,Ee]=e.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},loading:!1}),Ce=e.useCallback(async()=>{try{const[e,i,a,t,s,n]=await Promise.all([U(),W(),l(),d(),V(),H()]),r=(e,i)=>n.some(a=>a.student_id===e&&a.course_id===i),m=e.filter(e=>"completed"===e.status&&!r(e.student_id,e.course_id));y(m),p(n),D(i),E(a),M(t),ye(s),i.length>0&&!re&&me(i[0].id)}catch{a.error("Failed to load certificate data")}finally{L(!1)}},[re]);e.useEffect(()=>{Ce()},[Ce]);const Te=(e,i)=>{"create"===e?(Ne(!1),xe(void 0),setTimeout(()=>{Ne(!0)},50)):"edit"===e&&i?(xe(i),Ne(!0)):"duplicate"===e&&i&&Ie(i.id)},Ie=async e=>{try{await F(e),await Ce(),a.success("Template duplicated successfully")}catch{a.error("Failed to duplicate template")}},We=e=>({studentName:e.student?.full_name||"Student Name",studentId:e.student?.student_id||e.student?.full_name?.split(" ").map(e=>e.charAt(0)).join("").toUpperCase()+Math.random().toString().slice(-3)||"STU001",courseName:e.course?.title||"Course Name",courseId:e.course?.course_number||`C${Math.random().toString().slice(-3)}`,gurukulName:e.course?.gurukul?.name||"Gurukul Name",completionDate:e.completed_at||(new Date).toISOString(),certificateNumber:`CERT-${Date.now()}-${e.id.slice(-4)}`,verificationCode:Math.random().toString(36).substr(2,9).toUpperCase()}),Ve=j.filter(e=>{const i=e.student?.full_name?.toLowerCase().includes(B.toLowerCase())||e.course?.title?.toLowerCase().includes(B.toLowerCase()),a=!oe||e.course?.gurukul_id===oe,t=!le||e.course_id===le;return i&&a&&t});return P?i.jsxDEV("div",{className:"flex items-center justify-center py-12",children:i.jsxDEV("div",{className:"spinner w-8 h-8"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:334,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:333,columnNumber:7},this):f?i.jsxDEV("div",{className:"space-y-6",children:[i.jsxDEV("div",{className:"border-b border-gray-200",children:i.jsxDEV("nav",{className:"-mb-px flex gap-8",children:[{id:"certificates",name:"Recent Certificates",icon:G},{id:"templates",name:"Templates",icon:G},{id:"issue",name:"Issue Certificates",icon:q},{id:"assignments",name:"Template Assignments",icon:J}].map(e=>i.jsxDEV("button",{onClick:()=>R(e.id),className:"flex items-center gap-1.5 py-1.5 px-1 border-b-2 font-medium text-xs "+($===e.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[i.jsxDEV(e.icon,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:374,columnNumber:15},this),i.jsxDEV("span",{children:e.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:375,columnNumber:15},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:363,columnNumber:13},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:356,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:355,columnNumber:7},this),"certificates"===$&&i.jsxDEV(r,{children:i.jsxDEV(o,{children:0===h.length?i.jsxDEV("div",{className:"text-center py-8",children:[i.jsxDEV(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:386,columnNumber:17},this),i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No certificates issued yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:387,columnNumber:17},this),i.jsxDEV("p",{className:"text-gray-600",children:"Certificates will appear here once they are issued to students."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:390,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:385,columnNumber:15},this):i.jsxDEV("div",{className:"overflow-x-auto",children:i.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsxDEV("thead",{className:"bg-gray-50",children:i.jsxDEV("tr",{children:[i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate #"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:399,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:402,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:405,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:408,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:411,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:398,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:397,columnNumber:19},this),i.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(e=>i.jsxDEV("tr",{className:"hover:bg-gray-50",children:[i.jsxDEV("td",{className:"px-6 py-4 text-sm font-mono",children:e.certificate_number},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:419,columnNumber:25},this),i.jsxDEV("td",{className:"px-6 py-4 text-sm",children:e.student?.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:422,columnNumber:25},this),i.jsxDEV("td",{className:"px-6 py-4 text-sm",children:e.course?.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:423,columnNumber:25},this),i.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:u(e.issue_date||e.created_at)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:424,columnNumber:25},this),i.jsxDEV("td",{className:"px-6 py-4",children:i.jsxDEV("div",{className:"flex gap-2",children:[i.jsxDEV(c,{size:"sm",variant:"ghost",onClick:()=>{if(e.file_url){const i=`${e.file_url}?t=${Date.now()}`;window.open(i,"_blank")}else a.error("Certificate PDF not found")},title:"View Certificate",children:i.jsxDEV(Q,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:444,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:429,columnNumber:29},this),i.jsxDEV(c,{size:"sm",variant:"ghost",onClick:()=>{if(e.file_url){const i=document.createElement("a");i.href=`${e.file_url}?t=${Date.now()}`,i.download=`certificate-${e.certificate_number}.pdf`,i.target="_blank",document.body.appendChild(i),i.click(),document.body.removeChild(i),a.success("Download started")}else a.error("Certificate PDF not found")},title:"Download Certificate",children:i.jsxDEV(Y,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:466,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:446,columnNumber:29},this),i.jsxDEV(c,{size:"sm",variant:"ghost",onClick:async()=>{try{a.loading("Regenerating certificate..."),await w(e.id),await Ce(),a.dismiss(),a.success("Certificate regenerated successfully")}catch(i){a.dismiss();const e=i instanceof Error?i.message:"Failed to regenerate certificate";a.error(e)}},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",title:"Regenerate Certificate with Latest Template",children:i.jsxDEV(K,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:490,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:468,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:428,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:427,columnNumber:25},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:418,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:416,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:396,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:395,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:383,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:382,columnNumber:9},this),"templates"===$&&i.jsxDEV(r,{children:[i.jsxDEV(m,{children:i.jsxDEV("div",{className:"flex items-center justify-end",children:i.jsxDEV(c,{onClick:()=>Te("create"),children:[i.jsxDEV(q,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:509,columnNumber:17},this),"New Template"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:508,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:507,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:506,columnNumber:11},this),i.jsxDEV(o,{children:0===S.length?i.jsxDEV("div",{className:"text-center py-8",children:[i.jsxDEV(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:517,columnNumber:17},this),i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No certificate templates"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:518,columnNumber:17},this),i.jsxDEV("p",{className:"text-gray-600 mb-4",children:"Create your first certificate template to get started."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:519,columnNumber:17},this),i.jsxDEV(c,{onClick:()=>Te("create"),children:[i.jsxDEV(q,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:523,columnNumber:19},this),"Create Template"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:522,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:516,columnNumber:15},this):i.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(e=>i.jsxDEV(r,{className:"card-hover overflow-hidden",children:i.jsxDEV(o,{className:"p-6",children:[e.template_data?.template_image&&i.jsxDEV("div",{className:"mb-4 -mx-6 -mt-6",children:i.jsxDEV("img",{src:e.template_data.template_image,alt:e.name,className:"w-full h-40 object-cover"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:535,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:534,columnNumber:25},this),i.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[i.jsxDEV(G,{className:"h-8 w-8 text-orange-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:544,columnNumber:25},this),i.jsxDEV(N,{className:e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:e.is_active?"Active":"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:545,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:543,columnNumber:23},this),i.jsxDEV("h3",{className:"font-semibold mb-2",children:e.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:555,columnNumber:23},this),i.jsxDEV("p",{className:"text-sm text-gray-600 mb-2",children:["Type:"," ","student"===e.type?"Student Certificate":"Teacher Certificate"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:556,columnNumber:23},this),i.jsxDEV("p",{className:"text-xs text-gray-500 mb-4",children:["Created: ",u(e.created_at)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:562,columnNumber:23},this),i.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[i.jsxDEV(c,{size:"sm",variant:"outline",onClick:()=>Te("edit",e),children:[i.jsxDEV(K,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:571,columnNumber:27},this),"Edit"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:566,columnNumber:25},this),i.jsxDEV(c,{size:"sm",variant:"outline",onClick:()=>Te("duplicate",e),children:[i.jsxDEV(Z,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:579,columnNumber:27},this),"Copy"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:574,columnNumber:25},this),i.jsxDEV(c,{size:"sm",variant:"ghost",onClick:()=>(async e=>{const i=S.find(i=>i.id===e);i&&Ee({isOpen:!0,title:"Delete Template",message:`Are you sure you want to delete "${i.name}"?`,onConfirm:async()=>{try{await z(e),await Ce(),a.success("Template deleted successfully")}catch{a.error("Failed to delete template")}Ee(e=>({...e,isOpen:!1}))}})})(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:i.jsxDEV(X,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:588,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:582,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:565,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:531,columnNumber:21},this)},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:530,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:528,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:514,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:505,columnNumber:9},this),"issue"===$&&i.jsxDEV(r,{children:[i.jsxDEV(m,{children:[i.jsxDEV("div",{className:"space-y-4",children:[i.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-end",children:i.jsxDEV("div",{className:"flex items-center gap-4",children:i.jsxDEV("div",{className:"relative",children:[i.jsxDEV(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:607,columnNumber:21},this),i.jsxDEV("input",{type:"text",placeholder:"Search students, courses...",value:B,onChange:e=>te(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:608,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:606,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:605,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:604,columnNumber:15},this),i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:621,columnNumber:19},this),i.jsxDEV("select",{value:re,onChange:e=>me(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[i.jsxDEV("option",{value:"",children:"Select Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:629,columnNumber:21},this),S.filter(e=>e.is_active).map(e=>i.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:633,columnNumber:25},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:624,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:620,columnNumber:17},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:640,columnNumber:19},this),i.jsxDEV("select",{value:oe,onChange:e=>ce(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[i.jsxDEV("option",{value:"",children:"All Gurukuls"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:648,columnNumber:21},this),C.map(e=>i.jsxDEV("option",{value:e.id,children:e.name},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:650,columnNumber:23},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:643,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:639,columnNumber:17},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:657,columnNumber:19},this),i.jsxDEV("select",{value:le,onChange:e=>de(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-orange-500 focus:border-orange-500",children:[i.jsxDEV("option",{value:"",children:"All Courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:665,columnNumber:21},this),v.filter(e=>!oe||e.gurukul_id===oe).map(e=>i.jsxDEV("option",{value:e.id,children:e.title},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:669,columnNumber:25},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:660,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:656,columnNumber:17},this),i.jsxDEV("div",{className:"flex items-end",children:i.jsxDEV(c,{variant:"outline",onClick:()=>{ce(""),de(""),te("")},className:"w-full",children:[i.jsxDEV(J,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:685,columnNumber:21},this),"Clear Filters"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:676,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:675,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:619,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:603,columnNumber:13},this),se.size>0&&i.jsxDEV("div",{className:"flex items-center gap-4 p-4 bg-green-50 rounded-lg",children:[i.jsxDEV("span",{className:"text-sm font-medium",children:[se.size," enrollment",1!==se.size?"s":""," ","selected"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:693,columnNumber:17},this),i.jsxDEV(c,{onClick:async()=>{if(0!==se.size)if(re)try{await Promise.all(Array.from(se).map(e=>_(e,re))),await Ce(),ne(new Set),a.success(`${se.size} certificates issued successfully`)}catch{a.error("Failed to issue certificates")}else a.error("Please select a certificate template");else a.error("Please select enrollments to issue certificates for")},className:"bg-green-600 hover:bg-green-700",children:[i.jsxDEV(ie,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:701,columnNumber:19},this),"Issue ",se.size," Certificate",1!==se.size?"s":""]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:697,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:692,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:602,columnNumber:11},this),i.jsxDEV(o,{children:0===Ve.length?i.jsxDEV("div",{className:"text-center py-8",children:[i.jsxDEV(ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:711,columnNumber:17},this),i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No completed courses"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:712,columnNumber:17},this),i.jsxDEV("p",{className:"text-gray-600",children:"No completed courses are waiting for certificate issuance."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:713,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:710,columnNumber:15},this):i.jsxDEV("div",{className:"overflow-x-auto",children:i.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsxDEV("thead",{className:"bg-gray-50",children:i.jsxDEV("tr",{children:[i.jsxDEV("th",{className:"px-6 py-3 text-left",children:i.jsxDEV("input",{type:"checkbox",checked:se.size===Ve.length&&Ve.length>0,onChange:()=>{se.size===j.length?ne(new Set):ne(new Set(j.map(e=>e.id)))},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:723,columnNumber:25},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:722,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:733,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:736,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:739,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:742,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:721,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:720,columnNumber:19},this),i.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:Ve.map(e=>i.jsxDEV("tr",{className:"hover:bg-gray-50",children:[i.jsxDEV("td",{className:"px-6 py-4",children:i.jsxDEV("input",{type:"checkbox",checked:se.has(e.id),onChange:()=>(e=>{const i=new Set(se);i.has(e)?i.delete(e):i.add(e),ne(i)})(e.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:751,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:750,columnNumber:25},this),i.jsxDEV("td",{className:"px-6 py-4",children:[i.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.student?.full_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:759,columnNumber:27},this),i.jsxDEV("div",{className:"text-sm text-gray-500",children:["ID:"," ",e.student?.student_id||e.student?.full_name?.split(" ").map(e=>e.charAt(0)).join("").toUpperCase()+Math.random().toString().slice(-3)||"STU001"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:762,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:758,columnNumber:25},this),i.jsxDEV("td",{className:"px-6 py-4",children:[i.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:e.course?.title},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:774,columnNumber:27},this),i.jsxDEV("div",{className:"text-sm text-gray-500",children:["Course #",e.course?.course_number||`C${Math.random().toString().slice(-3)}`]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:777,columnNumber:27},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:773,columnNumber:25},this),i.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.completed_at?u(e.completed_at):"-"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:783,columnNumber:25},this),i.jsxDEV("td",{className:"px-6 py-4",children:i.jsxDEV("div",{className:"flex gap-2",children:[i.jsxDEV(c,{size:"sm",variant:"outline",onClick:()=>(e=>{const i=We(e);pe(i),fe(!0)})(e),disabled:!re,title:"View Certificate",children:i.jsxDEV(Q,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:795,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:788,columnNumber:29},this),i.jsxDEV(c,{size:"sm",onClick:()=>(async e=>{if(re)try{await _(e,re),await Ce(),a.success("Certificate issued successfully")}catch(i){const e=i instanceof Error?i.message:"Failed to issue certificate";a.error(e)}else a.error("Please select a certificate template")})(e.id),className:"bg-green-600 hover:bg-green-700",disabled:!re,children:[i.jsxDEV(G,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:803,columnNumber:31},this),"Issue"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:797,columnNumber:29},this),i.jsxDEV(c,{size:"sm",variant:"outline",onClick:()=>(async e=>{try{const i=S.find(e=>e.id===re),t=We(e),s=await T(t,i),n=window.URL.createObjectURL(s),r=document.createElement("a");r.href=n,r.download=`certificate-${t.studentName.replace(/\s+/g,"-")}-${t.courseId}.pdf`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),a.success("Certificate downloaded successfully")}catch{a.error("Failed to download certificate")}})(e),disabled:!re,title:"Download PDF",children:i.jsxDEV(Y,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:813,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:806,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:787,columnNumber:27},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:786,columnNumber:25},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:749,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:747,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:719,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:718,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:708,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:601,columnNumber:9},this),"assignments"===$&&i.jsxDEV(r,{children:[i.jsxDEV(m,{children:i.jsxDEV("div",{className:"flex items-center justify-end",children:i.jsxDEV(c,{onClick:()=>De(!0),children:[i.jsxDEV(q,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:832,columnNumber:17},this),"Assign Template"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:831,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:830,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:829,columnNumber:11},this),i.jsxDEV(o,{children:0===je.length?i.jsxDEV("div",{className:"text-center py-12",children:[i.jsxDEV(J,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:840,columnNumber:17},this),i.jsxDEV("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Template Assignments"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:841,columnNumber:17},this),i.jsxDEV("p",{className:"mt-1 text-sm text-gray-500",children:"Assign certificate templates to specific gurukuls and courses. Teachers will then have access to issue certificates using assigned templates."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:842,columnNumber:17},this),i.jsxDEV("div",{className:"mt-6",children:i.jsxDEV(c,{onClick:()=>De(!0),children:[i.jsxDEV(q,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:848,columnNumber:21},this),"Create Assignment"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:847,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:846,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:839,columnNumber:15},this):i.jsxDEV("div",{className:"overflow-x-auto",children:i.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsxDEV("thead",{className:"bg-gray-50",children:i.jsxDEV("tr",{children:[i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:858,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:861,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:864,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:867,columnNumber:23},this),i.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:870,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:857,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:856,columnNumber:19},this),i.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:je.map(e=>{const t=e.template||S.find(i=>i.id===e.template_id),s=e.course||v.find(i=>i.id===e.course_id),n=e.gurukul||(s?C.find(e=>e.id===s.gurukul_id):null)||C.find(i=>i.id===e.gurukul_id),r=e.teacher;return i.jsxDEV("tr",{children:[i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:t?.name||"Unknown Template"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:892,columnNumber:29},this),i.jsxDEV("div",{className:"text-sm text-gray-500",children:t?.type||"N/A"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:895,columnNumber:29},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:891,columnNumber:27},this),i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxDEV(N,{variant:e.teacher_id?"danger":e.course_id?"default":"secondary",className:"px-2 py-1 text-xs font-medium rounded-md",children:e.teacher_id?"Teacher":e.course_id?"Course":"Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:898,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:897,columnNumber:27},this),i.jsxDEV("td",{className:"px-6 py-4",children:e.teacher_id?i.jsxDEV("div",{className:"text-sm text-gray-900",children:["Teacher: ",r?.full_name||"Unknown Teacher"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:917,columnNumber:31},this):i.jsxDEV("div",{children:[i.jsxDEV("div",{className:"text-sm text-gray-900",children:n?.name||"Unknown Gurukul"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:922,columnNumber:33},this),s&&i.jsxDEV("div",{className:"text-sm text-gray-500",children:["Course: ",s.title]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:926,columnNumber:35},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:921,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:915,columnNumber:27},this),i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.created_at?u(e.created_at):"N/A"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:933,columnNumber:27},this),i.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxDEV(c,{size:"sm",variant:"outline",onClick:()=>(async e=>{Ee({isOpen:!0,title:"Remove Assignment",message:"Are you sure you want to remove this assignment?",loading:!1,onConfirm:async()=>{try{Ee(e=>({...e,loading:!0})),await A(e),a.success("Assignment removed successfully"),await Ce(),Ee(e=>({...e,isOpen:!1,loading:!1}))}catch{a.error("Failed to remove assignment"),Ee(e=>({...e,loading:!1}))}}})})(e.id),className:"text-red-600 hover:text-red-900",children:i.jsxDEV(X,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:943,columnNumber:31},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:937,columnNumber:29},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:936,columnNumber:27},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:890,columnNumber:25},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:875,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:855,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:854,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:837,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:828,columnNumber:9},this),i.jsxDEV(Me,{template:ge,isOpen:ue,onClose:()=>{Ne(!1),xe(void 0)},onSave:e=>{D(i=>{const a=i.findIndex(i=>i.id===e.id);if(a>=0){const t=[...i];return t[a]=e,t}return[...i,e]})}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:957,columnNumber:7},this),he&&i.jsxDEV(Pe,{isOpen:be,onClose:()=>{fe(!1),pe(null)},certificateData:he,template:S.find(e=>e.id===re)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:968,columnNumber:9},this),i.jsxDEV(k,{isOpen:Se,onClose:()=>De(!1),onSave:async()=>{await Ce(),De(!1)},templates:S,userId:n?.id||""},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:979,columnNumber:7},this),i.jsxDEV(g,{isOpen:ve.isOpen,title:ve.title,message:ve.message,onConfirm:ve.onConfirm,onCancel:()=>Ee(e=>({...e,isOpen:!1})),variant:"danger",loading:ve.loading},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:990,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:353,columnNumber:5},this):i.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxDEV("div",{className:"text-center",children:[i.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:343,columnNumber:11},this),i.jsxDEV("p",{className:"text-gray-600",children:"You don't have permission to access certificate management."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:344,columnNumber:11},this),i.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:["Current role: ",n?.role]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:347,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:342,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/CertificateManagement.tsx",lineNumber:341,columnNumber:7},this)}},Symbol.toStringTag,{value:"Module"})),Ie=[{label:"Facebook",value:"facebook"},{label:"Twitter/X",value:"twitter"},{label:"LinkedIn",value:"linkedin"},{label:"YouTube",value:"youtube"},{label:"Instagram",value:"instagram"},{label:"TikTok",value:"tiktok"}];function We(){const[a,s]=e.useState([]),[r,m]=e.useState(!0),[o,l]=e.useState(!1),[d,u]=e.useState(null),[N,x]=e.useState({total:0,active:0}),[b,f]=e.useState(null),[h,p]=e.useState(null),[S,D]=e.useState(null),[j,y]=e.useState({isOpen:!1,linkId:null,platform:null,isDeleting:!1}),[v,E]=e.useState({platform:"facebook",url:"",is_active:!0,sort_order:0});e.useEffect(()=>{C()},[]);const C=async()=>{m(!0);try{const e=await ye();s(e);const i=await async function(){try{const e=await ye();return{total:e.length,active:e.filter(e=>e.is_active).length}}catch(e){return console.error("Error getting social media stats:",e),{total:0,active:0}}}();x(i)}catch(e){console.error("Failed to load social media links:",e),t.error("Failed to load social media links")}finally{m(!1)}},M=async e=>{try{await async function(e,i){try{const{error:a}=await n.from("social_media_links").update({is_active:i}).eq("id",e);if(a)throw console.error("Error toggling social media link status:",a),a}catch(a){throw console.error("Error in toggleSocialMediaLinkStatus:",a),a}}(e.id,!e.is_active),await C();const i=e.is_active?"deactivated":"activated";t.success(`Link ${i}`)}catch(i){console.error("Error toggling status:",i),t.error("Failed to update link status")}};return r?i.jsxDEV("div",{className:"flex items-center justify-center py-12",children:i.jsxDEV("div",{className:"text-center",children:[i.jsxDEV("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4",children:i.jsxDEV("div",{className:"w-8 h-8 border-4 border-red-200 border-t-red-500 rounded-full animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:266,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:265,columnNumber:11},this),i.jsxDEV("p",{className:"text-gray-600",children:"Loading social media links..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:268,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:264,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:263,columnNumber:7},this):i.jsxDEV("div",{className:"space-y-6",children:[i.jsxDEV("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxDEV("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200 p-3",children:[i.jsxDEV("div",{className:"text-xs font-medium text-red-700",children:"Total Links"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:279,columnNumber:11},this),i.jsxDEV("div",{className:"mt-1 text-lg font-bold text-red-900",children:N.total},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:280,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:278,columnNumber:9},this),i.jsxDEV("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200 p-3",children:[i.jsxDEV("div",{className:"text-xs font-medium text-red-700",children:"Active Links"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:283,columnNumber:11},this),i.jsxDEV("div",{className:"mt-1 text-lg font-bold text-red-900",children:N.active},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:284,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:282,columnNumber:9},this),i.jsxDEV("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200 p-3",children:[i.jsxDEV("div",{className:"text-xs font-medium text-red-700",children:"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:287,columnNumber:11},this),i.jsxDEV("div",{className:"mt-1 text-lg font-bold text-red-900",children:N.total-N.active},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:288,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:286,columnNumber:9},this),i.jsxDEV(c,{onClick:()=>{u(null),E({platform:"facebook",url:"",is_active:!0,sort_order:a.length}),l(!0)},className:"flex items-center justify-center space-x-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium cursor-pointer col-span-1",children:[i.jsxDEV(q,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:294,columnNumber:11},this),i.jsxDEV("span",{children:"Add"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:295,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:290,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:277,columnNumber:7},this),i.jsxDEV("div",{className:"space-y-3",children:0===a.length?i.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:i.jsxDEV("p",{className:"text-gray-600",children:"No social media links yet. Add one to get started."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:303,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:302,columnNumber:11},this):a.map((e,n)=>i.jsxDEV("div",{draggable:!0,onDragStart:()=>f(e.id),onDragOver:()=>p(e.id),onDragEnd:()=>{f(null),p(null)},className:`bg-white rounded-lg border border-gray-200 p-4 flex items-center justify-between transition-opacity ${b===e.id?"opacity-50":""} ${h===e.id?"border-blue-500 bg-blue-50":""}`,children:[i.jsxDEV("div",{className:"flex-1",children:i.jsxDEV("div",{className:"flex items-center space-x-3",children:[i.jsxDEV("div",{className:"flex-1",children:[i.jsxDEV("h4",{className:"font-medium text-gray-900 capitalize",children:e.platform},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:323,columnNumber:21},this),i.jsxDEV("p",{className:"text-sm text-gray-600 truncate",children:e.url},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:324,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:322,columnNumber:19},this),i.jsxDEV("div",{className:"px-2 py-1 rounded text-xs font-medium "+(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:326,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:321,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:320,columnNumber:15},this),i.jsxDEV("div",{className:"flex items-center space-x-2 ml-4",children:[i.jsxDEV("button",{onClick:()=>M(e),title:e.is_active?"Deactivate":"Activate",className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer transition-colors",children:e.is_active?i.jsxDEV(Q,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:343,columnNumber:21},this):i.jsxDEV(te,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:345,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:337,columnNumber:17},this),i.jsxDEV("button",{onClick:()=>(async e=>{if(0===e)return;const i=a[e].id;D(i);const n=[...a],r=n[e-1];n[e-1]=n[e],n[e]=r;const m=n.map((e,i)=>({...e,sort_order:i}));try{await ve(m.map(e=>({id:e.id,sort_order:e.sort_order}))),s(m),t.success("Link moved up")}catch(o){console.error("Error updating order:",o),t.error("Failed to update order")}finally{D(null)}})(n),disabled:0===n||null!==S,title:"Move up",className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:S===e.id?i.jsxDEV("div",{className:"w-5 h-5 border-2 border-blue-200 border-t-blue-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:356,columnNumber:21},this):i.jsxDEV(se,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:358,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:349,columnNumber:17},this),i.jsxDEV("button",{onClick:()=>(async e=>{if(e===a.length-1)return;const i=a[e].id;D(i);const n=[...a],r=n[e];n[e]=n[e+1],n[e+1]=r;const m=n.map((e,i)=>({...e,sort_order:i}));try{await ve(m.map(e=>({id:e.id,sort_order:e.sort_order}))),s(m),t.success("Link moved down")}catch(o){console.error("Error updating order:",o),t.error("Failed to update order")}finally{D(null)}})(n),disabled:n===a.length-1||null!==S,title:"Move down",className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:S===e.id?i.jsxDEV("div",{className:"w-5 h-5 border-2 border-blue-200 border-t-blue-600 rounded-full animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:369,columnNumber:21},this):i.jsxDEV(ne,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:371,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:362,columnNumber:17},this),i.jsxDEV("button",{onClick:()=>(e=>{u(e),E({platform:e.platform,url:e.url,is_active:e.is_active,sort_order:e.sort_order}),l(!0)})(e),title:"Edit",className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer transition-colors",children:i.jsxDEV(K,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:380,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:375,columnNumber:17},this),i.jsxDEV("button",{onClick:()=>(e=>{y({isOpen:!0,linkId:e.id,platform:e.platform,isDeleting:!1})})(e),title:"Delete",className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg cursor-pointer transition-colors",children:i.jsxDEV(X,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:388,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:383,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:336,columnNumber:15},this)]},e.id,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:307,columnNumber:13},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:300,columnNumber:7},this),o&&i.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxDEV("div",{className:"border-b border-gray-200 px-6 py-4 sticky top-0 bg-white",children:i.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:d?"Edit Social Media Link":"Add Social Media Link"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:401,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:400,columnNumber:13},this),i.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),v.url.trim())if(v.url.startsWith("http://")||v.url.startsWith("https://"))try{d?(await async function(e,i){try{const{data:a,error:t}=await n.from("social_media_links").update({...i,updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(t)throw console.error("Error updating social media link:",t),t;return a}catch(a){throw console.error("Error in updateSocialMediaLinkInDB:",a),a}}(d.id,{platform:v.platform,url:v.url,is_active:v.is_active,sort_order:v.sort_order}),t.success("Social media link updated successfully")):(await async function(e){try{const{data:i,error:a}=await n.from("social_media_links").insert({platform:e.platform,url:e.url,is_active:e.is_active,sort_order:e.sort_order}).select().single();if(a)throw console.error("Error creating social media link:",a),a;return i}catch(i){throw console.error("Error in createSocialMediaLinkInDB:",i),i}}({platform:v.platform,url:v.url,is_active:v.is_active,sort_order:v.sort_order}),t.success("Social media link created successfully")),l(!1),await C()}catch(i){console.error("Error saving link:",i),t.error("Failed to save link")}else t.error("URL must start with http:// or https://");else t.error("Please enter a URL")},className:"p-6 space-y-4",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:409,columnNumber:17},this),i.jsxDEV("select",{value:v.platform,onChange:e=>E({...v,platform:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:Ie.map(e=>i.jsxDEV("option",{value:e.value,children:e.label},e.value,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:421,columnNumber:21},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:410,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:408,columnNumber:15},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL *"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:430,columnNumber:17},this),i.jsxDEV("input",{type:"url",value:v.url,onChange:e=>E({...v,url:e.target.value}),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:431,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:429,columnNumber:15},this),i.jsxDEV("div",{children:i.jsxDEV("label",{className:"flex items-center space-x-2",children:[i.jsxDEV("input",{type:"checkbox",checked:v.is_active,onChange:e=>E({...v,is_active:e.target.checked}),className:"w-4 h-4 text-red-500 border-gray-300 rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:443,columnNumber:19},this),i.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Active"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:449,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:442,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:441,columnNumber:15},this),i.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[i.jsxDEV("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:455,columnNumber:17},this),i.jsxDEV("button",{type:"submit",className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium",children:d?"Update Link":"Add Link"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:462,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:454,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:406,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:399,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:398,columnNumber:9},this),i.jsxDEV(g,{isOpen:j.isOpen,title:"Delete Social Media Link",message:`Are you sure you want to delete this ${j.platform} link? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",loading:j.isDeleting,onConfirm:async()=>{if(j.linkId){y(e=>({...e,isDeleting:!0}));try{await async function(e){try{const{error:i}=await n.from("social_media_links").delete().eq("id",e);if(i)throw console.error("Error deleting social media link:",i),i}catch(i){throw console.error("Error in deleteSocialMediaLinkFromDB:",i),i}}(j.linkId),t.success("Social media link deleted successfully"),y({isOpen:!1,linkId:null,platform:null,isDeleting:!1}),await C()}catch(e){console.error("Error deleting link:",e),t.error("Failed to delete link"),y({isOpen:!1,linkId:null,platform:null,isDeleting:!1})}}},onCancel:()=>y({isOpen:!1,linkId:null,platform:null,isDeleting:!1})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:475,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/SocialMediaManagement.tsx",lineNumber:275,columnNumber:5},this)}const Ve=[{value:"all",label:"All Files",icon:Ne},{value:"image",label:"Images",icon:ge},{value:"video",label:"Videos",icon:xe},{value:"audio",label:"Audio",icon:be},{value:"document",label:"Documents",icon:Ne}];function He({file:e,selected:a,onSelect:t,onEdit:s,onPreview:n,onDelete:r}){const m=y(e),o="image"===e.file_category;return i.jsxDEV("div",{className:"relative group border-2 rounded-lg overflow-hidden transition-all "+(a?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[i.jsxDEV("div",{className:"absolute top-2 left-2 z-10",children:i.jsxDEV("input",{type:"checkbox",checked:a,onChange:t,className:"rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:643,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:642,columnNumber:7},this),i.jsxDEV("div",{className:"w-full h-12 sm:h-16 md:h-18 lg:h-20 xl:h-20 bg-gray-100 flex items-center justify-center overflow-hidden rounded-t-lg",children:[o?i.jsxDEV(i.Fragment,{children:[i.jsxDEV("img",{src:m,alt:e.alt_text||e.title||e.original_name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none";const i=e.currentTarget.nextElementSibling;i&&i.classList.remove("hidden")}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:650,columnNumber:13},this),i.jsxDEV("div",{className:"hidden w-full h-full items-center justify-center text-4xl text-gray-500",children:i.jsxDEV("span",{children:"ðŸ“·"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:662,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:661,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:649,columnNumber:11},this):i.jsxDEV("div",{className:"flex items-center justify-center",children:i.jsxDEV(v,{fileType:e.file_type,size:48,className:"text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:667,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:666,columnNumber:11},this),i.jsxDEV("div",{className:"hidden items-center justify-center",children:i.jsxDEV(v,{fileType:e.file_type,size:48,className:"text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:671,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:670,columnNumber:9},this),i.jsxDEV("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-2",children:[E(e)&&i.jsxDEV(c,{size:"sm",variant:"secondary",onClick:n,children:i.jsxDEV(he,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:678,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:677,columnNumber:13},this),i.jsxDEV(c,{size:"sm",variant:"secondary",onClick:s,children:i.jsxDEV(pe,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:682,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:681,columnNumber:11},this),i.jsxDEV(c,{size:"sm",variant:"danger",onClick:r,children:i.jsxDEV(ce,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:685,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:684,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:675,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:647,columnNumber:7},this),i.jsxDEV("div",{className:"p-2",children:[i.jsxDEV("div",{className:"text-xs font-medium text-gray-900 truncate",title:e.title||e.original_name,children:e.title||e.original_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:692,columnNumber:9},this),i.jsxDEV("div",{className:"text-xs text-gray-500",children:f(e.file_size)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:698,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:691,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:636,columnNumber:5},this)}function we({file:e,selected:a,onSelect:t,onEdit:s,onPreview:n,onDelete:r}){return i.jsxDEV("div",{className:"flex items-center space-x-4 p-3 rounded border transition-all "+(a?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[i.jsxDEV("input",{type:"checkbox",checked:a,onChange:t,className:"rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:728,columnNumber:7},this),i.jsxDEV("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:"image"===e.file_category?i.jsxDEV("img",{src:y(e),alt:e.alt_text||e.title||e.original_name,className:"w-full h-full object-cover rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:732,columnNumber:11},this):i.jsxDEV("div",{className:"flex items-center justify-center w-full h-full",children:i.jsxDEV(v,{fileType:e.file_type,size:24,className:"text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:739,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:738,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:730,columnNumber:7},this),i.jsxDEV("div",{className:"flex-1 min-w-0",children:[i.jsxDEV("div",{className:"font-medium text-gray-900 truncate",children:e.title||e.original_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:745,columnNumber:9},this),i.jsxDEV("div",{className:"text-sm text-gray-500 truncate",children:e.alt_text||e.description},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:746,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:744,columnNumber:7},this),i.jsxDEV("div",{className:"w-24 text-sm text-gray-500",children:i.jsxDEV(N,{variant:"outline",className:"text-xs",children:e.file_category},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:750,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:749,columnNumber:7},this),i.jsxDEV("div",{className:"w-20 text-sm text-gray-500",children:f(e.file_size)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:755,columnNumber:7},this),i.jsxDEV("div",{className:"w-32 text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:757,columnNumber:7},this),i.jsxDEV("div",{className:"w-20 flex space-x-1",children:[E(e)&&i.jsxDEV(c,{size:"sm",variant:"ghost",onClick:n,children:i.jsxDEV(he,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:764,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:763,columnNumber:11},this),i.jsxDEV(c,{size:"sm",variant:"ghost",onClick:s,children:i.jsxDEV(pe,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:768,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:767,columnNumber:9},this),i.jsxDEV(c,{size:"sm",variant:"ghost",onClick:r,children:i.jsxDEV(ce,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:771,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:770,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:761,columnNumber:7},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:723,columnNumber:5},this)}function ke({onClose:a,onUpload:n,uploading:r}){const[m,o]=e.useState(!1),[l,d]=e.useState([]),u=s.useRef(null);return i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxDEV("div",{className:"w-full max-w-2xl bg-white border border-gray-200 shadow-xl rounded-lg",children:[i.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Upload Media Files"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:853,columnNumber:13},this),i.jsxDEV(c,{variant:"ghost",size:"sm",onClick:a,children:i.jsxDEV(Se,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:855,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:854,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:852,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:851,columnNumber:9},this),i.jsxDEV("div",{className:"px-6 py-4 space-y-4 bg-white text-gray-900",children:[i.jsxDEV("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer "+(m?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:e=>{e.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:e=>{if(e.preventDefault(),o(!1),e.dataTransfer.files){const i=Array.from(e.dataTransfer.files).filter(e=>!l.some(i=>i.name===e.name&&i.size===e.size));i.length>0?(d(e=>[...e,...i]),t.success(`Added ${i.length} file(s) via drag & drop`)):t.info("All dropped files are already added")}},onClick:()=>{u.current?.click()},children:[i.jsxDEV(me,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:875,columnNumber:13},this),i.jsxDEV("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop files here, click anywhere in this area, or use the button below"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:876,columnNumber:13},this),i.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"Support for images, videos, audio, and documents (PDF, DOCX, XLSX, PPTX, TXT)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:879,columnNumber:13},this),i.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt",onChange:e=>{if(e.target.files){const i=Array.from(e.target.files).filter(e=>!l.some(i=>i.name===e.name&&i.size===e.size));i.length>0?(d(e=>[...e,...i]),t.success(`Added ${i.length} file(s)`)):t.info("All selected files are already added"),e.target.value=""}},className:"hidden",ref:u},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:882,columnNumber:13},this),i.jsxDEV(c,{variant:"outline",onClick:e=>{e.stopPropagation(),u.current?.click()},children:l.length>0?"Add More Files":"Browse Files"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:890,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:861,columnNumber:11},this),l.length>0&&i.jsxDEV("div",{className:"space-y-2",children:[i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("h3",{className:"font-medium",children:["Selected Files (",l.length,")"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:905,columnNumber:17},this),i.jsxDEV(c,{size:"sm",variant:"ghost",onClick:()=>d([]),className:"text-red-600 hover:text-red-700",children:"Clear All"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:906,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:904,columnNumber:15},this),i.jsxDEV("div",{className:"max-h-40 overflow-y-auto space-y-1",children:l.map((e,a)=>i.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[i.jsxDEV("div",{className:"flex items-center space-x-2",children:[i.jsxDEV(v,{fileType:e.type,size:20,className:"text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:922,columnNumber:23},this),i.jsxDEV("div",{children:[i.jsxDEV("div",{className:"text-sm font-medium",children:e.name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:924,columnNumber:25},this),i.jsxDEV("div",{className:"text-xs text-gray-500",children:f(e.size)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:925,columnNumber:25},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:923,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:921,columnNumber:21},this),i.jsxDEV(c,{size:"sm",variant:"ghost",onClick:()=>{d(e=>e.filter((e,i)=>i!==a))},children:i.jsxDEV(Se,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:935,columnNumber:23},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:928,columnNumber:21},this)]},a,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:917,columnNumber:19},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:915,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:903,columnNumber:13},this),i.jsxDEV("div",{className:"flex justify-end space-x-2",children:[i.jsxDEV(c,{variant:"outline",onClick:a,disabled:r,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:945,columnNumber:13},this),i.jsxDEV(c,{onClick:()=>{l.length>0&&n(l)},disabled:0===l.length||r,children:r?i.jsxDEV(i.Fragment,{children:[i.jsxDEV(re,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:951,columnNumber:19},this),"Uploading..."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:950,columnNumber:17},this):i.jsxDEV(i.Fragment,{children:[i.jsxDEV(me,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:956,columnNumber:19},this),"Upload ",l.length," file(s)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:955,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:948,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:944,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:859,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:850,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:849,columnNumber:5},this)}function _e({media:a,onClose:t,onSave:s}){const[n,r]=e.useState(a.title||""),[m,o]=e.useState(a.alt_text||""),[l,d]=e.useState(a.description||""),[u,N]=e.useState(a.tags?.join(", ")||""),[g,x]=e.useState(a.is_public),[b,p]=e.useState(!1);return i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxDEV("div",{className:"w-full max-w-2xl bg-white border border-gray-200 shadow-xl rounded-lg",children:[i.jsxDEV("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:i.jsxDEV("div",{className:"flex items-center justify-between",children:[i.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Media File"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1003,columnNumber:13},this),i.jsxDEV(c,{variant:"ghost",size:"sm",onClick:t,children:i.jsxDEV(Se,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1005,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1004,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1002,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1001,columnNumber:9},this),i.jsxDEV("div",{className:"px-6 py-4 space-y-4 bg-white text-gray-900",children:[i.jsxDEV("div",{className:"flex items-start space-x-4",children:[i.jsxDEV("div",{className:"w-20 h-20 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:"image"===a.file_category?i.jsxDEV("img",{src:y(a),alt:a.alt_text||a.title||a.original_name,className:"w-full h-full object-cover rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1014,columnNumber:17},this):i.jsxDEV(v,{fileType:a.file_type,size:32,className:"text-gray-600"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1020,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1012,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("div",{className:"font-medium",children:a.original_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1024,columnNumber:15},this),i.jsxDEV("div",{className:"text-sm text-gray-500",children:[f(a.file_size)," â€¢ ",a.file_type]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1025,columnNumber:15},this),i.jsxDEV("div",{className:"text-sm text-gray-500",children:["Uploaded ",new Date(a.created_at).toLocaleDateString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1028,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1023,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1011,columnNumber:11},this),i.jsxDEV("div",{className:"space-y-4",children:[i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1037,columnNumber:15},this),i.jsxDEV(h,{value:n,onChange:e=>r(e.target.value),placeholder:"Enter a descriptive title"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1038,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1036,columnNumber:13},this),"image"===a.file_category&&i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Text (for SEO and accessibility)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1047,columnNumber:17},this),i.jsxDEV(h,{value:m,onChange:e=>o(e.target.value),placeholder:"Describe what's in this image"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1050,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1046,columnNumber:15},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1059,columnNumber:15},this),i.jsxDEV("textarea",{value:l,onChange:e=>d(e.target.value),placeholder:"Add a description for this file",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:3},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1060,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1058,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1070,columnNumber:15},this),i.jsxDEV(h,{value:u,onChange:e=>N(e.target.value),placeholder:"tag1, tag2, tag3"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1073,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1069,columnNumber:13},this),i.jsxDEV("div",{className:"flex items-center space-x-2",children:[i.jsxDEV("input",{type:"checkbox",id:"isPublic",checked:g,onChange:e=>x(e.target.checked),className:"rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1081,columnNumber:15},this),i.jsxDEV("label",{htmlFor:"isPublic",className:"text-sm font-medium text-gray-700",children:"Make this file public"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1088,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1080,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1035,columnNumber:11},this),i.jsxDEV("div",{className:"flex justify-end space-x-2",children:[i.jsxDEV(c,{variant:"outline",onClick:t,disabled:b,children:"Cancel"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1096,columnNumber:13},this),i.jsxDEV(c,{onClick:async()=>{p(!0);try{await s(a.id,{title:n.trim()||void 0,alt_text:m.trim()||void 0,description:l.trim()||void 0,tags:u.trim()?u.split(",").map(e=>e.trim()):[],is_public:g})}finally{p(!1)}},disabled:b,children:b?i.jsxDEV(i.Fragment,{children:[i.jsxDEV(re,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1102,columnNumber:19},this),"Saving..."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1101,columnNumber:17},this):i.jsxDEV(i.Fragment,{children:[i.jsxDEV(De,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1107,columnNumber:19},this),"Save Changes"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1106,columnNumber:17},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1099,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1095,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1009,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1e3,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:999,columnNumber:5},this)}function ze({media:e,onClose:a}){return i.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:i.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl max-h-full overflow-auto",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsxDEV("h2",{className:"text-lg font-medium",children:e.title||e.original_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1130,columnNumber:11},this),i.jsxDEV(c,{variant:"ghost",size:"sm",onClick:a,children:i.jsxDEV(Se,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1132,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1131,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1129,columnNumber:9},this),i.jsxDEV("div",{className:"p-4",children:["image"===e.file_category&&i.jsxDEV("img",{src:e.file_url,alt:e.alt_text||e.title||e.original_name,className:"max-w-full h-auto"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1138,columnNumber:13},this),"video"===e.file_category&&i.jsxDEV("video",{controls:!0,className:"max-w-full h-auto",children:[i.jsxDEV("source",{src:e.file_url,type:e.mime_type},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1147,columnNumber:15},this),"Your browser does not support the video tag."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1146,columnNumber:13},this),"audio"===e.file_category&&i.jsxDEV("audio",{controls:!0,className:"w-full",children:[i.jsxDEV("source",{src:e.file_url,type:e.mime_type},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1154,columnNumber:15},this),"Your browser does not support the audio tag."]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1153,columnNumber:13},this),"application/pdf"===e.mime_type&&i.jsxDEV("iframe",{src:e.file_url,className:"w-full h-96",title:e.title||e.original_name},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1160,columnNumber:13},this),i.jsxDEV("div",{className:"mt-4 text-sm text-gray-600 space-y-1",children:[i.jsxDEV("div",{children:[i.jsxDEV("strong",{children:"File:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1169,columnNumber:15},this)," ",e.original_name]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1168,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("strong",{children:"Size:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1172,columnNumber:15},this)," ",f(e.file_size)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1171,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("strong",{children:"Type:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1175,columnNumber:15},this)," ",e.mime_type]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1174,columnNumber:13},this),i.jsxDEV("div",{children:[i.jsxDEV("strong",{children:"Uploaded:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1178,columnNumber:15},this)," ",new Date(e.created_at).toLocaleString()]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1177,columnNumber:13},this),e.description&&i.jsxDEV("div",{children:[i.jsxDEV("strong",{children:"Description:"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1182,columnNumber:17},this)," ",e.description]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1181,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1167,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1136,columnNumber:9},this),i.jsxDEV("div",{className:"flex justify-end p-4 border-t space-x-2",children:i.jsxDEV("a",{href:e.file_url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-sm border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 rounded-md",children:[i.jsxDEV(je,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1196,columnNumber:13},this),"Download"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1189,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1188,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1128,columnNumber:7},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:1127,columnNumber:5},this)}const Fe=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[a,s]=e.useState([]),[n,m]=e.useState(null),[l,d]=e.useState(!0),[u,y]=e.useState(!1),[v,E]=e.useState(new Set),[C,M]=e.useState("grid"),[P,T]=e.useState(null),[I,W]=e.useState(null),[V,H]=e.useState(!1),[w,k]=e.useState(!1),[_,z]=e.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[F,A]=e.useState({page:1,limit:20,category:"all",search:""}),[U,O]=e.useState({page:1,limit:20,total:0,totalPages:0}),R=e.useCallback(async()=>{try{d(!0);const e=await x(F);s(e.media),O(e.pagination)}catch(e){console.error("Error loading media:",e),t.error("Failed to load media files")}finally{d(!1)}},[F]),B=e.useCallback(async()=>{try{const e=await b();m(e)}catch(e){console.error("Error loading stats:",e)}},[]);e.useEffect(()=>{R()},[R]),e.useEffect(()=>{B()},[B]);const X=e=>{E(i=>{const a=new Set(i);return a.has(e)?a.delete(e):a.add(e),a})},Y=()=>{v.size===a.length?E(new Set):E(new Set(a.map(e=>e.id)))},G=e=>{z({isOpen:!0,title:"Delete Media File",message:`Are you sure you want to delete "${e.title||e.original_name}"? This action cannot be undone.`,onConfirm:async()=>{try{await D(e.id),t.success("File deleted successfully"),R(),B()}catch(i){console.error("Error deleting file:",i),t.error("Failed to delete file")}z(e=>({...e,isOpen:!1}))}})},q=e=>{A(i=>({...i,page:e}))};return i.jsxDEV("div",{className:"space-y-6",children:[i.jsxDEV("div",{children:n&&i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxDEV(r,{children:i.jsxDEV(o,{className:"p-4 text-center",children:[i.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:n.total},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:271,columnNumber:17},this),i.jsxDEV("div",{className:"text-sm text-gray-600",children:"Total Files"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:272,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:270,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:269,columnNumber:13},this),i.jsxDEV(r,{children:i.jsxDEV(o,{className:"p-4 text-center",children:[i.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:n.by_category.image||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:277,columnNumber:17},this),i.jsxDEV("div",{className:"text-sm text-gray-600",children:"Images"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:280,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:276,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:275,columnNumber:13},this),i.jsxDEV(r,{children:i.jsxDEV(o,{className:"p-4 text-center",children:[i.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:n.by_category.video||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:285,columnNumber:17},this),i.jsxDEV("div",{className:"text-sm text-gray-600",children:"Videos"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:288,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:284,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:283,columnNumber:13},this),i.jsxDEV(r,{children:i.jsxDEV(o,{className:"p-4 text-center",children:[i.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:f(n.total_size)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:293,columnNumber:17},this),i.jsxDEV("div",{className:"text-sm text-gray-600",children:"Total Size"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:296,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:292,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:291,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:268,columnNumber:11},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:266,columnNumber:7},this),i.jsxDEV(r,{children:i.jsxDEV(o,{className:"p-4",children:[i.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxDEV("div",{className:"flex items-center space-x-4",children:[i.jsxDEV(c,{onClick:()=>H(!0),disabled:u||0===a.length&&!l,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50",title:0!==a.length||l?"":"Upload disabled - API not implemented",children:[u?i.jsxDEV(re,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:318,columnNumber:19},this):i.jsxDEV(me,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:320,columnNumber:19},this),"Upload Files"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:309,columnNumber:15},this),v.size>0&&i.jsxDEV("div",{className:"flex items-center space-x-2",children:[i.jsxDEV(N,{variant:"secondary",children:[v.size," selected"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:328,columnNumber:19},this),Array.from(v).some(e=>{const i=a.find(i=>i.id===e);return i&&L(i.mime_type)})&&i.jsxDEV(c,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[i.jsxDEV(oe,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:340,columnNumber:23},this),"Watermark"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:335,columnNumber:21},this),i.jsxDEV(c,{variant:"danger",size:"sm",onClick:()=>{const e=v.size;z({isOpen:!0,title:"Delete Multiple Files",message:`Are you sure you want to delete ${e} file(s)? This action cannot be undone.`,onConfirm:async()=>{try{await j(Array.from(v)),t.success(`Successfully deleted ${e} file(s)`),E(new Set),R(),B()}catch(i){console.error("Error bulk deleting files:",i),t.error("Failed to delete files")}z(e=>({...e,isOpen:!1}))}})},children:[i.jsxDEV(ce,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:346,columnNumber:21},this),"Delete"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:345,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:327,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:307,columnNumber:13},this),i.jsxDEV("div",{className:"flex items-center space-x-4",children:[i.jsxDEV("div",{className:"relative",children:[i.jsxDEV(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:356,columnNumber:17},this),i.jsxDEV(h,{placeholder:"Search media files...",className:"pl-10 w-64",value:F.search||"",onChange:e=>{return i=e.target.value,void A(e=>({...e,search:i,page:1}));var i}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:357,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:355,columnNumber:15},this),i.jsxDEV("div",{className:"flex border rounded-lg",children:[i.jsxDEV(c,{variant:"grid"===C?"primary":"ghost",size:"sm",onClick:()=>M("grid"),children:i.jsxDEV(de,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:372,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:367,columnNumber:17},this),i.jsxDEV(c,{variant:"list"===C?"primary":"ghost",size:"sm",onClick:()=>M("list"),children:i.jsxDEV(ue,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:379,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:374,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:366,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:353,columnNumber:13},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:306,columnNumber:11},this),i.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-4",children:Ve.map(e=>{const a=e.icon;return i.jsxDEV(c,{variant:F.category===e.value?"primary":"outline",size:"sm",onClick:()=>(e=>{A(i=>({...i,category:e,page:1}))})(e.value),children:[i.jsxDEV(a,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:396,columnNumber:19},this),e.label,n&&"all"!==e.value&&i.jsxDEV(N,{className:"ml-2",variant:"secondary",children:n.by_category[e.value]||0},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:399,columnNumber:21},this)]},e.value,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:390,columnNumber:17},this)})},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:386,columnNumber:11},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:305,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:304,columnNumber:7},this),i.jsxDEV(r,{children:i.jsxDEV(o,{className:"p-6",children:l?i.jsxDEV("div",{className:"flex items-center justify-center py-12",children:[i.jsxDEV(re,{className:"h-8 w-8 animate-spin"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:415,columnNumber:15},this),i.jsxDEV("span",{className:"ml-2",children:"Loading media files..."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:416,columnNumber:15},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:414,columnNumber:13},this):0===a.length?i.jsxDEV("div",{className:"text-center py-12",children:i.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 max-w-md mx-auto",children:[i.jsxDEV("div",{className:"text-gray-400 mb-4",children:i.jsxDEV("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:428,columnNumber:21},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:422,columnNumber:19},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:421,columnNumber:17},this),i.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No media files yet"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:436,columnNumber:17},this),i.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Get started by uploading your first media files. You can upload images, videos, audio files, and documents."},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:437,columnNumber:17},this),i.jsxDEV(c,{onClick:()=>H(!0),children:[i.jsxDEV(fe,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:442,columnNumber:19},this),"Upload Your First Files"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:441,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:420,columnNumber:15},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:419,columnNumber:13},this):i.jsxDEV(i.Fragment,{children:["grid"===C?i.jsxDEV("div",{className:"space-y-4",children:[i.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxDEV("div",{className:"flex items-center space-x-3",children:[i.jsxDEV("input",{type:"checkbox",checked:v.size===a.length&&a.length>0,onChange:Y,className:"rounded",id:"select-all-grid"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:454,columnNumber:23},this),i.jsxDEV("label",{htmlFor:"select-all-grid",className:"text-sm font-medium text-gray-700 cursor-pointer",children:["Select All (",a.length," files)"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:461,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:453,columnNumber:21},this),v.size>0&&i.jsxDEV("div",{className:"text-sm text-gray-600",children:[v.size," of ",a.length," selected"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:469,columnNumber:23},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:452,columnNumber:19},this),i.jsxDEV("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10 2xl:grid-cols-12 gap-3",children:a.map(e=>i.jsxDEV(He,{file:e,selected:v.has(e.id),onSelect:()=>X(e.id),onEdit:()=>T(e),onPreview:()=>W(e),onDelete:()=>G(e)},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:476,columnNumber:23},this))},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:474,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:450,columnNumber:17},this):i.jsxDEV("div",{className:"space-y-2",children:[i.jsxDEV("div",{className:"flex items-center space-x-4 p-3 border-b font-medium text-sm text-gray-600",children:[i.jsxDEV("input",{type:"checkbox",checked:v.size===a.length&&a.length>0,onChange:Y,className:"rounded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:491,columnNumber:21},this),i.jsxDEV("div",{className:"flex-1",children:"Name"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:497,columnNumber:21},this),i.jsxDEV("div",{className:"w-24",children:"Type"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:498,columnNumber:21},this),i.jsxDEV("div",{className:"w-20",children:"Size"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:499,columnNumber:21},this),i.jsxDEV("div",{className:"w-32",children:"Uploaded"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:500,columnNumber:21},this),i.jsxDEV("div",{className:"w-20",children:"Actions"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:501,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:490,columnNumber:19},this),a.map(e=>i.jsxDEV(we,{file:e,selected:v.has(e.id),onSelect:()=>X(e.id),onEdit:()=>T(e),onPreview:()=>W(e),onDelete:()=>G(e)},e.id,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:504,columnNumber:21},this))]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:489,columnNumber:17},this),U.totalPages>1&&i.jsxDEV("div",{className:"flex items-center justify-between mt-6",children:[i.jsxDEV("div",{className:"text-sm text-gray-600",children:["Showing ",(U.page-1)*U.limit+1," to"," ",Math.min(U.page*U.limit,U.total)," of"," ",U.total," files"]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:520,columnNumber:19},this),i.jsxDEV("div",{className:"flex space-x-2",children:[i.jsxDEV(c,{variant:"outline",size:"sm",disabled:1===U.page,onClick:()=>q(U.page-1),children:"Previous"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:526,columnNumber:21},this),Array.from({length:U.totalPages},(e,i)=>i+1).filter(e=>{const i=U.page;return 1===e||e===U.totalPages||e>=i-1&&e<=i+1}).map(e=>i.jsxDEV(c,{variant:e===U.page?"primary":"outline",size:"sm",onClick:()=>q(e),children:e},e,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:544,columnNumber:25},this)),i.jsxDEV(c,{variant:"outline",size:"sm",disabled:U.page===U.totalPages,onClick:()=>q(U.page+1),children:"Next"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:553,columnNumber:21},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:525,columnNumber:19},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:519,columnNumber:17},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:448,columnNumber:13},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:412,columnNumber:9},this)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:411,columnNumber:7},this),V&&i.jsxDEV(ke,{onClose:()=>H(!1),onUpload:async e=>{if(e.length){y(!0);try{await p(e);t.success(`Successfully uploaded ${e.length} file(s)`),H(!1),await R(),await B()}catch(i){console.error("Upload error:",i),t.error(i instanceof Error?i.message:"Upload failed")}finally{y(!1)}}},uploading:u},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:571,columnNumber:9},this),P&&i.jsxDEV(_e,{media:P,onClose:()=>T(null),onSave:async(e,i)=>{try{await S(e,i),t.success("Media updated successfully"),T(null),R()}catch(a){console.error("Error updating media:",a),t.error("Failed to update media")}}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:579,columnNumber:9},this),I&&i.jsxDEV(ze,{media:I,onClose:()=>W(null)},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:586,columnNumber:24},this),i.jsxDEV(g,{isOpen:_.isOpen,title:_.title,message:_.message,onConfirm:_.onConfirm,onCancel:()=>z(e=>({...e,isOpen:!1})),variant:"danger"},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:588,columnNumber:7},this),w&&i.jsxDEV($,{mediaFiles:Array.from(v).map(e=>a.find(i=>i.id===e)).filter(Boolean),onClose:()=>k(!1),onComplete:()=>{R(),B(),E(new Set)}},void 0,!1,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:598,columnNumber:9},this)]},void 0,!0,{fileName:"D:/ITWala Projects/eyogi-main/src/SSH/src/components/admin/MediaManagement.tsx",lineNumber:264,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"}));export{Te as C,Fe as M,We as S,ye as g};
